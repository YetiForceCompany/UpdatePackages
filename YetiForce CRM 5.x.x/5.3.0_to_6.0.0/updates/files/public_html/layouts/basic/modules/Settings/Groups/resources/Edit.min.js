'use strict';

Settings_Vtiger_Edit_Js('Settings_Groups_Edit_Js',{},{memberSelectElement:!1,getMemberSelectElement:function getMemberSelectElement(){return !1==this.memberSelectElement&&(this.memberSelectElement=jQuery('#memberList')),this.memberSelectElement},/**
		 * Function to register form for validation
		 */registerFormForValidation:function registerFormForValidation(){var editViewForm=this.getForm();editViewForm.validationEngine(app.getvalidationEngineOptions(!0));},/**
		 * Function to register the submit event of form
		 */registerSubmitEvent:function registerSubmitEvent(){var thisInstance=this,form=jQuery('#EditView');form.on('submit',function(e){if('true'==form.data('submit')&&'true'==form.data('performCheck'))return !0;if(0>=form.data('jqv').InvalidFields.length){var formData=form.serializeFormData();thisInstance.checkDuplicateName({groupname:formData.groupname,record:formData.record}).done(function(){form.data('submit','true'),form.data('performCheck','true'),form.submit();}).fail(function(data){var params={};return params.text=data.message,params.type='error',Settings_Vtiger_Index_Js.showMessage(params),!1});}else//If validation fails, form should submit again
form.removeData('submit'),app.formAlignmentAfterValidation(form);e.preventDefault();});},/*
		 * Function to check Duplication of Group Names
		 * returns boolean true or false
		 */checkDuplicateName:function checkDuplicateName(details){var aDeferred=jQuery.Deferred(),params={module:app.getModuleName(),parent:app.getParentModuleName(),action:'EditAjax',mode:'checkDuplicate',groupname:details.groupname,record:details.record};return AppConnector.request(params).done(function(data){var response=data.result,result=response.success;!0==result?aDeferred.reject(response):aDeferred.resolve(response);}).fail(function(error,err){aDeferred.reject(error,err);}),aDeferred.promise()},/**
		 * Register events for section "modules"
		 */registerButtonsModule:function registerButtonsModule(){var editViewForm=this.getForm();editViewForm.find('.js-modules-select-all, .js-modules-deselect-all').on('click',function(){$('#modulesList option').prop('selected',$(this).hasClass('js-modules-select-all')).parent().trigger('change');});},/**
		 * Function which will handle the registrations for the elements
		 */registerEvents:function registerEvents(){this._super(),this.registerSubmitEvent(),this.registerButtonsModule();}});
//# sourceMappingURL=Edit.min.js.map
