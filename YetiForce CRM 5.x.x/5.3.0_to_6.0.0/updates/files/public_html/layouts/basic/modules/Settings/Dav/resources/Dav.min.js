'use strict';

jQuery.Class('Settings_Dav_Keys_Js',{},{//This will store the MenuEditor Container
mobileContainer:!1,/**
		 * Function to get the MenuEditor container
		 */getContainer:function getContainer(){return !1==this.mobileContainer&&(this.mobileContainer=jQuery('#DavKeysContainer')),this.mobileContainer},addKey:function addKey(){var container=jQuery('#DavKeysContainer'),editColorModal=container.find('.addKeyContainer'),clonedContainer=editColorModal.clone(!0,!0),callBackFunction=function(data){data.find('.addKeyContainer').removeClass('d-none').show(),App.Fields.Picklist.showSelect2ElementView(data.find('.select')),data.find('[name="saveButton"]').on('click',function(){var form=data.find('form'),formData=form.serializeFormData(),progress=$.progressIndicator({message:app.vtranslate('Adding a Key'),blockInfo:{enabled:!0}}),settingMobileInstance=new Settings_Dav_Keys_Js;settingMobileInstance.registerSaveEvent('addKey',formData,!0),progress.progressIndicator({mode:'hide'});});};app.showModalWindow(clonedContainer,function(data){'function'==typeof callBackFunction&&callBackFunction(data);},{width:'1000px'});},deleteKey:function deleteKey(e){var target=$(e.currentTarget),closestTrElement=target.closest('.js-tr-row'),settingMobileInstance=new Settings_Dav_Keys_Js;settingMobileInstance.registerSaveEvent('deleteKey',{user:closestTrElement.data('user')}),closestTrElement.remove();},registerSaveEvent:function registerSaveEvent(mode,data,reload){var params={data:{module:app.getModuleName(),parent:app.getParentModuleName(),action:'SaveAjax',mode:mode}};if('undefined'!=typeof data)for(var i in data)params.data[i]=data[i];params.async=!1,params.dataType='json',AppConnector.request(params).done(function(data){var response=data.result,params={text:response.message};params.type=!0==response.success?'success':'error',app.showNotify(params),!0==reload&&!0==response.success&&window.location.reload();}).fail(function(){});},registerEvents:function registerEvents(){var thisInstance=this,container=thisInstance.getContainer();container.find('.js-add-key').on('click',thisInstance.addKey),container.find('.js-delete-key').on('click',thisInstance.deleteKey),App.Fields.Text.registerCopyClipboard(container);}});
//# sourceMappingURL=Dav.min.js.map
