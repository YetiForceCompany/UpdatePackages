'use strict';

Vtiger_Edit_Js('Settings_WebserviceUsers_Edit_Js',{},{getForm:function getForm(){return !1==this.formElement&&this.setForm(jQuery('#modalEdit')),this.formElement},showHideFields:function showHideFields(typeElement){var elementContainer=this.getForm().find('[name="crmid"]').closest('.form-group');'1'===typeElement.val()?elementContainer.addClass('d-none').find('.clearReferenceSelection').trigger('click'):elementContainer.removeClass('d-none');},registerEvents:function registerEvents(){var self=this,container=this.getForm();this.registerBasicEvents(container);var form=container.find('form');form.on('submit',function(e){if(e.preventDefault(),form.validationEngine('validate')){var formData=form.serializeFormData();AppConnector.request(formData).done(function(data){if(data.result.success){Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate('JS_SAVE_SUCCESS')});var listInstance=Settings_WebserviceUsers_List_Js.getInstance();listInstance.reloadTab(),app.hideModalWindow();}else data.result.message?app.showNotify({text:data.result.message,type:'error'}):app.showNotify({text:app.vtranslate('JS_ERROR'),type:'error'});});}});var typeElement=form.find('[name="type"]');self.showHideFields(typeElement),typeElement.on('change',function(e){self.showHideFields(jQuery(e.currentTarget));});}}),jQuery(document).ready(function(){var instance=new Settings_WebserviceUsers_Edit_Js;instance.registerEvents();});
//# sourceMappingURL=Edit.min.js.map
