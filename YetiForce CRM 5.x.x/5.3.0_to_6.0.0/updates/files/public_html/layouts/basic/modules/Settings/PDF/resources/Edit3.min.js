'use strict';

Settings_PDF_Edit_Js('Settings_PDF_Edit3_Js',{},{step3Container:!1,advanceFilterInstance:!1,ckEditorInstance:!1,fieldValueMap:!1,init:function init(){this.initialize();},/**
		 * Function to get the container which holds all the reports step1 elements
		 * @return jQuery object
		 */getContainer:function getContainer(){return this.step3Container},/**
		 * Function to set the reports step1 container
		 * @params : element - which represents the reports step1 container
		 * @return : current instance
		 */setContainer:function setContainer(element){return this.step3Container=element,this},/**
		 * Function  to intialize the reports step1
		 */initialize:function initialize(container){'undefined'==typeof container&&(container=$('#pdf_step3')),container.is('#pdf_step3')?this.setContainer(container):this.setContainer($('#pdf_step3'));},submit:function submit(){var aDeferred=jQuery.Deferred();this.calculateValues();var form=this.getContainer(),progressIndicatorElement=$.progressIndicator({position:'html',blockInfo:{enabled:!0}}),saveData=form.serializeFormData();return saveData.action='Save',saveData.step=3,AppConnector.request(saveData).done(function(data){!0===data.success&&(Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate('JS_PDF_SAVED_SUCCESSFULLY')}),progressIndicatorElement.progressIndicator({mode:'hide'}),app.openUrl('index.php?module=PDF&parent=Settings&view=List'));}).fail(function(error,err){app.errorLog(error,err);}),aDeferred.promise()},registerCancelStepClickEvent:function registerCancelStepClickEvent(form){$('button.cancelLink',form).on('click',function(){window.history.back();});},calculateValues:function calculateValues(){//handled advanced filters saved values.
var enableFilterElement=$('#enableAdvanceFilters');if(0<enableFilterElement.length&&!1==enableFilterElement.is(':checked'))$('#advanced_filter').val($('#olderConditions').val());else {$('[name="filtersavedinnew"]').val('6');var advfilterlist=this.advanceFilterInstance.getValues();$('#advanced_filter').val(JSON.stringify(advfilterlist));}},registerEvents:function registerEvents(){var container=this.getContainer(),opts=app.validationEngineOptions;// to prevent the page reload after the validation has completed
opts.onValidationComplete=function(form,valid){//returns the valid status
return valid},opts.promptPosition='bottomRight',container.validationEngine(opts),App.Fields.Picklist.changeSelectElementView(container),this.registerCancelStepClickEvent(container),this.advanceFilterInstance=Vtiger_AdvanceFilter_Js.getInstance($('#advanceFilterContainer',container));}});
//# sourceMappingURL=Edit3.min.js.map
