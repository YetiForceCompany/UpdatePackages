'use strict';

jQuery.Class('Settings_YetiForce_RegistrationSerialModal_Js',{registerEvents:function registerEvents(){var container=$('[data-view=\'RegistrationSerialModal\']'),form=container.find('form');form.validationEngine(app.validationEngineOptions),form.on('submit',function(e){e.preventDefault(),container.find('[name="saveButton"]').click();}),container.find('[name="saveButton"]').on('click',function(e){if(!form.validationEngine('validate'))return e.preventDefault(),app.showNotify({text:app.vtranslate('JS_ENTER_REGISTRATION_KEY'),type:'error'}),!1;container.find('button[name=saveButton]').prop('disabled',!0);var progress=$.progressIndicator({message:app.vtranslate('JS_LOADING_PLEASE_WAIT'),blockInfo:{enabled:!0}});AppConnector.request({module:'YetiForce',parent:'Settings',action:'Register',mode:'serial',key:container.find('.registrationKey').val()}).done(function(data){return app.showNotify({text:data.result.message,type:data.result.type}),progress.progressIndicator({mode:'hide'}),'success'===data.result.type&&app.hideModalWindow(),container.find('button[name=saveButton]').prop('disabled',!1),data.result});});}},{}),Settings_YetiForce_RegistrationSerialModal_Js.registerEvents();
//# sourceMappingURL=RegistrationSerialModal.min.js.map
