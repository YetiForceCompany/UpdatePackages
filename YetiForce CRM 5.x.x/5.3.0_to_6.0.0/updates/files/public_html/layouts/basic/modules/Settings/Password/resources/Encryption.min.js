'use strict';

jQuery.Class('Settings_Password_Encryption_Js',{},{/**
		 * Container (Form)
		 */container:null,/**
		 * Set container (Form)
		 * @param {Object} element
		 */setContainer:function setContainer(element){this.container=element;},/**
		 * Get Container (Form)
		 * @returns {Object}
		 */getContainer:function getContainer(){return this.container},/**
		 * Register events for change method encryption
		 */registerChangeMethodName:function registerChangeMethodName(){var self=this,container=this.getContainer();this.passwordAlert(container),container.find('[name="methods"]').on('change',function(){self.passwordAlert(container);});},passwordAlert:function passwordAlert(container){var methodElement=container.find('[name="methods"]'),mapLengthVector=JSON.parse($('[name="lengthVectors"]').val()),length=mapLengthVector[methodElement.val()],validator='',passwordElement=container.find('#password'),vectorElement=container.find('#vector'),passwordInfoAlert=container.find('.js-password-alert');length==null?(passwordInfoAlert.addClass('d-none'),vectorElement.attr('disabled','disabled'),passwordElement.attr('disabled','disabled')):0===length?(passwordInfoAlert.addClass('d-none'),vectorElement.val(''),vectorElement.attr('disabled','disabled')):(passwordInfoAlert.removeClass('d-none'),passwordInfoAlert.find('.js-password-length').text(length),vectorElement.removeAttr('disabled'),passwordElement.removeAttr('disabled'),validator='validate[required,maxSize['+length+'],minSize['+length+']]'),vectorElement.attr('data-validation-engine',validator);},/**
		 * Register events for form
		 */registerForm:function registerForm(){var thisInstance=this,container=thisInstance.getContainer();container.on('submit',function(event){if(event.preventDefault(),container.validationEngine(app.validationEngineOptions),container.validationEngine('validate')){var progressIndicatorElement=jQuery.progressIndicator({position:'html',blockInfo:{enabled:!0}});AppConnector.request(container.serializeFormData()).done(function(response){progressIndicatorElement.progressIndicator({mode:'hide'}),app.showNotify({text:response.result,type:'info',hide:!1});});}});},/**
		 * Register events to preview password
		 */registerPreviewPassword:function registerPreviewPassword(){var container=this.getContainer(),button=container.find('.previewPassword');button.on('mousedown',function(){$('#'+$(this).data('id')).attr('type','text');}),button.on('mouseup',function(){$('#'+$(this).data('id')).attr('type','password');}),button.on('mouseout',function(){$('#'+$(this).data('id')).attr('type','password');});},/**
		 * Register all events in view
		 */registerEvents:function registerEvents(){this.setContainer($('.formEncryption')),this.registerForm(),this.registerChangeMethodName(),this.registerPreviewPassword();}});
//# sourceMappingURL=Encryption.min.js.map
