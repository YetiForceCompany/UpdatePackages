{"version":3,"file":"jquery.validationEngine.min.js","sources":["jquery.validationEngine.js"],"sourcesContent":["/*\r\n * Inline Form Validation Engine 3.1.1 v3, jQuery plugin\r\n *\r\n * Copyright(c) 2010, Cedric Dugas\r\n * http://www.position-absolute.com\r\n *\r\n * 2.0 Rewrite by Olivier Refalo\r\n * http://www.crionics.com\r\n *\r\n * Form validation engine allowing custom regex rules to be added.\r\n * Licensed under the MIT License\r\n */\r\n(function($) {\r\n  'use strict';\r\n\r\n  var methods = {\r\n    /**\r\n     * Kind of the constructor, called before any action\r\n     * @param options\r\n     */\r\n    init: function(options) {\r\n      var form = this;\r\n      if (!form.data('jqv') || form.data('jqv') == null) {\r\n        options = methods._saveOptions(form, options);\r\n        // bind all formError elements to close on click\r\n        $(document).on('click', '.formError', function() {\r\n          $(this).fadeOut(150, function() {\r\n            // remove prompt once invisible\r\n            $(this)\r\n              .closest('.formError')\r\n              .remove();\r\n          });\r\n        });\r\n      }\r\n      return this;\r\n    },\r\n    /**\r\n     * Attachs jQuery.validationEngine to form.submit and field.blur events\r\n     * Takes an optional params: a list of options\r\n     * ie. jQuery(\"#formID1\").validationEngine('attach', {promptPosition : \"centerRight\"});\r\n     */\r\n    attach: function(userOptions) {\r\n      var form = this;\r\n      var options;\r\n\r\n      if (userOptions) options = methods._saveOptions(form, userOptions);\r\n      else options = form.data('jqv');\r\n\r\n      options.validateAttribute = form.find('[data-validation-engine*=validate]').length\r\n        ? 'data-validation-engine'\r\n        : 'class';\r\n      if (options.binded) {\r\n        // delegate fields\r\n        form.on(\r\n          options.validationEventTrigger,\r\n          '[' + options.validateAttribute + '*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)',\r\n          methods._onFieldEvent\r\n        );\r\n        form.on(\r\n          'click',\r\n          '[' +\r\n            options.validateAttribute +\r\n            '*=validate][type=checkbox],[' +\r\n            options.validateAttribute +\r\n            '*=validate][type=radio]',\r\n          methods._onFieldEvent\r\n        );\r\n        form.on(\r\n          options.validationEventTrigger,\r\n          '[' + options.validateAttribute + '*=validate][class*=datepicker]',\r\n          { delay: 300 },\r\n          methods._onFieldEvent\r\n        );\r\n      }\r\n      if (options.autoPositionUpdate) {\r\n        $(window).bind(\r\n          'resize',\r\n          {\r\n            noAnimation: true,\r\n            formElem: form\r\n          },\r\n          methods.updatePromptsPosition\r\n        );\r\n      }\r\n      form.on(\r\n        'click',\r\n        \"a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']\",\r\n        methods._submitButtonClick\r\n      );\r\n      form.removeData('jqv_submitButton');\r\n\r\n      // bind form.submit\r\n      form.on('submit', methods._onSubmitEvent);\r\n      return this;\r\n    },\r\n    /**\r\n     * Unregisters any bindings that may point to jQuery.validaitonEngine\r\n     */\r\n    detach: function() {\r\n      var form = this;\r\n      var options = form.data('jqv');\r\n\r\n      // unbind fields\r\n      form.off(\r\n        options.validationEventTrigger,\r\n        '[' + options.validateAttribute + '*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)',\r\n        methods._onFieldEvent\r\n      );\r\n      form.off(\r\n        'click',\r\n        '[' +\r\n          options.validateAttribute +\r\n          '*=validate][type=checkbox],[' +\r\n          options.validateAttribute +\r\n          '*=validate][type=radio]',\r\n        methods._onFieldEvent\r\n      );\r\n      form.off(\r\n        options.validationEventTrigger,\r\n        '[' + options.validateAttribute + '*=validate][class*=datepicker]',\r\n        methods._onFieldEvent\r\n      );\r\n\r\n      // unbind form.submit\r\n      form.off('submit', methods._onSubmitEvent);\r\n      form.removeData('jqv');\r\n\r\n      form.off(\r\n        'click',\r\n        \"a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']\",\r\n        methods._submitButtonClick\r\n      );\r\n      form.removeData('jqv_submitButton');\r\n\r\n      if (options.autoPositionUpdate) $(window).off('resize', methods.updatePromptsPosition);\r\n\r\n      return this;\r\n    },\r\n    /**\r\n     * Validates either a form or a list of fields, shows prompts accordingly.\r\n     * Note: There is no ajax form validation with this method, only field ajax validation are evaluated\r\n     *\r\n     * @return true if the form validates, false if it fails\r\n     */\r\n    validate: function(userOptions) {\r\n      var element = $(this);\r\n      var valid = null;\r\n      var options;\r\n\r\n      if (element.is('form') || element.hasClass('validationEngineContainer')) {\r\n        if (element.hasClass('validating')) {\r\n          // form is already validating.\r\n          // Should abort old validation and start new one. I don't know how to implement it.\r\n          return false;\r\n        } else {\r\n          element.addClass('validating');\r\n          if (userOptions) options = methods._saveOptions(element, userOptions);\r\n          else options = element.data('jqv');\r\n          var valid = methods._validateFields(this);\r\n\r\n          // If the form doesn't validate, clear the 'validating' class before the user has a chance to submit again\r\n          setTimeout(function() {\r\n            element.removeClass('validating');\r\n          }, 100);\r\n          if (valid && options.onSuccess) {\r\n            options.onSuccess();\r\n          } else if (!valid && options.onFailure) {\r\n            options.onFailure();\r\n          }\r\n        }\r\n      } else if (element.is('form') || element.hasClass('validationEngineContainer')) {\r\n        element.removeClass('validating');\r\n      } else {\r\n        // field validation\r\n        var form = element.closest('form, .validationEngineContainer');\r\n        options = form.data('jqv') ? form.data('jqv') : $.validationEngine.defaults;\r\n        valid = methods._validateField(element, options);\r\n\r\n        if (valid && options.onFieldSuccess) options.onFieldSuccess();\r\n        else if (options.onFieldFailure && options.InvalidFields.length > 0) {\r\n          options.onFieldFailure();\r\n        }\r\n      }\r\n      if (options.onValidationComplete) {\r\n        // !! ensures that an undefined return is interpreted as return false but allows a onValidationComplete() to possibly return true and have form continue processing\r\n        return !!options.onValidationComplete(form, valid);\r\n      }\r\n      return valid;\r\n    },\r\n    /**\r\n     *  Redraw prompts position, useful when you change the DOM state when validating\r\n     */\r\n    updatePromptsPosition: function(event) {\r\n      if (event && this == window) {\r\n        var form = event.data.formElem;\r\n        var noAnimation = event.data.noAnimation;\r\n      } else var form = $(this.closest('form, .validationEngineContainer'));\r\n\r\n      var options = form.data('jqv');\r\n      // No option, take default one\r\n      if (!options) options = methods._saveOptions(form, options);\r\n      form\r\n        .find('[' + options.validateAttribute + '*=validate]')\r\n        .not(':disabled')\r\n        .each(function() {\r\n          var field = $(this);\r\n          if (options.prettySelect && field.is(':hidden'))\r\n            field = form.find('#' + options.usePrefix + field.attr('id') + options.useSuffix);\r\n          var prompt = methods._getPrompt(field);\r\n          var promptText = $(prompt)\r\n            .find('.formErrorContent')\r\n            .html();\r\n\r\n          if (prompt) methods._updatePrompt(field, $(prompt), promptText, undefined, false, options, noAnimation);\r\n        });\r\n      return this;\r\n    },\r\n    /**\r\n     * Displays a prompt on a element.\r\n     * Note that the element needs an id!\r\n     *\r\n     * @param {String} promptText html text to display type\r\n     * @param {String} type the type of bubble: 'pass' (green), 'load' (black) anything else (red)\r\n     * @param {String} possible values topLeft, topRight, bottomLeft, centerRight, bottomRight\r\n     */\r\n    showPrompt: function(promptText, type, promptPosition, showArrow) {\r\n      var form = this.closest('form, .validationEngineContainer');\r\n      var options = form.data('jqv');\r\n      // No option, take default one\r\n      if (!options) options = methods._saveOptions(this, options);\r\n      if (promptPosition) options.promptPosition = promptPosition;\r\n      options.showArrow = showArrow == true;\r\n\r\n      methods._showPrompt(this, promptText, type, false, options);\r\n      return this;\r\n    },\r\n    /**\r\n     * Closes form error prompts, CAN be invidual\r\n     * Fixed issue (hide) hiding all error prompts?!\r\n     * (https://github.com/posabsolute/jQuery-Validation-Engine/issues/966)\r\n     */\r\n    hide: function() {\r\n      var form = $(this).closest('form, .validationEngineContainer');\r\n      var field = $(this).attr('id');\r\n      var options = form.data('jqv');\r\n      // No option, take default one\r\n      if (!options) options = methods._saveOptions(form, options);\r\n      var fadeDuration = options && options.fadeDuration ? options.fadeDuration : 0.3;\r\n      var closingtag;\r\n\r\n      if (form.is('form') || form.hasClass('validationEngineContainer')) {\r\n        closingtag = methods._getClassName(field) + 'formError';\r\n      } else {\r\n        closingtag = 'parentForm' + methods._getClassName(field);\r\n      }\r\n      $('.' + closingtag).fadeTo(fadeDuration, 0, function() {\r\n        $('.' + closingtag).remove();\r\n      });\r\n      return this;\r\n    },\r\n    /**\r\n     * Closes all error prompts on the page\r\n     */\r\n    hideAll: function() {\r\n      var form = this;\r\n      var options = form.data('jqv');\r\n      var duration = options ? options.fadeDuration : 300;\r\n      $('.formError').fadeTo(duration, 0, function() {\r\n        $(this)\r\n          .closest('.formError')\r\n          .remove();\r\n      });\r\n      return this;\r\n    },\r\n    /**\r\n     * Typically called when user exists a field using tab or a mouse click, triggers a field\r\n     * validation\r\n     */\r\n    _onFieldEvent: function(event) {\r\n      var field = $(this);\r\n      var form = field.closest('form, .validationEngineContainer');\r\n      var options = form.data('jqv');\r\n      // No option, take default one\r\n      if (!options) options = methods._saveOptions(form, options);\r\n      options.eventTrigger = 'field';\r\n\r\n      if (options.notEmpty == true) {\r\n        if (field.val().length > 0) {\r\n          // validate the current field\r\n          window.setTimeout(\r\n            function() {\r\n              methods._validateField(field, options);\r\n            },\r\n            event.data ? event.data.delay : 0\r\n          );\r\n        }\r\n      } else {\r\n        // validate the current field\r\n        window.setTimeout(\r\n          function() {\r\n            methods._validateField(field, options);\r\n          },\r\n          event.data ? event.data.delay : 0\r\n        );\r\n      }\r\n    },\r\n    /**\r\n     * Called when the form is submited, shows prompts accordingly\r\n     *\r\n     * @param {jqObject}\r\n     *            form\r\n     * @return false if form submission needs to be cancelled\r\n     */\r\n    _onSubmitEvent: function() {\r\n      var form = $(this);\r\n      var options = form.data('jqv');\r\n\r\n      //check if it is trigger from skipped button\r\n      if (form.data('jqv_submitButton')) {\r\n        var submitButton = $('#' + form.data('jqv_submitButton'));\r\n        if (submitButton) {\r\n          if (submitButton.length > 0) {\r\n            if (submitButton.hasClass('validate-skip') || submitButton.attr('data-validation-engine-skip') == 'true')\r\n              return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      options.eventTrigger = 'submit';\r\n\r\n      // validate each field\r\n      // (- skip field ajax validation, not necessary IF we will perform an ajax form validation)\r\n      var r = methods._validateFields(form);\r\n\r\n      if (r && options.ajaxFormValidation) {\r\n        methods._validateFormWithAjax(form, options);\r\n        // cancel form auto-submission - process with async call onAjaxFormComplete\r\n        return false;\r\n      }\r\n\r\n      if (options.onValidationComplete) {\r\n        // !! ensures that an undefined return is interpreted as return false but allows a onValidationComplete() to possibly return true and have form continue processing\r\n        return !!options.onValidationComplete(form, r);\r\n      }\r\n      return r;\r\n    },\r\n    /**\r\n     * Return true if the ajax field validations passed so far\r\n     * @param {Object} options\r\n     * @return true, is all ajax validation passed so far (remember ajax is async)\r\n     */\r\n    _checkAjaxStatus: function(options) {\r\n      var status = true;\r\n      $.each(options.ajaxValidCache, function(key, value) {\r\n        if (!value) {\r\n          status = false;\r\n          // break the each\r\n          return false;\r\n        }\r\n      });\r\n      return status;\r\n    },\r\n\r\n    /**\r\n     * Return true if the ajax field is validated\r\n     * @param {String} fieldid\r\n     * @param {Object} options\r\n     * @return true, if validation passed, false if false or doesn't exist\r\n     */\r\n    _checkAjaxFieldStatus: function(fieldid, options) {\r\n      return options.ajaxValidCache[fieldid] == true;\r\n    },\r\n    /**\r\n     * Validates form fields, shows prompts accordingly\r\n     *\r\n     * @param {jqObject}\r\n     *            form\r\n     * @param {skipAjaxFieldValidation}\r\n     *            boolean - when set to true, ajax field validation is skipped, typically used when the submit button is clicked\r\n     *\r\n     * @return true if form is valid, false if not, undefined if ajax form validation is done\r\n     */\r\n    _validateFields: function(form) {\r\n      var options = form.data('jqv');\r\n      options.InvalidFields = [];\r\n      // this variable is set to true if an error is found\r\n      var errorFound = false;\r\n\r\n      // Trigger hook, start validation\r\n      form.trigger('jqv.form.validating');\r\n      // first, evaluate status of non ajax fields\r\n      var first_err = null;\r\n      form\r\n        .find('[' + options.validateAttribute + '*=validate]')\r\n        .not(':disabled')\r\n        .each(function() {\r\n          var field = $(this);\r\n          var names = [];\r\n          if ($.inArray(field.attr('name'), names) < 0) {\r\n            errorFound |= methods._validateField(field, options);\r\n            if (errorFound && first_err == null)\r\n              if (field.is(':hidden') && options.prettySelect)\r\n                first_err = field = form.find(\r\n                  '#' + options.usePrefix + methods._jqSelector(field.attr('id')) + options.useSuffix\r\n                );\r\n              else {\r\n                //Check if we need to adjust what element to show the prompt on\r\n                //and and such scroll to instead\r\n                if (field.data('jqv-prompt-at') instanceof jQuery) {\r\n                  field = field.data('jqv-prompt-at');\r\n                } else if (field.data('jqv-prompt-at')) {\r\n                  field = $(field.data('jqv-prompt-at'));\r\n                }\r\n                first_err = field;\r\n              }\r\n            if (options.doNotShowAllErrosOnSubmit) return false;\r\n            names.push(field.attr('name'));\r\n\r\n            //if option set, stop checking validation rules after one error is found\r\n            if (options.showOneMessage == true && errorFound) {\r\n              return false;\r\n            }\r\n          }\r\n        });\r\n\r\n      // second, check to see if all ajax calls completed ok\r\n      // errorFound |= !methods._checkAjaxStatus(options);\r\n\r\n      // third, check status and scroll the container accordingly\r\n      form.trigger('jqv.form.result', [errorFound]);\r\n\r\n      if (errorFound) {\r\n        if (options.scroll) {\r\n          var destination = first_err.offset().top;\r\n          var fixleft = first_err.offset().left;\r\n\r\n          //prompt positioning adjustment support. Usage: positionType:Xshift,Yshift (for ex.: bottomLeft:+20 or bottomLeft:-20,+10)\r\n          var positionType = options.promptPosition;\r\n          if (typeof positionType == 'string' && positionType.indexOf(':') != -1)\r\n            positionType = positionType.substring(0, positionType.indexOf(':'));\r\n\r\n          if (positionType != 'bottomRight' && positionType != 'bottomLeft') {\r\n            var prompt_err = methods._getPrompt(first_err);\r\n            if (prompt_err) {\r\n              destination = prompt_err.offset().top;\r\n            }\r\n          }\r\n\r\n          // Offset the amount the page scrolls by an amount in px to accomodate fixed elements at top of page\r\n          if (options.scrollOffset) {\r\n            destination -= options.scrollOffset;\r\n          }\r\n\r\n          // get the position of the first error, there should be at least one, no need to check this\r\n          //var destination = form.find(\".formError:not('.greenPopup'):first\").offset().top;\r\n          if (options.isOverflown) {\r\n            var overflowDIV = $(options.overflownDIV);\r\n            if (!overflowDIV.length) return false;\r\n            var scrollContainerScroll = overflowDIV.scrollTop();\r\n            var scrollContainerPos = -parseInt(overflowDIV.offset().top);\r\n\r\n            destination += scrollContainerScroll + scrollContainerPos - 5;\r\n            var scrollContainer = $(options.overflownDIV).filter(':not(:animated)');\r\n\r\n            scrollContainer.animate({ scrollTop: destination }, 1100, function() {\r\n              if (options.focusFirstField) first_err.focus();\r\n            });\r\n          } else {\r\n            $('html, body').animate(\r\n              {\r\n                scrollTop: destination\r\n              },\r\n              1100,\r\n              function() {\r\n                if (options.focusFirstField) first_err.focus();\r\n              }\r\n            );\r\n            $('html, body').animate({ scrollLeft: fixleft }, 1100);\r\n          }\r\n        } else if (options.focusFirstField) first_err.focus();\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    /**\r\n     * This method is called to perform an ajax form validation.\r\n     * During this process all the (field, value) pairs are sent to the server which returns a list of invalid fields or true\r\n     *\r\n     * @param {jqObject} form\r\n     * @param {Map} options\r\n     */\r\n    _validateFormWithAjax: function(form, options) {\r\n      var data = form.serialize();\r\n      var type = options.ajaxFormValidationMethod ? options.ajaxFormValidationMethod : 'GET';\r\n      var url = options.ajaxFormValidationURL ? options.ajaxFormValidationURL : form.attr('action');\r\n      var dataType = options.dataType ? options.dataType : 'json';\r\n      $.ajax({\r\n        type: type,\r\n        url: url,\r\n        cache: false,\r\n        dataType: dataType,\r\n        data: data,\r\n        form: form,\r\n        methods: methods,\r\n        options: options,\r\n        beforeSend: function() {\r\n          return options.onBeforeAjaxFormValidation(form, options);\r\n        },\r\n        error: function(data, transport) {\r\n          if (options.onFailure) {\r\n            options.onFailure(data, transport);\r\n          } else {\r\n            methods._ajaxError(data, transport);\r\n          }\r\n        },\r\n        success: function(json) {\r\n          if (dataType == 'json' && json !== true) {\r\n            // getting to this case doesn't necessary means that the form is invalid\r\n            // the server may return green or closing prompt actions\r\n            // this flag helps figuring it out\r\n            var errorInForm = false;\r\n            for (var i = 0; i < json.length; i++) {\r\n              var value = json[i];\r\n\r\n              var errorFieldId = value[0];\r\n              var errorField = $($('#' + errorFieldId)[0]);\r\n\r\n              // make sure we found the element\r\n              if (errorField.length == 1) {\r\n                // promptText or selector\r\n                var msg = value[2];\r\n                // if the field is valid\r\n                if (value[1] == true) {\r\n                  if (msg == '' || !msg) {\r\n                    // if for some reason, status==true and error=\"\", just close the prompt\r\n                    methods._closePrompt(errorField);\r\n                  } else {\r\n                    // the field is valid, but we are displaying a green prompt\r\n                    if (options.allrules[msg]) {\r\n                      var txt = options.allrules[msg].alertTextOk;\r\n                      if (txt) msg = txt;\r\n                    }\r\n                    if (options.showPrompts) methods._showPrompt(errorField, msg, 'pass', false, options, true);\r\n                  }\r\n                } else {\r\n                  // the field is invalid, show the red error prompt\r\n                  errorInForm |= true;\r\n                  if (options.allrules[msg]) {\r\n                    var txt = options.allrules[msg].alertText;\r\n                    if (txt) msg = txt;\r\n                  }\r\n                  if (options.showPrompts) methods._showPrompt(errorField, msg, '', false, options, true);\r\n                }\r\n              }\r\n            }\r\n            options.onAjaxFormComplete(!errorInForm, form, json, options);\r\n          } else options.onAjaxFormComplete(true, form, json, options);\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * Validates field, shows prompts accordingly\r\n     *\r\n     * @param {jqObject}\r\n     *            field\r\n     * @param {Array[String]}\r\n     *            field's validation rules\r\n     * @param {Map}\r\n     *            user options\r\n     * @return false if field is valid (It is inversed for *fields*, it return false on validate and true on errors.)\r\n     */\r\n    _validateField: function(field, options, skipAjaxValidation) {\r\n      if (!field.attr('id')) {\r\n        field.attr('id', 'form-validation-field-' + $.validationEngine.fieldIdCounter);\r\n        ++$.validationEngine.fieldIdCounter;\r\n      }\r\n      if (\r\n        (!options.validateNonVisibleFields &&\r\n          ((field.is(':hidden') && !options.prettySelect) || field.parent().is(':hidden'))) ||\r\n        field.closest('.noValidate').length > 0\r\n      )\r\n        return false;\r\n\r\n      if (field.hasClass(options.ignoreFieldsWithClass)) return false;\r\n\r\n      if (\r\n        !options.validateNonVisibleFields &&\r\n        ((field.is(':hidden') && !options.prettySelect) || field.parent().is(':hidden'))\r\n      )\r\n        return false;\r\n\r\n      var rulesParsing = field.attr(options.validateAttribute);\r\n      var getRules = /validate\\[(.*)\\]/.exec(rulesParsing);\r\n\r\n      if (!getRules) return false;\r\n      var str = getRules[1];\r\n      var rules = str.split(/\\[|,|\\]/);\r\n\r\n      // true if we ran the ajax validation, tells the logic to stop messing with prompts\r\n      var isAjaxValidator = false;\r\n      var fieldName = field.attr('name');\r\n      var promptText = '';\r\n      var promptType = '';\r\n      var required = false;\r\n      var limitErrors = false;\r\n      options.isError = false;\r\n      options.showArrow = options.showArrow == true;\r\n\r\n      // If the programmer wants to limit the amount of error messages per field,\r\n      if (options.maxErrorsPerField > 0) {\r\n        limitErrors = true;\r\n      }\r\n\r\n      var form = $(field.closest('form, .validationEngineContainer'));\r\n      // Fix for adding spaces in the rules\r\n      for (var i = 0; i < rules.length; i++) {\r\n        rules[i] = rules[i].toString().replace(' ', ''); //.toString to worked on IE8\r\n        // Remove any parsing errors\r\n        if (rules[i] === '') {\r\n          delete rules[i];\r\n        }\r\n      }\r\n\r\n      for (var i = 0, field_errors = 0; i < rules.length; i++) {\r\n        // If we are limiting errors, and have hit the max, break\r\n        if (limitErrors && field_errors >= options.maxErrorsPerField) {\r\n          // If we haven't hit a required yet, check to see if there is one in the validation rules for this\r\n          // field and that it's index is greater or equal to our current index\r\n          if (!required) {\r\n            var have_required = $.inArray('required', rules);\r\n            required = have_required != -1 && have_required >= i;\r\n          }\r\n          break;\r\n        }\r\n\r\n        var errorMsg = undefined;\r\n        switch (rules[i]) {\r\n          case 'required':\r\n            required = true;\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._required);\r\n            break;\r\n          case 'custom':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._custom);\r\n            break;\r\n          case 'groupRequired':\r\n            // Check is its the first of group, if not, reload validation with first field\r\n            // AND continue normal validation on present field\r\n            var classGroup = '[' + options.validateAttribute + '*=' + rules[i + 1] + ']';\r\n            var firstOfGroup = form.find(classGroup).eq(0);\r\n            if (firstOfGroup[0] != field[0]) {\r\n              methods._validateField(firstOfGroup, options, skipAjaxValidation);\r\n              options.showArrow = true;\r\n            }\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._groupRequired);\r\n            if (errorMsg) required = true;\r\n            options.showArrow = false;\r\n            break;\r\n          case 'ajax':\r\n            // AJAX defaults to returning it's loading message\r\n            errorMsg = methods._ajax(field, rules, i, options);\r\n            if (errorMsg) {\r\n              promptType = 'load';\r\n            }\r\n            break;\r\n          case 'minSize':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._minSize);\r\n            break;\r\n          case 'maxSize':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._maxSize);\r\n            break;\r\n          case 'min':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._min);\r\n            break;\r\n          case 'max':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._max);\r\n            break;\r\n          case 'past':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._past);\r\n            break;\r\n          case 'future':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._future);\r\n            break;\r\n          case 'dateRange':\r\n            var classGroup = '[' + options.validateAttribute + '*=' + rules[i + 1] + ']';\r\n            options.firstOfGroup = form.find(classGroup).eq(0);\r\n            options.secondOfGroup = form.find(classGroup).eq(1);\r\n\r\n            //if one entry out of the pair has value then proceed to run through validation\r\n            if (options.firstOfGroup[0].value || options.secondOfGroup[0].value) {\r\n              errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._dateRange);\r\n            }\r\n            if (errorMsg) required = true;\r\n            options.showArrow = false;\r\n            break;\r\n\r\n          case 'dateTimeRange':\r\n            var classGroup = '[' + options.validateAttribute + '*=' + rules[i + 1] + ']';\r\n            options.firstOfGroup = form.find(classGroup).eq(0);\r\n            options.secondOfGroup = form.find(classGroup).eq(1);\r\n\r\n            //if one entry out of the pair has value then proceed to run through validation\r\n            if (options.firstOfGroup[0].value || options.secondOfGroup[0].value) {\r\n              errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._dateTimeRange);\r\n            }\r\n            if (errorMsg) required = true;\r\n            options.showArrow = false;\r\n            break;\r\n          case 'maxCheckbox':\r\n            field = $(form.find(\"input[name='\" + fieldName + \"']\"));\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._maxCheckbox);\r\n            break;\r\n          case 'minCheckbox':\r\n            field = $(form.find(\"input[name='\" + fieldName + \"']\"));\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._minCheckbox);\r\n            break;\r\n          case 'equals':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._equals);\r\n            break;\r\n          case 'funcCall':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._funcCall);\r\n            break;\r\n          case 'creditCard':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._creditCard);\r\n            break;\r\n          case 'condRequired':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._condRequired);\r\n            if (errorMsg !== undefined) {\r\n              required = true;\r\n            }\r\n            break;\r\n          case 'funcCallRequired':\r\n            errorMsg = methods._getErrorMessage(form, field, rules[i], rules, i, options, methods._funcCallRequired);\r\n            if (errorMsg !== undefined) {\r\n              required = true;\r\n            }\r\n            break;\r\n\r\n          default:\r\n        }\r\n\r\n        var end_validation = false;\r\n\r\n        // If we were passed back an message object, check what the status was to determine what to do\r\n        if (typeof errorMsg == 'object') {\r\n          switch (errorMsg.status) {\r\n            case '_break':\r\n              end_validation = true;\r\n              break;\r\n            // If we have an error message, set errorMsg to the error message\r\n            case '_error':\r\n              errorMsg = errorMsg.message;\r\n              break;\r\n            // If we want to throw an error, but not show a prompt, return early with true\r\n            case '_error_no_prompt':\r\n              return true;\r\n              break;\r\n            // Anything else we continue on\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n\r\n        //funcCallRequired, first in rules, and has error, skip anything else\r\n        if (i == 0 && str.indexOf('funcCallRequired') == 0 && errorMsg !== undefined) {\r\n          if (promptText != '') {\r\n            promptText += '<br/>';\r\n          }\r\n          promptText += errorMsg;\r\n          options.isError = true;\r\n          field_errors++;\r\n          end_validation = true;\r\n        }\r\n\r\n        // If it has been specified that validation should end now, break\r\n        if (end_validation) {\r\n          break;\r\n        }\r\n\r\n        // If we have a string, that means that we have an error, so add it to the error message.\r\n        if (typeof errorMsg == 'string') {\r\n          if (promptText != '') {\r\n            promptText += '<br/>';\r\n          }\r\n          promptText += errorMsg;\r\n          options.isError = true;\r\n          field_errors++;\r\n        }\r\n      }\r\n      // If the rules required is not added, an empty field is not validated\r\n      //the 3rd condition is added so that even empty password fields should be equal\r\n      //otherwise if one is filled and another left empty, the \"equal\" condition would fail\r\n      //which does not make any sense\r\n      if (!required && !field.val() && field.val().length < 1 && $.inArray('equals', rules) < 0)\r\n        options.isError = false;\r\n\r\n      // Hack for radio/checkbox group button, the validation go into the\r\n      // first radio/checkbox of the group\r\n      var fieldType = field.prop('type');\r\n      var positionType = field.data('promptPosition') || options.promptPosition;\r\n\r\n      if (\r\n        (fieldType == 'radio' || fieldType == 'checkbox') &&\r\n        form.find(\"input[name='\" + fieldName + \"']\").length > 1\r\n      ) {\r\n        if (positionType === 'inline') {\r\n          field = $(form.find(\"input[name='\" + fieldName + \"'][type!=hidden]:last\"));\r\n        } else {\r\n          field = $(form.find(\"input[name='\" + fieldName + \"'][type!=hidden]:first\"));\r\n        }\r\n        options.showArrow = options.showArrowOnRadioAndCheckbox;\r\n      }\r\n\r\n      if (field.is(':hidden') && options.prettySelect && !field.is('textarea')) {\r\n        var jqSelector = methods._jqSelector(field.attr('id'));\r\n        field = form.find('#' + options.usePrefix + jqSelector);\r\n        if (field.length <= 0) {\r\n          field = form.find('#' + jqSelector + options.useSuffix);\r\n        }\r\n      }\r\n\r\n      if (options.isError && options.showPrompts) {\r\n        methods._showPrompt(field, promptText, promptType, false, options);\r\n      } else {\r\n        if (!isAjaxValidator) methods._closePrompt(field);\r\n      }\r\n\r\n      if (!isAjaxValidator) {\r\n        field.trigger('jqv.field.result', [field, options.isError, promptText]);\r\n      }\r\n\r\n      /* Record error */\r\n      var errindex = $.inArray(field[0], options.InvalidFields);\r\n      if (errindex == -1) {\r\n        if (options.isError) options.InvalidFields.push(field[0]);\r\n      } else if (!options.isError) {\r\n        options.InvalidFields.splice(errindex, 1);\r\n      }\r\n\r\n      methods._handleStatusCssClasses(field, options);\r\n\r\n      /* run callback function for each field */\r\n      if (options.isError && options.onFieldFailure) options.onFieldFailure(field);\r\n\r\n      if (!options.isError && options.onFieldSuccess) options.onFieldSuccess(field);\r\n\r\n      return options.isError;\r\n    },\r\n    /**\r\n     * Handling css classes of fields indicating result of validation\r\n     *\r\n     * @param {jqObject}\r\n     *            field\r\n     * @param {Array[String]}\r\n     *            field's validation rules\r\n     * @private\r\n     */\r\n    _handleStatusCssClasses: function(field, options) {\r\n      /* remove all classes */\r\n      if (options.addSuccessCssClassToField) field.removeClass(options.addSuccessCssClassToField);\r\n\r\n      if (options.addFailureCssClassToField) field.removeClass(options.addFailureCssClassToField);\r\n\r\n      /* Add classes */\r\n      if (options.addSuccessCssClassToField && !options.isError) field.addClass(options.addSuccessCssClassToField);\r\n\r\n      if (options.addFailureCssClassToField && options.isError) field.addClass(options.addFailureCssClassToField);\r\n    },\r\n\r\n    /********************\r\n     * _getErrorMessage\r\n     *\r\n     * @param form\r\n     * @param field\r\n     * @param rule\r\n     * @param rules\r\n     * @param i\r\n     * @param options\r\n     * @param originalValidationMethod\r\n     * @return {*}\r\n     * @private\r\n     */\r\n    _getErrorMessage: function(form, field, rule, rules, i, options, originalValidationMethod) {\r\n      // If we are using the custon validation type, build the index for the rule.\r\n      // Otherwise if we are doing a function call, make the call and return the object\r\n      // that is passed back.\r\n      var rule_index = jQuery.inArray(rule, rules);\r\n      if (rule === 'custom' || rule === 'funcCall' || rule === 'funcCallRequired') {\r\n        var custom_validation_type = rules[rule_index + 1];\r\n        rule = rule + '[' + custom_validation_type + ']';\r\n        // Delete the rule from the rules array so that it doesn't try to call the\r\n        // same rule over again\r\n        delete rules[rule_index];\r\n      }\r\n      // Change the rule to the composite rule, if it was different from the original\r\n      var alteredRule = rule;\r\n\r\n      var element_classes = field.attr('data-validation-engine')\r\n        ? field.attr('data-validation-engine')\r\n        : field.attr('class');\r\n      var element_classes_array = element_classes.split(' ');\r\n\r\n      // Call the original validation method. If we are dealing with dates or checkboxes, also pass the form\r\n      var errorMsg;\r\n      if (rule == 'future' || rule == 'past' || rule == 'maxCheckbox' || rule == 'minCheckbox') {\r\n        errorMsg = originalValidationMethod(form, field, rules, i, options);\r\n      } else {\r\n        errorMsg = originalValidationMethod(field, rules, i, options);\r\n      }\r\n\r\n      // If the original validation method returned an error and we have a custom error message,\r\n      // return the custom message instead. Otherwise return the original error message.\r\n      if (errorMsg != undefined) {\r\n        var custom_message = methods._getCustomErrorMessage($(field), element_classes_array, alteredRule, options);\r\n        if (custom_message) errorMsg = custom_message;\r\n      }\r\n      return errorMsg;\r\n    },\r\n    _getCustomErrorMessage: function(field, classes, rule, options) {\r\n      var custom_message = false;\r\n      var validityProp = /^custom\\[.*\\]$/.test(rule) ? methods._validityProp['custom'] : methods._validityProp[rule];\r\n      // If there is a validityProp for this rule, check to see if the field has an attribute for it\r\n      if (validityProp != undefined) {\r\n        custom_message = field.attr('data-errormessage-' + validityProp);\r\n        // If there was an error message for it, return the message\r\n        if (custom_message != undefined) return custom_message;\r\n      }\r\n      custom_message = field.attr('data-errormessage');\r\n      // If there is an inline custom error message, return it\r\n      if (custom_message != undefined) return custom_message;\r\n      var id = '#' + field.attr('id');\r\n      // If we have custom messages for the element's id, get the message for the rule from the id.\r\n      // Otherwise, if we have custom messages for the element's classes, use the first class message we find instead.\r\n      if (\r\n        typeof options.custom_error_messages[id] != 'undefined' &&\r\n        typeof options.custom_error_messages[id][rule] != 'undefined'\r\n      ) {\r\n        custom_message = options.custom_error_messages[id][rule]['message'];\r\n      } else if (classes.length > 0) {\r\n        for (var i = 0; i < classes.length && classes.length > 0; i++) {\r\n          var element_class = '.' + classes[i];\r\n          if (\r\n            typeof options.custom_error_messages[element_class] != 'undefined' &&\r\n            typeof options.custom_error_messages[element_class][rule] != 'undefined'\r\n          ) {\r\n            custom_message = options.custom_error_messages[element_class][rule]['message'];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if (\r\n        !custom_message &&\r\n        typeof options.custom_error_messages[rule] != 'undefined' &&\r\n        typeof options.custom_error_messages[rule]['message'] != 'undefined'\r\n      ) {\r\n        custom_message = options.custom_error_messages[rule]['message'];\r\n      }\r\n      return custom_message;\r\n    },\r\n    _validityProp: {\r\n      required: 'value-missing',\r\n      custom: 'custom-error',\r\n      groupRequired: 'value-missing',\r\n      ajax: 'custom-error',\r\n      minSize: 'range-underflow',\r\n      maxSize: 'range-overflow',\r\n      min: 'range-underflow',\r\n      max: 'range-overflow',\r\n      past: 'type-mismatch',\r\n      future: 'type-mismatch',\r\n      dateRange: 'type-mismatch',\r\n      dateTimeRange: 'type-mismatch',\r\n      maxCheckbox: 'range-overflow',\r\n      minCheckbox: 'range-underflow',\r\n      equals: 'pattern-mismatch',\r\n      funcCall: 'custom-error',\r\n      funcCallRequired: 'custom-error',\r\n      creditCard: 'pattern-mismatch',\r\n      condRequired: 'value-missing'\r\n    },\r\n    /**\r\n     * Required validation\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @param {bool} condRequired flag when method is used for internal purpose in condRequired check\r\n     * @return an error string if validation failed\r\n     */\r\n    _required: function(field, rules, i, options, condRequired) {\r\n      switch (field.prop('type')) {\r\n        case 'radio':\r\n        case 'checkbox':\r\n          // new validation style to only check dependent field\r\n          if (condRequired) {\r\n            if (!field.prop('checked')) {\r\n              return options.allrules[rules[i]].alertTextCheckboxMultiple;\r\n            }\r\n            break;\r\n          }\r\n          // old validation style\r\n          var form = field.closest('form, .validationEngineContainer');\r\n          var name = field.attr('name');\r\n          if (form.find(\"input[name='\" + name + \"']:checked\").length == 0) {\r\n            if (form.find(\"input[name='\" + name + \"']:visible\").length == 1)\r\n              return options.allrules[rules[i]].alertTextCheckboxe;\r\n            else return options.allrules[rules[i]].alertTextCheckboxMultiple;\r\n          }\r\n          break;\r\n        case 'text':\r\n        case 'password':\r\n        case 'textarea':\r\n        case 'file':\r\n        case 'select-one':\r\n        case 'select-multiple':\r\n        default:\r\n          var field_val = $.trim(field.val());\r\n          var dv_placeholder = $.trim(field.attr('data-validation-placeholder'));\r\n          if (!field_val || (dv_placeholder && field_val == dv_placeholder)) {\r\n            return options.allrules[rules[i]].alertText;\r\n          }\r\n          break;\r\n      }\r\n    },\r\n    /**\r\n     * Validate that 1 from the group field is required\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _groupRequired: function(field, rules, i, options) {\r\n      var classGroup = '[' + options.validateAttribute + '*=' + rules[i + 1] + ']';\r\n      var isValid = false;\r\n      // Check all fields from the group\r\n      field\r\n        .closest('form, .validationEngineContainer')\r\n        .find(classGroup)\r\n        .each(function() {\r\n          if (!methods._required($(this), rules, i, options)) {\r\n            isValid = true;\r\n            return false;\r\n          }\r\n        });\r\n\r\n      if (!isValid) {\r\n        return options.allrules[rules[i]].alertText;\r\n      }\r\n    },\r\n    /**\r\n     * Validate rules\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _custom: function(field, rules, i, options) {\r\n      var customRule = rules[i + 1];\r\n      var rule = options.allrules[customRule];\r\n      var fn;\r\n      if (!rule) {\r\n        alert('jqv:custom rule not found - ' + customRule);\r\n        return;\r\n      }\r\n\r\n      if (rule['regex']) {\r\n        var ex = rule.regex;\r\n        if (!ex) {\r\n          alert('jqv:custom regex not found - ' + customRule);\r\n          return;\r\n        }\r\n        var pattern = new RegExp(ex);\r\n\r\n        if (!pattern.test(field.val())) return options.allrules[customRule].alertText;\r\n      } else if (rule['func']) {\r\n        fn = rule['func'];\r\n\r\n        if (typeof fn !== 'function') {\r\n          alert(\"jqv:custom parameter 'function' is no function - \" + customRule);\r\n          return;\r\n        }\r\n\r\n        if (!fn(field, rules, i, options)) return options.allrules[customRule].alertText;\r\n      } else {\r\n        alert('jqv:custom type not allowed ' + customRule);\r\n        return;\r\n      }\r\n    },\r\n    /**\r\n     * Validate custom function outside of the engine scope\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _funcCall: function(field, rules, i, options) {\r\n      var functionName = rules[i + 1];\r\n      var fn;\r\n      if (functionName.indexOf('.') > -1) {\r\n        var namespaces = functionName.split('.');\r\n        var scope = window;\r\n        while (namespaces.length) {\r\n          scope = scope[namespaces.shift()];\r\n        }\r\n        fn = scope;\r\n      } else fn = window[functionName] || options.customFunctions[functionName];\r\n      if (typeof fn == 'function') return fn(field, rules, i, options);\r\n    },\r\n    _funcCallRequired: function(field, rules, i, options) {\r\n      return methods._funcCall(field, rules, i, options);\r\n    },\r\n    /**\r\n     * Field match\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _equals: function(field, rules, i, options) {\r\n      var equalsField = rules[i + 1];\r\n\r\n      if (field.val() != $('#' + equalsField).val()) return options.allrules.equals.alertText;\r\n    },\r\n    /**\r\n     * Check the maximum size (in characters)\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _maxSize: function(field, rules, i, options) {\r\n      var max = rules[i + 1];\r\n      var len = field.val().length;\r\n\r\n      if (len > max) {\r\n        var rule = options.allrules.maxSize;\r\n        return rule.alertText + max + rule.alertText2;\r\n      }\r\n    },\r\n    /**\r\n     * Check the minimum size (in characters)\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _minSize: function(field, rules, i, options) {\r\n      var min = rules[i + 1];\r\n      var len = field.val().length;\r\n\r\n      if (len < min) {\r\n        var rule = options.allrules.minSize;\r\n        return rule.alertText + min + rule.alertText2;\r\n      }\r\n    },\r\n    /**\r\n     * Check number minimum value\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _min: function(field, rules, i, options) {\r\n      var min = parseFloat(rules[i + 1]);\r\n      var len = parseFloat(field.val());\r\n\r\n      if (len < min) {\r\n        var rule = options.allrules.min;\r\n        if (rule.alertText2) return rule.alertText + min + rule.alertText2;\r\n        return rule.alertText + min;\r\n      }\r\n    },\r\n    /**\r\n     * Check number maximum value\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _max: function(field, rules, i, options) {\r\n      var max = parseFloat(rules[i + 1]);\r\n      var len = parseFloat(field.val());\r\n\r\n      if (len > max) {\r\n        var rule = options.allrules.max;\r\n        if (rule.alertText2) return rule.alertText + max + rule.alertText2;\r\n        //orefalo: to review, also do the translations\r\n        return rule.alertText + max;\r\n      }\r\n    },\r\n    /**\r\n     * Checks date is in the past\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _past: function(form, field, rules, i, options) {\r\n      var p = rules[i + 1];\r\n      var fieldAlt = $(form.find(\"*[name='\" + p.replace(/^#+/, '') + \"']\"));\r\n      var pdate;\r\n\r\n      if (p.toLowerCase() == 'now') {\r\n        pdate = new Date();\r\n      } else if (undefined != fieldAlt.val()) {\r\n        if (fieldAlt.is(':disabled')) return;\r\n        pdate = methods._parseDate(fieldAlt.val());\r\n      } else {\r\n        pdate = methods._parseDate(p);\r\n      }\r\n      var vdate = methods._parseDate(field.val());\r\n\r\n      if (vdate > pdate) {\r\n        var rule = options.allrules.past;\r\n        if (rule.alertText2) return rule.alertText + methods._dateToString(pdate) + rule.alertText2;\r\n        return rule.alertText + methods._dateToString(pdate);\r\n      }\r\n    },\r\n    /**\r\n     * Checks date is in the future\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _future: function(form, field, rules, i, options) {\r\n      var p = rules[i + 1];\r\n      var fieldAlt = $(form.find(\"*[name='\" + p.replace(/^#+/, '') + \"']\"));\r\n      var pdate;\r\n\r\n      if (p.toLowerCase() == 'now') {\r\n        pdate = new Date();\r\n      } else if (undefined != fieldAlt.val()) {\r\n        if (fieldAlt.is(':disabled')) return;\r\n        pdate = methods._parseDate(fieldAlt.val());\r\n      } else {\r\n        pdate = methods._parseDate(p);\r\n      }\r\n      var vdate = methods._parseDate(field.val());\r\n\r\n      if (vdate < pdate) {\r\n        var rule = options.allrules.future;\r\n        if (rule.alertText2) return rule.alertText + methods._dateToString(pdate) + rule.alertText2;\r\n        return rule.alertText + methods._dateToString(pdate);\r\n      }\r\n    },\r\n    /**\r\n     * Checks if valid date\r\n     *\r\n     * @param {string} date string\r\n     * @return a bool based on determination of valid date\r\n     */\r\n    _isDate: function(value) {\r\n      var dateRegEx = new RegExp(\r\n        /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\\/|-)(?:29|30)))(\\/|-)(?:[1-9]\\d\\d\\d|\\d[1-9]\\d\\d|\\d\\d[1-9]\\d|\\d\\d\\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\\/|-)(?:0?[1-9]|1\\d|2[0-8]))(\\/|-)(?:[1-9]\\d\\d\\d|\\d[1-9]\\d\\d|\\d\\d[1-9]\\d|\\d\\d\\d[1-9])$|^(0?2(\\/|-)29)(\\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\\d\\d)?(?:0[48]|[2468][048]|[13579][26]))$/\r\n      );\r\n      return dateRegEx.test(value);\r\n    },\r\n    /**\r\n     * Checks if valid date time\r\n     *\r\n     * @param {string} date string\r\n     * @return a bool based on determination of valid date time\r\n     */\r\n    _isDateTime: function(value) {\r\n      var dateTimeRegEx = new RegExp(\r\n        /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])\\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\\/|-)(?:29|30)))(\\/|-)(?:[1-9]\\d\\d\\d|\\d[1-9]\\d\\d|\\d\\d[1-9]\\d|\\d\\d\\d[1-9])$|^((1[012]|0?[1-9]){1}\\/(0?[1-9]|[12][0-9]|3[01]){1}\\/\\d{2,4}\\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\\s+(am|pm|AM|PM){1})$/\r\n      );\r\n      return dateTimeRegEx.test(value);\r\n    },\r\n    //Checks if the start date is before the end date\r\n    //returns true if end is later than start\r\n    _dateCompare: function(start, end) {\r\n      return new Date(start.toString()) < new Date(end.toString());\r\n    },\r\n    /**\r\n     * Checks date range\r\n     *\r\n     * @param {jqObject} first field name\r\n     * @param {jqObject} second field name\r\n     * @return an error string if validation failed\r\n     */\r\n    _dateRange: function(field, rules, i, options) {\r\n      //are not both populated\r\n      if (\r\n        (!options.firstOfGroup[0].value && options.secondOfGroup[0].value) ||\r\n        (options.firstOfGroup[0].value && !options.secondOfGroup[0].value)\r\n      ) {\r\n        return options.allrules[rules[i]].alertText + options.allrules[rules[i]].alertText2;\r\n      }\r\n\r\n      //are not both dates\r\n      if (!methods._isDate(options.firstOfGroup[0].value) || !methods._isDate(options.secondOfGroup[0].value)) {\r\n        return options.allrules[rules[i]].alertText + options.allrules[rules[i]].alertText2;\r\n      }\r\n\r\n      //are both dates but range is off\r\n      if (!methods._dateCompare(options.firstOfGroup[0].value, options.secondOfGroup[0].value)) {\r\n        return options.allrules[rules[i]].alertText + options.allrules[rules[i]].alertText2;\r\n      }\r\n    },\r\n    /**\r\n     * Checks date time range\r\n     *\r\n     * @param {jqObject} first field name\r\n     * @param {jqObject} second field name\r\n     * @return an error string if validation failed\r\n     */\r\n    _dateTimeRange: function(field, rules, i, options) {\r\n      //are not both populated\r\n      if (\r\n        (!options.firstOfGroup[0].value && options.secondOfGroup[0].value) ||\r\n        (options.firstOfGroup[0].value && !options.secondOfGroup[0].value)\r\n      ) {\r\n        return options.allrules[rules[i]].alertText + options.allrules[rules[i]].alertText2;\r\n      }\r\n      //are not both dates\r\n      if (!methods._isDateTime(options.firstOfGroup[0].value) || !methods._isDateTime(options.secondOfGroup[0].value)) {\r\n        return options.allrules[rules[i]].alertText + options.allrules[rules[i]].alertText2;\r\n      }\r\n      //are both dates but range is off\r\n      if (!methods._dateCompare(options.firstOfGroup[0].value, options.secondOfGroup[0].value)) {\r\n        return options.allrules[rules[i]].alertText + options.allrules[rules[i]].alertText2;\r\n      }\r\n    },\r\n    /**\r\n     * Max number of checkbox selected\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _maxCheckbox: function(form, field, rules, i, options) {\r\n      var nbCheck = rules[i + 1];\r\n      var groupname = field.attr('name');\r\n      var groupSize = form.find(\"input[name='\" + groupname + \"']:checked\").length;\r\n      if (groupSize > nbCheck) {\r\n        options.showArrow = false;\r\n        if (options.allrules.maxCheckbox.alertText2)\r\n          return options.allrules.maxCheckbox.alertText + ' ' + nbCheck + ' ' + options.allrules.maxCheckbox.alertText2;\r\n        return options.allrules.maxCheckbox.alertText;\r\n      }\r\n    },\r\n    /**\r\n     * Min number of checkbox selected\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _minCheckbox: function(form, field, rules, i, options) {\r\n      var nbCheck = rules[i + 1];\r\n      var groupname = field.attr('name');\r\n      var groupSize = form.find(\"input[name='\" + groupname + \"']:checked\").length;\r\n      if (groupSize < nbCheck) {\r\n        options.showArrow = false;\r\n        return options.allrules.minCheckbox.alertText + ' ' + nbCheck + ' ' + options.allrules.minCheckbox.alertText2;\r\n      }\r\n    },\r\n    /**\r\n     * Checks that it is a valid credit card number according to the\r\n     * Luhn checksum algorithm.\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _creditCard: function(field, rules, i, options) {\r\n      //spaces and dashes may be valid characters, but must be stripped to calculate the checksum.\r\n      var valid = false,\r\n        cardNumber = field\r\n          .val()\r\n          .replace(/ +/g, '')\r\n          .replace(/-+/g, '');\r\n\r\n      var numDigits = cardNumber.length;\r\n      if (numDigits >= 14 && numDigits <= 16 && parseInt(cardNumber) > 0) {\r\n        var sum = 0,\r\n          i = numDigits - 1,\r\n          pos = 1,\r\n          digit,\r\n          luhn = new String();\r\n        do {\r\n          digit = parseInt(cardNumber.charAt(i));\r\n          luhn += pos++ % 2 == 0 ? digit * 2 : digit;\r\n        } while (--i >= 0);\r\n\r\n        for (i = 0; i < luhn.length; i++) {\r\n          sum += parseInt(luhn.charAt(i));\r\n        }\r\n        valid = sum % 10 == 0;\r\n      }\r\n      if (!valid) return options.allrules.creditCard.alertText;\r\n    },\r\n    /**\r\n     * Ajax field validation\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     *            user options\r\n     * @return nothing! the ajax validator handles the prompts itself\r\n     */\r\n    _ajax: function(field, rules, i, options) {\r\n      var errorSelector = rules[i + 1];\r\n      var rule = options.allrules[errorSelector];\r\n      var extraData = rule.extraData;\r\n      var extraDataDynamic = rule.extraDataDynamic;\r\n      var data = {\r\n        fieldId: field.attr('id'),\r\n        fieldValue: field.val()\r\n      };\r\n\r\n      if (typeof extraData === 'object') {\r\n        $.extend(data, extraData);\r\n      } else if (typeof extraData === 'string') {\r\n        var tempData = extraData.split('&');\r\n        for (var i = 0; i < tempData.length; i++) {\r\n          var values = tempData[i].split('=');\r\n          if (values[0] && values[0]) {\r\n            data[values[0]] = values[1];\r\n          }\r\n        }\r\n      }\r\n\r\n      if (extraDataDynamic) {\r\n        var tmpData = [];\r\n        var domIds = String(extraDataDynamic).split(',');\r\n        for (var i = 0; i < domIds.length; i++) {\r\n          var id = domIds[i];\r\n          if ($(id).length) {\r\n            var inputValue = field\r\n              .closest('form, .validationEngineContainer')\r\n              .find(id)\r\n              .val();\r\n            var keyValue = id.replace('#', '') + '=' + escape(inputValue);\r\n            data[id.replace('#', '')] = inputValue;\r\n          }\r\n        }\r\n      }\r\n\r\n      // If a field change event triggered this we want to clear the cache for this ID\r\n      if (options.eventTrigger == 'field') {\r\n        delete options.ajaxValidCache[field.attr('id')];\r\n      }\r\n\r\n      // If there is an error or if the the field is already validated, do not re-execute AJAX\r\n      if (!options.isError && !methods._checkAjaxFieldStatus(field.attr('id'), options)) {\r\n        $.ajax({\r\n          type: options.ajaxFormValidationMethod,\r\n          url: rule.url,\r\n          cache: false,\r\n          dataType: 'json',\r\n          data: data,\r\n          field: field,\r\n          rule: rule,\r\n          methods: methods,\r\n          options: options,\r\n          beforeSend: function() {},\r\n          error: function(data, transport) {\r\n            if (options.onFailure) {\r\n              options.onFailure(data, transport);\r\n            } else {\r\n              methods._ajaxError(data, transport);\r\n            }\r\n          },\r\n          success: function(json) {\r\n            // asynchronously called on success, data is the json answer from the server\r\n            var errorFieldId = json[0];\r\n            //var errorField = $($(\"#\" + errorFieldId)[0]);\r\n            var errorField = $('#' + errorFieldId).eq(0);\r\n\r\n            // make sure we found the element\r\n            if (errorField.length == 1) {\r\n              var status = json[1];\r\n              // read the optional msg from the server\r\n              var msg = json[2];\r\n              if (!status) {\r\n                // Houston we got a problem - display an red prompt\r\n                options.ajaxValidCache[errorFieldId] = false;\r\n                options.isError = true;\r\n\r\n                // resolve the msg prompt\r\n                if (msg) {\r\n                  if (options.allrules[msg]) {\r\n                    var txt = options.allrules[msg].alertText;\r\n                    if (txt) {\r\n                      msg = txt;\r\n                    }\r\n                  }\r\n                } else msg = rule.alertText;\r\n\r\n                if (options.showPrompts) methods._showPrompt(errorField, msg, '', true, options);\r\n              } else {\r\n                options.ajaxValidCache[errorFieldId] = true;\r\n\r\n                // resolves the msg prompt\r\n                if (msg) {\r\n                  if (options.allrules[msg]) {\r\n                    var txt = options.allrules[msg].alertTextOk;\r\n                    if (txt) {\r\n                      msg = txt;\r\n                    }\r\n                  }\r\n                } else msg = rule.alertTextOk;\r\n\r\n                if (options.showPrompts) {\r\n                  // see if we should display a green prompt\r\n                  if (msg) methods._showPrompt(errorField, msg, 'pass', true, options);\r\n                  else methods._closePrompt(errorField);\r\n                }\r\n\r\n                // If a submit form triggered this, we want to re-submit the form\r\n                if (options.eventTrigger == 'submit') field.closest('form').submit();\r\n              }\r\n            }\r\n            errorField.trigger('jqv.field.result', [errorField, options.isError, msg]);\r\n          }\r\n        });\r\n\r\n        return rule.alertTextLoad;\r\n      }\r\n    },\r\n    /**\r\n     * Common method to handle ajax errors\r\n     *\r\n     * @param {Object} data\r\n     * @param {Object} transport\r\n     */\r\n    _ajaxError: function(data, transport) {\r\n      if (data.status == 0 && transport == null) alert('The page is not served from a server! ajax call failed');\r\n      else if (typeof console != 'undefined') console.log('Ajax error: ' + data.status + ' ' + transport);\r\n    },\r\n    /**\r\n     * date -> string\r\n     *\r\n     * @param {Object} date\r\n     */\r\n    _dateToString: function(date) {\r\n      return date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();\r\n    },\r\n    /**\r\n     * Parses an ISO date\r\n     * @param {String} d\r\n     */\r\n    _parseDate: function(d) {\r\n      var dateParts = d.split('-');\r\n      if (dateParts == d) dateParts = d.split('/');\r\n      if (dateParts == d) {\r\n        dateParts = d.split('.');\r\n        return new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);\r\n      }\r\n      return new Date(dateParts[0], dateParts[1] - 1, dateParts[2]);\r\n    },\r\n    /**\r\n     * Builds or updates a prompt with the given information\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {String} promptText html text to display type\r\n     * @param {String} type the type of bubble: 'pass' (green), 'load' (black) anything else (red)\r\n     * @param {boolean} ajaxed - use to mark fields than being validated with ajax\r\n     * @param {Map} options user options\r\n     */\r\n    _showPrompt: function(field, promptText, type, ajaxed, options, ajaxform) {\r\n      //Check if we need to adjust what element to show the prompt on\r\n      if (field.data('jqv-prompt-at') instanceof jQuery) {\r\n        field = field.data('jqv-prompt-at');\r\n      } else if (field.data('jqv-prompt-at')) {\r\n        field = $(field.data('jqv-prompt-at'));\r\n      }\r\n\r\n      var prompt = methods._getPrompt(field);\r\n      // The ajax submit errors are not see has an error in the form,\r\n      // When the form errors are returned, the engine see 2 bubbles, but those are ebing closed by the engine at the same time\r\n      // Because no error was found befor submitting\r\n      if (ajaxform) prompt = false;\r\n      // Check that there is indded text\r\n      if ($.trim(promptText)) {\r\n        if (prompt) methods._updatePrompt(field, prompt, promptText, type, ajaxed, options);\r\n        else methods._buildPrompt(field, promptText, type, ajaxed, options);\r\n      }\r\n    },\r\n    /**\r\n     * Builds and shades a prompt for the given field.\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {String} promptText html text to display type\r\n     * @param {String} type the type of bubble: 'pass' (green), 'load' (black) anything else (red)\r\n     * @param {boolean} ajaxed - use to mark fields than being validated with ajax\r\n     * @param {Map} options user options\r\n     */\r\n    _buildPrompt: function(field, promptText, type, ajaxed, options) {\r\n      // create the prompt\r\n      var prompt = $('<div>');\r\n      prompt.addClass(methods._getClassName(field.attr('id')) + 'formError');\r\n      // add a class name to identify the parent form of the prompt\r\n      prompt.addClass(\r\n        'parentForm' + methods._getClassName(field.closest('form, .validationEngineContainer').attr('id'))\r\n      );\r\n      prompt.addClass('formError');\r\n\r\n      switch (type) {\r\n        case 'pass':\r\n          prompt.addClass('greenPopup');\r\n          break;\r\n        case 'load':\r\n          prompt.addClass('blackPopup');\r\n          break;\r\n        default:\r\n        /* it has error  */\r\n        //alert(\"unknown popup type:\"+type);\r\n      }\r\n      if (ajaxed) prompt.addClass('ajaxed');\r\n\r\n      // create the prompt content\r\n      var promptContent = $('<div>')\r\n        .addClass('formErrorContent')\r\n        .html(promptText)\r\n        .appendTo(prompt);\r\n\r\n      // determine position type\r\n      var positionType = field.data('promptPosition') || options.promptPosition;\r\n\r\n      // create the css arrow pointing at the field\r\n      // note that there is no triangle on max-checkbox and radio\r\n      if (options.showArrow) {\r\n        var arrow = $('<div>').addClass('formErrorArrow');\r\n\r\n        //prompt positioning adjustment support. Usage: positionType:Xshift,Yshift (for ex.: bottomLeft:+20 or bottomLeft:-20,+10)\r\n        if (typeof positionType == 'string') {\r\n          var pos = positionType.indexOf(':');\r\n          if (pos != -1) positionType = positionType.substring(0, pos);\r\n        }\r\n\r\n        switch (positionType) {\r\n          case 'bottomLeft':\r\n          case 'bottomRight':\r\n            prompt.find('.formErrorContent').before(arrow);\r\n            arrow\r\n              .addClass('formErrorArrowBottom')\r\n              .html(\r\n                '<div class=\"line1\"><!-- --></div><div class=\"line2\"><!-- --></div><div class=\"line3\"><!-- --></div><div class=\"line4\"><!-- --></div><div class=\"line5\"><!-- --></div><div class=\"line6\"><!-- --></div><div class=\"line7\"><!-- --></div><div class=\"line8\"><!-- --></div><div class=\"line9\"><!-- --></div><div class=\"line10\"><!-- --></div>'\r\n              );\r\n            break;\r\n          case 'topLeft':\r\n          case 'topRight':\r\n            arrow.html(\r\n              '<div class=\"line10\"><!-- --></div><div class=\"line9\"><!-- --></div><div class=\"line8\"><!-- --></div><div class=\"line7\"><!-- --></div><div class=\"line6\"><!-- --></div><div class=\"line5\"><!-- --></div><div class=\"line4\"><!-- --></div><div class=\"line3\"><!-- --></div><div class=\"line2\"><!-- --></div><div class=\"line1\"><!-- --></div>'\r\n            );\r\n            prompt.append(arrow);\r\n            break;\r\n        }\r\n      }\r\n      // Add custom prompt class\r\n      if (options.addPromptClass) prompt.addClass(options.addPromptClass);\r\n\r\n      // Add custom prompt class defined in element\r\n      var requiredOverride = field.attr('data-required-class');\r\n      if (requiredOverride !== undefined) {\r\n        prompt.addClass(requiredOverride);\r\n      } else {\r\n        if (options.prettySelect) {\r\n          if (\r\n            $('#' + field.attr('id'))\r\n              .next()\r\n              .is('select')\r\n          ) {\r\n            var prettyOverrideClass = $(\r\n              '#' +\r\n                field\r\n                  .attr('id')\r\n                  .substr(options.usePrefix.length)\r\n                  .substring(options.useSuffix.length)\r\n            ).attr('data-required-class');\r\n            if (prettyOverrideClass !== undefined) {\r\n              prompt.addClass(prettyOverrideClass);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      prompt.css({\r\n        opacity: 0\r\n      });\r\n      if (positionType === 'inline') {\r\n        prompt.addClass('inline');\r\n        if (\r\n          typeof field.attr('data-prompt-target') !== 'undefined' &&\r\n          $('#' + field.attr('data-prompt-target')).length > 0\r\n        ) {\r\n          prompt.appendTo($('#' + field.attr('data-prompt-target')));\r\n        } else {\r\n          field.after(prompt);\r\n        }\r\n      } else {\r\n        field.before(prompt);\r\n      }\r\n\r\n      var pos = methods._calculatePosition(field, prompt, options);\r\n      // Support RTL layouts by @yasser_lotfy ( Yasser Lotfy )\r\n      if ($('body').hasClass('rtl')) {\r\n        prompt\r\n          .css({\r\n            position: positionType === 'inline' ? 'relative' : 'absolute',\r\n            top: pos.callerTopPosition,\r\n            left: 'initial',\r\n            right: pos.callerleftPosition,\r\n            marginTop: pos.marginTopSize,\r\n            opacity: 0\r\n          })\r\n          .data('callerField', field);\r\n      } else {\r\n        prompt\r\n          .css({\r\n            position: positionType === 'inline' ? 'relative' : 'absolute',\r\n            top: pos.callerTopPosition,\r\n            left: pos.callerleftPosition,\r\n            right: 'initial',\r\n            marginTop: pos.marginTopSize,\r\n            opacity: 0\r\n          })\r\n          .data('callerField', field);\r\n      }\r\n\r\n      if (options.autoHidePrompt) {\r\n        setTimeout(function() {\r\n          prompt.animate(\r\n            {\r\n              opacity: 0\r\n            },\r\n            function() {\r\n              prompt.closest('.formError').remove();\r\n            }\r\n          );\r\n        }, options.autoHideDelay);\r\n      }\r\n      return prompt.animate({\r\n        opacity: 0.87\r\n      });\r\n    },\r\n    /**\r\n     * Updates the prompt text field - the field for which the prompt\r\n     * @param {jqObject} field\r\n     * @param {String} promptText html text to display type\r\n     * @param {String} type the type of bubble: 'pass' (green), 'load' (black) anything else (red)\r\n     * @param {boolean} ajaxed - use to mark fields than being validated with ajax\r\n     * @param {Map} options user options\r\n     */\r\n    _updatePrompt: function(field, prompt, promptText, type, ajaxed, options, noAnimation) {\r\n      if (prompt) {\r\n        if (typeof type !== 'undefined') {\r\n          if (type == 'pass') prompt.addClass('greenPopup');\r\n          else prompt.removeClass('greenPopup');\r\n\r\n          if (type == 'load') prompt.addClass('blackPopup');\r\n          else prompt.removeClass('blackPopup');\r\n        }\r\n        if (ajaxed) prompt.addClass('ajaxed');\r\n        else prompt.removeClass('ajaxed');\r\n\r\n        prompt.find('.formErrorContent').html(promptText);\r\n\r\n        var pos = methods._calculatePosition(field, prompt, options);\r\n        // Support RTL layouts by @yasser_lotfy ( Yasser Lotfy )\r\n        if ($('body').hasClass('rtl')) {\r\n          var css = {\r\n            top: pos.callerTopPosition,\r\n            left: 'initial',\r\n            right: pos.callerleftPosition,\r\n            marginTop: pos.marginTopSize,\r\n            opacity: 0.87\r\n          };\r\n        } else {\r\n          var css = {\r\n            top: pos.callerTopPosition,\r\n            left: pos.callerleftPosition,\r\n            right: 'initial',\r\n            marginTop: pos.marginTopSize,\r\n            opacity: 0.87\r\n          };\r\n        }\r\n\r\n        prompt.css({\r\n          opacity: 0,\r\n          display: 'block'\r\n        });\r\n\r\n        if (noAnimation) prompt.css(css);\r\n        else prompt.animate(css);\r\n      }\r\n    },\r\n    /**\r\n     * Closes the prompt associated with the given field\r\n     *\r\n     * @param {jqObject}\r\n     *            field\r\n     */\r\n    _closePrompt: function(field) {\r\n      var prompt = methods._getPrompt(field);\r\n      if (prompt)\r\n        prompt.fadeTo('fast', 0, function() {\r\n          prompt.closest('.formError').remove();\r\n        });\r\n    },\r\n    closePrompt: function(field) {\r\n      return methods._closePrompt(field);\r\n    },\r\n    /**\r\n     * Returns the error prompt matching the field if any\r\n     *\r\n     * @param {jqObject}\r\n     *            field\r\n     * @return undefined or the error prompt (jqObject)\r\n     */\r\n    _getPrompt: function(field) {\r\n      var formId = $(field)\r\n        .closest('form, .validationEngineContainer')\r\n        .attr('id');\r\n      var className = methods._getClassName(field.attr('id')) + 'formError';\r\n      var match = $('.' + methods._escapeExpression(className) + '.parentForm' + methods._getClassName(formId))[0];\r\n      if (match) return $(match);\r\n    },\r\n    /**\r\n     * Returns the escapade classname\r\n     *\r\n     * @param {selector}\r\n     *            className\r\n     */\r\n    _escapeExpression: function(selector) {\r\n      return selector.replace(/([#;&,\\.\\+\\*\\~':\"\\!\\^$\\[\\]\\(\\)=>\\|])/g, '\\\\$1');\r\n    },\r\n    /**\r\n     * returns true if we are in a RTLed document\r\n     *\r\n     * @param {jqObject} field\r\n     */\r\n    isRTL: function(field) {\r\n      var $document = $(document);\r\n      var $body = $('body');\r\n      var rtl =\r\n        (field && field.hasClass('rtl')) ||\r\n        (field && (field.attr('dir') || '').toLowerCase() === 'rtl') ||\r\n        $document.hasClass('rtl') ||\r\n        ($document.attr('dir') || '').toLowerCase() === 'rtl' ||\r\n        $body.hasClass('rtl') ||\r\n        ($body.attr('dir') || '').toLowerCase() === 'rtl';\r\n      return Boolean(rtl);\r\n    },\r\n    /**\r\n     * Calculates prompt position\r\n     *\r\n     * @param {jqObject}\r\n     *            field\r\n     * @param {jqObject}\r\n     *            the prompt\r\n     * @param {Map}\r\n     *            options\r\n     * @return positions\r\n     */\r\n    _calculatePosition: function(field, promptElmt, options) {\r\n      var promptTopPosition, promptleftPosition, marginTopSize;\r\n      var fieldWidth = field.width();\r\n      var fieldLeft = field.position().left;\r\n      var fieldTop = field.position().top;\r\n      var fieldHeight = field.height();\r\n      var promptHeight = promptElmt.height();\r\n\r\n      // is the form contained in an overflown container?\r\n      promptTopPosition = promptleftPosition = 0;\r\n      // compensation for the arrow\r\n      marginTopSize = -promptHeight;\r\n\r\n      //prompt positioning adjustment support\r\n      //now you can adjust prompt position\r\n      //usage: positionType:Xshift,Yshift\r\n      //for example:\r\n      //   bottomLeft:+20 means bottomLeft position shifted by 20 pixels right horizontally\r\n      //   topRight:20, -15 means topRight position shifted by 20 pixels to right and 15 pixels to top\r\n      //You can use +pixels, - pixels. If no sign is provided than + is default.\r\n      var positionType = field.data('promptPosition') || options.promptPosition;\r\n      var shift1 = '';\r\n      var shift2 = '';\r\n      var shiftX = 0;\r\n      var shiftY = 0;\r\n      if (typeof positionType == 'string') {\r\n        //do we have any position adjustments ?\r\n        if (positionType.indexOf(':') != -1) {\r\n          shift1 = positionType.substring(positionType.indexOf(':') + 1);\r\n          positionType = positionType.substring(0, positionType.indexOf(':'));\r\n\r\n          //if any advanced positioning will be needed (percents or something else) - parser should be added here\r\n          //for now we use simple parseInt()\r\n\r\n          //do we have second parameter?\r\n          if (shift1.indexOf(',') != -1) {\r\n            shift2 = shift1.substring(shift1.indexOf(',') + 1);\r\n            shift1 = shift1.substring(0, shift1.indexOf(','));\r\n            shiftY = parseInt(shift2);\r\n            if (isNaN(shiftY)) shiftY = 0;\r\n          }\r\n\r\n          shiftX = parseInt(shift1);\r\n          if (isNaN(shift1)) shift1 = 0;\r\n        }\r\n      }\r\n\r\n      switch (positionType) {\r\n        default:\r\n        case 'topRight':\r\n          promptleftPosition += fieldLeft + fieldWidth - 27;\r\n          promptTopPosition += fieldTop;\r\n          break;\r\n\r\n        case 'topLeft':\r\n          promptTopPosition += fieldTop;\r\n          promptleftPosition += fieldLeft;\r\n          break;\r\n\r\n        case 'centerRight':\r\n          promptTopPosition = fieldTop + 4;\r\n          marginTopSize = 0;\r\n          promptleftPosition = fieldLeft + field.outerWidth(true) + 5;\r\n          break;\r\n        case 'centerLeft':\r\n          promptleftPosition = fieldLeft - (promptElmt.width() + 2);\r\n          promptTopPosition = fieldTop + 4;\r\n          marginTopSize = 0;\r\n\r\n          break;\r\n\r\n        case 'bottomLeft':\r\n          promptTopPosition = fieldTop + field.height() + 5;\r\n          marginTopSize = 0;\r\n          promptleftPosition = fieldLeft;\r\n          break;\r\n        case 'bottomRight':\r\n          promptleftPosition = fieldLeft + fieldWidth - 27;\r\n          promptTopPosition = fieldTop + field.height() + 5;\r\n          marginTopSize = 0;\r\n          break;\r\n        case 'inline':\r\n          promptleftPosition = 0;\r\n          promptTopPosition = 0;\r\n          marginTopSize = 0;\r\n      }\r\n\r\n      //apply adjusments if any\r\n      promptleftPosition += shiftX;\r\n      promptTopPosition += shiftY;\r\n\r\n      return {\r\n        callerTopPosition: promptTopPosition + 'px',\r\n        callerleftPosition: promptleftPosition + 'px',\r\n        marginTopSize: marginTopSize + 'px'\r\n      };\r\n    },\r\n    /**\r\n     * Saves the user options and variables in the form.data\r\n     *\r\n     * @param {jqObject}\r\n     *            form - the form where the user option should be saved\r\n     * @param {Map}\r\n     *            options - the user options\r\n     * @return the user options (extended from the defaults)\r\n     */\r\n    _saveOptions: function(form, options) {\r\n      // is there a language localisation ?\r\n      if ($.validationEngineLanguage) var allRules = $.validationEngineLanguage.allRules;\r\n      else $.error('jQuery.validationEngine rules are not loaded, plz add localization files to the page');\r\n      // --- Internals DO NOT TOUCH or OVERLOAD ---\r\n      // validation rules and i18\r\n      $.validationEngine.defaults.allrules = allRules;\r\n\r\n      var userOptions = $.extend(true, {}, $.validationEngine.defaults, options);\r\n\r\n      form.data('jqv', userOptions);\r\n      return userOptions;\r\n    },\r\n\r\n    /**\r\n     * Removes forbidden characters from class name\r\n     * @param {String} className\r\n     */\r\n    _getClassName: function(className) {\r\n      if (className) return className.replace(/:/g, '_').replace(/\\./g, '_');\r\n    },\r\n    /**\r\n     * Escape special character for jQuery selector\r\n     * http://totaldev.com/content/escaping-characters-get-valid-jquery-id\r\n     * @param {String} selector\r\n     */\r\n    _jqSelector: function(str) {\r\n      return str.replace(/([;&,\\.\\+\\*\\~':\"\\!\\^#$%@\\[\\]\\(\\)=>\\|])/g, '\\\\$1');\r\n    },\r\n    /**\r\n     * Conditionally required field\r\n     *\r\n     * @param {jqObject} field\r\n     * @param {Array[String]} rules\r\n     * @param {int} i rules index\r\n     * @param {Map}\r\n     * user options\r\n     * @return an error string if validation failed\r\n     */\r\n    _condRequired: function(field, rules, i, options) {\r\n      var idx, dependingField;\r\n\r\n      for (idx = i + 1; idx < rules.length; idx++) {\r\n        dependingField = jQuery('#' + rules[idx]).first();\r\n\r\n        /* Use _required for determining wether dependingField has a value.\r\n         * There is logic there for handling all field types, and default value; so we won't replicate that here\r\n         * Indicate this special use by setting the last parameter to true so we only validate the dependingField on chackboxes and radio buttons (#462)\r\n         */\r\n        if (dependingField.length && methods._required(dependingField, ['required'], 0, options, true) == undefined) {\r\n          /* We now know any of the depending fields has a value,\r\n           * so we can validate this field as per normal required code\r\n           */\r\n          return methods._required(field, ['required'], 0, options);\r\n        }\r\n      }\r\n    },\r\n\r\n    _submitButtonClick: function(event) {\r\n      var button = $(this);\r\n      var form = button.closest('form, .validationEngineContainer');\r\n      form.data('jqv_submitButton', button.attr('id'));\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Plugin entry point.\r\n   * You may pass an action as a parameter or a list of options.\r\n   * if none, the init and attach methods are being called.\r\n   * Remember: if you pass options, the attached method is NOT called automatically\r\n   *\r\n   * @param {String}\r\n   *            method (optional) action\r\n   */\r\n  $.fn.validationEngine = function(method) {\r\n    var form = $(this);\r\n    if (!form[0]) return form; // stop here if the form does not exist\r\n\r\n    if (typeof method == 'string' && method.charAt(0) != '_' && methods[method]) {\r\n      // make sure init is called once\r\n      if (method != 'showPrompt' && method != 'hide' && method != 'hideAll') methods.init.apply(form);\r\n\r\n      return methods[method].apply(form, Array.prototype.slice.call(arguments, 1));\r\n    } else if (typeof method == 'object' || !method) {\r\n      // default constructor with or without arguments\r\n      methods.init.apply(form, arguments);\r\n      return methods.attach.apply(form);\r\n    } else {\r\n      $.error('Method ' + method + ' does not exist in jQuery.validationEngine');\r\n    }\r\n  };\r\n\r\n  // LEAK GLOBAL OPTIONS\r\n  $.validationEngine = {\r\n    fieldIdCounter: 0,\r\n    defaults: {\r\n      // Name of the event triggering field validation\r\n      validationEventTrigger: 'blur',\r\n      // Automatically scroll viewport to the first error\r\n      scroll: true,\r\n      // Focus on the first input\r\n      focusFirstField: true,\r\n      // Show prompts, set to false to disable prompts\r\n      showPrompts: true,\r\n      // Should we attempt to validate non-visible input fields contained in the form? (Useful in cases of tabbed containers, e.g. jQuery-UI tabs)\r\n      validateNonVisibleFields: false,\r\n      // ignore the validation for fields with this specific class (Useful in cases of tabbed containers AND hidden fields we don't want to validate)\r\n      ignoreFieldsWithClass: 'ignoreMe',\r\n      // Opening box position, possible locations are: topLeft,\r\n      // topRight, bottomLeft, centerRight, bottomRight, inline\r\n      // inline gets inserted after the validated field or into an element specified in data-prompt-target\r\n      promptPosition: 'topRight',\r\n      bindMethod: 'bind',\r\n      // internal, automatically set to true when it parse a _ajax rule\r\n      inlineAjax: false,\r\n      // if set to true, the form data is sent asynchronously via ajax to the form.action url (get)\r\n      ajaxFormValidation: false,\r\n      // The url to send the submit ajax validation (default to action)\r\n      ajaxFormValidationURL: false,\r\n      // HTTP method used for ajax validation\r\n      ajaxFormValidationMethod: 'get',\r\n      // Ajax form validation callback method: boolean onComplete(form, status, errors, options)\r\n      // retuns false if the form.submit event needs to be canceled.\r\n      onAjaxFormComplete: $.noop,\r\n      // called right before the ajax call, may return false to cancel\r\n      onBeforeAjaxFormValidation: $.noop,\r\n      // Stops form from submitting and execute function assiciated with it\r\n      onValidationComplete: false,\r\n\r\n      // Used when you have a form fields too close and the errors messages are on top of other disturbing viewing messages\r\n      doNotShowAllErrosOnSubmit: false,\r\n      // Object where you store custom messages to override the default error messages\r\n      custom_error_messages: {},\r\n      // true if you want to validate the input fields on blur event\r\n      binded: true,\r\n      // set to true if you want to validate the input fields on blur only if the field it's not empty\r\n      notEmpty: false,\r\n      // set to true, when the prompt arrow needs to be displayed\r\n      showArrow: true,\r\n      // set to false, determines if the prompt arrow should be displayed when validating\r\n      // checkboxes and radio buttons\r\n      showArrowOnRadioAndCheckbox: false,\r\n      // did one of the validation fail ? kept global to stop further ajax validations\r\n      isError: false,\r\n      // Limit how many displayed errors a field can have\r\n      maxErrorsPerField: false,\r\n\r\n      // Caches field validation status, typically only bad status are created.\r\n      // the array is used during ajax form validation to detect issues early and prevent an expensive submit\r\n      ajaxValidCache: {},\r\n      // Auto update prompt position after window resize\r\n      autoPositionUpdate: false,\r\n\r\n      InvalidFields: [],\r\n      onFieldSuccess: false,\r\n      onFieldFailure: false,\r\n      onSuccess: false,\r\n      onFailure: false,\r\n      validateAttribute: 'class',\r\n      addSuccessCssClassToField: '',\r\n      addFailureCssClassToField: '',\r\n\r\n      // Auto-hide prompt\r\n      autoHidePrompt: false,\r\n      // Delay before auto-hide\r\n      autoHideDelay: 10000,\r\n      // Fade out duration while hiding the validations\r\n      fadeDuration: 300,\r\n      // Use Prettify select library\r\n      prettySelect: false,\r\n      // Add css class on prompt\r\n      addPromptClass: '',\r\n      // Custom ID uses prefix\r\n      usePrefix: '',\r\n      // Custom ID uses suffix\r\n      useSuffix: '',\r\n      // Only show one message per error prompt\r\n      showOneMessage: false\r\n    }\r\n  };\r\n  $(function() {\r\n    $.validationEngine.defaults.promptPosition = methods.isRTL() ? 'topLeft' : 'topRight';\r\n  });\r\n})(jQuery);\r\n"],"names":["$","init","options","data","methods","_saveOptions","form","document","on","fadeOut","closest","remove","attach","userOptions","validateAttribute","find","length","binded","validationEventTrigger","_onFieldEvent","delay","autoPositionUpdate","window","bind","noAnimation","formElem","updatePromptsPosition","_submitButtonClick","removeData","_onSubmitEvent","detach","off","validate","element","valid","is","hasClass","addClass","_validateFields","setTimeout","removeClass","onSuccess","onFailure","validationEngine","defaults","_validateField","onFieldSuccess","onFieldFailure","InvalidFields","onValidationComplete","event","not","each","prettySelect","field","usePrefix","attr","useSuffix","_getPrompt","promptText","prompt","html","_updatePrompt","showPrompt","type","promptPosition","showArrow","_showPrompt","hide","fadeDuration","_getClassName","closingtag","fadeTo","hideAll","duration","eventTrigger","notEmpty","val","submitButton","ajaxFormValidation","_validateFormWithAjax","r","_checkAjaxStatus","ajaxValidCache","key","value","status","_checkAjaxFieldStatus","fieldid","trigger","names","inArray","errorFound","first_err","_jqSelector","doNotShowAllErrosOnSubmit","push","showOneMessage","scroll","offset","top","fixleft","left","positionType","indexOf","substring","prompt_err","destination","scrollOffset","isOverflown","overflownDIV","overflowDIV","scrollTop","scrollContainerPos","parseInt","scrollContainerScroll","filter","scrollContainer","animate","focusFirstField","focus","scrollLeft","serialize","ajaxFormValidationMethod","url","ajaxFormValidationURL","dataType","ajax","cache","beforeSend","onBeforeAjaxFormValidation","error","transport","_ajaxError","success","json","i","errorFieldId","errorField","errorInForm","allrules","msg","alertText","txt","showPrompts","_closePrompt","alertTextOk","onAjaxFormComplete","skipAjaxValidation","fieldIdCounter","validateNonVisibleFields","parent","ignoreFieldsWithClass","getRules","exec","rulesParsing","rules","str","split","fieldName","promptType","required","limitErrors","isError","maxErrorsPerField","toString","replace","field_errors","have_required","errorMsg","_getErrorMessage","_required","_custom","firstOfGroup","classGroup","eq","_groupRequired","_ajax","_minSize","_maxSize","_min","_max","_past","_future","secondOfGroup","_dateRange","_dateTimeRange","_maxCheckbox","_minCheckbox","_equals","_funcCall","_creditCard","_condRequired","_funcCallRequired","end_validation","message","prop","showArrowOnRadioAndCheckbox","jqSelector","splice","errindex","_handleStatusCssClasses","addSuccessCssClassToField","addFailureCssClassToField","rule","originalValidationMethod","jQuery","rule_index","custom_validation_type","alteredRule","element_classes","element_classes_array","_getCustomErrorMessage","custom_message","classes","validityProp","test","_validityProp","custom_error_messages","id","element_class","custom","groupRequired","minSize","maxSize","min","max","past","future","dateRange","dateTimeRange","maxCheckbox","minCheckbox","equals","funcCall","funcCallRequired","creditCard","condRequired","alertTextCheckboxMultiple","name","alertTextCheckboxe","trim","dv_placeholder","field_val","isValid","customRule","regex","ex","pattern","fn","functionName","scope","namespaces","shift","customFunctions","equalsField","len","alertText2","parseFloat","p","fieldAlt","toLowerCase","pdate","_parseDate","vdate","_dateToString","_isDate","_isDateTime","_dateCompare","start","end","groupname","groupSize","nbCheck","cardNumber","numDigits","sum","pos","luhn","charAt","digit","errorSelector","extraData","extraDataDynamic","fieldId","fieldValue","extend","tempData","values","domIds","String","keyValue","escape","inputValue","submit","alertTextLoad","alert","console","log","date","getFullYear","getMonth","getDate","d","dateParts","ajaxed","ajaxform","_buildPrompt","appendTo","before","arrow","append","addPromptClass","requiredOverride","next","substr","prettyOverrideClass","css","opacity","after","_calculatePosition","position","callerTopPosition","right","callerleftPosition","marginTop","marginTopSize","autoHidePrompt","autoHideDelay","display","closePrompt","className","match","_escapeExpression","formId","selector","isRTL","$body","rtl","$document","promptElmt","promptleftPosition","fieldWidth","width","fieldLeft","fieldTop","fieldHeight","height","promptHeight","promptTopPosition","shift1","shift2","shiftX","shiftY","isNaN","outerWidth","validationEngineLanguage","allRules","dependingField","idx","first","button","method","apply","Array","prototype","slice","call","arguments","bindMethod","inlineAjax","noop"],"mappings":"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"}