{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Help_Index_Js', {\n\tregisterPagination: function () {\n\t\tvar page = $('.pagination .pageNumber');\n\t\tvar thisInstance = this;\n\t\tpage.on('click', function () {\n\t\t\tthisInstance.loadContent('github', $(this).data('id'));\n\t\t});\n\t},\n\tresisterSaveKeys: function (modal) {\n\t\tvar thisInstance = this;\n\t\tvar container = modal.find('.authModalContent');\n\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\tcontainer.find('.saveKeys').on('click', function () {\n\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'Github',\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveKeysAjax',\n\t\t\t\t\tusername: $('[name=\"username\"]').val(),\n\t\t\t\t\tclient_id: $('[name=\"client_id\"]').val(),\n\t\t\t\t\ttoken: $('[name=\"token\"]').val()\n\t\t\t\t};\n\t\t\t\tcontainer.progressIndicator({});\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tcontainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (data.result.success == false) {\n\t\t\t\t\t\t\tvar errorDiv = container.find('.errorMsg');\n\t\t\t\t\t\t\terrorDiv.removeClass('d-none');\n\t\t\t\t\t\t\terrorDiv.html(app.vtranslate('JS_ERROR_KEY'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tthisInstance.reloadContent();\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_AUTHORIZATION_COMPLETE'),\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\tcontainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterAuthorizedEvent: function () {\n\t\tvar thisInstance = this;\n\t\t$('.showModal').on('click', function () {\n\t\t\tapp.showModalWindow($('.authModal'), function (container) {\n\t\t\t\tthisInstance.resisterSaveKeys(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterGithubEvents: function (container) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerAuthorizedEvent();\n\t\tthisInstance.registerPagination();\n\t\tcontainer.find('.js-switch--state, .js-switch--author').on('change', () => {\n\t\t\tthisInstance.loadContent('github', 1);\n\t\t});\n\t\t$('.addIssuesBtn').on('click', function () {\n\t\t\tvar params = {\n\t\t\t\tmodule: 'Github',\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'AddIssue'\n\t\t\t};\n\t\t\tcontainer.progressIndicator({});\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tcontainer.progressIndicator({ mode: 'hide' });\n\t\t\t\tapp.showModalWindow(data, function () {\n\t\t\t\t\tthisInstance.loadEditorElement();\n\t\t\t\t\tthisInstance.registerSaveIssues();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEventsLoadContent: function (thisInstance, mode, container) {\n\t\tthisInstance.registerGithubEvents(container);\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","registerPagination","$","thisInstance","page","on","loadContent","data","resisterSaveKeys","modal","container","find","validationEngine","app","validationEngineOptions","module","parent","getParentModuleName","action","username","val","client_id","token","progressIndicator","AppConnector","request","params","done","mode","result","success","errorDiv","removeClass","html","vtranslate","hideModalWindow","reloadContent","title","text","type","Vtiger_Helper_Js","showMessage","fail","registerAuthorizedEvent","showModalWindow","registerGithubEvents","view","loadEditorElement","registerSaveIssues","registerEventsLoadContent"],"mappings":"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"}