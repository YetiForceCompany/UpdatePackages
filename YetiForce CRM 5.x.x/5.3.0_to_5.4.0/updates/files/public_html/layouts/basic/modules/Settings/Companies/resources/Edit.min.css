"use strict";Settings_Vtiger_Edit_Js("Settings_Companies_Edit_Js",{},{registerSubmitForm:function(){const b=this;var a=this.getForm();a.on("submit",function(f){f.preventDefault();if(a.validationEngine("validate")===true){b.removeEmptyFilesInput(a[0]);var d=new FormData(a[0]);var g={url:"index.php",type:"POST",data:d,processData:false,contentType:false};var c=jQuery.progressIndicator({blockInfo:{enabled:true}});AppConnector.request(g).done(function(e){c.progressIndicator({mode:"hide"});if(true==e.result.success){window.location.href=e.result.url}else{Settings_Vtiger_Index_Js.showMessage({text:e.result.message})}})}else{app.formAlignmentAfterValidation(a)}})},removeEmptyFilesInput:function(a){for(let i=0;i<a.elements.length;i++){if(a.elements[i].type==="file"){if(a.elements[i].value===""){a.elements[i].parentNode.removeChild(a.elements[i])}}}},registerEvents:function(){var a=this.getForm();if(a.length){a.validationEngine(app.validationEngineOptions);a.find("[data-inputmask]").inputmask()}this.registerSubmitForm()}});
