'use strict';

Settings_Vtiger_List_Js('Settings_Workflows_List_Js',{triggerCreate:function triggerCreate(url){var selectedModule=jQuery('#moduleFilter').val();0<selectedModule.length&&(url+='&source_module='+selectedModule),window.location.href=url;},setChangeStatusTasks:function setChangeStatusTasks(e,recordId,status){var changeButtonType=jQuery(e),container=jQuery(e).closest('tr'),message=app.vtranslate('LBL_STATUS_CONFIRMATION');Vtiger_Helper_Js.showConfirmationBox({message:message}).done(function(){var module=app.getModuleName(),postData={module:module,action:'TaskAjax',mode:'changeStatusAllTasks',record:recordId,status:status,parent:app.getParentModuleName()},deleteMessage=app.vtranslate('JS_TASKS_STATUS_GETTING_CHANGED'),progressIndicatorElement=jQuery.progressIndicator({message:deleteMessage,position:'html',blockInfo:{enabled:!0}});AppConnector.request(postData).done(function(data){if(progressIndicatorElement.progressIndicator({mode:'hide'}),data.success){var count=data.result.count,element=container.find('[data-name="active_tasks"]');changeButtonType.hide(),status?(element.html('&nbsp;'+count),changeButtonType.closest('td').find('.deactiveTasks').show()):(element.html('&nbsp;0'),changeButtonType.closest('td').find('.activeTasks').show());}else {var params={text:app.vtranslate(data.error.message),title:app.vtranslate('JS_LBL_PERMISSION')};Vtiger_Helper_Js.showPnotify(params);}});});}},{registerFilterChangeEvent:function registerFilterChangeEvent(){var thisInstance=this;jQuery('#moduleFilter').on('change',function(e){jQuery('#pageNumber').val('1'),jQuery('#pageToJump').val('1'),jQuery('#orderBy').val(''),jQuery('#sortOrder').val('');var params={module:app.getModuleName(),parent:app.getParentModuleName(),sourceModule:jQuery(e.currentTarget).val()};//Make the select all count as empty
//Make total number of pages as empty
jQuery('#recordsCount').val(''),jQuery('#totalPageCount').text(''),thisInstance.getListViewRecords(params).done(function(){thisInstance.updatePagination();});});},/*
		 * Function to register the list view row click event
		 */registerRowClickEvent:function registerRowClickEvent(){this.getListViewContentContainer().on('click','.listViewEntries',function(e){var editUrl=$(e.currentTarget).find('.js-edit').attr('href');editUrl&&(window.location.href=editUrl);});},getDefaultParams:function getDefaultParams(){var pageNumber=jQuery('#pageNumber').val(),module=app.getModuleName(),parent=app.getParentModuleName(),params={module:module,parent:parent,page:pageNumber,view:'List',sourceModule:jQuery('#moduleFilter').val()};return params},registerImportTemplate:function registerImportTemplate(){jQuery('#importButton').on('click',function(){window.location.href=jQuery(this).data('url');});},registerEvents:function registerEvents(){this._super(),this.registerFilterChangeEvent(),this.registerImportTemplate();}});
//# sourceMappingURL=List.min.js.map
