{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Edit_Js(\n\t'Settings_Magento_Edit_Js',\n\t{},\n\t{\n\t\tregisterSubmitForm: function () {\n\t\t\tvar form = this.getForm();\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request(paramsForm)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (true == data.result.success) {\n\t\t\t\t\t\t\t\twindow.location.href = data.result.url;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(data.result.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (textStatus) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(textStatus);\n\t\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\tgetRecordsListParams: function (container) {\n\t\t\treturn { module: $('input[name=\"popupReferenceModule\"]', container).val() };\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tconst form = this.getForm();\n\t\t\tif (form.length) {\n\t\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\t}\n\t\t\tthis.registerSubmitForm();\n\t\t\tthis.registerBasicEvents(form);\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_Edit_Js","registerSubmitForm","getForm","form","on","e","preventDefault","stopPropagation","validationEngine","serializeFormData","progressIndicatorElement","jQuery","progressIndicator","blockInfo","enabled","request","paramsForm","done","data","mode","result","success","window","location","href","url","Vtiger_Helper_Js","showPnotify","message","fail","textStatus","formAlignmentAfterValidation","getRecordsListParams","container","module","$","val","registerEvents","length","app","validationEngineOptions","registerBasicEvents"],"mappings":";;AAGAA,wBACC,0BADD,CAEC,EAFD,CAGC,CACCC,mBAAoB,6BAAY,CAC/B,SAAW,KAAKC,OAAL,EAAX,CACAC,KAAKC,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAG9B,GAFAA,EAAEC,cAAF,EAEA,CADAD,EAAEE,eAAF,EACA,CAAI,UAAKC,gBAAL,CAAsB,UAAtB,CAAJ,CAAgD,gBAC9BL,KAAKM,iBAAL,EAD8B,CAE3CC,yBAA2BC,OAAOC,iBAAP,CAAyB,CACvDC,UAAW,CAAEC,UAAF,CAD4C,CAAzB,CAFgB,CAkB/C,oBAbaC,OAAb,CAAqBC,UAArB,EACEC,IADF,CACO,SAAUC,IAAV,CAAgB,CACrBR,yBAAyBE,iBAAzB,CAA2C,CAAEO,KAAM,MAAR,CAA3C,CADqB,CAEjB,IAAQD,KAAKE,MAAL,CAAYC,OAFH,CAGpBC,OAAOC,QAAP,CAAgBC,IAAhB,CAAuBN,KAAKE,MAAL,CAAYK,GAHf,CAKpBC,iBAAiBC,WAAjB,CAA6BT,KAAKE,MAAL,CAAYQ,OAAzC,EAED,CARF,EASEC,IATF,CASO,SAAUC,UAAV,CAAsB,CAC3BpB,yBAAyBE,iBAAzB,CAA2C,CAAEO,KAAM,MAAR,CAA3C,CAD2B,CAE3BO,iBAAiBC,WAAjB,CAA6BG,UAA7B,EACA,CAZF,CAaA,GACA,CAGD,WAFKC,4BAAJ,CAAiC5B,IAAjC,CAED,GACA,CA1BD,EA2BA,CA9BF,CA+BC6B,qBAAsB,8BAAUC,SAAV,CAAqB,CAC1C,OAAO,CAAEC,OAAQC,EAAE,oCAAF,CAAwCF,SAAxC,EAAmDG,GAAnD,EAAV,CACP,CAjCF,CAkCCC,eAAgB,yBAAY,CAC3B,SAAa,KAAKnC,OAAL,EAAb,CACIC,KAAKmC,MAFkB,EAG1BnC,KAAKK,gBAAL,CAAsB+B,IAAIC,uBAA1B,CAH0B,CAK3B,KAAKvC,kBAAL,EAL2B,CAM3B,KAAKwC,mBAAL,CAAyBtC,IAAzB,EACA,CAzCF,CAHD"}