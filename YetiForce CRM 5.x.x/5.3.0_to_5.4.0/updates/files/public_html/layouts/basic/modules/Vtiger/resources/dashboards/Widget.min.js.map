{"version":3,"file":"Widget.min.js","sources":["Widget.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_Widget_Js',\n\t{\n\t\twidgetPostLoadEvent: 'Vtiget.Dashboard.PostLoad',\n\t\twidgetPostRefereshEvent: 'Vtiger.Dashboard.PostRefresh',\n\t\tgetInstance: function getInstance(container, widgetClassName, moduleName) {\n\t\t\tif (typeof moduleName === 'undefined') {\n\t\t\t\tmoduleName = app.getModuleName();\n\t\t\t}\n\t\t\tconst moduleClass = window[moduleName + '_' + widgetClassName + '_Widget_Js'];\n\t\t\tconst fallbackClass = window['Vtiger_' + widgetClassName + '_Widget_Js'];\n\t\t\tconst yetiClass = window['YetiForce_' + widgetClassName + '_Widget_Js'];\n\t\t\tconst basicClass = YetiForce_Widget_Js;\n\t\t\tlet instance;\n\t\t\tif (typeof moduleClass !== 'undefined') {\n\t\t\t\tinstance = new moduleClass(container, false, widgetClassName);\n\t\t\t} else if (typeof fallbackClass !== 'undefined') {\n\t\t\t\tinstance = new fallbackClass(container, false, widgetClassName);\n\t\t\t} else if (typeof yetiClass !== 'undefined') {\n\t\t\t\tinstance = new yetiClass(container, false, widgetClassName);\n\t\t\t} else {\n\t\t\t\tinstance = new basicClass(container, false, widgetClassName);\n\t\t\t}\n\t\t\treturn instance;\n\t\t}\n\t},\n\t{\n\t\tcontainer: false,\n\t\tplotContainer: false,\n\t\tchartInstance: false,\n\t\tchartData: [],\n\t\tparamCache: false,\n\t\tinit: function init(container, reload, widgetClassName) {\n\t\t\tcontainer = $(container);\n\t\t\tthis.setContainer(container);\n\t\t\tthis.registerWidgetPostLoadEvent(container);\n\t\t\tif (!reload) {\n\t\t\t\tthis.registerWidgetPostRefreshEvent(container);\n\t\t\t}\n\t\t\tthis.registerCache(container);\n\t\t},\n\t\tareColorsFromDividingField() {\n\t\t\treturn !!Number(\n\t\t\t\tthis.getContainer()\n\t\t\t\t\t.find('[name=\"colorsFromDividingField\"]')\n\t\t\t\t\t.val()\n\t\t\t);\n\t\t},\n\t\tgetSourceChartType() {\n\t\t\treturn this.getContainer()\n\t\t\t\t.find('[name=\"typeChart\"]')\n\t\t\t\t.val();\n\t\t},\n\t\tisMultiFilter() {\n\t\t\tif (typeof this.filterIds !== 'undefined') {\n\t\t\t\treturn this.filterIds.length > 1;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Get widget data\n\t\t * @returns {*}\n\t\t */\n\t\tgetWidgetData() {\n\t\t\tif (typeof this.widgetData !== 'undefined') {\n\t\t\t\treturn this.widgetData;\n\t\t\t}\n\t\t\tlet widgetDataEl = this.getContainer().find('.widgetData');\n\t\t\tif (widgetDataEl.length) {\n\t\t\t\treturn (this.widgetData = JSON.parse(widgetDataEl.val()));\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Predefined functions that will replace options function type\n\t\t * @type {Object}\n\t\t */\n\t\tglobalChartFunctions: {\n\t\t\t/**\n\t\t\t * Functions for x or y axes scales xAxes:[{here}]\n\t\t\t */\n\t\t\tscales: {\n\t\t\t\tformatAxesLabels: function formatAxesLabels(value, index, values) {\n\t\t\t\t\tif (String(value).length > 0 && !isNaN(Number(value))) {\n\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Functions for datalabels\n\t\t\t */\n\t\t\tdatalabels: {\n\t\t\t\tdisplay(context) {\n\t\t\t\t\tconst meta = context.chart.getDatasetMeta(context.datasetIndex);\n\t\t\t\t\treturn meta.hidden !== true;\n\t\t\t\t},\n\t\t\t\tformatter: function datalabelsFormatter(value, context) {\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(value, 0);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof context.chart.data.datasets[context.datasetIndex].dataFormatted !== 'undefined' &&\n\t\t\t\t\t\ttypeof context.chart.data.datasets[context.datasetIndex].dataFormatted[context.dataIndex] !==\n\t\t\t\t\t\t\t'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\t// data presented in different format usually exists in alternative dataFormatted array\n\t\t\t\t\t\treturn context.chart.data.datasets[context.datasetIndex].dataFormatted[context.dataIndex];\n\t\t\t\t\t}\n\t\t\t\t\tif (String(value).length > 0 && isNaN(Number(value))) {\n\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Tooltips functions\n\t\t\t */\n\t\t\ttooltips: {\n\t\t\t\tlabel: function tooltipLabelCallback(tooltipItem, data) {\n\t\t\t\t\t// get already formatted data if exists\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof data.datasets[tooltipItem.datasetIndex].dataFormatted !== 'undefined' &&\n\t\t\t\t\t\tdata.datasets[tooltipItem.datasetIndex].dataFormatted[tooltipItem.index] !== 'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].dataFormatted[tooltipItem.index];\n\t\t\t\t\t}\n\t\t\t\t\t// if there is no formatted data so try to format it\n\t\t\t\t\tif (\n\t\t\t\t\t\tString(data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]).length > 0 &&\n\t\t\t\t\t\t!isNaN(Number(data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]))\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(\n\t\t\t\t\t\t\t\tdata.datasets[tooltipItem.datasetIndex].data[tooltipItem.index],\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(\n\t\t\t\t\t\t\tdata.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\t// return raw data at idex\n\t\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\t\t\t\t},\n\t\t\t\ttitle: function tooltipTitleCallback(tooltipItems, data) {\n\t\t\t\t\tconst tooltipItem = tooltipItems[0];\n\t\t\t\t\t// get already formatted title if exists\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof data.datasets[tooltipItem.datasetIndex].titlesFormatted !== 'undefined' &&\n\t\t\t\t\t\tdata.datasets[tooltipItem.datasetIndex].titlesFormatted[tooltipItem.index] !== 'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].titlesFormatted[tooltipItem.index];\n\t\t\t\t\t}\n\t\t\t\t\t// if there is no formatted title so try to format it\n\t\t\t\t\tif (\n\t\t\t\t\t\tString(data.labels[tooltipItem.index]).length > 0 &&\n\t\t\t\t\t\t!isNaN(Number(data.labels[tooltipItem.index]))\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(data.labels[tooltipItem.index], 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn App.Fields.Double.formatToDisplay(data.labels[tooltipItem.index]);\n\t\t\t\t\t}\n\t\t\t\t\t// return label at index\n\t\t\t\t\treturn data.labels[tooltipItem.index];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tlegend: {\n\t\t\t\tonClick(e, legendItem) {\n\t\t\t\t\tlet type = this.chartInstance.config.type;\n\t\t\t\t\tif (typeof Chart.defaults[type] !== 'undefined') {\n\t\t\t\t\t\treturn Chart.defaults[type].legend.onClick.apply(this.chartInstance, [e, legendItem]);\n\t\t\t\t\t}\n\t\t\t\t\treturn Chart.defaults.global.legend.onClick.apply(this.chartInstance, [e, legendItem]);\n\t\t\t\t},\n\t\t\t\tgenerateLabels(chart) {\n\t\t\t\t\tlet type = chart.config.type;\n\t\t\t\t\tlet labels;\n\t\t\t\t\tif (typeof Chart.defaults[type] !== 'undefined') {\n\t\t\t\t\t\tlabels = Chart.defaults[type].legend.labels.generateLabels(chart);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabels = Chart.defaults.global.legend.labels.generateLabels(chart);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.areColorsFromDividingField() || this.isMultiFilter()) {\n\t\t\t\t\t\tchart.config.options.legend.labels.boxWidth = 12;\n\t\t\t\t\t\tlabels.forEach((label, index) => {\n\t\t\t\t\t\t\tlabel.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\t\t\tlabel.strokeStyle = 'rgba(0,0,0,0.15)';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn labels;\n\t\t\t\t},\n\t\t\t\tdisplay() {\n\t\t\t\t\tif (this.isMultiFilter() || this.areColorsFromDividingField()) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * plugins\n\t\t\t */\n\t\t\tplugins: {\n\t\t\t\t/**\n\t\t\t\t * If datalabels doesn't fit - hide them individually\n\t\t\t\t * @param  {Chart} chart chart instance\n\t\t\t\t * @return {undefined}\n\t\t\t\t */\n\t\t\t\thideVerticalBarDatalabelsIfNeeded: function(chart) {\n\t\t\t\t\tlet getDatasetsMeta = function(chart) {\n\t\t\t\t\t\tconst datasets = [];\n\t\t\t\t\t\tconst data = chart.data;\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof data !== 'undefined' &&\n\t\t\t\t\t\t\ttypeof data.datasets !== 'undefined' &&\n\t\t\t\t\t\t\tArray.isArray(data.datasets)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tfor (let i = 0, len = data.datasets.length; i < len; i++) {\n\t\t\t\t\t\t\t\tconst meta = chart.getDatasetMeta(i);\n\t\t\t\t\t\t\t\tif (typeof meta.data !== 'undefined' && Array.isArray(meta.data)) {\n\t\t\t\t\t\t\t\t\tdatasets.push(meta);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn datasets;\n\t\t\t\t\t};\n\t\t\t\t\tlet datasetsMeta = getDatasetsMeta(chart);\n\t\t\t\t\tlet datasets = chart.data.datasets;\n\t\t\t\t\tfor (let i = 0, len = datasets.length; i < len; i++) {\n\t\t\t\t\t\tconst dataset = datasets[i];\n\t\t\t\t\t\tconst meta = datasetsMeta[i];\n\t\t\t\t\t\tif (meta.hidden) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst metaData = meta.data;\n\t\t\t\t\t\tif (typeof dataset._models === 'undefined') {\n\t\t\t\t\t\t\tdataset._models = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof dataset.datalabels === 'undefined') {\n\t\t\t\t\t\t\tdataset.datalabels = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof dataset.datalabels.display === 'undefined') {\n\t\t\t\t\t\t\tdataset.datalabels.display = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let iItem = 0, lenItem = metaData.length; iItem < lenItem; iItem++) {\n\t\t\t\t\t\t\tconst dataItem = metaData[iItem];\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\ttypeof dataItem.$datalabels !== 'undefined' &&\n\t\t\t\t\t\t\t\ttypeof dataItem.$datalabels._model !== 'undefined'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet model = dataItem.$datalabels._model;\n\t\t\t\t\t\t\t\tif (model !== null && typeof model !== 'undefined') {\n\t\t\t\t\t\t\t\t\tdataset._models[iItem] = model;\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tdataset._models[iItem] !== null &&\n\t\t\t\t\t\t\t\t\ttypeof dataset._models[iItem] !== 'undefined'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tmodel = dataset._models[iItem];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst labelWidth = model.size.width + model.padding.width + model.borderWidth * 2;\n\t\t\t\t\t\t\t\tconst labelHeight = model.size.height + model.padding.height + model.borderWidth * 2;\n\t\t\t\t\t\t\t\tconst barHeight = dataItem.height();\n\t\t\t\t\t\t\t\tlet threshold = 10;\n\t\t\t\t\t\t\t\tif (typeof chart.config.options.verticalBarLabelsThreshold !== 'undefined') {\n\t\t\t\t\t\t\t\t\tthreshold = chart.config.options.verticalBarLabelsThreshold;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tdataItem._view.width + threshold < labelWidth ||\n\t\t\t\t\t\t\t\t\tbarHeight + threshold < labelHeight\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tdataItem.$datalabels._model.positioner = () => {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdataItem.$datalabels._model = model;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * If datalabels doesn't fit - hide them individually\n\t\t\t\t * @param  {Chart} chart  Chart instance\n\t\t\t\t * @return {undefined}\n\t\t\t\t */\n\t\t\t\thideHorizontalBarDatalabelsIfNeeded: function hideHorizontalBarDatalabelsIfNeeded(chart) {\n\t\t\t\t\tlet getDatasetsMeta = function(chart) {\n\t\t\t\t\t\tconst datasets = [];\n\t\t\t\t\t\tconst data = chart.data;\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof data !== 'undefined' &&\n\t\t\t\t\t\t\ttypeof data.datasets !== 'undefined' &&\n\t\t\t\t\t\t\tArray.isArray(data.datasets)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tfor (let i = 0, len = data.datasets.length; i < len; i++) {\n\t\t\t\t\t\t\t\tconst meta = chart.getDatasetMeta(i);\n\t\t\t\t\t\t\t\tif (typeof meta.data !== 'undefined' && Array.isArray(meta.data)) {\n\t\t\t\t\t\t\t\t\tdatasets.push(meta);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn datasets;\n\t\t\t\t\t};\n\t\t\t\t\tlet datasetsMeta = getDatasetsMeta(chart);\n\t\t\t\t\tlet datasets = chart.data.datasets;\n\t\t\t\t\tfor (let i = 0, len = datasets.length; i < len; i++) {\n\t\t\t\t\t\tconst dataset = datasets[i];\n\t\t\t\t\t\tconst meta = datasetsMeta[i];\n\t\t\t\t\t\tif (meta.hidden) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst metaData = meta.data;\n\t\t\t\t\t\tif (typeof dataset._models === 'undefined') {\n\t\t\t\t\t\t\tdataset._models = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof dataset.datalabels === 'undefined') {\n\t\t\t\t\t\t\tdataset.datalabels = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof dataset.datalabels.display === 'undefined') {\n\t\t\t\t\t\t\tdataset.datalabels.display = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let iItem = 0, lenItem = metaData.length; iItem < lenItem; iItem++) {\n\t\t\t\t\t\t\tconst dataItem = metaData[iItem];\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\ttypeof dataItem.$datalabels !== 'undefined' &&\n\t\t\t\t\t\t\t\ttypeof dataItem.$datalabels._model !== 'undefined'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet model = dataItem.$datalabels._model;\n\t\t\t\t\t\t\t\tif (model !== null && typeof model !== 'undefined') {\n\t\t\t\t\t\t\t\t\tdataset._models[iItem] = model;\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tdataset._models[iItem] !== null &&\n\t\t\t\t\t\t\t\t\ttypeof dataset._models[iItem] !== 'undefined'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tmodel = dataset._models[iItem];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst labelWidth = model.size.width + model.padding.width + model.borderWidth * 2;\n\t\t\t\t\t\t\t\tconst labelHeight = model.size.height + model.padding.height + model.borderWidth * 2;\n\t\t\t\t\t\t\t\tconst barWidth = dataItem.width;\n\t\t\t\t\t\t\t\tlet threshold = 10;\n\t\t\t\t\t\t\t\tif (typeof chart.config.options.horizontalBarLabelsThreshold !== 'undefined') {\n\t\t\t\t\t\t\t\t\tthreshold = chart.config.options.horizontalBarLabelsThreshold;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tdataItem._view.height + threshold < labelHeight ||\n\t\t\t\t\t\t\t\t\tbarWidth + threshold < labelWidth\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tdataItem.$datalabels._model.positioner = () => {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdataItem.$datalabels._model = model;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * Fix to long axis labels\n\t\t\t\t * @param  {Chart}  chart    Chart instance\n\t\t\t\t * @return {Boolean}       [description]\n\t\t\t\t */\n\t\t\t\tfixXAxisLabels: function fixXAxisLabels(chart) {\n\t\t\t\t\tlet shortenXTicks = function shortenXTicks(data, options) {\n\t\t\t\t\t\tif (typeof options.scales === 'undefined') {\n\t\t\t\t\t\t\toptions.scales = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof options.scales.xAxes === 'undefined') {\n\t\t\t\t\t\t\toptions.scales.xAxes = [{}];\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions.scales.xAxes.forEach(axis => {\n\t\t\t\t\t\t\tif (typeof axis.ticks === 'undefined') {\n\t\t\t\t\t\t\t\taxis.ticks = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taxis.ticks.callback = function xAxisTickCallback(value, index, values) {\n\t\t\t\t\t\t\t\tif (value.length > 13) {\n\t\t\t\t\t\t\t\t\treturn value.substr(0, 10) + '...';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn options;\n\t\t\t\t\t};\n\t\t\t\t\tlet rotateXLabels90 = function rotateXLabels90(data, options) {\n\t\t\t\t\t\tif (typeof options.scales === 'undefined') {\n\t\t\t\t\t\t\toptions.scales = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof options.scales.xAxes === 'undefined') {\n\t\t\t\t\t\t\toptions.scales.xAxes = [{}];\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions.scales.xAxes.forEach(axis => {\n\t\t\t\t\t\t\tif (typeof axis.ticks === 'undefined') {\n\t\t\t\t\t\t\t\taxis.ticks = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taxis.ticks.minRotation = 90;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn options;\n\t\t\t\t\t};\n\n\t\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\t\tif (dataset._updated) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let prop in dataset._meta) {\n\t\t\t\t\t\t\tif (dataset._meta.hasOwnProperty(prop)) {\n\t\t\t\t\t\t\t\tfor (let i = 0, len = dataset._meta[prop].data.length; i < len; i++) {\n\t\t\t\t\t\t\t\t\tconst metaDataItem = dataset._meta[prop].data[i];\n\t\t\t\t\t\t\t\t\tconst label = metaDataItem._xScale.ticks[i];\n\t\t\t\t\t\t\t\t\tconst ctx = metaDataItem._xScale.ctx;\n\t\t\t\t\t\t\t\t\tlet categoryWidth = metaDataItem._xScale.width / dataset._meta[prop].data.length;\n\t\t\t\t\t\t\t\t\tif (typeof metaDataItem._xScale.options.categoryPercentage !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\t// if it is bar chart there is category percentage option that we should use\n\t\t\t\t\t\t\t\t\t\tcategoryWidth *= metaDataItem._xScale.options.categoryPercentage;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst fullWidth = ctx.measureText(label).width;\n\t\t\t\t\t\t\t\t\tif (categoryWidth < fullWidth) {\n\t\t\t\t\t\t\t\t\t\tconst shortened = label.substr(0, 10) + '...';\n\t\t\t\t\t\t\t\t\t\tconst shortenedWidth = ctx.measureText(shortened).width;\n\t\t\t\t\t\t\t\t\t\tif (categoryWidth < shortenedWidth) {\n\t\t\t\t\t\t\t\t\t\t\tchart.options = rotateXLabels90(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t\t\tchart.options = shortenXTicks(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tchart.options = shortenXTicks(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (!dataset._updated) {\n\t\t\t\t\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t\t\t\t\t\tchart.update();\n\t\t\t\t\t\t\t\t\t\t\t// recalculate positions for smooth animation (for all datasets)\n\t\t\t\t\t\t\t\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\tdataset._meta[prop].data.forEach((metaDataItem, dataIndex) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.x = metaDataItem._xScale.getPixelForValue(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.base = metaDataItem._xScale.getBasePixel();\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.width =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(metaDataItem._xScale.width / dataset._meta[prop].data.length) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._xScale.options.categoryPercentage *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._xScale.options.barPercentage;\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * Fix too long axis labels  - try to shorten and rotate\n\t\t\t\t * @param  {Chart}  chart    Chart instance\n\t\t\t\t * @return {Boolean}\n\t\t\t\t */\n\t\t\t\tfixYAxisLabels: function fixYAxisLabels(chart) {\n\t\t\t\t\tlet shortenYTicks = function shortenYTicks(data, options) {\n\t\t\t\t\t\tif (typeof options.scales === 'undefined') {\n\t\t\t\t\t\t\toptions.scales = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof options.scales.yAxes === 'undefined') {\n\t\t\t\t\t\t\toptions.scales.yAxes = [{}];\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions.scales.yAxes.forEach(axis => {\n\t\t\t\t\t\t\tif (typeof axis.ticks === 'undefined') {\n\t\t\t\t\t\t\t\taxis.ticks = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taxis.ticks.callback = function yAxisTickCallback(value, index, values) {\n\t\t\t\t\t\t\t\tif (value.length > 13) {\n\t\t\t\t\t\t\t\t\treturn value.substr(0, 10) + '...';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn options;\n\t\t\t\t\t};\n\t\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\t\tif (dataset._updated) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let prop in dataset._meta) {\n\t\t\t\t\t\t\tif (dataset._meta.hasOwnProperty(prop)) {\n\t\t\t\t\t\t\t\t// we have meta\n\t\t\t\t\t\t\t\tfor (let i = 0, len = dataset._meta[prop].data.length; i < len; i++) {\n\t\t\t\t\t\t\t\t\tconst metaDataItem = dataset._meta[prop].data[i];\n\t\t\t\t\t\t\t\t\tconst label = metaDataItem._view.label;\n\t\t\t\t\t\t\t\t\tif (label.length > 13) {\n\t\t\t\t\t\t\t\t\t\tchart.options = shortenYTicks(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t\tif (!dataset._updated) {\n\t\t\t\t\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t\t\t\t\t\tchart.update();\n\t\t\t\t\t\t\t\t\t\t\t// recalculate positions for smooth animation (for all datasets)\n\t\t\t\t\t\t\t\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\tdataset._meta[prop].data.forEach((metaDataItem, dataIndex) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (typeof metaDataItem._xScale !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.x = metaDataItem._xScale.getPixelForValue(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.base = metaDataItem._xScale.getBasePixel();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.width =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(metaDataItem._xScale.width /\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataset._meta[prop].data.length) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._xScale.options.categoryPercentage *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._xScale.options.barPercentage;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Get function from global functions from replacement string\n\t\t * @param  {String} replacementStr replacement string from getFunctionReplacementString method\n\t\t * @return {Function}\n\t\t */\n\t\tgetFunctionFromReplacementString: function getFunctionFromReplacementString(replacementStr) {\n\t\t\tlet assignResult = false;\n\t\t\tif (replacementStr.substr(replacementStr.length - 2) === '()') {\n\t\t\t\treplacementStr = replacementStr.substr(0, replacementStr.length - 2);\n\t\t\t\tassignResult = true;\n\t\t\t}\n\t\t\tconst splitted = replacementStr.split(':');\n\t\t\tif (splitted.length !== 2) {\n\t\t\t\tapp.errorLog(\n\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\"Function replacement string should look like 'function:path.to.fn' not like '\" +\n\t\t\t\t\t\t\treplacementStr +\n\t\t\t\t\t\t\t\"'\"\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tlet finalFunction = splitted[1].split('.').reduce((previous, current) => {\n\t\t\t\treturn previous[current];\n\t\t\t}, this.globalChartFunctions);\n\t\t\tif (typeof finalFunction !== 'function') {\n\t\t\t\tapp.errorLog(new Error('Global function does not exists: ' + splitted[1]));\n\t\t\t}\n\t\t\tif (!assignResult) {\n\t\t\t\treturn finalFunction.bind(this);\n\t\t\t}\n\t\t\treturn finalFunction.call(this);\n\t\t},\n\t\t/**\n\t\t * Should options property be replaced by function?\n\t\t * @param  {String}  str\n\t\t * @return {Boolean}\n\t\t */\n\t\tisReplacementString: function isReplacementString(str) {\n\t\t\tif (typeof str !== 'string') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn str.substr(0, 9) === 'function:';\n\t\t},\n\t\t/**\n\t\t * Recursively parse options and replace function replacement strings to functions\n\t\t * @param  {Object} options\n\t\t * @param  {bool} afterInit are we parsing chart after it was mounted ?\n\t\t * @return {Object} options with replaced string functions\n\t\t */\n\t\tparseOptionsObject: function parseOptionsObject(options, original, afterInit = false) {\n\t\t\tlet result = {};\n\t\t\tfor (let propertyName in options) {\n\t\t\t\tlet value = options[propertyName];\n\t\t\t\tif (afterInit) {\n\t\t\t\t\tif (propertyName.substr(0, 1) === '_') {\n\t\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\t\t\tresult[propertyName] = this.parseOptionsArray(value, original, afterInit);\n\t\t\t\t\t} else if (typeof value === 'object' && value !== null) {\n\t\t\t\t\t\tresult[propertyName] = this.parseOptionsObject(value, original, afterInit);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (propertyName.substr(0, 1) === '_') {\n\t\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t\t} else if (this.isReplacementString(value)) {\n\t\t\t\t\t\tresult[propertyName] = this.getFunctionFromReplacementString(value, afterInit, original);\n\t\t\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\t\t\tresult[propertyName] = this.parseOptionsArray(value, original, afterInit);\n\t\t\t\t\t} else if (typeof value === 'object' && value !== null) {\n\t\t\t\t\t\tresult[propertyName] = this.parseOptionsObject(value, original, afterInit);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t/**\n\t\t * Recursively parse options in array form and replace function replacement string with functions\n\t\t * @param  {Array} arr\n\t\t * @param  {bool} afterInit are we after chart js was mounted?\n\t\t * @return {Array}\n\t\t */\n\t\tparseOptionsArray: function parseOptionsArray(arr, original, afterInit = false) {\n\t\t\treturn arr.map((item, index) => {\n\t\t\t\tif (this.isReplacementString(item)) {\n\t\t\t\t\treturn this.getFunctionFromReplacementString(value);\n\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\treturn this.parseOptionsArray(item, original, afterInit);\n\t\t\t\t} else if (typeof item === 'object' && item !== null) {\n\t\t\t\t\treturn this.parseOptionsObject(item, original, afterInit);\n\t\t\t\t}\n\t\t\t\treturn item;\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Recursively parse options object and replace function replacement strings with global functions\n\t\t * @param  {Object} options\n\t\t * @param  {bool} afterInit - is chartjs loaded ?\n\t\t * @return {Object}\n\t\t */\n\t\tparseOptions: function parseOptions(options, original, afterInit = false) {\n\t\t\tif (Array.isArray(options)) {\n\t\t\t\treturn this.parseOptionsArray(options, original, afterInit);\n\t\t\t} else if (typeof options === 'object' && options !== null) {\n\t\t\t\treturn this.parseOptionsObject(options, original, afterInit);\n\t\t\t}\n\t\t\tapp.errorLog(new Error('Unknown options format [' + typeof options + '] - should be object.'));\n\t\t},\n\t\t/**\n\t\t * Remove 'Divided' from chart sub type\n\t\t * for example 'barDivided' => 'bar'\n\t\t *\n\t\t * @param {String} chartSubType\n\t\t * @return {String}\n\t\t */\n\t\tremoveStackedFromName(chartSubType) {\n\t\t\tconst dividedPos = chartSubType.indexOf('Stacked');\n\t\t\tif (dividedPos > 0) {\n\t\t\t\treturn chartSubType.substr(0, dividedPos);\n\t\t\t}\n\t\t\treturn chartSubType;\n\t\t},\n\t\t/**\n\t\t * Get global charts default configuration - may be loaded from database in the future\n\t\t * We can modify something basing on chartData received from server (some custom options etc.)\n\t\t *\n\t\t * @param  {Object} chartData received from request ['labels':[],'datasets':['data':[]]] etc\n\t\t * @param  {String} chartSubType 'bar','pie' etc..\n\t\t * @return {Object}\n\t\t */\n\t\tgetGlobalDefaultChartsOptions: function getGlobalDefaultChartsOptions(chartSubType, chartData) {\n\t\t\tconst options = {\n\t\t\t\tbar: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.hideVerticalBarDatalabelsIfNeeded'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tbarStacked: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.hideVerticalBarDatalabelsIfNeeded'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\thorizontalBar: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixYAxisLabels'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.hideHorizontalBarDatalabelsIfNeeded'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\thorizontalBarStacked: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixYAxisLabels'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.hideHorizontalBarDatalabelsIfNeeded'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tline: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\t\t\tlabelOffset: 0\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tlineStacked: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\t\t\tlabelOffset: 0\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tlinePlain: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\t\t\tlabelOffset: 0\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tlineTension: 0,\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tlinePlainStacked: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\txAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\t\t\tlabelOffset: 0\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\tlineTension: 0,\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tpie: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\t\tgenerateLabels: 'function:legend.generateLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcutoutPercentage: 0,\n\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\t\tbottom: 12\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\tanchor: 'end',\n\t\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: []\n\t\t\t\t},\n\t\t\t\tdoughnut: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\tonClick: 'function:legend.onClick',\n\t\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\t\tgenerateLabels: 'function:legend.generateLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcutoutPercentage: 50,\n\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\t\tbottom: 12\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\tanchor: 'end',\n\t\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\t\tdisplay: 'function:datalabels.display'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: []\n\t\t\t\t},\n\t\t\t\tfunnel: {\n\t\t\t\t\tbasic: {\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsort: 'desc',\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdataset: {\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbeforeDraw: 'function:plugins.fixYAxisLabels'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (typeof options[chartSubType] !== 'undefined') {\n\t\t\t\treturn options[chartSubType];\n\t\t\t}\n\t\t\t// if divided and standard chart types are equal\n\t\t\tconst notStackedChartSubType = this.removeStackedFromName(chartSubType);\n\t\t\tif (typeof options[notStackedChartSubType] !== 'undefined') {\n\t\t\t\treturn options[notStackedChartSubType];\n\t\t\t}\n\t\t\tapp.errorLog(new Error(chartSubType + ' chart does not exists!'));\n\t\t},\n\t\t/**\n\t\t * Get default chart basic options for specified chart subtype\n\t\t *\n\t\t * @param  {String} chartSubType 'bar','pie'...\n\t\t * @param  {Object} chartData received from request ['labels':[],'datasets':['data':[]]] etc\n\t\t * @return {Object}\n\t\t */\n\t\tgetDefaultBasicOptions: function getDefaultBasicOptions(chartSubType, chartData) {\n\t\t\treturn this.getGlobalDefaultChartsOptions(chartSubType, chartData).basic;\n\t\t},\n\t\t/**\n\t\t * Get default dataset options for specified chart subtype\n\t\t *\n\t\t * @param  {String} chartSubType 'bar','pie'...\n\t\t * @param  {Object} chartData received from request ['labels':[],'datasets':['data':[]]] etc\n\t\t * @return {Object}\n\t\t */\n\t\tgetDefaultDatasetOptions: function getDefaultDatasetOptions(chartSubType, chartData) {\n\t\t\treturn this.getGlobalDefaultChartsOptions(chartSubType, chartData).dataset;\n\t\t},\n\t\t/**\n\t\t * Get default plugins for specified chart subtype\n\t\t *\n\t\t * @param  {String} chartSubType 'bar','pie'...\n\t\t * @param  {Object} chartData received from request ['labels':[],'datasets':['data':[]]] etc\n\t\t * @return {Object}\n\t\t */\n\t\tgetDefaultPlugins: function getDefaultPlugins(chartSubType, chartData) {\n\t\t\treturn this.getGlobalDefaultChartsOptions(chartSubType, chartData).plugins;\n\t\t},\n\t\tgetContainer: function getContainer() {\n\t\t\treturn this.container;\n\t\t},\n\t\tsetContainer: function setContainer(element) {\n\t\t\tthis.container = element;\n\t\t\treturn this;\n\t\t},\n\t\tisEmptyData: function isEmptyData() {\n\t\t\treturn (\n\t\t\t\tthis.getContainer().find('.widgetData').length === 0 ||\n\t\t\t\tthis.getContainer().find('.noDataMsg').length > 0\n\t\t\t);\n\t\t},\n\t\tgetUserDateFormat: function getUserDateFormat() {\n\t\t\treturn CONFIG.dateFormat;\n\t\t},\n\t\tgetChartContainer: function getChartContainer(useCache) {\n\t\t\tif (typeof useCache === 'undefined') {\n\t\t\t\tuseCache = false;\n\t\t\t}\n\t\t\tif (this.plotContainer === false || !useCache) {\n\t\t\t\tthis.plotContainer = this.getContainer()\n\t\t\t\t\t.find('.widgetChartContainer')\n\t\t\t\t\t.find('canvas')\n\t\t\t\t\t.get(0);\n\t\t\t}\n\t\t\treturn this.plotContainer;\n\t\t},\n\t\tregisterRecordsCount: function registerRecordsCount() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar recordsCountBtn = thisInstance.getContainer().find('.recordCount');\n\t\t\trecordsCountBtn.on('click', function() {\n\t\t\t\tvar url = recordsCountBtn.data('url');\n\t\t\t\tAppConnector.request(url).done(function(response) {\n\t\t\t\t\trecordsCountBtn.find('.count').html(response.result.totalCount);\n\t\t\t\t\trecordsCountBtn\n\t\t\t\t\t\t.find('.fas')\n\t\t\t\t\t\t.addClass('d-none')\n\t\t\t\t\t\t.attr('aria-hidden', true);\n\t\t\t\t\trecordsCountBtn\n\t\t\t\t\t\t.find('a')\n\t\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t\t.attr('aria-hidden', false);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tloadScrollbar: function loadScrollbar() {\n\t\t\tconst container = $(this.getChartContainer(false));\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\t// if there is no data\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst widget = container.closest('.dashboardWidget');\n\t\t\tconst content = widget.find('.dashboardWidgetContent');\n\t\t\tconst footer = widget.find('.dashboardWidgetFooter');\n\t\t\tlet adjustedHeight = widget.innerHeight() - widget.find('.dashboardWidgetHeader').outerHeight();\n\t\t\tif (footer.length) {\n\t\t\t\tadjustedHeight -= footer.outerHeight();\n\t\t\t}\n\t\t\tif (!content.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontent.css('height', adjustedHeight + 'px');\n\t\t\tcontent.css('max-height', adjustedHeight + 'px');\n\t\t\tif (typeof this.scrollbar !== 'undefined') {\n\t\t\t\tthis.scrollbar.update();\n\t\t\t} else {\n\t\t\t\tthis.scrollbar = app.showNewScrollbar(content, {\n\t\t\t\t\twheelPropagation: true\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\trestrictContentDrag: function restrictContentDrag() {\n\t\t\tthis.getContainer().on('mousedown.draggable', function(e) {\n\t\t\t\tvar element = jQuery(e.target);\n\t\t\t\tvar isHeaderElement = element.closest('.dashboardWidgetHeader').length > 0 ? true : false;\n\t\t\t\tif (isHeaderElement) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//Stop the event propagation so that drag will not start for contents\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Get data from JSON encoded input value\n\t\t *\n\t\t * @return {object} data from request\n\t\t */\n\t\tgenerateData: function generateData() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar jData = thisInstance\n\t\t\t\t.getContainer()\n\t\t\t\t.find('.widgetData')\n\t\t\t\t.val();\n\t\t\tif (typeof jData === 'undefined') {\n\t\t\t\treturn (thisInstance.chartData = jData);\n\t\t\t}\n\t\t\tthisInstance.chartData = JSON.parse(jData);\n\t\t\treturn thisInstance.chartData;\n\t\t},\n\t\tpositionNoDataMsg: function positionNoDataMsg() {\n\t\t\tvar container = this.getContainer();\n\t\t\tvar widgetContentsContainer = container.find('.dashboardWidgetContent');\n\t\t\tvar noDataMsgHolder = widgetContentsContainer.find('.noDataMsg');\n\t\t\tnoDataMsgHolder.position({\n\t\t\t\tmy: 'center center',\n\t\t\t\tat: 'center center',\n\t\t\t\tof: widgetContentsContainer\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Print html content as image\n\t\t * @param {jQuery} element\n\t\t */\n\t\tprintHtml(element) {\n\t\t\tlet widget = element.closest('.dashboardWidget'),\n\t\t\t\ttitle = widget.find('.dashboardTitle').prop('title'),\n\t\t\t\tprintContainer = widget.find('.js-print__container').get(0),\n\t\t\t\timgEl = $('<img style=\"width:100%\">');\n\t\t\timgEl.get(0).onload = () => {\n\t\t\t\tlet width = $(printContainer).outerWidth();\n\t\t\t\tlet height = $(printContainer).outerHeight();\n\t\t\t\tif (width < 600) {\n\t\t\t\t\twidth = 600;\n\t\t\t\t}\n\t\t\t\tif (height < 400) {\n\t\t\t\t\theight = 400;\n\t\t\t\t}\n\t\t\t\tthis.printImage(imgEl.get(0), title, width, height);\n\t\t\t};\n\t\t\tapp.htmlToImage(printContainer, imageBase64 => {\n\t\t\t\timgEl.get(0).src = imageBase64;\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Download html content as image\n\t\t * @param {jQuery} element\n\t\t */\n\t\tdownloadHtmlAsImage(element) {\n\t\t\tlet widget = element.closest('.dashboardWidget'),\n\t\t\t\ttitle = widget.find('.dashboardTitle').prop('title');\n\t\t\tapp.htmlToImage(widget.find('.js-print__container').get(0), imageBase64 => {\n\t\t\t\tlet anchor = document.createElement('a');\n\t\t\t\tanchor.setAttribute('href', imageBase64);\n\t\t\t\tanchor.setAttribute('download', title + '.png');\n\t\t\t\tanchor.click();\n\t\t\t});\n\t\t},\n\t\t//Place holdet can be extended by child classes and can use this to handle the post load\n\t\tpostLoadWidget: function postLoadWidget() {\n\t\t\tif (!this.isEmptyData()) {\n\t\t\t\tthis.loadChart(this.options);\n\t\t\t} else {\n\t\t\t\tthis.positionNoDataMsg();\n\t\t\t}\n\t\t\tthis.registerSectionClick();\n\t\t\tthis.registerFilter();\n\t\t\tthis.registerFilterChangeEvent();\n\t\t\tthis.restrictContentDrag();\n\t\t\tthis.registerContentAutoResize();\n\t\t\tthis.registerWidgetSwitch();\n\t\t\tthis.registerChangeSorting();\n\t\t\tthis.registerLoadMore();\n\t\t\tthis.registerHeaderButtons();\n\t\t\tthis.loadScrollbar();\n\t\t},\n\t\tpostRefreshWidget: function postRefreshWidget() {\n\t\t\tthis.loadScrollbar();\n\t\t\tif (!this.isEmptyData()) {\n\t\t\t\tthis.loadChart(this.options);\n\t\t\t} else {\n\t\t\t\tthis.positionNoDataMsg();\n\t\t\t}\n\t\t\tthis.registerSectionClick();\n\t\t\tthis.registerLoadMore();\n\t\t},\n\t\tsetSortingButton: function setSortingButton(currentElement) {\n\t\t\tif (currentElement.length) {\n\t\t\t\tlet container = this.getContainer(),\n\t\t\t\t\tdrefresh = container.find('a[name=\"drefresh\"]'),\n\t\t\t\t\turl = drefresh.data('url');\n\t\t\t\turl = url.replace('&sortorder=desc', '');\n\t\t\t\turl = url.replace('&sortorder=asc', '');\n\t\t\t\turl += '&sortorder=';\n\t\t\t\tlet sort = currentElement.data('sort'),\n\t\t\t\t\tsortorder = 'desc',\n\t\t\t\t\ticon = 'fa-sort-amount-down',\n\t\t\t\t\ticonBase = 'fa-sort-amount-up';\n\t\t\t\tif (sort == 'desc') {\n\t\t\t\t\tsortorder = 'asc';\n\t\t\t\t\ticon = 'fa-sort-amount-up';\n\t\t\t\t\ticonBase = 'fa-sort-amount-down';\n\t\t\t\t}\n\t\t\t\tcurrentElement.data('sort', sortorder);\n\t\t\t\tcurrentElement.attr('title', currentElement.data(sortorder));\n\t\t\t\tcurrentElement.attr('alt', currentElement.data(sortorder));\n\t\t\t\turl += sortorder;\n\t\t\t\tcurrentElement\n\t\t\t\t\t.find('.fas')\n\t\t\t\t\t.removeClass(iconBase)\n\t\t\t\t\t.addClass(icon);\n\t\t\t\tdrefresh.data('url', url);\n\t\t\t}\n\t\t},\n\t\tgetChartImage() {\n\t\t\tconst base64Image = this.chartInstance.toBase64Image();\n\t\t\tconst image = new Image();\n\t\t\timage.src = base64Image;\n\t\t\treturn image;\n\t\t},\n\t\tprintImage(imgEl, title, width, height) {\n\t\t\tconst print = window.open('', 'PRINT', 'height=' + height + ',width=' + width);\n\t\t\tprint.document.write('<html><head><title>' + title + '</title>');\n\t\t\tprint.document.write('</head><body >');\n\t\t\tprint.document.write(\n\t\t\t\t$('<div>')\n\t\t\t\t\t.append(imgEl)\n\t\t\t\t\t.html()\n\t\t\t);\n\t\t\tprint.document.write('</body></html>');\n\t\t\tprint.document.close(); // necessary for IE >= 10\n\t\t\tprint.focus(); // necessary for IE >= 10\n\t\t\tsetTimeout(function() {\n\t\t\t\tprint.print();\n\t\t\t\tprint.close();\n\t\t\t}, 1000);\n\t\t},\n\t\tregisterHeaderButtons: function registerHeaderButtons() {\n\t\t\tconst container = this.getContainer();\n\t\t\tconst header = container.find('.dashboardWidgetHeader');\n\t\t\tconst downloadWidget = header.find('.downloadWidget');\n\t\t\tconst printWidget = header.find('.printWidget');\n\t\t\tprintWidget.on('click', e => {\n\t\t\t\tconst imgEl = this.getChartImage();\n\t\t\t\tthis.printImage(imgEl, header.find('.dashboardTitle').text(), 600, 400);\n\t\t\t});\n\t\t\tdownloadWidget.on('click', e => {\n\t\t\t\tconst imgEl = $(this.getChartImage());\n\t\t\t\tconst a = $('<a>')\n\t\t\t\t\t.attr('href', imgEl.attr('src'))\n\t\t\t\t\t.attr('download', header.find('.js-widget__header__title').text() + '.png')\n\t\t\t\t\t.appendTo(container);\n\t\t\t\ta[0].click();\n\t\t\t\ta.remove();\n\t\t\t});\n\t\t\tcontainer.find('.js-widget-quick-create').on('click', function(e) {\n\t\t\t\tVtiger_Header_Js.getInstance().quickCreateModule($(this).data('module-name'));\n\t\t\t});\n\t\t},\n\t\tregisterChangeSorting: function registerChangeSorting() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.getContainer();\n\t\t\tthisInstance.setSortingButton(container.find('.changeRecordSort'));\n\t\t\tcontainer.find('.changeRecordSort').on('click', function(e) {\n\t\t\t\tvar drefresh = container.find('a[name=\"drefresh\"]');\n\t\t\t\tthisInstance.setSortingButton(jQuery(e.currentTarget));\n\t\t\t\tdrefresh.click();\n\t\t\t});\n\t\t},\n\t\tregisterWidgetSwitch: function registerWidgetSwitch() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar switchButtons = this.getContainer().find('.dashboardWidgetHeader .js-switch--calculations');\n\t\t\tthisInstance.setUrlSwitch(switchButtons);\n\t\t\tswitchButtons.on('change', e => {\n\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\tvar dashboardWidgetHeader = currentElement.closest('.dashboardWidgetHeader');\n\t\t\t\tvar drefresh = dashboardWidgetHeader.find('a[name=\"drefresh\"]');\n\t\t\t\tthisInstance.setUrlSwitch(currentElement).done(function(data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tdrefresh.click();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetUrlSwitch: function setUrlSwitch(switchButtons) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tswitchButtons.each(function(index, e) {\n\t\t\t\tvar currentElement = jQuery(e);\n\t\t\t\tvar dashboardWidgetHeader = currentElement.closest('.dashboardWidgetHeader');\n\t\t\t\tvar drefresh = dashboardWidgetHeader.find('a[name=\"drefresh\"]');\n\t\t\t\tvar url = drefresh.data('url');\n\t\t\t\tvar urlparams = currentElement.data('urlparams');\n\t\t\t\tif (urlparams !== '') {\n\t\t\t\t\tvar switchUrl = currentElement.data('url-value');\n\t\t\t\t\turl = url.replace('&' + urlparams + '=' + switchUrl, '');\n\t\t\t\t\turl += '&' + urlparams + '=' + switchUrl;\n\t\t\t\t\tdrefresh.data('url', url);\n\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetFilterData: function getFilterData() {\n\t\t\treturn {};\n\t\t},\n\t\t/**\n\t\t * Refresh widget\n\t\t * @returns {undefined}\n\t\t */\n\t\trefreshWidget: function refreshWidget() {\n\t\t\tlet thisInstance = this;\n\t\t\tlet parent = this.getContainer();\n\t\t\tlet element = parent.find('a[name=\"drefresh\"]');\n\t\t\tlet url = element.data('url');\n\t\t\tlet contentContainer = parent.find('.dashboardWidgetContent');\n\t\t\tlet params = url;\n\t\t\tlet widgetFilters = parent.find('.widgetFilter');\n\t\t\tif (widgetFilters.length > 0) {\n\t\t\t\tparams = {};\n\t\t\t\tparams.url = url;\n\t\t\t\tparams.data = {};\n\t\t\t\twidgetFilters.each((index, domElement) => {\n\t\t\t\t\tlet widgetFilter = $(domElement);\n\t\t\t\t\tlet filterName = widgetFilter.attr('name');\n\t\t\t\t\tif ('checkbox' === widgetFilter.attr('type')) {\n\t\t\t\t\t\tparams.data[filterName] = widgetFilter.is(':checked');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.data[filterName] = widgetFilter.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet additionalWidgetFilters = parent.find('.js-chartFilter__additional-filter-field');\n\t\t\tif (additionalWidgetFilters.length > 0) {\n\t\t\t\tparams = {};\n\t\t\t\tparams.url = url;\n\t\t\t\tparams.data = {};\n\t\t\t\tadditionalWidgetFilters.each((index, domElement) => {\n\t\t\t\t\tlet widgetFilter = jQuery(domElement);\n\t\t\t\t\tlet filterName = widgetFilter.attr('name');\n\t\t\t\t\tlet arr = false;\n\t\t\t\t\tif (filterName.substr(-2) === '[]') {\n\t\t\t\t\t\tarr = true;\n\t\t\t\t\t\tfilterName = filterName.substr(0, filterName.length - 2);\n\t\t\t\t\t\tif (!Array.isArray(params.data[filterName])) {\n\t\t\t\t\t\t\tparams.data[filterName] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ('checkbox' === widgetFilter.attr('type')) {\n\t\t\t\t\t\tif (arr) {\n\t\t\t\t\t\t\tparams.data[filterName].push(widgetFilter.is(':checked'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams.data[filterName] = widgetFilter.is(':checked');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (arr) {\n\t\t\t\t\t\t\tparams.data[filterName].push(widgetFilter.val());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams.data[filterName] = widgetFilter.val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet refreshContainer = parent.find('.dashboardWidgetContent');\n\t\t\tlet refreshContainerFooter = parent.find('.dashboardWidgetFooter');\n\t\t\trefreshContainer.html('');\n\t\t\trefreshContainerFooter.html('');\n\t\t\trefreshContainer.progressIndicator();\n\t\t\tif (\n\t\t\t\tthis.paramCache &&\n\t\t\t\t(additionalWidgetFilters.length || widgetFilters.length || parent.find('.listSearchContributor'))\n\t\t\t) {\n\t\t\t\tthisInstance.setFilterToCache(params.url ? params.url : params, params.data ? params.data : {});\n\t\t\t}\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(data => {\n\t\t\t\t\tdata = $(data);\n\t\t\t\t\tlet footer = data.filter('.widgetFooterContent');\n\t\t\t\t\trefreshContainer.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tif (footer.length) {\n\t\t\t\t\t\tfooter = footer.clone(true, true);\n\t\t\t\t\t\trefreshContainerFooter.html(footer);\n\t\t\t\t\t\tdata.each(function(n, e) {\n\t\t\t\t\t\t\tif (jQuery(this).hasClass('widgetFooterContent')) {\n\t\t\t\t\t\t\t\tdata.splice(n, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tcontentContainer.html(data).trigger(YetiForce_Widget_Js.widgetPostRefereshEvent);\n\t\t\t\t})\n\t\t\t\t.fail(() => {\n\t\t\t\t\trefreshContainer.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tregisterFilter: function registerFilter() {\n\t\t\tconst container = this.getContainer();\n\t\t\tconst search = container.find('.listSearchContributor');\n\t\t\tconst refreshBtn = container.find('a[name=\"drefresh\"]');\n\t\t\tconst originalUrl = refreshBtn.data('url');\n\t\t\tconst selects = container.find('.select2noactive');\n\t\t\tsearch.css('width', '100%');\n\t\t\tsearch.parent().addClass('w-100');\n\t\t\tsearch.each((index, element) => {\n\t\t\t\tconst fieldInfo = $(element).data('fieldinfo');\n\t\t\t\t$(element)\n\t\t\t\t\t.attr('placeholder', fieldInfo.label)\n\t\t\t\t\t.data('placeholder', fieldInfo.label);\n\t\t\t});\n\t\t\tApp.Fields.Picklist.changeSelectElementView(selects, 'select2', { containerCssClass: 'form-control' });\n\t\t\tApp.Fields.Date.register(container);\n\t\t\tApp.Fields.Date.registerRange(container);\n\t\t\tsearch.on('change apply.daterangepicker', e => {\n\t\t\t\tlet searchParams = [];\n\t\t\t\tcontainer.find('.listSearchContributor').each((index, domElement) => {\n\t\t\t\t\tlet searchInfo = [];\n\t\t\t\t\tconst searchContributorElement = $(domElement);\n\t\t\t\t\tconst fieldInfo = searchContributorElement.data('fieldinfo');\n\t\t\t\t\tconst fieldName = searchContributorElement.attr('name');\n\t\t\t\t\tlet searchValue = searchContributorElement.val();\n\t\t\t\t\tif (typeof searchValue === 'object') {\n\t\t\t\t\t\tif (searchValue == null) {\n\t\t\t\t\t\t\tsearchValue = '';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsearchValue = searchValue.join('##');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsearchValue = searchValue.trim();\n\t\t\t\t\tif (searchValue.length <= 0) {\n\t\t\t\t\t\t//continue\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tlet searchOperator = 'a';\n\t\t\t\t\tif (fieldInfo.hasOwnProperty('searchOperator')) {\n\t\t\t\t\t\tsearchOperator = fieldInfo.searchOperator;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tjQuery.inArray(fieldInfo.type, [\n\t\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t\t'time',\n\t\t\t\t\t\t\t'userCreator',\n\t\t\t\t\t\t\t'owner',\n\t\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t\t'tree',\n\t\t\t\t\t\t\t'boolean',\n\t\t\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t\t\t'userRole',\n\t\t\t\t\t\t\t'companySelect',\n\t\t\t\t\t\t\t'multiReferenceValue'\n\t\t\t\t\t\t]) >= 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tsearchOperator = 'e';\n\t\t\t\t\t} else if (fieldInfo.type === 'date' || fieldInfo.type === 'datetime') {\n\t\t\t\t\t\tsearchOperator = 'bw';\n\t\t\t\t\t} else if (fieldInfo.type === 'multipicklist' || fieldInfo.type === 'categoryMultipicklist') {\n\t\t\t\t\t\tsearchOperator = 'c';\n\t\t\t\t\t}\n\t\t\t\t\tsearchInfo.push(fieldName);\n\t\t\t\t\tsearchInfo.push(searchOperator);\n\t\t\t\t\tsearchInfo.push(searchValue);\n\t\t\t\t\tif (fieldInfo.type === 'tree' || fieldInfo.type === 'categoryMultipicklist') {\n\t\t\t\t\t\tsearchInfo.push(\n\t\t\t\t\t\t\t$('.listViewHeaders .searchInSubcategories[data-columnname=\"' + fieldName + '\"]').prop(\n\t\t\t\t\t\t\t\t'checked'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tsearchParams.push(searchInfo);\n\t\t\t\t});\n\t\t\t\tlet url = originalUrl + '&search_params=' + JSON.stringify([searchParams]);\n\t\t\t\trefreshBtn.data('url', url);\n\t\t\t\trefreshBtn.trigger('click');\n\t\t\t});\n\t\t},\n\t\tregisterFilterChangeEvent: function registerFilterChangeEvent() {\n\t\t\tlet container = this.getContainer();\n\t\t\tcontainer.on('change', '.widgetFilter', e => {\n\t\t\t\tcontainer.find('a[name=\"drefresh\"]').trigger('click');\n\t\t\t});\n\t\t\tif (container.find('.widgetFilterByField').length) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.select2noactive'));\n\t\t\t\tthis.getContainer().on('change', '.widgetFilterByField .form-control', e => {\n\t\t\t\t\tcontainer.find('a[name=\"drefresh\"]').trigger('click');\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterWidgetPostLoadEvent: function registerWidgetPostLoadEvent(container) {\n\t\t\tvar thisInstance = this;\n\t\t\tcontainer.on(YetiForce_Widget_Js.widgetPostLoadEvent, function(e) {\n\t\t\t\tthisInstance.postLoadWidget();\n\t\t\t});\n\t\t},\n\t\tregisterWidgetPostRefreshEvent: function registerWidgetPostRefreshEvent(container) {\n\t\t\tvar thisInstance = this;\n\t\t\tcontainer.off(YetiForce_Widget_Js.widgetPostRefereshEvent);\n\t\t\tcontainer.on(YetiForce_Widget_Js.widgetPostRefereshEvent, function(e) {\n\t\t\t\tthisInstance.postRefreshWidget();\n\t\t\t});\n\t\t},\n\t\tregisterSectionClick: function registerSectionClick() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet pointer = false;\n\t\t\t$(thisInstance.chartInstance.canvas)\n\t\t\t\t.on('click', function(e) {\n\t\t\t\t\tif (typeof thisInstance.getDataFromEvent(e, ['links']).links !== 'undefined') {\n\t\t\t\t\t\twindow.location.href = thisInstance.getDataFromEvent(e, ['links']).links;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('mousemove', function(e) {\n\t\t\t\t\tif (typeof thisInstance.getDataFromEvent(e, ['links']).links !== 'undefined') {\n\t\t\t\t\t\tif (!pointer) {\n\t\t\t\t\t\t\t$(this).css('cursor', 'pointer');\n\t\t\t\t\t\t\tpointer = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (pointer) {\n\t\t\t\t\t\t\t$(this).css('cursor', 'auto');\n\t\t\t\t\t\t\tpointer = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('mouseout', function() {\n\t\t\t\t\tif (pointer) {\n\t\t\t\t\t\t$(this).css('cursor', 'auto');\n\t\t\t\t\t\tpointer = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tregisterLoadMore: function registerLoadMore() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar parent = thisInstance.getContainer();\n\t\t\tvar contentContainer = parent.find('.dashboardWidgetContent');\n\t\t\tcontentContainer.off('click', '.showMoreHistory');\n\t\t\tcontentContainer.on('click', '.showMoreHistory', function(e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\telement.hide();\n\t\t\t\tvar parent = jQuery(e.delegateTarget).closest('.dashboardWidget');\n\t\t\t\tjQuery(parent)\n\t\t\t\t\t.find('.slimScrollDiv')\n\t\t\t\t\t.css('overflow', 'visible');\n\t\t\t\tvar url = element.data('url') + '&content=true';\n\t\t\t\tlet additionalFilter = parent.find('.widgetFilter');\n\t\t\t\tif (additionalFilter.length > 0) {\n\t\t\t\t\tadditionalFilter.each(function() {\n\t\t\t\t\t\turl += '&' + $(this).attr('name') + '=' + $(this).val();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (parent.find('.changeRecordSort').length > 0) {\n\t\t\t\t\turl += '&sortorder=' + parent.find('.changeRecordSort').data('sort');\n\t\t\t\t}\n\t\t\t\tcontentContainer.progressIndicator();\n\t\t\t\tAppConnector.request(url).done(function(data) {\n\t\t\t\t\tcontentContainer.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tjQuery(parent)\n\t\t\t\t\t\t.find('.dashboardWidgetContent')\n\t\t\t\t\t\t.append(data);\n\t\t\t\t\telement.parent().remove();\n\t\t\t\t\tthisInstance.postRefreshWidget();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetFilterToCache: function setFilterToCache(url, data) {\n\t\t\tvar paramCache = url;\n\t\t\tvar container = this.getContainer();\n\t\t\tparamCache = paramCache.replace('&content=', '&notcontent=');\n\t\t\tfor (var i in data) {\n\t\t\t\tif (typeof data[i] == 'object') {\n\t\t\t\t\tdata[i] = JSON.stringify(data[i]);\n\t\t\t\t}\n\t\t\t\tparamCache += '&' + i + '=' + data[i];\n\t\t\t}\n\t\t\tvar userId = CONFIG.userId;\n\t\t\tvar name = container.data('name');\n\t\t\tapp.cacheSet(name + userId, paramCache);\n\t\t},\n\t\tregisterCache: function registerCache(container) {\n\t\t\tif (container.data('cache') == 1) {\n\t\t\t\tthis.paramCache = true;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Auto resize charts when widget was resized\n\t\t */\n\t\tregisterContentAutoResize() {\n\t\t\tthis.getContainer()\n\t\t\t\t.closest('.grid-stack')\n\t\t\t\t.on('gsresizestop', (event, elem) => {\n\t\t\t\t\tthis.loadScrollbar();\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Load and display chart into the view\n\t\t *\n\t\t * @return {Chart} chartInstance\n\t\t */\n\t\tloadChart: function loadChart() {\n\t\t\tif (typeof this.chartData === 'undefined' || typeof this.getChartContainer() === 'undefined') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.getWidgetData(); // load widget data for label formatters\n\t\t\tconst type = this.getType();\n\t\t\tlet data = this.generateData();\n\t\t\tdata.datasets = this.loadDatasetOptions(data);\n\t\t\tconst options = this.parseOptions(this.loadBasicOptions(data));\n\t\t\tconst plugins = this.parseOptions(this.loadPlugins(data));\n\t\t\tdata = this.parseOptions(data);\n\t\t\tconst chart = (this.chartInstance = new Chart(this.getChartContainer().getContext('2d'), {\n\t\t\t\ttype,\n\t\t\t\tdata,\n\t\t\t\toptions,\n\t\t\t\tplugins\n\t\t\t}));\n\t\t\t// parse chart one more time after it was mounted - some options need to have chart loaded\n\t\t\tdata.datasets = data.datasets.map((dataset, index) => {\n\t\t\t\tdataset.datasetIndex = index;\n\t\t\t\treturn this.parseOptions(dataset, dataset, true);\n\t\t\t});\n\t\t\treturn chart;\n\t\t},\n\t\t/**\n\t\t * Get data from event like mouse hover,click etc - get data which belongs to pointed element\n\t\t *\n\t\t * @param {Object} e\n\t\t * @param {array} additionalFields if element from event have additional\n\t\t * array in dataset like links for data then additionalFields will look like ['links']\n\t\t * @returns {object} {label,value,...additionalFields}\n\t\t */\n\t\tgetDataFromEvent: function getDataFromEvent(e, additionalFields) {\n\t\t\tlet chart = this.chartInstance;\n\t\t\tconst elements = chart.getElementAtEvent(e);\n\t\t\tif (elements.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst element = elements[0];\n\t\t\tconst dataIndex = element._index;\n\t\t\tconst datasetIndex = element._datasetIndex;\n\t\t\tconst eventData = {\n\t\t\t\tlabel: chart.data.labels[dataIndex],\n\t\t\t\tvalue: chart.data.datasets[0].data[dataIndex]\n\t\t\t};\n\t\t\tif (typeof additionalFields !== 'undefined' && Array.isArray(additionalFields)) {\n\t\t\t\tadditionalFields.forEach(fieldName => {\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof chart.data.datasets[datasetIndex][fieldName] !== 'undefined' &&\n\t\t\t\t\t\ttypeof chart.data.datasets[datasetIndex][fieldName][dataIndex] !== 'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\teventData[fieldName] = chart.data.datasets[datasetIndex][fieldName][dataIndex];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn eventData;\n\t\t},\n\t\t/**\n\t\t * Get default chart options for current chart subtype\n\t\t * basic and tooltip options share the same space\n\t\t *\n\t\t * @param  {Object} chartData\n\t\t * @return {Object} merged options\n\t\t */\n\t\tloadBasicOptions: function loadBasicOptions(chartData) {\n\t\t\tthis.formatTooltipTitles(chartData);\n\t\t\tthis.formatTooltipLabels(chartData);\n\t\t\treturn this.mergeOptions(\n\t\t\t\tthis.getBasicOptions(chartData),\n\t\t\t\tthis.getDefaultBasicOptions(this.getSubType(), chartData)\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Apply default dataset options (usually datalabels configuration)\n\t\t *\n\t\t * @param {object} chartData from request\n\t\t * @returns {object} chartData\n\t\t */\n\t\tloadDatasetOptions: function loadDatasetOptions(chartData) {\n\t\t\treturn chartData.datasets.map((dataset, index) => {\n\t\t\t\tlet result = this.mergeOptions(\n\t\t\t\t\tdataset,\n\t\t\t\t\tthis.getDatasetOptions(chartData),\n\t\t\t\t\tthis.getDefaultDatasetOptions(this.getSubType(), chartData)\n\t\t\t\t);\n\t\t\t\treturn result;\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Load plugins from configuration\n\t\t * @param  {Object} chartData from the request\n\t\t * @return {Object}\n\t\t */\n\t\tloadPlugins: function loadPlugins(chartData) {\n\t\t\treturn this.mergeOptionsArray(\n\t\t\t\tthis.getPlugins(chartData),\n\t\t\t\tthis.getDefaultPlugins(this.getSubType(), chartData)\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Format tooltip titles to user number format and push this modification to titlesFormatted\n\t\t * it is better to parse tooltips at initialization phase than\n\t\t * in tooltip callback which is called after hover\n\t\t *\n\t\t * @param {object} data - data from request\n\t\t * @returns {undefined}\n\t\t */\n\t\tformatTooltipTitles: function formatTooltipTitles(data) {\n\t\t\tdata.datasets.forEach(dataset => {\n\t\t\t\tif (typeof dataset.titlesFormatted === 'undefined') {\n\t\t\t\t\tdataset.titlesFormatted = [];\n\t\t\t\t\tdataset.data.forEach((dataItem, index) => {\n\t\t\t\t\t\tlet defaultLabel = data.labels[index];\n\t\t\t\t\t\tif (String(defaultLabel).length > 0 && !isNaN(Number(defaultLabel))) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tdefaultLabel = App.Fields.Double.formatToDisplay(defaultLabel, 0);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefaultLabel = App.Fields.Double.formatToDisplay(defaultLabel);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof dataset.label !== 'undefined') {\n\t\t\t\t\t\t\tlet label = dataset.label;\n\t\t\t\t\t\t\tif (String(label).length > 0 && !isNaN(Number(label))) {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tlabel = App.Fields.Double.formatToDisplay(label, 0);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlabel = App.Fields.Double.formatToDisplay(label);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdefaultLabel += ' (' + label + ')';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdataset.titlesFormatted.push(defaultLabel);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Format tooltip titles to user number format and push this modification to titlesFormatted\n\t\t * it is better to parse tooltips at initialization phase than\n\t\t * in tooltip callback which is called after hover\n\t\t *\n\t\t * @param {object} data - data from request\n\t\t * @returns {undefined}\n\t\t */\n\t\tformatTooltipLabels: function formatTooltipTitles(data) {\n\t\t\tdata.datasets.forEach(dataset => {\n\t\t\t\tif (typeof dataset.dataFormatted === 'undefined') {\n\t\t\t\t\tdataset.dataFormatted = [];\n\t\t\t\t\tdataset.data.forEach((dataItem, index) => {\n\t\t\t\t\t\tlet dataFormatted = dataItem;\n\t\t\t\t\t\tif (String(dataItem).length > 0 && !isNaN(Number(dataItem))) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\ttypeof this.widgetData !== 'undefined' &&\n\t\t\t\t\t\t\t\ttypeof this.widgetData.valueType !== 'undefined' &&\n\t\t\t\t\t\t\t\tthis.widgetData.valueType === 'count'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tdataFormatted = App.Fields.Double.formatToDisplay(dataItem, 0);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdataFormatted = App.Fields.Double.formatToDisplay(dataItem);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdataset.dataFormatted.push(dataFormatted);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Same as mergeOptionsObject but in array ;)\n\t\t * @param  {Array} to\n\t\t * @param  {Array} fromArray\n\t\t * @return {Array}\n\t\t */\n\t\tmergeOptionsArray: function mergeOptionsArray(to, fromArray) {\n\t\t\tif (typeof to !== 'undefined') {\n\t\t\t\treturn to;\n\t\t\t}\n\t\t\tto = [];\n\t\t\tlet result = fromArray\n\t\t\t\t.map((from, index) => {\n\t\t\t\t\tif (Array.isArray(from) && !to.hasOwnProperty(key)) {\n\t\t\t\t\t\treturn this.mergeOptionsArray(to[index], from);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof from === 'object' &&\n\t\t\t\t\t\tfrom !== null &&\n\t\t\t\t\t\t(typeof to[index] === 'undefined' || (typeof to[index] === 'object' && to[index] !== null))\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn this.mergeOptionsObject(to[index], from);\n\t\t\t\t\t}\n\t\t\t\t\treturn to[index];\n\t\t\t\t})\n\t\t\t\t.filter(item => typeof item !== 'undefined');\n\t\t\treturn result;\n\t\t},\n\t\t/**\n\t\t * Merge options object and do not override existing properties\n\t\t * @param  {Object} to   object to extend\n\t\t * @param  {Object} from copy properties from this object\n\t\t * @return {Object}      mixed properties\n\t\t */\n\t\tmergeOptionsObject: function mergeOptionsObject(to, from) {\n\t\t\tif (typeof to === 'undefined') {\n\t\t\t\tto = {};\n\t\t\t}\n\t\t\tfor (let key in from) {\n\t\t\t\tif (from.hasOwnProperty(key)) {\n\t\t\t\t\tif (Array.isArray(from[key])) {\n\t\t\t\t\t\tif (!to.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tto[key] = this.mergeOptionsArray(undefined, from[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (\n\t\t\t\t\t\ttypeof from[key] === 'object' &&\n\t\t\t\t\t\tfrom[key] !== null &&\n\t\t\t\t\t\t(!to.hasOwnProperty(key) ||\n\t\t\t\t\t\t\t(typeof to[key] === 'object' && to[key] !== null && !Array.isArray(to[key])))\n\t\t\t\t\t) {\n\t\t\t\t\t\t// if property is an object - merge recursively\n\t\t\t\t\t\tto[key] = this.mergeOptionsObject(to[key], from[key]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!to.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tto[key] = from[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn to;\n\t\t},\n\t\t/**\n\t\t * Merge two objects with options and do not override existing properties\n\t\t *\n\t\t * @param  {Object} to\n\t\t * @param  {Array|arguments} fromArray\n\t\t * @return {object}\n\t\t */\n\t\tmergeOptions: function mergeOptions(to = {}, ...fromArray) {\n\t\t\tfor (let i = 0, len = fromArray.length; i < len; i++) {\n\t\t\t\tif (typeof fromArray[i] !== 'object' || Array.isArray(fromArray[i])) {\n\t\t\t\t\tapp.errorLog(\n\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t'Options argument should be an object! Chart subType: ' +\n\t\t\t\t\t\t\t\tthis.getSubType() +\n\t\t\t\t\t\t\t\t' [' +\n\t\t\t\t\t\t\t\tfromArray[i].toString() +\n\t\t\t\t\t\t\t\t']'\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tto = this.mergeOptionsObject(to, fromArray[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn to;\n\t\t},\n\t\t/**\n\t\t * Placeholder for individual chart type options\n\t\t * If you want to customize default options this is the right place - override this method in your class\n\t\t *\n\t\t * @param {object} chartData\n\t\t * @returns {object} chart options\n\t\t */\n\t\tgetBasicOptions: function getBasicOptions(chartData) {\n\t\t\treturn {\n\t\t\t\tresponsive: true,\n\t\t\t\tmaintainAspectRatio: false\n\t\t\t};\n\t\t},\n\t\t/**\n\t\t * Placeholder for individual chart type dataset options\n\t\t *\n\t\t * @param  {object} chartData\n\t\t * @return {Object} datalabels configurations\n\t\t */\n\t\tgetDatasetOptions: function getDatasetOptions(chartData) {\n\t\t\treturn {};\n\t\t},\n\t\t/**\n\t\t * Placeholder for individual chart type plugins\n\t\t * You can add custom plugins for individual charts by overriding this method\n\t\t * see: http://www.chartjs.org/docs/latest/developers/plugins.html\n\t\t *\n\t\t * @param {object} chartData\n\t\t * @returns {Array|undefined} plugins\n\t\t */\n\t\tgetPlugins: function getPlugins(chartData) {\n\t\t\t// do not return anything - undefined\n\t\t},\n\t\t/**\n\t\t * Get chart type\n\t\t * We don't wan't to override loadChart method (good practice)\n\t\t * so we can extend some chart type and change its type only to show data in different manner.\n\t\t * Get type is used to set up Chartjs chart type.\n\t\t *\n\t\t * @param {object} chartData\n\t\t * @returns {string}\n\t\t */\n\t\tgetType: function getType(chartData) {\n\t\t\treturn 'bar';\n\t\t},\n\t\t/**\n\t\t * Get sub type of a chart.\n\t\t * For example 'bar' is main type and barDivided is a subset of bar with little different options.\n\t\t * By default we are using standard type.\n\t\t * GetSubType is used to get properties - it does not set up Chartjs chart type per se (getType is used for this purpose)\n\t\t *\n\t\t * @param {object}  chartData\n\t\t * @returns {string}\n\t\t */\n\t\tgetSubType: function getSubType(chartData) {\n\t\t\treturn this.getType();\n\t\t}\n\t}\n);\nVtiger_Widget_Js('YetiForce_Widget_Js', {}, {});\nYetiForce_Widget_Js(\n\t'YetiForce_Bar_Widget_Js',\n\t{},\n\t{\n\t\tgetType: function getType() {\n\t\t\treturn 'bar';\n\t\t}\n\t}\n);\nYetiForce_Bar_Widget_Js(\n\t'YetiForce_BarStacked_Widget_Js',\n\t{},\n\t{\n\t\tgetSubType() {\n\t\t\treturn 'barStacked';\n\t\t}\n\t}\n);\nYetiForce_Bar_Widget_Js(\n\t'YetiForce_Horizontal_Widget_Js',\n\t{},\n\t{\n\t\tgetType: function() {\n\t\t\treturn 'horizontalBar';\n\t\t}\n\t}\n);\nYetiForce_Horizontal_Widget_Js(\n\t'YetiForce_HorizontalStacked_Widget_Js',\n\t{},\n\t{\n\t\tgetType: function() {\n\t\t\treturn 'horizontalBar';\n\t\t},\n\t\tgetSubType() {\n\t\t\treturn 'horizontalBarStacked';\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_Funnel_Widget_Js',\n\t{},\n\t{\n\t\tgetType: function getType() {\n\t\t\treturn 'funnel';\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_Pie_Widget_Js',\n\t{},\n\t{\n\t\tgetType: function getType() {\n\t\t\treturn 'pie';\n\t\t}\n\t}\n);\nYetiForce_Pie_Widget_Js(\n\t'YetiForce_PieDivided_Widget_Js',\n\t{},\n\t{\n\t\tgetSubType() {\n\t\t\treturn 'pieDivided';\n\t\t}\n\t}\n);\nYetiForce_Pie_Widget_Js(\n\t'YetiForce_Donut_Widget_Js',\n\t{},\n\t{\n\t\tgetType: function getType() {\n\t\t\treturn 'doughnut';\n\t\t}\n\t}\n);\nYetiForce_Donut_Widget_Js('YetiForce_Axis_Widget_Js', {}, {});\nYetiForce_Widget_Js(\n\t'YetiForce_BarDivided_Widget_Js',\n\t{},\n\t{\n\t\tgetType: function getType() {\n\t\t\treturn 'bar';\n\t\t},\n\t\tgetSubType: function getSubType() {\n\t\t\treturn 'barDivided';\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_Line_Widget_Js',\n\t{},\n\t{\n\t\tgetType: function getType() {\n\t\t\treturn 'line';\n\t\t}\n\t}\n);\nYetiForce_Line_Widget_Js(\n\t'YetiForce_LineStacked_Widget_Js',\n\t{},\n\t{\n\t\tgetType() {\n\t\t\treturn 'line';\n\t\t},\n\t\tgetSubType() {\n\t\t\treturn 'lineStacked';\n\t\t}\n\t}\n);\nYetiForce_Line_Widget_Js(\n\t'YetiForce_LinePlain_Widget_Js',\n\t{},\n\t{\n\t\tgetSubType: function getSubType() {\n\t\t\treturn 'linePlain';\n\t\t}\n\t}\n);\nYetiForce_LineStacked_Widget_Js(\n\t'YetiForce_LinePlainStacked_Widget_Js',\n\t{},\n\t{\n\t\tgetSubType() {\n\t\t\treturn 'linePlainStacked';\n\t\t}\n\t}\n);\nYetiForce_Bar_Widget_Js(\n\t'YetiForce_TicketsByStatus_Widget_Js',\n\t{},\n\t{\n\t\tgetBasicOptions: function() {\n\t\t\treturn {\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: true\n\t\t\t\t},\n\t\t\t\tscales: {\n\t\t\t\t\txAxes: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstacked: true\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstacked: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_Calendar_Widget_Js',\n\t{},\n\t{\n\t\tcalendarView: false,\n\t\tcalendarCreateView: false,\n\n\t\tregisterCalendar: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar userDefaultActivityView = 'month';\n\t\t\tvar container = thisInstance.getContainer();\n\t\t\t//Default time format\n\t\t\tvar userDefaultTimeFormat = CONFIG.hourFormat;\n\t\t\tif (userDefaultTimeFormat == 24) {\n\t\t\t\tuserDefaultTimeFormat = 'H(:mm)';\n\t\t\t} else {\n\t\t\t\tuserDefaultTimeFormat = 'h(:mm) A';\n\t\t\t}\n\n\t\t\t//Default first day of the week\n\t\t\tvar convertedFirstDay = CONFIG.firstDayOfWeekNo;\n\t\t\t//Default first hour of the day\n\t\t\tvar defaultFirstHour = app.getMainParams('startHour');\n\t\t\tvar explodedTime = defaultFirstHour.split(':');\n\t\t\tdefaultFirstHour = explodedTime['0'];\n\t\t\tvar defaultDate = app.getMainParams('defaultDate');\n\t\t\tif (this.paramCache && defaultDate != moment().format('YYYY-MM-DD')) {\n\t\t\t\tdefaultDate =\n\t\t\t\t\tmoment(defaultDate).format('D') == 1 ? moment(defaultDate) : moment(defaultDate).add(1, 'M');\n\t\t\t}\n\t\t\tcontainer.find('.js-widget-quick-create').on('click', function(e) {\n\t\t\t\tVtiger_Header_Js.getInstance().quickCreateModule($(this).data('module-name'));\n\t\t\t});\n\t\t\tthisInstance.getCalendarView().fullCalendar({\n\t\t\t\theader: {\n\t\t\t\t\tleft: ' ',\n\t\t\t\t\tcenter: 'prev title next',\n\t\t\t\t\tright: ' '\n\t\t\t\t},\n\t\t\t\tdefaultDate: defaultDate,\n\t\t\t\ttimeFormat: userDefaultTimeFormat,\n\t\t\t\taxisFormat: userDefaultTimeFormat,\n\t\t\t\tfirstHour: defaultFirstHour,\n\t\t\t\tfirstDay: convertedFirstDay,\n\t\t\t\tdefaultView: userDefaultActivityView,\n\t\t\t\teditable: false,\n\t\t\t\tslotMinutes: 15,\n\t\t\t\ttheme: false,\n\t\t\t\tdefaultEventMinutes: 0,\n\t\t\t\teventLimit: true,\n\t\t\t\tallDaySlot: false,\n\t\t\t\tmonthNames: App.Fields.Date.fullMonthsTranslated,\n\t\t\t\tmonthNamesShort: App.Fields.Date.monthsTranslated,\n\t\t\t\tdayNames: App.Fields.Date.fullDaysTranslated,\n\t\t\t\tdayNamesShort: App.Fields.Date.daysTranslated,\n\t\t\t\tbuttonText: {\n\t\t\t\t\ttoday: app.vtranslate('JS_TODAY'),\n\t\t\t\t\tmonth: app.vtranslate('JS_MONTH'),\n\t\t\t\t\tweek: app.vtranslate('JS_WEEK'),\n\t\t\t\t\tday: app.vtranslate('JS_DAY')\n\t\t\t\t},\n\t\t\t\tallDayText: app.vtranslate('JS_ALL_DAY'),\n\t\t\t\teventLimitText: app.vtranslate('JS_MORE'),\n\t\t\t\teventRender: function(event, element, view) {\n\t\t\t\t\telement = '<div class=\"cell-calendar\">';\n\t\t\t\t\tfor (var key in event.event) {\n\t\t\t\t\t\telement +=\n\t\t\t\t\t\t\t'<a class=\"\" href=\"javascript:;\"' +\n\t\t\t\t\t\t\t' data-date=\"' +\n\t\t\t\t\t\t\tevent.date +\n\t\t\t\t\t\t\t'\"' +\n\t\t\t\t\t\t\t' data-type=\"' +\n\t\t\t\t\t\t\tkey +\n\t\t\t\t\t\t\t'\" title=\"' +\n\t\t\t\t\t\t\tevent.event[key].label +\n\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t'<span class=\"' +\n\t\t\t\t\t\t\tevent.event[key].className +\n\t\t\t\t\t\t\t(event.width <= 20 ? ' small-badge' : '') +\n\t\t\t\t\t\t\t(event.width >= 24 ? ' big-badge' : '') +\n\t\t\t\t\t\t\t' badge badge-secondary u-fs-95per\">' +\n\t\t\t\t\t\t\tevent.event[key].count +\n\t\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t\t\t'</a>\\n';\n\t\t\t\t\t}\n\t\t\t\t\telement += '</div>';\n\t\t\t\t\treturn element;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthisInstance\n\t\t\t\t.getCalendarView()\n\t\t\t\t.find('td.fc-day-top')\n\t\t\t\t.on('mouseenter', function() {\n\t\t\t\t\tjQuery('<span class=\"plus pull-left fas fa-plus\"></span>').prependTo($(this));\n\t\t\t\t})\n\t\t\t\t.on('mouseleave', function() {\n\t\t\t\t\t$(this)\n\t\t\t\t\t\t.find('.plus')\n\t\t\t\t\t\t.remove();\n\t\t\t\t});\n\t\t\tlet formatDate = CONFIG.dateFormat.toUpperCase();\n\t\t\tthisInstance\n\t\t\t\t.getCalendarView()\n\t\t\t\t.find('td.fc-day-top')\n\t\t\t\t.on('click', function() {\n\t\t\t\t\tlet date = moment($(this).data('date')).format(formatDate);\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tnoCache: true,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tdate_start: date,\n\t\t\t\t\t\t\tdue_date: date\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tparams.callbackFunction = function() {\n\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t.getCalendarView()\n\t\t\t\t\t\t\t.closest('.dashboardWidget')\n\t\t\t\t\t\t\t.find('a[name=\"drefresh\"]')\n\t\t\t\t\t\t\t.trigger('click');\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Header_Js.getInstance().quickCreateModule('Calendar', params);\n\t\t\t\t});\n\t\t\tvar switchBtn = container.find('.js-switch--calendar');\n\t\t\tswitchBtn.on('change', e => {\n\t\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined')\n\t\t\t\t\tcontainer.find('.widgetFilterSwitch').val('current');\n\t\t\t\telse if (typeof currentTarget.data('off-text') !== 'undefined')\n\t\t\t\t\tcontainer.find('.widgetFilterSwitch').val('history');\n\t\t\t\tthis.refreshWidget();\n\t\t\t});\n\t\t},\n\t\tloadCalendarData: function(allEvents) {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.getCalendarView().fullCalendar('removeEvents');\n\t\t\tvar view = thisInstance.getCalendarView().fullCalendar('getView');\n\t\t\tvar formatDate = CONFIG.dateFormat.toUpperCase();\n\t\t\tvar start_date = view.start.format(formatDate);\n\t\t\tvar end_date = view.end.format(formatDate);\n\t\t\tvar parent = thisInstance.getContainer();\n\t\t\tvar user = parent.find('.owner').val();\n\t\t\tif (user == 'all') {\n\t\t\t\tuser = '';\n\t\t\t}\n\t\t\tvar params = {\n\t\t\t\tmodule: 'Calendar',\n\t\t\t\taction: 'Calendar',\n\t\t\t\tmode: 'getEvents',\n\t\t\t\tstart: start_date,\n\t\t\t\tend: end_date,\n\t\t\t\tuser: user,\n\t\t\t\twidget: true\n\t\t\t};\n\t\t\tif (parent.find('.customFilter').length > 0) {\n\t\t\t\tvar customFilter = parent.find('.customFilter').val();\n\t\t\t\tparams.customFilter = customFilter;\n\t\t\t}\n\t\t\tif (parent.find('.widgetFilterSwitch').length > 0) {\n\t\t\t\tparams.time = parent.find('.widgetFilterSwitch').val();\n\t\t\t}\n\t\t\tif (this.paramCache) {\n\t\t\t\tvar drefresh = this.getContainer().find('a[name=\"drefresh\"]');\n\t\t\t\tvar url = drefresh.data('url');\n\t\t\t\tvar paramCache = {\n\t\t\t\t\towner: user,\n\t\t\t\t\tcustomFilter: customFilter,\n\t\t\t\t\tstart: start_date\n\t\t\t\t};\n\t\t\t\tthisInstance.setFilterToCache(url, paramCache);\n\t\t\t}\n\t\t\tAppConnector.request(params).done(function(events) {\n\t\t\t\tvar height =\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getCalendarView()\n\t\t\t\t\t\t.find('.fc-bg :first')\n\t\t\t\t\t\t.height() -\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getCalendarView()\n\t\t\t\t\t\t.find('.fc-day-number')\n\t\t\t\t\t\t.height() -\n\t\t\t\t\t10;\n\t\t\t\tvar width =\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getCalendarView()\n\t\t\t\t\t\t.find('.fc-day-number')\n\t\t\t\t\t\t.width() /\n\t\t\t\t\t\t2 -\n\t\t\t\t\t10;\n\t\t\t\tfor (var i in events.result) {\n\t\t\t\t\tevents.result[i]['width'] = width;\n\t\t\t\t\tevents.result[i]['height'] = height;\n\t\t\t\t}\n\t\t\t\tthisInstance.getCalendarView().fullCalendar('addEventSource', events.result);\n\t\t\t\tthisInstance\n\t\t\t\t\t.getCalendarView()\n\t\t\t\t\t.find('.cell-calendar a')\n\t\t\t\t\t.on('click', function() {\n\t\t\t\t\t\tvar container = thisInstance.getContainer();\n\t\t\t\t\t\tvar url = 'index.php?module=Calendar&view=List';\n\t\t\t\t\t\tif (customFilter) {\n\t\t\t\t\t\t\turl += '&viewname=' + container.find('select.widgetFilter.customFilter').val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turl += '&viewname=All';\n\t\t\t\t\t\t}\n\t\t\t\t\t\turl += '&search_params=[[';\n\t\t\t\t\t\tvar owner = container.find('.widgetFilter.owner option:selected');\n\t\t\t\t\t\tif (owner.val() != 'all') {\n\t\t\t\t\t\t\turl += '[\"assigned_user_id\",\"e\",\"' + owner.val() + '\"],';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (parent.find('.widgetFilterSwitch').length > 0) {\n\t\t\t\t\t\t\tvar status = parent.find('.widgetFilterSwitch').data();\n\t\t\t\t\t\t\turl += '[\"activitystatus\",\"e\",\"' + status[params.time] + '\"],';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar date = moment($(this).data('date')).format(thisInstance.getUserDateFormat().toUpperCase());\n\t\t\t\t\t\twindow.location.href =\n\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t'[\"activitytype\",\"e\",\"' +\n\t\t\t\t\t\t\t$(this).data('type') +\n\t\t\t\t\t\t\t'\"],[\"date_start\",\"bw\",\"' +\n\t\t\t\t\t\t\tdate +\n\t\t\t\t\t\t\t',' +\n\t\t\t\t\t\t\tdate +\n\t\t\t\t\t\t\t'\"]]]';\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetCalendarView: function() {\n\t\t\tif (this.calendarView == false) {\n\t\t\t\tthis.calendarView = this.getContainer().find('.js-calendar__container');\n\t\t\t}\n\t\t\treturn this.calendarView;\n\t\t},\n\t\tgetMonthName: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar month = thisInstance\n\t\t\t\t.getCalendarView()\n\t\t\t\t.find('.fc-toolbar h2')\n\t\t\t\t.text();\n\t\t\tif (month) {\n\t\t\t\tthis.getContainer()\n\t\t\t\t\t.find('.headerCalendar .month')\n\t\t\t\t\t.html('<h3>' + month + '</h3>');\n\t\t\t}\n\t\t},\n\t\tregisterChangeView: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.getContainer();\n\t\t\tcontainer.find('.fc-toolbar').addClass('d-none');\n\t\t\tvar month = container.find('.fc-toolbar h2').text();\n\t\t\tif (month) {\n\t\t\t\tcontainer\n\t\t\t\t\t.find('.headerCalendar')\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.find('.month')\n\t\t\t\t\t.append('<h3>' + month + '</h3>');\n\t\t\t\tvar button = container.find('.headerCalendar button');\n\t\t\t\tbutton.each(function() {\n\t\t\t\t\tvar tag = jQuery(this).data('type');\n\t\t\t\t\tjQuery(this).on('click', function() {\n\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t.getCalendarView()\n\t\t\t\t\t\t\t.find('.fc-toolbar .' + tag)\n\t\t\t\t\t\t\t.trigger('click');\n\t\t\t\t\t\tthisInstance.loadCalendarData();\n\t\t\t\t\t\tthisInstance.getMonthName();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tpostLoadWidget: function() {\n\t\t\tthis.registerCalendar();\n\t\t\tthis.loadCalendarData(true);\n\t\t\tthis.registerChangeView();\n\t\t\tthis.registerFilterChangeEvent();\n\t\t},\n\t\trefreshWidget: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar refreshContainer = this.getContainer().find('.dashboardWidgetContent');\n\t\t\trefreshContainer.progressIndicator();\n\t\t\tthisInstance.loadCalendarData();\n\t\t\trefreshContainer.progressIndicator({\n\t\t\t\tmode: 'hide'\n\t\t\t});\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_CalendarActivities_Widget_Js',\n\t{},\n\t{\n\t\tmodalView: false,\n\t\tpostLoadWidget: function() {\n\t\t\tthis._super();\n\t\t\tthis.registerActivityChange();\n\t\t\tthis.registerListViewButton();\n\t\t},\n\t\tpostRefreshWidget: function() {\n\t\t\tthis._super();\n\t\t\tthis.registerActivityChange();\n\t\t},\n\t\tregisterActivityChange: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar refreshContainer = this.getContainer().find('.dashboardWidgetContent');\n\t\t\trefreshContainer.find('.changeActivity').on('click', function(e) {\n\t\t\t\tif (jQuery(e.target).is('a') || thisInstance.modalView) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar url = jQuery(this).data('url');\n\t\t\t\tif (typeof url !== 'undefined') {\n\t\t\t\t\tvar callbackFunction = function() {\n\t\t\t\t\t\tthisInstance.modalView = false;\n\t\t\t\t\t};\n\t\t\t\t\tthisInstance.modalView = true;\n\t\t\t\t\tapp.showModalWindow(null, url, callbackFunction);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tregisterListViewButton: function() {\n\t\t\tconst thisInstance = this,\n\t\t\t\tcontainer = thisInstance.getContainer();\n\t\t\tcontainer.find('.goToListView').on('click', function() {\n\t\t\t\tlet status;\n\t\t\t\tlet activitiesStatus = container.data('name');\n\t\t\t\tif (activitiesStatus === 'OverdueActivities') {\n\t\t\t\t\tstatus = 'PLL_OVERDUE';\n\t\t\t\t} else if (activitiesStatus === 'CalendarActivities') {\n\t\t\t\t\tstatus = 'PLL_IN_REALIZATION##PLL_PLANNED';\n\t\t\t\t} else {\n\t\t\t\t\tstatus = 'PLL_IN_REALIZATION##PLL_PLANNED##PLL_OVERDUE';\n\t\t\t\t}\n\t\t\t\tlet url = 'index.php?module=Calendar&view=List&viewname=All';\n\t\t\t\turl += '&search_params=[[';\n\t\t\t\tlet owner = container.find('.widgetFilter.owner option:selected');\n\t\t\t\tif (owner.val() !== 'all') {\n\t\t\t\t\turl += '[\"assigned_user_id\",\"e\",\"' + owner.val() + '\"],';\n\t\t\t\t}\n\t\t\t\turl += '[\"activitystatus\",\"e\",\"' + encodeURIComponent(status) + '\"]]]';\n\t\t\t\twindow.location.href = url;\n\t\t\t});\n\t\t}\n\t}\n);\nYetiForce_CalendarActivities_Widget_Js('YetiForce_CreatedNotMineActivities_Widget_Js', {}, {});\nYetiForce_CalendarActivities_Widget_Js('YetiForce_CreatedNotMineOverdueActivities_Widget_Js', {}, {});\nYetiForce_CalendarActivities_Widget_Js('YetiForce_OverDueActivities_Widget_Js', {}, {});\nYetiForce_CalendarActivities_Widget_Js('YetiForce_OverdueActivities_Widget_Js', {}, {});\nYetiForce_Widget_Js(\n\t'YetiForce_ProductsSoldToRenew_Widget_Js',\n\t{},\n\t{\n\t\tmodalView: false,\n\t\tpostLoadWidget: function() {\n\t\t\tthis._super();\n\t\t\tthis.registerAction();\n\t\t\tthis.registerListViewButton();\n\t\t},\n\t\tpostRefreshWidget: function() {\n\t\t\tthis._super();\n\t\t\tthis.registerAction();\n\t\t},\n\t\tregisterAction: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar refreshContainer = this.getContainer().find('.dashboardWidgetContent');\n\t\t\trefreshContainer.find('.rowAction').on('click', function(e) {\n\t\t\t\tif (jQuery(e.target).is('a') || thisInstance.modalView) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar url = jQuery(this).data('url');\n\t\t\t\tif (typeof url !== 'undefined') {\n\t\t\t\t\tvar callbackFunction = function() {\n\t\t\t\t\t\tthisInstance.modalView = false;\n\t\t\t\t\t};\n\t\t\t\t\tthisInstance.modalView = true;\n\t\t\t\t\tapp.showModalWindow(null, url, callbackFunction);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterListViewButton: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getContainer();\n\t\t\tcontainer.on('click', '.goToListView', function() {\n\t\t\t\tvar url = jQuery(this).data('url');\n\t\t\t\tvar orderBy = container.find('.orderby');\n\t\t\t\tvar sortOrder = container.find('.changeRecordSort');\n\t\t\t\tif (orderBy.length) {\n\t\t\t\t\turl += '&orderby=' + orderBy.val();\n\t\t\t\t}\n\t\t\t\tif (sortOrder.length) {\n\t\t\t\t\turl += '&sortorder=' + sortOrder.data('sort').toUpperCase();\n\t\t\t\t}\n\t\t\t\twindow.location.href = url;\n\t\t\t});\n\t\t}\n\t}\n);\nYetiForce_ProductsSoldToRenew_Widget_Js('YetiForce_ServicesSoldToRenew_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js(\n\t'YetiForce_AllTimeControl_Widget_Js',\n\t{},\n\t{\n\t\tgetBasicOptions: function getBasicOptions() {\n\t\t\treturn {\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: true\n\t\t\t\t},\n\t\t\t\tscales: {\n\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tcallback: function formatYAxisTick(value, index, values) {\n\t\t\t\t\t\t\t\t\treturn app.formatToHourText(value, 'short', false, false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\txAxes: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tminRotation: 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\ttooltips: {\n\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\tdata.datasets[tooltipItem.datasetIndex].original_label +\n\t\t\t\t\t\t\t\t': ' +\n\t\t\t\t\t\t\t\tapp.formatToHourText(tooltipItem.yLabel)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: function(tooltipItems, data) {\n\t\t\t\t\t\t\treturn data.fullLabels[tooltipItems[0].index];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tgetDatasetOptions: function getDatasetOptions(dataset, type, datasetIndex) {\n\t\t\treturn {\n\t\t\t\tdatalabels: {\n\t\t\t\t\tformatter: function datalabelsFormatter(value, context) {\n\t\t\t\t\t\treturn app.formatToHourText(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n);\nYetiForce_Bar_Widget_Js('YetiForce_LeadsBySource_Widget_Js', {}, {});\nYetiForce_Pie_Widget_Js('YetiForce_ClosedTicketsByPriority_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js('YetiForce_ClosedTicketsByUser_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js('YetiForce_OpenTickets_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js('YetiForce_AccountsByIndustry_Widget_Js', {}, {});\nYetiForce_Funnel_Widget_Js(\n\t'YetiForce_EstimatedvalueByStatus_Widget_Js',\n\t{},\n\t{\n\t\tgetBasicOptions: function getBasicOptions() {\n\t\t\treturn {\n\t\t\t\tsort: 'data-desc'\n\t\t\t};\n\t\t},\n\t\tgetPlugins: function getPlugins() {\n\t\t\treturn [];\n\t\t}\n\t}\n);\nYetiForce_Bar_Widget_Js('YetiForce_NotificationsBySender_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js('YetiForce_NotificationsByRecipient_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js(\n\t'YetiForce_TeamsEstimatedSales_Widget_Js',\n\t{},\n\t{\n\t\tgenerateChartData: function() {\n\t\t\tconst thisInstance = this,\n\t\t\t\tcontainer = this.getContainer(),\n\t\t\t\tjData = container.find('.widgetData').val(),\n\t\t\t\tdata = JSON.parse(jData);\n\t\t\tlet chartData = [[], [], [], []],\n\t\t\t\tyMaxValue,\n\t\t\t\tindex,\n\t\t\t\tparseData;\n\t\t\tif (data.hasOwnProperty('compare')) {\n\t\t\t\tfor (index in data) {\n\t\t\t\t\tparseData = thisInstance.parseChartData(data[index], chartData);\n\t\t\t\t\tchartData[0].push(parseData[0]);\n\t\t\t\t\tchartData[3].push(parseData[3]);\n\t\t\t\t\tchartData = [chartData[0], parseData[1], parseData[2], chartData[3], ['#CC6600', '#208CB3']];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tparseData = thisInstance.parseChartData(data, chartData);\n\t\t\t\tchartData = [[parseData[0]], parseData[1], parseData[2], [parseData[3]], ['#208CB3']];\n\t\t\t}\n\t\t\tyMaxValue = chartData[1];\n\t\t\tyMaxValue = yMaxValue + 2 + (yMaxValue / 100) * 25;\n\t\t\treturn {\n\t\t\t\tchartData: chartData[0],\n\t\t\t\tyMaxValue: yMaxValue,\n\t\t\t\tlabels: chartData[2],\n\t\t\t\tdata_labels: chartData[3],\n\t\t\t\tplacement: 'inside',\n\t\t\t\tlocation: 'n',\n\t\t\t\tcolors: chartData[4]\n\t\t\t};\n\t\t},\n\t\tparseChartData: function(data, chartDataGlobal) {\n\t\t\tvar chartData = [];\n\t\t\tvar xLabels = [];\n\t\t\tvar sum = 0;\n\t\t\tfor (var index in data) {\n\t\t\t\tvar row = data[index];\n\t\t\t\trow[0] = parseInt(row[0]);\n\t\t\t\tsum += row[0];\n\t\t\t\txLabels.push(app.getDecodedValue(row[1]));\n\t\t\t\tchartData.push(row[0]);\n\t\t\t\tif (parseInt(row[0]) > chartDataGlobal[1]) {\n\t\t\t\t\tchartDataGlobal[1] = parseInt(row[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [chartData, chartDataGlobal[1], xLabels, '&nbsp; \\u03A3 ' + sum + '&nbsp;'];\n\t\t},\n\t\tregisterSectionClick: function() {\n\t\t\tconst container = this.getContainer(),\n\t\t\t\tdata = container.find('.widgetData').val(),\n\t\t\t\tdataInfo = JSON.parse(data),\n\t\t\t\tcompare = dataInfo && dataInfo.hasOwnProperty('compare');\n\t\t\tlet url;\n\t\t\tthis.getContainer()\n\t\t\t\t.off('jqplotDataClick')\n\t\t\t\t.on('jqplotDataClick', function(ev, seriesIndex, pointIndex, args) {\n\t\t\t\t\tif (seriesIndex) {\n\t\t\t\t\t\turl = dataInfo['compare'][pointIndex][2];\n\t\t\t\t\t} else if (compare) {\n\t\t\t\t\t\turl = dataInfo[0][pointIndex][2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\turl = dataInfo[pointIndex][2];\n\t\t\t\t\t}\n\t\t\t\t\twindow.location.href = url;\n\t\t\t\t});\n\t\t}\n\t}\n);\nYetiForce_TeamsEstimatedSales_Widget_Js('YetiForce_ActualSalesOfTeam_Widget_Js', {}, {});\nYetiForce_Widget_Js(\n\t'YetiForce_History_Widget_Js',\n\t{},\n\t{\n\t\tpostLoadWidget: function() {\n\t\t\tthis._super();\n\t\t\tthis.registerLoadMore();\n\t\t},\n\t\tpostRefreshWidget: function() {\n\t\t\tthis._super();\n\t\t\tthis.registerLoadMore();\n\t\t},\n\t\tregisterLoadMore: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar parent = thisInstance.getContainer();\n\t\t\tvar contentContainer = parent.find('.dashboardWidgetContent');\n\t\t\tvar loadMoreHandler = contentContainer.find('.load-more');\n\t\t\tloadMoreHandler.on('click', function() {\n\t\t\t\tvar parent = thisInstance.getContainer();\n\t\t\t\tvar element = parent.find('a[name=\"drefresh\"]');\n\t\t\t\tvar url = element.data('url');\n\t\t\t\tvar params = url;\n\t\t\t\tvar widgetFilters = parent.find('.widgetFilter');\n\t\t\t\tif (widgetFilters.length > 0) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tdata: {}\n\t\t\t\t\t};\n\t\t\t\t\twidgetFilters.each(function(index, domElement) {\n\t\t\t\t\t\tvar widgetFilter = jQuery(domElement);\n\t\t\t\t\t\tvar filterName = widgetFilter.attr('name');\n\t\t\t\t\t\tvar filterValue = widgetFilter.val();\n\t\t\t\t\t\tparams.data[filterName] = filterValue;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tvar filterData = thisInstance.getFilterData();\n\t\t\t\tif (!jQuery.isEmptyObject(filterData)) {\n\t\t\t\t\tif (typeof params == 'string') {\n\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\tdata: {}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tparams.data = jQuery.extend(params.data, thisInstance.getFilterData());\n\t\t\t\t}\n\n\t\t\t\t// Next page.\n\t\t\t\tparams.data['page'] = loadMoreHandler.data('nextpage');\n\t\t\t\tvar refreshContainer = parent.find('.dashboardWidgetContent');\n\t\t\t\trefreshContainer.progressIndicator();\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\trefreshContainer.progressIndicator({\n\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tloadMoreHandler.replaceWith(data);\n\t\t\t\t\t\tthisInstance.registerLoadMore();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function() {\n\t\t\t\t\t\trefreshContainer.progressIndicator({\n\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_MiniList_Widget_Js',\n\t{},\n\t{\n\t\tpostLoadWidget: function() {\n\t\t\tapp.hideModalWindow();\n\t\t\tthis.restrictContentDrag();\n\t\t\tthis.registerFilter();\n\t\t\tthis.registerFilterChangeEvent();\n\t\t\tthis.registerRecordsCount();\n\t\t},\n\t\tpostRefreshWidget: function() {\n\t\t\tthis.registerRecordsCount();\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_Notebook_Widget_Js',\n\t{},\n\t{\n\t\t// Override widget specific functions.\n\t\tpostLoadWidget: function() {\n\t\t\tthis.registerNotebookEvents();\n\t\t},\n\t\tregisterNotebookEvents: function() {\n\t\t\tthis.container.on('click', '.dashboard_notebookWidget_edit', () => {\n\t\t\t\tthis.editNotebookContent();\n\t\t\t});\n\t\t\tthis.container.on('click', '.dashboard_notebookWidget_save', () => {\n\t\t\t\tthis.saveNotebookContent();\n\t\t\t});\n\t\t},\n\t\teditNotebookContent: function() {\n\t\t\t$('.dashboard_notebookWidget_text', this.container).show();\n\t\t\t$('.dashboard_notebookWidget_view', this.container).hide();\n\t\t},\n\t\tsaveNotebookContent: function() {\n\t\t\tlet textarea = $('.dashboard_notebookWidget_textarea', this.container),\n\t\t\t\turl = this.container.data('url'),\n\t\t\t\tparams = url + '&content=true&mode=save&contents=' + encodeURIComponent(textarea.val()),\n\t\t\t\trefreshContainer = this.container.find('.dashboardWidgetContent');\n\t\t\trefreshContainer.progressIndicator();\n\t\t\tAppConnector.request(params).done(data => {\n\t\t\t\trefreshContainer.progressIndicator({\n\t\t\t\t\tmode: 'hide'\n\t\t\t\t});\n\t\t\t\t$('.dashboardWidgetContent', this.container).html(data);\n\t\t\t});\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_KpiBar_Widget_Js',\n\t{},\n\t{\n\t\tgenerateChartData: function() {\n\t\t\tvar container = this.getContainer();\n\t\t\tvar jData = container.find('.widgetData').val();\n\t\t\tvar data = JSON.parse(jData);\n\t\t\tvar chartData = [];\n\t\t\tvar xLabels = [];\n\t\t\tvar yMaxValue = 0;\n\t\t\treturn {\n\t\t\t\tchartData: [[[data['result'], data['all']]]],\n\t\t\t\tyMaxValue: data['maxValue'],\n\t\t\t\tlabels: ''\n\t\t\t};\n\t\t},\n\t\tloadChart: function() {\n\t\t\tvar data = this.generateChartData();\n\t\t\tthis.getChartContainer(false).jqplot(data['chartData'], {\n\t\t\t\tanimate: !$.jqplot.use_excanvas,\n\t\t\t\tseriesDefaults: {\n\t\t\t\t\trenderer: jQuery.jqplot.BarRenderer,\n\t\t\t\t\trendererOptions: {\n\t\t\t\t\t\tshowDataLabels: true,\n\t\t\t\t\t\tdataLabels: 'value',\n\t\t\t\t\t\tbarDirection: 'horizontal'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\taxes: {\n\t\t\t\t\txaxis: {\n\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\tmax: data['yMaxValue']\n\t\t\t\t\t},\n\t\t\t\t\tyaxis: {\n\t\t\t\t\t\trenderer: jQuery.jqplot.CategoryAxisRenderer\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_ChartFilter_Widget_Js',\n\t{},\n\t{\n\t\tchartfilterInstance: false,\n\t\tinit: function(container, reload, widgetClassName) {\n\t\t\tthis.setContainer(jQuery(container));\n\t\t\tlet chartClassName = container.find('[name=\"typeChart\"]').val();\n\t\t\tconst stacked = !!Number(container.find('[name=\"stacked\"]').val());\n\t\t\tif (stacked) {\n\t\t\t\tchartClassName += 'Stacked';\n\t\t\t}\n\t\t\tthis.chartfilterInstance = YetiForce_Widget_Js.getInstance(container, chartClassName);\n\t\t\tif (this.chartfilterInstance) {\n\t\t\t\tconst filterIdsStr = container.find('[name=\"filterIds\"]').val();\n\t\t\t\tif (filterIdsStr) {\n\t\t\t\t\tthis.chartfilterInstance.filterIds = JSON.parse(filterIdsStr);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.registerRecordsCount();\n\t\t\tthis.registerCache(container);\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_Multifilter_Widget_Js',\n\t{},\n\t{\n\t\tmultifilterControlsView: false,\n\t\tmultifilterContentView: false,\n\t\tmultifilterSettingsView: false,\n\t\tregisterMultifilter() {\n\t\t\tlet selectValue = app.cacheGet('multifilterSelectValue', null),\n\t\t\t\tmultifilterSettings = this.getMultifilterSettings();\n\t\t\tif (null != selectValue && this.paramCache) {\n\t\t\t\tmultifilterSettings\n\t\t\t\t\t.find('.js-select')\n\t\t\t\t\t.val(selectValue)\n\t\t\t\t\t.trigger('change.select2');\n\t\t\t}\n\t\t\tthis.loadMultifilterData(true);\n\t\t\tmultifilterSettings.find('.js-select').on('select2:select', () => {\n\t\t\t\tthis.loadMultifilterData(true);\n\t\t\t\tif (this.paramCache) {\n\t\t\t\t\tapp.cacheSet('multifilterSelectValue', multifilterSettings.find('.js-select').val());\n\t\t\t\t}\n\t\t\t});\n\t\t\tmultifilterSettings.find('.js-select').on('select2:unselect', () => {\n\t\t\t\tthis.loadMultifilterData(false);\n\t\t\t\tif (this.paramCache) {\n\t\t\t\t\tapp.cacheSet('multifilterSelectValue', multifilterSettings.find('.js-select').val());\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerShowHideModuleSettings();\n\t\t},\n\t\tloadMultifilterData(select = true) {\n\t\t\tconst self = this;\n\t\t\tlet widgetId = self.getMultifilterControls().attr('data-widgetid'),\n\t\t\t\tmultifilterIds = self.getMultifilterSettings().find('.js-select option:selected'),\n\t\t\t\tparams = [];\n\t\t\tif (!select) {\n\t\t\t\tself.getMultifilterContent().html('');\n\t\t\t}\n\t\t\tmultifilterIds.each(function() {\n\t\t\t\tlet existFilter = self.getMultifilterContent().find('[data-id=\"' + $(this).val() + '\"]');\n\t\t\t\tlet thisInstance = $(this);\n\t\t\t\tif (0 < existFilter.length) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: thisInstance.data('module'),\n\t\t\t\t\tmodulename: thisInstance.data('module'),\n\t\t\t\t\tview: 'ShowWidget',\n\t\t\t\t\tname: 'Multifilter',\n\t\t\t\t\tcontent: true,\n\t\t\t\t\twidget: true,\n\t\t\t\t\twidgetid: widgetId,\n\t\t\t\t\tfilterid: thisInstance.val()\n\t\t\t\t};\n\t\t\t\tself.loadListData(params);\n\t\t\t});\n\t\t},\n\t\tloadListData(params) {\n\t\t\tconst self = this;\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tmultiFilterContent = self.getMultifilterContent();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tself\n\t\t\t\t\t\t\t.getMultifilterSettings()\n\t\t\t\t\t\t\t.find('option[value=\"' + params.filterid + '\"]')\n\t\t\t\t\t\t\t.is(':selected') &&\n\t\t\t\t\t\t!multiFilterContent.find('.detailViewTable[data-id=\"' + params.filterid + '\"]').length\n\t\t\t\t\t) {\n\t\t\t\t\t\tself.registerRecordsCount(multiFilterContent.append(data).children('div:last-child'));\n\t\t\t\t\t\tself.registerShowHideBlocks();\n\t\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function(error) {\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tregisterShowHideModuleSettings() {\n\t\t\tthis.getMultifilterControls()\n\t\t\t\t.find('.js-widget-settings')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.getMultifilterSettings().toggleClass('d-none');\n\t\t\t\t});\n\t\t},\n\t\tregisterShowHideBlocks() {\n\t\t\tlet detailContentsHolder = this.getMultifilterContent();\n\t\t\tdetailContentsHolder.find('.blockHeader').off('click');\n\t\t\tdetailContentsHolder.find('.blockHeader').click(function() {\n\t\t\t\tlet currentTarget = $(this)\n\t\t\t\t\t\t.find('.js-block-toggle')\n\t\t\t\t\t\t.not('.d-none'),\n\t\t\t\t\tclosestBlock = currentTarget.closest('.js-toggle-panel'),\n\t\t\t\t\tbodyContents = closestBlock.find('.blockContent'),\n\t\t\t\t\tdata = currentTarget.data();\n\t\t\t\tlet hideHandler = function() {\n\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t};\n\t\t\t\tlet showHandler = function() {\n\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t};\n\t\t\t\tif ('show' == data.mode) {\n\t\t\t\t\thideHandler();\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tclosestBlock.find('[data-mode=\"hide\"]').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tshowHandler();\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tclosestBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterRecordsCount(container) {\n\t\t\tlet url = container.data('url');\n\t\t\tAppConnector.request(url).done(function(data) {\n\t\t\t\tcontainer.find('.js-count').html(data.result.totalCount);\n\t\t\t});\n\t\t},\n\t\tgetMultifilterControls() {\n\t\t\tif (this.multifilterControlsView == false) {\n\t\t\t\tthis.multifilterControlsView = this.getContainer().find('.js-multifilterControls');\n\t\t\t}\n\t\t\treturn this.multifilterControlsView;\n\t\t},\n\t\tgetMultifilterContent() {\n\t\t\tif (this.multifilterContentView == false) {\n\t\t\t\tthis.multifilterContentView = this.getContainer().find('.js-multifilterContent');\n\t\t\t}\n\t\t\treturn this.multifilterContentView;\n\t\t},\n\t\tgetMultifilterSettings() {\n\t\t\tif (this.multifilterSettingsView == false) {\n\t\t\t\tthis.multifilterSettingsView = this.getContainer().find('.js-settings-widget');\n\t\t\t}\n\t\t\treturn this.multifilterSettingsView;\n\t\t},\n\t\tpostLoadWidget() {\n\t\t\tthis.registerMultifilter();\n\t\t},\n\t\trefreshWidget() {\n\t\t\tthis.loadMultifilterData(false);\n\t\t}\n\t}\n);\nYetiForce_Widget_Js(\n\t'YetiForce_UpcomingProjectTasks_Widget_Js',\n\t{},\n\t{\n\t\tpostLoadWidget: function() {\n\t\t\tthis._super();\n\t\t\tthis.registerListViewButton();\n\t\t},\n\t\tregisterListViewButton: function() {\n\t\t\tconst container = this.getContainer();\n\t\t\tcontainer.find('.goToListView').on('click', function() {\n\t\t\t\tlet url = 'index.php?module=ProjectTask&view=List&viewname=All';\n\t\t\t\turl += '&search_params=[[';\n\t\t\t\tlet owner = container.find('.widgetFilter.owner option:selected');\n\t\t\t\tif (owner.val() !== 'all') {\n\t\t\t\t\turl += '[\"assigned_user_id\",\"e\",\"' + owner.val() + '\"],';\n\t\t\t\t}\n\t\t\t\turl +=\n\t\t\t\t\t'[\"projecttaskstatus\",\"e\",\"' +\n\t\t\t\t\tencodeURIComponent(container.find('[name=\"status\"]').data('value')) +\n\t\t\t\t\t'\"]]]';\n\t\t\t\tapp.openUrl(url);\n\t\t\t});\n\t\t}\n\t}\n);\nYetiForce_UpcomingProjectTasks_Widget_Js('YetiForce_CompletedProjectTasks_Widget_Js', {}, {});\nYetiForce_Widget_Js(\n\t'YetiForce_Updates_Widget_Js',\n\t{},\n\t{\n\t\tpostLoadWidget: function() {\n\t\t\tthis._super();\n\t\t\tthis.registerEvents();\n\t\t\tthis.registerLoadMore();\n\t\t},\n\t\tpostRefreshWidget: function() {\n\t\t\tthis._super();\n\t\t\tapp.registerPopoverEllipsisIcon(this.getContainer().find('.js-popover-tooltip--ellipsis-icon'));\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tconst container = this.getContainer();\n\t\t\tconst self = this;\n\t\t\tlet modalContainer = container.find('.js-update-widget-modal');\n\t\t\tapp.registerPopoverEllipsisIcon(container.find('.js-popover-tooltip--ellipsis-icon'));\n\t\t\tcontainer.find('.js-update-widget-button').on('click', function() {\n\t\t\t\tlet modal = modalContainer.clone(true);\n\t\t\t\tlet widgetData = JSON.parse(container.find('.js-widget-data').val());\n\t\t\t\tif (widgetData) {\n\t\t\t\t\tfor (let i in widgetData.actions) {\n\t\t\t\t\t\tmodal.find('.js-tracker-action[value=\"' + widgetData.actions[i] + '\"]').prop('checked', true);\n\t\t\t\t\t}\n\t\t\t\t\tmodal.find('[name=\"owner\"]').val(widgetData.owner);\n\t\t\t\t\tmodal.find('[name=\"historyOwner\"]').val(widgetData.historyOwner);\n\t\t\t\t}\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(modal.find('select'));\n\t\t\t\tapp.showModalWindow(modal, function(data) {\n\t\t\t\t\tself.registerSubmit(data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterSubmit(data) {\n\t\t\tdata.find('.js-modal__save').on('click', e => {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet actions = [];\n\t\t\t\t$.each(data.find('.js-tracker-action:checked'), function() {\n\t\t\t\t\tactions.push($(this).val());\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\taction: 'Widget',\n\t\t\t\t\tmode: 'saveUpdatesWidgetConfig',\n\t\t\t\t\tmodule: 'ModTracker',\n\t\t\t\t\twidgetId: this.getContainer()\n\t\t\t\t\t\t.find('.js-widget-id')\n\t\t\t\t\t\t.val(),\n\t\t\t\t\ttrackerActions: actions,\n\t\t\t\t\towner: data.find('[name=\"owner\"]').val(),\n\t\t\t\t\thistoryOwner: data.find('[name=\"historyOwner\"]').val()\n\t\t\t\t}).done(data => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthis.refreshWidget();\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","widgetPostLoadEvent","widgetPostRefereshEvent","getInstance","container","widgetClassName","moduleName","app","getModuleName","window","fallbackClass","yetiClass","basicClass","YetiForce_Widget_Js","instance","plotContainer","chartInstance","chartData","paramCache","init","reload","$","setContainer","registerWidgetPostLoadEvent","registerWidgetPostRefreshEvent","registerCache","areColorsFromDividingField","Number","getContainer","find","val","getSourceChartType","isMultiFilter","filterIds","length","getWidgetData","widgetData","widgetDataEl","JSON","parse","globalChartFunctions","scales","formatAxesLabels","value","isNaN","App","Fields","Double","formatToDisplay","datalabels","display","context","chart","getDatasetMeta","datasetIndex","hidden","formatter","valueType","data","datasets","dataFormatted","dataIndex","tooltips","label","tooltipItem","index","title","tooltipItems","titlesFormatted","labels","legend","onClick","e","legendItem","config","type","defaults","Chart","global","apply","generateLabels","options","boxWidth","forEach","fillStyle","strokeStyle","plugins","hideVerticalBarDatalabelsIfNeeded","Array","isArray","i","len","meta","push","datasetsMeta","getDatasetsMeta","_models","dataset","iItem","lenItem","metaData","dataItem","$datalabels","_model","model","size","width","padding","borderWidth","labelHeight","height","barHeight","threshold","verticalBarLabelsThreshold","_view","labelWidth","positioner","hideHorizontalBarDatalabelsIfNeeded","barWidth","horizontalBarLabelsThreshold","fixXAxisLabels","xAxes","ticks","axis","callback","substr","rotateXLabels90","minRotation","_updated","prop","_meta","hasOwnProperty","metaDataItem","_xScale","ctx","categoryWidth","categoryPercentage","measureText","fullWidth","shortenedWidth","shortened","shortenXTicks","update","x","getPixelForValue","base","getBasePixel","barPercentage","fixYAxisLabels","yAxes","shortenYTicks","getFunctionFromReplacementString","replacementStr","assignResult","split","errorLog","splitted","reduce","previous","current","finalFunction","call","bind","isReplacementString","str","parseOptionsObject","original","result","propertyName","afterInit","parseOptionsArray","arr","map","item","parseOptions","removeStackedFromName","chartSubType","indexOf","dividedPos","getGlobalDefaultChartsOptions","bar","basic","maintainAspectRatio","mode","callbacks","autoSkip","beginAtZero","maxRotation","font","color","backgroundColor","borderColor","borderRadius","anchor","align","beforeDraw","barStacked","stacked","horizontalBar","horizontalBarStacked","line","labelOffset","fill","lineStacked","linePlain","lineTension","linePlainStacked","pie","cutoutPercentage","layout","bottom","doughnut","funnel","sort","notStackedChartSubType","getDefaultBasicOptions","getDefaultDatasetOptions","getDefaultPlugins","element","isEmptyData","getUserDateFormat","dateFormat","getChartContainer","useCache","get","registerRecordsCount","recordsCountBtn","thisInstance","on","AppConnector","request","url","done","response","html","totalCount","addClass","attr","removeClass","loadScrollbar","closest","content","widget","footer","adjustedHeight","innerHeight","outerHeight","css","scrollbar","showNewScrollbar","wheelPropagation","restrictContentDrag","target","isHeaderElement","stopPropagation","generateData","jData","positionNoDataMsg","widgetContentsContainer","noDataMsgHolder","position","my","at","of","printHtml","printContainer","imgEl","onload","outerWidth","printImage","htmlToImage","src","imageBase64","downloadHtmlAsImage","document","createElement","setAttribute","click","postLoadWidget","loadChart","registerSectionClick","registerFilter","registerFilterChangeEvent","registerContentAutoResize","registerWidgetSwitch","registerChangeSorting","registerLoadMore","registerHeaderButtons","postRefreshWidget","setSortingButton","currentElement","drefresh","replace","sortorder","icon","iconBase","getChartImage","toBase64Image","image","base64Image","open","print","write","append","close","focus","setTimeout","header","downloadWidget","printWidget","text","a","appendTo","remove","Vtiger_Header_Js","quickCreateModule","currentTarget","switchButtons","setUrlSwitch","dashboardWidgetHeader","Deferred","each","urlparams","switchUrl","aDeferred","resolve","reject","promise","getFilterData","refreshWidget","parent","contentContainer","params","widgetFilters","domElement","filterName","widgetFilter","is","additionalWidgetFilters","refreshContainerFooter","refreshContainer","progressIndicator","setFilterToCache","filter","clone","n","hasClass","splice","trigger","fail","search","refreshBtn","originalUrl","selects","fieldInfo","Picklist","changeSelectElementView","containerCssClass","Date","register","registerRange","searchContributorElement","fieldName","searchValue","join","trim","searchOperator","inArray","searchInfo","searchParams","stringify","showSelect2ElementView","off","pointer","canvas","getDataFromEvent","links","location","href","hide","delegateTarget","additionalFilter","CONFIG","userId","name","cacheSet","getType","loadDatasetOptions","loadBasicOptions","loadPlugins","getContext","additionalFields","elements","getElementAtEvent","_index","_datasetIndex","eventData","formatTooltipTitles","formatTooltipLabels","mergeOptions","getBasicOptions","getSubType","getDatasetOptions","mergeOptionsArray","getPlugins","defaultLabel","to","fromArray","from","key","mergeOptionsObject","toString","responsive","Vtiger_Widget_Js","YetiForce_Bar_Widget_Js","YetiForce_Horizontal_Widget_Js","YetiForce_Pie_Widget_Js","YetiForce_Donut_Widget_Js","YetiForce_Line_Widget_Js","YetiForce_LineStacked_Widget_Js","calendarView","calendarCreateView","registerCalendar","userDefaultTimeFormat","hourFormat","firstDayOfWeekNo","defaultFirstHour","getMainParams","explodedTime","defaultDate","moment","format","add","getCalendarView","fullCalendar","left","center","right","timeFormat","axisFormat","firstHour","firstDay","convertedFirstDay","defaultView","editable","slotMinutes","theme","defaultEventMinutes","eventLimit","allDaySlot","monthNames","fullMonthsTranslated","monthNamesShort","monthsTranslated","dayNames","fullDaysTranslated","dayNamesShort","daysTranslated","buttonText","today","vtranslate","month","week","day","allDayText","eventLimitText","eventRender","event","date","className","count","prependTo","toUpperCase","formatDate","noCache","date_start","due_date","callbackFunction","switchBtn","loadCalendarData","start_date","view","start","end_date","end","user","module","action","customFilter","time","owner","events","status","getMonthName","registerChangeView","button","tag","modalView","_super","registerActivityChange","registerListViewButton","showModalWindow","activitiesStatus","encodeURIComponent","YetiForce_CalendarActivities_Widget_Js","registerAction","orderBy","sortOrder","YetiForce_ProductsSoldToRenew_Widget_Js","formatToHourText","original_label","yLabel","fullLabels","YetiForce_Funnel_Widget_Js","generateChartData","yMaxValue","parseData","parseChartData","data_labels","placement","colors","chartDataGlobal","xLabels","sum","row","parseInt","getDecodedValue","dataInfo","compare","ev","seriesIndex","pointIndex","YetiForce_TeamsEstimatedSales_Widget_Js","loadMoreHandler","filterValue","isEmptyObject","filterData","extend","replaceWith","hideModalWindow","registerNotebookEvents","editNotebookContent","saveNotebookContent","show","textarea","jqplot","animate","use_excanvas","seriesDefaults","renderer","BarRenderer","rendererOptions","showDataLabels","dataLabels","barDirection","axes","xaxis","min","max","yaxis","CategoryAxisRenderer","chartfilterInstance","chartClassName","filterIdsStr","multifilterControlsView","multifilterContentView","multifilterSettingsView","registerMultifilter","selectValue","cacheGet","multifilterSettings","getMultifilterSettings","loadMultifilterData","registerShowHideModuleSettings","self","widgetId","getMultifilterControls","multifilterIds","select","getMultifilterContent","existFilter","modulename","widgetid","filterid","loadListData","multiFilterContent","children","registerShowHideBlocks","toggleClass","detailContentsHolder","not","closestBlock","bodyContents","openUrl","YetiForce_UpcomingProjectTasks_Widget_Js","registerEvents","registerPopoverEllipsisIcon","modalContainer","actions","modal","historyOwner","registerSubmit","blockInfo","enabled","trackerActions","progressIndicatorElement"],"mappings":"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"}