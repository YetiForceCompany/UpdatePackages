{"version":3,"file":"Import.min.js","sources":["Import.js"],"sourcesContent":["/*+**********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n ************************************************************************************/\n'use strict';\n\nif (typeof ImportJs === 'undefined') {\n\t/*\n\t * Namespaced javascript class for Import\n\t */\n\tvar ImportJs = {\n\t\ttoogleMergeConfiguration: function() {\n\t\t\tvar mergeChecked = jQuery('#auto_merge').is(':checked');\n\t\t\tvar duplicateMergeConfiguration = jQuery('#duplicates_merge_configuration');\n\t\t\tif (mergeChecked) {\n\t\t\t\tduplicateMergeConfiguration.show();\n\t\t\t} else {\n\t\t\t\tduplicateMergeConfiguration.hide();\n\t\t\t}\n\t\t},\n\t\tcheckFileType: function() {\n\t\t\tvar filePath = jQuery('#import_file').val();\n\t\t\tif (filePath != '') {\n\t\t\t\tvar fileExtension = filePath.split('.').pop();\n\t\t\t\tjQuery('#type').val(fileExtension);\n\t\t\t\tImportJs.handleFileTypeChange();\n\t\t\t}\n\t\t},\n\t\thandleFileTypeChange: function() {\n\t\t\tvar fileType = jQuery('.js-type').val();\n\t\t\tvar delimiterContainer = jQuery('.js-delimiter-container');\n\t\t\tvar hasHeaderContainer = jQuery('.js-has-header-container');\n\t\t\tvar xmlTpl = jQuery('.js-xml-tpl');\n\t\t\tvar extension = jQuery('.js-zip-extension');\n\n\t\t\tswitch (fileType) {\n\t\t\t\tcase 'xml':\n\t\t\t\t\tdelimiterContainer.addClass('d-none');\n\t\t\t\t\thasHeaderContainer.addClass('d-none');\n\t\t\t\t\txmlTpl.removeClass('d-none');\n\t\t\t\t\textension.addClass('d-none');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'zip':\n\t\t\t\t\tdelimiterContainer.addClass('d-none');\n\t\t\t\t\thasHeaderContainer.addClass('d-none');\n\t\t\t\t\textension.removeClass('d-none');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdelimiterContainer.removeClass('d-none');\n\t\t\t\t\thasHeaderContainer.removeClass('d-none');\n\t\t\t\t\textension.addClass('d-none');\n\t\t\t\t\txmlTpl.addClass('d-none');\n\t\t\t}\n\t\t},\n\t\tuploadAndParse: function() {\n\t\t\tif (!ImportJs.validateFilePath()) return false;\n\t\t\tif (!ImportJs.validateMergeCriteria()) return false;\n\t\t\treturn true;\n\t\t},\n\t\tregisterImportClickEvent() {\n\t\t\t$('#importButton')\n\t\t\t\t.removeAttr('disabled')\n\t\t\t\t.on('click', function(e) {\n\t\t\t\t\treturn ImportJs.sanitizeAndSubmit();\n\t\t\t\t});\n\t\t},\n\t\tvalidateFilePath: function() {\n\t\t\tvar importFile = jQuery('#import_file');\n\t\t\tvar filePath = importFile.val();\n\t\t\tif (jQuery.trim(filePath) == '') {\n\t\t\t\tvar errorMessage = app.vtranslate('JS_IMPORT_FILE_CAN_NOT_BE_EMPTY');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\timportFile.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!ImportJs.uploadFilter('import_file', 'csv|vcf|xml|zip|ics|ical')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!ImportJs.uploadFileSize('import_file')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tuploadFilter: function(elementId, allowedExtensions) {\n\t\t\tvar obj = jQuery('#' + elementId);\n\t\t\tif (obj) {\n\t\t\t\tvar filePath = obj.val();\n\t\t\t\tvar fileParts = filePath.toLowerCase().split('.');\n\t\t\t\tvar fileType = fileParts[fileParts.length - 1];\n\t\t\t\tvar validExtensions = allowedExtensions.toLowerCase().split('|');\n\t\t\t\tif (validExtensions.indexOf(fileType) < 0) {\n\t\t\t\t\tvar errorMessage = app.vtranslate('JS_SELECT_FILE_EXTENSION') + '\\n' + validExtensions;\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\tobj.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tuploadFileSize: function(elementId) {\n\t\t\tvar element = jQuery('#' + elementId);\n\t\t\tvar importMaxUploadSize = element.closest('td').data('importUploadSize');\n\t\t\tvar importMaxUploadSizeInMb = element.closest('td').data('importUploadSizeMb');\n\t\t\tvar uploadedFileSize = element.get(0).files[0].size;\n\t\t\tif (uploadedFileSize > importMaxUploadSize) {\n\t\t\t\tvar errorMessage =\n\t\t\t\t\tapp.vtranslate('JS_UPLOADED_FILE_SIZE_EXCEEDS') +\n\t\t\t\t\t' ' +\n\t\t\t\t\timportMaxUploadSizeInMb +\n\t\t\t\t\t' MB.' +\n\t\t\t\t\tapp.vtranslate('JS_PLEASE_SPLIT_FILE_AND_IMPORT_AGAIN');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tvalidateMergeCriteria: function() {\n\t\t\tvar mergeChecked = jQuery('#auto_merge').is(':checked');\n\t\t\tif (mergeChecked) {\n\t\t\t\tvar selectedOptions = jQuery('#selected_merge_fields option');\n\t\t\t\tif (selectedOptions.length == 0) {\n\t\t\t\t\tvar errorMessage = app.vtranslate('JS_PLEASE_SELECT_ONE_FIELD_FOR_MERGE');\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tImportJs.convertOptionsToJSONArray('#selected_merge_fields', '#merge_fields');\n\t\t\treturn true;\n\t\t},\n\t\tconvertOptionsToJSONArray: function(objName, targetObjName) {\n\t\t\tvar obj = jQuery(objName);\n\t\t\tvar arr = [];\n\t\t\tif (typeof obj !== 'undefined' && obj[0] != '') {\n\t\t\t\tfor (var i = 0; i < obj[0].length; ++i) {\n\t\t\t\t\tarr.push(obj[0].options[i].value);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (targetObjName !== 'undefined') {\n\t\t\t\tvar targetObj = $(targetObjName);\n\t\t\t\tif (typeof targetObj !== 'undefined') targetObj.val(JSON.stringify(arr));\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\tcopySelectedOptions: function(source, destination) {\n\t\t\tlet srcObj = jQuery(source);\n\t\t\tlet destObj = jQuery(destination);\n\n\t\t\tif (typeof srcObj === 'undefined' || typeof destObj === 'undefined') return;\n\n\t\t\tfor (let i = 0; i < srcObj[0].length; i++) {\n\t\t\t\tif (srcObj[0].options[i].selected == true) {\n\t\t\t\t\tlet rowFound = false;\n\t\t\t\t\tlet existingObj = null;\n\t\t\t\t\tfor (let j = 0; j < destObj[0].length; j++) {\n\t\t\t\t\t\tif (destObj[0].options[j].value == srcObj[0].options[i].value) {\n\t\t\t\t\t\t\trowFound = true;\n\t\t\t\t\t\t\texistingObj = destObj[0].options[j];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowFound != true) {\n\t\t\t\t\t\tlet opt = $('<option selected>');\n\t\t\t\t\t\topt.attr('value', srcObj[0].options[i].value);\n\t\t\t\t\t\topt.text(srcObj[0].options[i].text);\n\t\t\t\t\t\tjQuery(destObj[0]).append(opt);\n\t\t\t\t\t\tsrcObj[0].options[i].selected = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (existingObj != null) {\n\t\t\t\t\t\t\texistingObj.selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsrcObj.trigger('change');\n\t\t\tdestObj.trigger('change');\n\t\t},\n\t\tremoveSelectedOptions: function(objName) {\n\t\t\tvar obj = jQuery(objName);\n\t\t\tif (!obj.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = obj[0].options.length - 1; i >= 0; i--) {\n\t\t\t\tif (obj[0].options[i].selected == true) {\n\t\t\t\t\tobj[0].options[i] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsanitizeAndSubmit: function() {\n\t\t\tif (!ImportJs.sanitizeFieldMapping()) return false;\n\t\t\tif (!ImportJs.validateCustomMap()) return false;\n\t\t\treturn true;\n\t\t},\n\t\tsanitizeFieldMapping: function() {\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tvar mappedFields = {};\n\t\t\tvar inventoryMappedFields = {};\n\t\t\tvar errorMessage;\n\t\t\tvar params = {};\n\t\t\tvar mappedDefaultValues = {};\n\t\t\tfor (var i = 0; i < fieldsList.length; ++i) {\n\t\t\t\tvar fieldElement = jQuery(fieldsList.get(i));\n\t\t\t\tvar rowId = jQuery('[name=row_counter]', fieldElement).get(0).value;\n\t\t\t\tvar selectElement = jQuery('select', fieldElement);\n\t\t\t\tvar selectedFieldElement = selectElement.find('option:selected');\n\t\t\t\tvar selectedFieldName = selectedFieldElement.val();\n\t\t\t\tvar selectedFieldDefaultValueElement = jQuery('#' + selectedFieldName + '_defaultvalue', fieldElement);\n\t\t\t\tvar defaultValue = '';\n\t\t\t\tif (selectedFieldDefaultValueElement.attr('type') == 'checkbox') {\n\t\t\t\t\tdefaultValue = selectedFieldDefaultValueElement.is(':checked');\n\t\t\t\t} else {\n\t\t\t\t\tdefaultValue = selectedFieldDefaultValueElement.val();\n\t\t\t\t}\n\t\t\t\tif (selectedFieldName != '') {\n\t\t\t\t\tvar stopImmediately;\n\t\t\t\t\tif (selectElement.hasClass('inventory')) {\n\t\t\t\t\t\tstopImmediately = ImportJs.checkIfMappedFieldExist(\n\t\t\t\t\t\t\tselectedFieldName,\n\t\t\t\t\t\t\tinventoryMappedFields,\n\t\t\t\t\t\t\tselectedFieldElement\n\t\t\t\t\t\t);\n\t\t\t\t\t\tinventoryMappedFields[selectedFieldName] = rowId - 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstopImmediately = ImportJs.checkIfMappedFieldExist(\n\t\t\t\t\t\t\tselectedFieldName,\n\t\t\t\t\t\t\tmappedFields,\n\t\t\t\t\t\t\tselectedFieldElement\n\t\t\t\t\t\t);\n\t\t\t\t\t\tmappedFields[selectedFieldName] = rowId - 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (stopImmediately) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (defaultValue != '') {\n\t\t\t\t\t\tmappedDefaultValues[selectedFieldName] = defaultValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar mandatoryFields = JSON.parse(jQuery('#mandatory_fields').val());\n\t\t\tvar missingMandatoryFields = [];\n\t\t\tfor (var mandatoryFieldName in mandatoryFields) {\n\t\t\t\tif (mandatoryFieldName in mappedFields) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tmissingMandatoryFields.push('\"' + mandatoryFields[mandatoryFieldName] + '\"');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (missingMandatoryFields.length > 0) {\n\t\t\t\terrorMessage = app.vtranslate('JS_MAP_MANDATORY_FIELDS') + missingMandatoryFields.join(',');\n\t\t\t\tparams = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tjQuery('#field_mapping').val(JSON.stringify(mappedFields));\n\t\t\tjQuery('#inventory_field_mapping').val(JSON.stringify(inventoryMappedFields));\n\t\t\tjQuery('#default_values').val(JSON.stringify(mappedDefaultValues));\n\t\t\treturn true;\n\t\t},\n\t\tcheckIfMappedFieldExist: function(selectedFieldName, mappedFields, selectedFieldElement) {\n\t\t\tif (selectedFieldName in mappedFields) {\n\t\t\t\tvar errorMessage =\n\t\t\t\t\tapp.vtranslate('JS_FIELD_MAPPED_MORE_THAN_ONCE') + ' ' + selectedFieldElement.data('label');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tvalidateCustomMap: function() {\n\t\t\tvar errorMessage;\n\t\t\tvar params = {};\n\t\t\tvar saveMap = jQuery('#save_map').is(':checked');\n\t\t\tif (saveMap) {\n\t\t\t\tvar mapName = jQuery('#save_map_as').val();\n\t\t\t\tif (jQuery.trim(mapName) == '') {\n\t\t\t\t\terrorMessage = app.vtranslate('JS_MAP_NAME_CAN_NOT_BE_EMPTY');\n\t\t\t\t\tparams = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar mapOptions = jQuery('#saved_maps option');\n\t\t\t\tfor (var i = 0; i < mapOptions.length; ++i) {\n\t\t\t\t\tvar mapOption = jQuery(mapOptions.get(i));\n\t\t\t\t\tif (mapOption.html() == mapName) {\n\t\t\t\t\t\terrorMessage = app.vtranslate('JS_MAP_NAME_ALREADY_EXISTS');\n\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tloadSavedMap: function() {\n\t\t\tvar selectedMapElement = jQuery('#saved_maps option:selected');\n\t\t\tvar mapId = selectedMapElement.attr('id');\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tvar deleteMapContainer = jQuery('#delete_map_container');\n\t\t\tfieldsList.each(function(i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tjQuery('[name=mapped_fields]', fieldElement).val('');\n\t\t\t});\n\t\t\tif (mapId == -1) {\n\t\t\t\tdeleteMapContainer.hide();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdeleteMapContainer.show();\n\t\t\tvar mappingString = selectedMapElement.val();\n\t\t\tif (mappingString == '') return;\n\t\t\tvar mappingPairs = mappingString.split('&');\n\t\t\tvar mapping = {};\n\t\t\tfor (var i = 0; i < mappingPairs.length; ++i) {\n\t\t\t\tvar mappingPair = mappingPairs[i].split('=');\n\t\t\t\tvar header = mappingPair[0];\n\t\t\t\theader = header.replace(/\\/eq\\//g, '=');\n\t\t\t\theader = header.replace(/\\/amp\\//g, '&');\n\t\t\t\tmapping[\"'\" + header + \"'\"] = mappingPair[1];\n\t\t\t}\n\t\t\tfieldsList.each(function(i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tvar mappedFields = jQuery('[name=mapped_fields]', fieldElement);\n\t\t\t\tvar rowId = jQuery('[name=row_counter]', fieldElement).get(0).value;\n\t\t\t\tvar headerNameElement = jQuery('[name=header_name]', fieldElement).get(0);\n\t\t\t\tvar headerName = jQuery(headerNameElement).html();\n\t\t\t\tif (\"'\" + headerName + \"'\" in mapping) {\n\t\t\t\t\tmappedFields.val(mapping[\"'\" + headerName + \"'\"]);\n\t\t\t\t} else if (rowId in mapping) {\n\t\t\t\t\tmappedFields.val($rowId);\n\t\t\t\t}\n\t\t\t\tmappedFields.trigger('change');\n\t\t\t\tImportJs.loadDefaultValueWidget(fieldElement.attr('id'));\n\t\t\t});\n\t\t},\n\t\tdeleteMap: function(module) {\n\t\t\tlet callback = function() {\n\t\t\t\tvar selectedMapElement = jQuery('#saved_maps option:selected');\n\t\t\t\tvar mapId = selectedMapElement.attr('id');\n\t\t\t\tvar status = jQuery('#status');\n\t\t\t\tstatus.show();\n\t\t\t\tvar postData = {\n\t\t\t\t\tmodule: module,\n\t\t\t\t\tview: 'Import',\n\t\t\t\t\tmode: 'deleteMap',\n\t\t\t\t\tmapid: mapId\n\t\t\t\t};\n\n\t\t\t\tAppConnector.request(postData)\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tlet mapContainer = $('#savedMapsContainer').html(data);\n\t\t\t\t\t\tstatus.hide();\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(mapContainer.find('select'));\n\t\t\t\t\t\tvar parent = jQuery('#saved_maps');\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(parent);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t});\n\t\t\t};\n\t\t\tapp.showConfirmModal(app.vtranslate('LBL_DELETE_CONFIRMATION'), callback);\n\t\t},\n\t\tloadDefaultValueWidget: function(rowIdentifierId) {\n\t\t\tvar affectedRow = jQuery('#' + rowIdentifierId);\n\t\t\tif (typeof affectedRow === 'undefined' || affectedRow == null) return;\n\t\t\tvar selectedFieldElement = jQuery('[name=mapped_fields]', affectedRow).get(0);\n\t\t\tvar selectedFieldName = jQuery(selectedFieldElement).val();\n\t\t\tvar defaultValueContainer = jQuery(jQuery('[name=default_value_container]', affectedRow).get(0));\n\t\t\tvar allDefaultValuesContainer = jQuery('#defaultValuesElementsContainer');\n\t\t\tif (defaultValueContainer.children.length > 0) {\n\t\t\t\tvar copyOfDefaultValueWidget = jQuery(':first', defaultValueContainer).detach();\n\t\t\t\tcopyOfDefaultValueWidget.appendTo(allDefaultValuesContainer);\n\t\t\t}\n\t\t\tvar selectedFieldDefValueContainer = jQuery(\n\t\t\t\t'#' + selectedFieldName + '_defaultvalue_container',\n\t\t\t\tallDefaultValuesContainer\n\t\t\t);\n\t\t\tvar defaultValueWidget = selectedFieldDefValueContainer.detach();\n\t\t\tdefaultValueWidget.appendTo(defaultValueContainer);\n\t\t},\n\t\tloadDefaultValueWidgetForMappedFields: function() {\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tfieldsList.each(function(i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tvar mappedFieldName = jQuery('[name=mapped_fields]', fieldElement).val();\n\t\t\t\tif (mappedFieldName != '') {\n\t\t\t\t\tImportJs.loadDefaultValueWidget(fieldElement.attr('id'));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsubmitAction: function() {\n\t\t\tvar form = jQuery('[name=\"importAdvanced\"]');\n\t\t\tform.on('submit', function() {\n\t\t\t\t$.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\topenListInModal: function() {\n\t\t\t$('.js-open-list-in-modal').on('click', function() {\n\t\t\t\tlet element = $(this),\n\t\t\t\t\tmoduleName = element.data('module-name'),\n\t\t\t\t\ttype = '',\n\t\t\t\t\tforUser = element.data('for-user'),\n\t\t\t\t\tforModule = element.data('for-module');\n\t\t\t\tif ($(this).attr('data-type') !== '') {\n\t\t\t\t\ttype = '&type=' + element.data('type');\n\t\t\t\t}\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=' +\n\t\t\t\t\t\tmoduleName +\n\t\t\t\t\t\t'&view=List&mode=getImportDetails' +\n\t\t\t\t\t\ttype +\n\t\t\t\t\t\t'&start=1&foruser=' +\n\t\t\t\t\t\tforUser +\n\t\t\t\t\t\t'&forModule=' +\n\t\t\t\t\t\tforModule,\n\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\tlet container = data.find('.listViewEntriesDiv'),\n\t\t\t\t\t\t\tcontainerH = container.height(),\n\t\t\t\t\t\t\tcontainerOffsetTop = container.offset().top,\n\t\t\t\t\t\t\tfooterH = $('.js-footer').height(),\n\t\t\t\t\t\t\twindowH = $(window).height();\n\t\t\t\t\t\tif (Quasar.plugins.Platform.is.desktop) {\n\t\t\t\t\t\t\tif (containerH + containerOffsetTop + footerH > windowH) {\n\t\t\t\t\t\t\t\tcontainer.height(windowH - (containerOffsetTop + footerH));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showNewScrollbarTopBottomRight(container);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t};\n\n\tjQuery(document).ready(function() {\n\t\tImportJs.toogleMergeConfiguration();\n\t\tImportJs.openListInModal();\n\t\tImportJs.submitAction();\n\t\tImportJs.loadDefaultValueWidgetForMappedFields();\n\t\tImportJs.registerImportClickEvent();\n\t\tApp.Fields.Date.register(jQuery('.contentsDiv'));\n\t});\n}\n"],"names":["toogleMergeConfiguration","jQuery","is","duplicateMergeConfiguration","mergeChecked","show","hide","checkFileType","val","filePath","split","pop","fileExtension","ImportJs","handleFileTypeChange","delimiterContainer","hasHeaderContainer","xmlTpl","extension","fileType","addClass","removeClass","uploadAndParse","validateFilePath","validateMergeCriteria","registerImportClickEvent","$","removeAttr","on","sanitizeAndSubmit","importFile","trim","app","vtranslate","showMessage","text","errorMessage","type","focus","uploadFilter","uploadFileSize","elementId","allowedExtensions","obj","fileParts","toLowerCase","length","validExtensions","indexOf","importMaxUploadSize","element","closest","data","importMaxUploadSizeInMb","uploadedFileSize","get","files","size","convertOptionsToJSONArray","objName","targetObjName","arr","i","push","options","value","targetObj","JSON","stringify","copySelectedOptions","source","destination","destObj","srcObj","selected","existingObj","j","rowFound","opt","attr","append","trigger","removeSelectedOptions","sanitizeFieldMapping","validateCustomMap","fieldsList","mappedFields","inventoryMappedFields","params","mappedDefaultValues","rowId","fieldElement","selectElement","selectedFieldElement","find","selectedFieldName","selectedFieldDefaultValueElement","defaultValue","hasClass","stopImmediately","checkIfMappedFieldExist","parse","missingMandatoryFields","mandatoryFieldName","mandatoryFields","join","Vtiger_Helper_Js","saveMap","mapName","mapOptions","mapOption","html","loadSavedMap","mapId","selectedMapElement","deleteMapContainer","each","mappingString","mapping","mappingPairs","header","mappingPair","replace","headerNameElement","headerName","$rowId","loadDefaultValueWidget","deleteMap","module","showConfirmModal","status","AppConnector","request","view","mode","mapid","done","App","Fields","Picklist","showSelect2ElementView","mapContainer","changeSelectElementView","parent","fail","error","console","rowIdentifierId","affectedRow","defaultValueContainer","allDefaultValuesContainer","children","detach","copyOfDefaultValueWidget","appendTo","defaultValueWidget","selectedFieldDefValueContainer","loadDefaultValueWidgetForMappedFields","mappedFieldName","submitAction","form","progressIndicator","message","position","blockInfo","enabled","openListInModal","moduleName","forUser","forModule","showModalWindow","containerH","container","height","containerOffsetTop","offset","top","footerH","windowH","window","Quasar","plugins","Platform","desktop","showNewScrollbarTopBottomRight","document","ready","Date","register"],"mappings":"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"}