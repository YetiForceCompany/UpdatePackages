{"version":3,"file":"RelatedList.min.js","sources":["RelatedList.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_RelatedList_Js',\n\t{\n\t\trelatedListInstance: false,\n\t\tgetInstance: function (\n\t\t\tparentId,\n\t\t\tparentModule,\n\t\t\tselectedRelatedTabElement,\n\t\t\trelatedModuleName,\n\t\t\turl\n\t\t) {\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== relatedModuleName\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.parentRecordId = parentId;\n\t\t\t\tinstance.parentModuleName = parentModule;\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.moduleName = relatedModuleName;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $(\n\t\t\t\t\t'div.contents',\n\t\t\t\t\tinstance.relatedTabsContainer.closest('div.detailViewContainer')\n\t\t\t\t);\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parseUrlParams(url);\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\ttriggerMassAction: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet validationResult = self.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\t\tpostData = self.getCompleteParams();\n\t\t\t\tdelete postData.mode;\n\t\t\t\tdelete postData.view;\n\t\t\t\tpostData.viewname = cvId;\n\t\t\t\tpostData.selected_ids = selectedIds;\n\t\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\t\tlet actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdata: postData\n\t\t\t\t};\n\t\t\t\tif (type === 'sendByForm') {\n\t\t\t\t\tapp.openUrlMethodPost(massActionUrl, postData);\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t} else {\n\t\t\t\t\tAppConnector.request(actionParams)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (responseData && responseData.result !== null) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.reloadList) {\n\t\t\t\t\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.procesStop) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Method to verify if selected files exist\n\t\t * @param {int} selectedIds\n\t\t * @return boolean\n\t\t */\n\t\tverifyFileExist: function (selectedIds) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'Documents',\n\t\t\t\taction: 'CheckFileIntegrity',\n\t\t\t\tmode: 'multiple',\n\t\t\t\trecord: selectedIds\n\t\t\t}).done(function (responseData) {\n\t\t\t\tif (responseData && responseData.result !== null) {\n\t\t\t\t\tif (responseData.result.message) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({ text: responseData.result.message });\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Method to trigger mass download action\n\t\t * @param massActionUrl\n\t\t * @param type\n\t\t */\n\t\ttriggerMassDownload: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance,\n\t\t\t\tthisInstance = this;\n\t\t\tthis.verifyFileExist(self.readSelectedIds(true)).done(function (data) {\n\t\t\t\tif (true === data) {\n\t\t\t\t\tthisInstance.triggerMassAction(\n\t\t\t\t\t\tmassActionUrl.substring(0, massActionUrl.indexOf('&mode=multiple')),\n\t\t\t\t\t\ttype\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\tselectedRelatedTabElement: false,\n\t\tparentRecordId: false,\n\t\tparentModuleName: false,\n\t\tmoduleName: false,\n\t\trelatedTabsContainer: false,\n\t\tcontent: false,\n\t\tlistSearchInstance: false,\n\t\tdetailViewContentHolder: false,\n\t\trelatedView: false,\n\t\tframeProgress: false,\n\t\tnoEventsListSearch: false,\n\t\tlistViewContainer: false,\n\t\tdefaultParams: {},\n\t\tsetSelectedTabElement: function (tabElement) {\n\t\t\tthis.selectedRelatedTabElement = tabElement;\n\t\t},\n\t\tgetSelectedTabElement: function () {\n\t\t\treturn this.selectedRelatedTabElement;\n\t\t},\n\t\tgetParentId: function () {\n\t\t\treturn this.parentRecordId;\n\t\t},\n\t\tgetRelatedContainer: function () {\n\t\t\treturn this.content;\n\t\t},\n\t\tsetRelatedContainer: function (container) {\n\t\t\tthis.content = container;\n\t\t\tthis.relatedView = container.find('input.relatedView').val();\n\t\t},\n\t\tgetContentHolder: function () {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = $('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\tgetCurrentPageNum: function () {\n\t\t\treturn $('input[name=\"currentPageNum\"]', this.content).val();\n\t\t},\n\t\tsetCurrentPageNumber: function (pageNumber) {\n\t\t\t$('input[name=\"currentPageNum\"]', this.content).val(pageNumber);\n\t\t},\n\t\tgetOrderBy: function () {\n\t\t\treturn $('#orderBy', this.content).val();\n\t\t},\n\t\tgetDefaultParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = this.defaultParams;\n\t\t\tparams['page'] = this.getCurrentPageNum();\n\t\t\tparams['orderby'] = this.getOrderBy();\n\t\t\tif (container.find('#relationId').val()) {\n\t\t\t\tparams['relationId'] = container.find('#relationId').val();\n\t\t\t}\n\t\t\tif (container.find('.pagination').length) {\n\t\t\t\tparams['totalCount'] = container.find('.pagination').data('totalCount');\n\t\t\t}\n\t\t\tif (container.find('.entityState').length) {\n\t\t\t\tparams['entityState'] = container.find('.entityState').val();\n\t\t\t}\n\t\t\tif (this.listSearchInstance) {\n\t\t\t\tparams.search_params = JSON.stringify(this.listSearchInstance.getListSearchParams());\n\t\t\t\tlet searchValue = this.listSearchInstance.getAlphabetSearchValue();\n\t\t\t\tif (typeof searchValue !== 'undefined' && searchValue.length > 0) {\n\t\t\t\t\tparams['search_key'] = this.listSearchInstance.getAlphabetSearchField();\n\t\t\t\t\tparams['search_value'] = searchValue;\n\t\t\t\t\tparams['operator'] = 's';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.moduleName == 'Calendar') {\n\t\t\t\tlet switchBtn = container.find('.js-switch--calendar');\n\t\t\t\tif (switchBtn.length) {\n\t\t\t\t\tparams.time = switchBtn.first().prop('checked') ? 'current' : 'history';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\tgetCompleteParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = {\n\t\t\t\tview: 'Detail',\n\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\trecord: this.getParentId(),\n\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\trelatedView: this.relatedView,\n\t\t\t\tmode: 'showRelatedList',\n\t\t\t\ttab_label: container.find('#tab_label').val()\n\t\t\t};\n\t\t\treturn $.extend(this.getDefaultParams(), params);\n\t\t},\n\t\tparseUrlParams: function (url) {\n\t\t\tif (url) {\n\t\t\t\tthis.defaultParams = app.convertUrlToObject(url);\n\t\t\t} else {\n\t\t\t\tthis.defaultParams = {};\n\t\t\t}\n\t\t},\n\t\tloadRelatedList: function (params) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (typeof thisInstance.moduleName === 'undefined' || thisInstance.moduleName.length <= 0) {\n\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet completeParams = this.getCompleteParams();\n\t\t\tlet activeTabsReference = thisInstance.relatedTabsContainer\n\t\t\t\t.find('li.active')\n\t\t\t\t.data('reference');\n\t\t\tAppConnector.request($.extend(completeParams, params))\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (activeTabsReference !== 'ProductsAndServices') {\n\t\t\t\t\t\tthisInstance.relatedTabsContainer.find('li').removeClass('active');\n\t\t\t\t\t\tthisInstance.selectedRelatedTabElement.addClass('active');\n\t\t\t\t\t\tthisInstance.content.html(responseData);\n\t\t\t\t\t\t$('.pageNumbers', thisInstance.content).tooltip();\n\t\t\t\t\t\tthisInstance.registerPostLoadEvents();\n\t\t\t\t\t\tthisInstance.registerListEvents();\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_ALLOWED_VALUE'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\ttriggerDisplayTypeEvent: function () {\n\t\t\tlet widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\t\tif (widthType) {\n\t\t\t\tlet elements = this.content.find('.listViewEntriesTable').find('td,th');\n\t\t\t\telements.attr('class', widthType);\n\t\t\t}\n\t\t},\n\t\tshowSelectRelation: function (extendParams) {\n\t\t\tlet params = $.extend(this.getRecordsListParams(), extendParams);\n\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\tthis.addRelations(Object.keys(responseData)).done(() => {\n\t\t\t\t\t\tapp.event.trigger(\n\t\t\t\t\t\t\t'RelatedListView.AfterSelectRelation',\n\t\t\t\t\t\t\tresponseData,\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tinstance,\n\t\t\t\t\t\t\tparams\n\t\t\t\t\t\t);\n\t\t\t\t\t\tlet detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tthis.loadRelatedList().done(function () {\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (this.getSelectedTabElement().data('link-key') === 'LBL_RECORD_SUMMARY') {\n\t\t\t\t\t\t\tdetail.loadWidgets();\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetRecordsListParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: this.moduleName,\n\t\t\t\tsrc_module: this.parentModuleName,\n\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t},\n\t\taddRelations: function (idList, params = {}) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(\n\t\t\t\t$.extend(\n\t\t\t\t\t{\n\t\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\tmode: 'addRelation',\n\t\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\t\trelated_record_list: $.isArray(idList) ? JSON.stringify(idList) : idList\n\t\t\t\t\t},\n\t\t\t\t\tparams\n\t\t\t\t)\n\t\t\t)\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tdeleteRelation(target) {\n\t\t\tlet params = {};\n\t\t\tif (target.data('url')) {\n\t\t\t\tparams = target.data('url');\n\t\t\t} else {\n\t\t\t\tlet id = target.data('id') ? target.data('id') : target.closest('tr').data('id');\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'deleteRelation',\n\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelated_record_list: JSON.stringify([id])\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: { enabled: true }\n\t\t\t});\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\tlet widget = target.closest('.widgetContentBlock');\n\t\t\t\t\t\tconst detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\tdetail.loadWidget(widget);\n\t\t\t\t\t\t\tlet updatesWidget = this.getContentHolder().find('[data-type=\"Updates\"]');\n\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\tdetail.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_CANNOT_REMOVE_RELATION'));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (err, errThrow) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_CANNOT_REMOVE_RELATION'));\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tnextPageHandler: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet pageLimit = jQuery('#pageLimit', this.content).val();\n\t\t\tlet noOfEntries = jQuery('#noOfEntries', this.content).val();\n\t\t\tif (noOfEntries == pageLimit) {\n\t\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\t\tlet nextPage = parseInt(pageNumber) + 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: nextPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(nextPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tpreviousPageHandler: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\tif (pageNumber > 1) {\n\t\t\t\tlet previousPage = parseInt(pageNumber) - 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: previousPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(previousPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle select page jump in related list\n\t\t */\n\t\tselectPageHandler: function (pageNumber) {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tthis.loadRelatedList({\n\t\t\t\tpage: pageNumber\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tthisInstance.setCurrentPageNumber(pageNumber);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle page jump in related list\n\t\t */\n\t\tpageJumpHandler: function (e) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (e.which == 13) {\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\t\t\t\tlet response = Vtiger_WholeNumberGreaterThanZero_Validator_Js.invokeValidation(element);\n\t\t\t\tif (typeof response !== 'undefined') {\n\t\t\t\t\telement.validationEngine('showPrompt', response, '', 'topLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\telement.validationEngine('hideAll');\n\t\t\t\t\tlet jumpToPage = parseInt(element.val());\n\t\t\t\t\tlet totalPages = parseInt(jQuery('#totalPageCount', thisInstance.content).text());\n\t\t\t\t\tif (jumpToPage > totalPages) {\n\t\t\t\t\t\tlet error = app.vtranslate('JS_PAGE_NOT_EXIST');\n\t\t\t\t\t\telement.validationEngine('showPrompt', error, '', 'topLeft', true);\n\t\t\t\t\t}\n\t\t\t\t\tlet invalidFields = element.parent().find('.formError');\n\t\t\t\t\tif (invalidFields.length < 1) {\n\t\t\t\t\t\tlet currentPage = jQuery('input[name=\"currentPageNum\"]', thisInstance.content).val();\n\t\t\t\t\t\tif (jumpToPage == currentPage) {\n\t\t\t\t\t\t\tlet message = app.vtranslate('JS_YOU_ARE_IN_PAGE_NUMBER') + ' ' + jumpToPage;\n\t\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\t\t\tpage: jumpToPage\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\tthisInstance.setCurrentPageNumber(jumpToPage);\n\t\t\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to add related record for the module\n\t\t */\n\t\taddRelatedRecord: function (element, callback) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet referenceModuleName = this.moduleName;\n\t\t\tlet parentId = this.getParentId();\n\t\t\tlet parentModule = this.parentModuleName;\n\t\t\tlet quickCreateParams = {};\n\t\t\tlet relatedParams = {};\n\t\t\tlet relatedField = element.data('name');\n\t\t\tlet fullFormUrl = element.data('url');\n\t\t\tif (relatedField) {\n\t\t\t\trelatedParams[relatedField] = parentId;\n\t\t\t}\n\t\t\tlet eliminatedKeys = new Array('view', 'module', 'mode', 'action');\n\t\t\tlet preQuickCreateSave = function (data) {\n\t\t\t\tlet index, queryParam, queryParamComponents;\n\t\t\t\tlet queryParameters = [];\n\n\t\t\t\t//To handle switch to task tab when click on add task from related list of activities\n\t\t\t\t//As this is leading to events tab intially even clicked on add task\n\t\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\t\tqueryParameters = queryString.split('&');\n\t\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\t\tif (queryParamComponents[0] == 'mode' && queryParamComponents[1] == 'Calendar') {\n\t\t\t\t\t\t\tdata.find('a[data-tab-name=\"Task\"]').trigger('click');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceModule\" value=\"' + parentModule + '\" />').appendTo(\n\t\t\t\t\tdata\n\t\t\t\t);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceRecord\" value=\"' + parentId + '\" />').appendTo(\n\t\t\t\t\tdata\n\t\t\t\t);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" />').appendTo(data);\n\n\t\t\t\tif (typeof relatedField !== 'undefined') {\n\t\t\t\t\tlet field = data.find('[name=\"' + relatedField + '\"]');\n\t\t\t\t\t//If their is no element with the relatedField name,we are adding hidden element with\n\t\t\t\t\t//name as relatedField name,for saving of record with relation to parent record\n\t\t\t\t\tif (field.length == 0) {\n\t\t\t\t\t\tjQuery(\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"' + relatedField + '\" value=\"' + parentId + '\" />'\n\t\t\t\t\t\t).appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (\n\t\t\t\t\t\tjQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1' &&\n\t\t\t\t\t\tdata.find('[name=\"' + queryParamComponents[0] + '\"]').length == 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tjQuery(\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"' +\n\t\t\t\t\t\t\t\tqueryParamComponents[0] +\n\t\t\t\t\t\t\t\t'\" value=\"' +\n\t\t\t\t\t\t\t\tqueryParamComponents[1] +\n\t\t\t\t\t\t\t\t'\" />'\n\t\t\t\t\t\t).appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof callback !== 'undefined') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.loadRelatedList().done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t//If url contains params then seperate them and make them as relatedParams\n\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\tlet queryParameters = queryString.split('&');\n\t\t\t\tfor (let index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParam = queryParameters[index];\n\t\t\t\t\tlet queryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (jQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1') {\n\t\t\t\t\t\trelatedParams[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\tquickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\tquickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\tquickCreateParams['noCache'] = true;\n\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, quickCreateParams);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelatedPageCount: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet element = this.content.find('#totalPageCount');\n\t\t\tlet totalCountElem = this.content.find('#totalCount');\n\t\t\tlet totalPageNumber = element.text();\n\t\t\tif (totalPageNumber == '') {\n\t\t\t\telement.progressIndicator({});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelatedModule: this.moduleName\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tlet pageCount = data['result']['page'];\n\t\t\t\t\t\tlet numberOfRecords = data['result']['numberOfRecords'];\n\t\t\t\t\t\ttotalCountElem.val(numberOfRecords);\n\t\t\t\t\t\telement.text(pageCount);\n\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tfavoritesRelation: function (relcrmId, state) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tif (relcrmId) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'updateFavoriteForRecord',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelcrmid: relcrmId,\n\t\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\tactionMode: state ? 'delete' : 'add'\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data.result) aDeferred.resolve(true);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.reject(false);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePreview: function (url) {\n\t\t\tlet frame = this.content.find('.listPreviewframe');\n\t\t\tthis.frameProgress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tmessage: app.vtranslate('JS_FRAME_IN_PROGRESS'),\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet defaultView = '';\n\t\t\tif (app.getMainParams('defaultDetailViewName')) {\n\t\t\t\tdefaultView =\n\t\t\t\t\tdefaultView +\n\t\t\t\t\t'&mode=showDetailViewByMode&requestMode=' +\n\t\t\t\t\tapp.getMainParams('defaultDetailViewName'); // full, summary\n\t\t\t}\n\t\t\tframe.attr('src', url.replace('view=Detail', 'view=DetailPreview') + defaultView);\n\t\t},\n\t\tregisterUnreviewedCountEvent: function () {\n\t\t\tlet ids = [];\n\t\t\tlet relatedContent = this.content;\n\t\t\tlet isUnreviewedActive = relatedContent.find('.unreviewed').length;\n\t\t\trelatedContent.find('tr.listViewEntries').each(function () {\n\t\t\t\tlet id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isUnreviewedActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'ChangesReviewedOn',\n\t\t\t\tmode: 'getUnreviewed',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: this.moduleName,\n\t\t\t\trecordsId: ids\n\t\t\t}).done(function (appData) {\n\t\t\t\tlet data = appData.result;\n\t\t\t\t$.each(data, function (id, value) {\n\t\t\t\t\tif (value.a > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.all')\n\t\t\t\t\t\t\t.text(value.a)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tif (value.m > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.mail')\n\t\t\t\t\t\t\t.text(value.m)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterChangeEntityStateEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\trelatedContent.on('click', '.dropdownEntityState a', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\trelatedContent.find('.entityState').val(element.data('value'));\n\t\t\t\trelatedContent.find('.pagination').data('totalCount', 0);\n\t\t\t\trelatedContent\n\t\t\t\t\t.find('.dropdownEntityState button')\n\t\t\t\t\t.find('span')\n\t\t\t\t\t.attr('class', element.find('span').attr('class'));\n\t\t\t\tthisInstance.loadRelatedList({ page: 1 });\n\t\t\t});\n\t\t},\n\t\tregisterRowsEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tif (this.relatedView === 'List' || this.relatedView === 'Detail') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tif ($(e.target).is('td')) {\n\t\t\t\t\t\tif (app.getViewName() == 'DetailPreview') {\n\t\t\t\t\t\t\tif ($(e.target).closest('tr').data('recordurl')) {\n\t\t\t\t\t\t\t\ttop.document.location.href = $(e.target).closest('tr').data('recordurl');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ($(e.target).closest('tr').data('recordurl')) {\n\t\t\t\t\t\t\t\tdocument.location.href = $(e.target).closest('tr').data('recordurl');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.content.find('.showInventoryRow').on('click', function (e) {\n\t\t\t\t\tlet target = $(this);\n\t\t\t\t\tlet row = target.closest('tr');\n\t\t\t\t\tlet inventoryRow = row.next();\n\t\t\t\t\tif (inventoryRow.hasClass('listViewInventoryEntries')) {\n\t\t\t\t\t\tinventoryRow.toggleClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tlet target = $(e.target);\n\t\t\t\t\tif (target.closest('div').hasClass('actions')) return;\n\t\t\t\t\tif (target.is('button') || target.parent().is('button')) return;\n\t\t\t\t\tif (target.closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif (target.is('input[type=\"checkbox\"]')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), target[0])) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), target[0])) return;\n\t\t\t\t\tlet recordUrl = $(this).data('recordurl');\n\t\t\t\t\tthisInstance.content.find('.listViewEntriesTable .listViewEntries').removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t\tthisInstance.updatePreview(recordUrl);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterSummationEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.on('click', '.listViewSummation button', function () {\n\t\t\t\tlet button = $(this);\n\t\t\t\tlet calculateValue = button.closest('td').find('.calculateValue');\n\t\t\t\tlet params = thisInstance.getCompleteParams();\n\t\t\t\tparams['action'] = 'RelationAjax';\n\t\t\t\tparams['mode'] = 'calculate';\n\t\t\t\tparams['fieldName'] = button.data('field');\n\t\t\t\tparams['calculateType'] = button.data('operator');\n\t\t\t\tdelete params['view'];\n\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_CALCULATING_IN_PROGRESS'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.hidePopover(button);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tcalculateValue.html(response.result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalculateValue.html('');\n\t\t\t\t\t}\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterPreviewEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet contentHeight = this.content.find('.js-detail-preview,.js-list-preview');\n\t\t\tcontentHeight.height(\n\t\t\t\tapp.getScreenHeight() - (this.content.offset().top + $('.js-footer').height())\n\t\t\t);\n\t\t\tthis.content.find('.listPreviewframe').on('load', function () {\n\t\t\t\tif (thisInstance.frameProgress) {\n\t\t\t\t\tthisInstance.frameProgress.progressIndicator({ mode: 'hide' });\n\t\t\t\t}\n\t\t\t\tcontentHeight.height($(this).contents().find('.bodyContents').height() + 2);\n\t\t\t});\n\t\t\tthis.content.find('.listViewEntriesTable .listViewEntries').first().trigger('click');\n\t\t},\n\t\tregisterPaginationEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\tthis.content.on('click', '#relatedViewNextPageButton', function (e) {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.nextPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedViewPreviousPageButton', function () {\n\t\t\t\tthisInstance.previousPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedListPageJump', function (e) {\n\t\t\t\tthisInstance.getRelatedPageCount();\n\t\t\t});\n\t\t\tthis.content\n\t\t\t\t.on('click', '#relatedListPageJumpDropDown > li', function (e) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t})\n\t\t\t\t.on('keypress', '#pageToJump', function (e) {\n\t\t\t\t\tthisInstance.pageJumpHandler(e);\n\t\t\t\t});\n\t\t\tthis.content.on('click', '.pageNumber', function () {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthisInstance.selectPageHandler($(this).data('id'));\n\t\t\t});\n\t\t\tthis.content.on('click', '#totalCountBtn', function () {\n\t\t\t\tapp.hidePopover($(this));\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: thisInstance.parentModuleName,\n\t\t\t\t\tview: 'Pagination',\n\t\t\t\t\tmode: 'getRelationPagination',\n\t\t\t\t\trecord: thisInstance.getParentId(),\n\t\t\t\t\trelatedModule: thisInstance.moduleName,\n\t\t\t\t\tnoOfEntries: $('#noOfEntries', relatedContent).val(),\n\t\t\t\t\tpage: relatedContent.find('[name=\"currentPageNum\"]').val()\n\t\t\t\t};\n\t\t\t\tif (relatedContent.find('.entityState').length) {\n\t\t\t\t\tparams['entityState'] = relatedContent.find('.entityState').val();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\trelatedContent.find('.paginationDiv').html(response);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterListEvents: function () {\n\t\t\tlet relatedContent = this.content;\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.find('a.favorites').on('click', function (e) {\n\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet row = element.closest('tr');\n\t\t\t\tthisInstance\n\t\t\t\t\t.favoritesRelation(row.data('id'), element.data('state'))\n\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\tlet state = element.data('state') ? 0 : 1;\n\t\t\t\t\t\t\telement.data('state', state);\n\t\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\t\telement.find('.far').addClass('d-none');\n\t\t\t\t\t\t\t\telement.find('.fas').removeClass('d-none');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telement.find('.fas').addClass('d-none');\n\t\t\t\t\t\t\t\telement.find('.far').removeClass('d-none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tlet text = app.vtranslate('JS_REMOVED_FROM_FAVORITES');\n\t\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\t\ttext = app.vtranslate('JS_ADDED_TO_FAVORITES');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({ text: text, type: 'success' });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t\tthis.content.find('[name=\"addButton\"]').on('click', function (e) {\n\t\t\t\tconst element = $(this);\n\t\t\t\tif (element.hasClass('quickCreateSupported') !== true) {\n\t\t\t\t\tapp.openUrl(element.data('url'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.addRelatedRecord(element);\n\t\t\t});\n\t\t\tthis.content.find('.relatedHeader button.selectRelation').on('click', function (e) {\n\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\tlet params = {\n\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t};\n\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tsearch_key: restrictionsField.key,\n\t\t\t\t\t\tsearch_value: restrictionsField.name,\n\t\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthisInstance.showSelectRelation(params);\n\t\t\t});\n\t\t\tthis.content.find('button.relationDelete').on('click', function (e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tlet target = $(e.currentTarget);\n\t\t\t\tlet params = {};\n\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\tparams.message = target.data('confirm');\n\t\t\t\t\tparams.title = target.html() + ' ' + target.data('content');\n\t\t\t\t} else if (target.data('content')) {\n\t\t\t\t\tparams.message = target.data('content');\n\t\t\t\t} else {\n\t\t\t\t\tparams.message = app.vtranslate('JS_DELETE_CONFIRMATION');\n\t\t\t\t}\n\t\t\t\tVtiger_Helper_Js.showConfirmationBox(params).done(function () {\n\t\t\t\t\tthisInstance.deleteRelation(target);\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.content.find('.js-switch--calendar').on('change', function (e) {\n\t\t\t\tthisInstance.loadRelatedList();\n\t\t\t});\n\t\t\tthis.content.find('.relatedViewGroup a').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tthisInstance.relatedView = element.data('view');\n\t\t\t\trelatedContent.find('.pagination').data('totalCount', 0);\n\t\t\t\tthisInstance.loadRelatedList({ page: 1 });\n\t\t\t});\n\t\t},\n\t\tregisterPostLoadEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.registerRowsEvent();\n\t\t\tthis.registerListScroll();\n\t\t\tif (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.registerPreviewEvent();\n\t\t\t\tif (!this.content.find('.gutter').length) {\n\t\t\t\t\tif (!this.content.find('.js-list-preview').length) return;\n\t\t\t\t\tthis.setDomParams(this.content);\n\t\t\t\t\tthis.toggleSplit(this.content);\n\t\t\t\t\tthis.registerListPreviewEvents();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.content.find('.listViewSearchTd [data-trigger=\"listSearch\"]').length) {\n\t\t\t\tthis.listSearchInstance = YetiForce_ListSearch_Js.getInstance(this.content, false, this);\n\t\t\t} else {\n\t\t\t\tthis.listSearchInstance = false;\n\t\t\t}\n\t\t\tapp.event.trigger('RelatedList.AfterLoad', thisInstance);\n\t\t},\n\t\tgetSecondColMinWidth: function (container) {\n\t\t\tlet maxWidth = 0,\n\t\t\t\tthisWidth;\n\t\t\tcontainer.find('.js-list__row').each(function (i) {\n\t\t\t\tthisWidth = $(this).find('.js-list__field').first().width();\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tmaxWidth = thisWidth;\n\t\t\t\t} else {\n\t\t\t\t\tthisWidth > maxWidth ? (maxWidth = thisWidth) : maxWidth;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn maxWidth;\n\t\t},\n\t\tsetDomParams: function (container) {\n\t\t\tthis.listColumnFirstWidth = container\n\t\t\t\t.find('.listViewEntriesDiv .listViewHeaders th')\n\t\t\t\t.first()\n\t\t\t\t.width();\n\t\t\tthis.listColumnSecondWidth = this.getSecondColMinWidth(container);\n\t\t\tthis.windowW = $(window).width();\n\t\t\tthis.mainBody = container.closest('.mainBody');\n\t\t\tthis.windowMinWidth = (15 / this.windowW) * 100;\n\t\t\tthis.windowMaxWidth = 100 - this.minWidth;\n\t\t\tthis.sideBlocks = container.find('.js-side-block');\n\t\t\tthis.sideBlockLeft = this.sideBlocks.first();\n\t\t\tthis.sideBlockRight = this.sideBlocks.last();\n\t\t\tthis.list = container.find('.js-list-preview');\n\t\t\tthis.preview = container.find('.js-detail-preview');\n\t\t\tthis.rotatedText = container.find('.u-rotate-90');\n\t\t\tthis.footerH = $('.js-footer').outerHeight();\n\t\t\tthis.headerH = $('.js-header').outerHeight();\n\t\t},\n\t\tgetDefaultSplitSizes: function () {\n\t\t\tlet thWidth =\n\t\t\t\t((this.listColumnFirstWidth + this.listColumnSecondWidth + 82) / this.windowW) * 100;\n\t\t\treturn [thWidth, 100 - thWidth];\n\t\t},\n\t\tgetSplitSizes() {\n\t\t\tconst cachedParams = app.moduleCacheGet('userRelatedSplitSet');\n\t\t\tif (cachedParams !== undefined) {\n\t\t\t\treturn cachedParams;\n\t\t\t} else {\n\t\t\t\treturn this.getDefaultSplitSizes();\n\t\t\t}\n\t\t},\n\t\tregisterListPreviewEvents() {\n\t\t\tapp.showNewScrollbarTopBottom(this.content.find('.js-list-preview--scroll'));\n\t\t\tapp.showNewScrollbarLeft(this.list);\n\t\t\tthis.list.on('click', '.listViewEntries', () => {\n\t\t\t\tif (this.split.getSizes()[1] < 10) {\n\t\t\t\t\tconst defaultGutterPosition = this.getDefaultSplitSizes();\n\t\t\t\t\tthis.split.setSizes(defaultGutterPosition);\n\t\t\t\t\tthis.preview.show();\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', defaultGutterPosition);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.registerScrollEvent();\n\t\t\t}\n\t\t},\n\t\tregisterScrollEvent() {\n\t\t\tthis.gutter.addClass('js-fixed-scroll');\n\t\t\tlet scrollContainer = App.Components.Scrollbar.page.element;\n\t\t\tlet listOffsetTop = this.list.offset().top - this.headerH;\n\t\t\tlet initialH = this.sideBlocks.height();\n\t\t\tlet mainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\tlet mainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\tlet fixedElements = this.mainBody.find('.js-fixed-scroll');\n\t\t\tif (!this.mainBody.length) {\n\t\t\t\tthis.mainBody = $(top.document).find('.mainBody');\n\t\t\t\tthis.headerH = $(top.document).find('.js-header').outerHeight();\n\t\t\t\tscrollContainer = top.window.App.Components.Scrollbar.page.element;\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tlistOffsetTop = this.list.offset().top + iframe.offset().top - this.headerH + 1;\n\t\t\t\tmainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\t\tmainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\t}\n\t\t\tconst onScroll = () => {\n\t\t\t\tif (scrollContainer.scrollTop() >= listOffsetTop) {\n\t\t\t\t\tfixedElements.css({ top: scrollContainer.scrollTop() - listOffsetTop });\n\t\t\t\t\tthis.sideBlocks.css({ top: scrollContainer.scrollTop() - listOffsetTop + 56 });\n\t\t\t\t\tfixedElements.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortWidthCss);\n\t\t\t\t} else {\n\t\t\t\t\tfixedElements.css({ top: 'initial' });\n\t\t\t\t\tfixedElements.css({ height: initialH + scrollContainer.scrollTop() });\n\t\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\t\twidth: initialH + scrollContainer.scrollTop(),\n\t\t\t\t\t\theight: initialH + scrollContainer.scrollTop()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tscrollContainer.on('scroll', onScroll);\n\t\t},\n\t\t/**\n\t\t * Registers split's events.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t * @param {Split} split - a split object.\n\t\t */\n\t\tregisterSplitEvents: function (container, split) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tlet minWindowWidth = (23 / this.windowW) * 100;\n\t\t\tlet maxWindowWidth = 100 - minWindowWidth;\n\t\t\tlet listPreview = container.find('.js-detail-preview');\n\t\t\tthis.gutter.on('dblclick', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (isNaN(this.split.getSizes()[0])) {\n\t\t\t\t\tthis.split.setSizes(gutterRelatedMidPosition);\n\t\t\t\t}\n\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t} else if (split.getSizes()[1] < 20) {\n\t\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tlistPreview.show();\n\t\t\t\t} else if (split.getSizes()[0] > 7 && split.getSizes()[0] < 50) {\n\t\t\t\t\tsplit.setSizes([minWindowWidth, maxWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t} else if (split.getSizes()[1] > 10 && split.getSizes()[1] < 50) {\n\t\t\t\t\tsplit.setSizes([maxWindowWidth, minWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\tlistPreview.hide();\n\t\t\t\t\t//this.list.width(this.list.width() - 10);\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockLeft.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockRight.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\tlistPreview.show();\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t},\n\t\tregisterSplit: function (container) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tconst splitSizes = this.getSplitSizes();\n\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', splitSizes);\n\t\t\tlet split = Split([this.list[0], this.preview[0]], {\n\t\t\t\tsizes: splitSizes,\n\t\t\t\tminSize: 10,\n\t\t\t\tgutterSize: 24,\n\t\t\t\tsnapOffset: 100,\n\t\t\t\tonDrag: () => {\n\t\t\t\t\tif (split.getSizes()[1] < rightSplitMaxWidth) {\n\t\t\t\t\t\tsplit.collapse(1);\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[1] < 10) {\n\t\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\t\tthis.preview.hide();\n\t\t\t\t\t\tthis.list.width(this.list.width() - 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.preview.show();\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] > 10 && split.getSizes()[1] > rightSplitMaxWidth) {\n\t\t\t\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', split.getSizes());\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.gutter = container.find('.gutter');\n\t\t\tif (splitSizes[0] < 10) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t} else if (splitSizes[1] < rightSplitMaxWidth) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\tthis.preview.hide();\n\t\t\t}\n\t\t\tlet mainWindowHeightCss = {\n\t\t\t\theight: $(window).height() - this.list.offset().top - this.footerH\n\t\t\t};\n\t\t\tif (!container.closest('.mainBody').length) {\n\t\t\t\tlet mainBody = $(top.document).find('.mainBody').height();\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tmainWindowHeightCss = {\n\t\t\t\t\theight: mainBody - this.list.offset().top - iframe.offset().top + 50\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.gutter.css(mainWindowHeightCss);\n\t\t\t\tthis.list.css(mainWindowHeightCss);\n\t\t\t\tthis.sideBlocks.css(mainWindowHeightCss);\n\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\twidth: this.sideBlockLeft.height(),\n\t\t\t\t\theight: this.sideBlockLeft.height()\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.registerSplitEvents(container, split);\n\t\t\treturn split;\n\t\t},\n\t\ttoggleSplit: function (container) {\n\t\t\tlet commactHeight = container.closest('.commonActionsContainer').height();\n\t\t\tlet splitsArray = [];\n\t\t\tthis.split = this.registerSplit(container);\n\t\t\tsplitsArray.push(this.split);\n\t\t\t$(window).on('resize', () => {\n\t\t\t\tif ($(window).width() < 993) {\n\t\t\t\t\tif (container.find('.gutter').length) {\n\t\t\t\t\t\tsplitsArray[splitsArray.length - 1].destroy();\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (container.find('.gutter').length !== 1) {\n\t\t\t\t\t\tthis.split = this.registerSplit(container);\n\t\t\t\t\t\tlet gutter = container.find('.gutter');\n\t\t\t\t\t\tif (this.mainBody.scrollTop() >= this.list.offset().top + commactHeight) {\n\t\t\t\t\t\t\tgutter.addClass('gutterOnScroll');\n\t\t\t\t\t\t\tgutter.css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\tgutter.on('mousedown', function () {\n\t\t\t\t\t\t\t\t$(this).on('mousemove', function (e) {\n\t\t\t\t\t\t\t\t\t$(this).css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsplitsArray.push(this.split);\n\t\t\t\t\t}\n\t\t\t\t\tlet currentSplit = splitsArray[splitsArray.length - 1];\n\t\t\t\t\tlet minWidth = (15 / $(window).width()) * 100;\n\t\t\t\t\tlet maxWidth = 100 - minWidth;\n\t\t\t\t\tif (typeof currentSplit === 'undefined') return;\n\t\t\t\t\tif (currentSplit.getSizes()[0] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([minWidth, maxWidth]);\n\t\t\t\t\t} else if (currentSplit.getSizes()[1] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([maxWidth, minWidth]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterListScroll: function () {\n\t\t\tlet container = $('.listViewEntriesDiv');\n\t\t\tif (this.relatedView !== 'ListPreview' && Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tcontainer.each((index, element) => {\n\t\t\t\t\tif (container.closest('.js-detail-widget-content').length) {\n\t\t\t\t\t\telement = container.closest('.js-detail-widget-content');\n\t\t\t\t\t\telement.each((i, el) => {\n\t\t\t\t\t\t\tApp.Components.Scrollbar.xy($(el));\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tApp.Components.Scrollbar.xy($(element));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetRecordsCount: function () {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\trecordCountVal = $('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tlet params = this.getCompleteParams();\n\t\t\t\tdelete params.view;\n\t\t\t\tparams.action = 'DetailAjax';\n\t\t\t\tparams.mode = 'getRecordsCount';\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t$('#recordsCount').val(data['result']['count']);\n\t\t\t\t\taDeferred.resolve(data['result']['count']);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tnoRecordSelectedAlert: function (text = 'JS_PLEASE_SELECT_ONE_RECORD') {\n\t\t\treturn Vtiger_Helper_Js.showPnotify({ text: app.vtranslate(text) });\n\t\t},\n\t\tgetCurrentCvId: function () {\n\t\t\treturn $('#customFilter').find('option:selected').data('id');\n\t\t},\n\t\tcheckListRecordSelected: function (minNumberOfRecords = 1) {\n\t\t\tlet selectedIds = this.readSelectedIds();\n\t\t\tif (typeof selectedIds === 'object' && selectedIds.length < minNumberOfRecords) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\treadSelectedIds: function (decode) {\n\t\t\tlet selectedIdsDataAttr = this.getCurrentCvId() + 'selectedIds',\n\t\t\t\tselectedIdsElementDataAttributes = $('#selectedIds').data(),\n\t\t\t\tselectedIds = [];\n\t\t\tif (!(selectedIdsDataAttr in selectedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeSelectedIds(selectedIds);\n\t\t\t} else {\n\t\t\t\tselectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof selectedIds == 'object') {\n\t\t\t\treturn JSON.stringify(selectedIds);\n\t\t\t}\n\t\t\treturn selectedIds;\n\t\t},\n\t\twriteSelectedIds: function (selectedIds) {\n\t\t\tif (!Array.isArray(selectedIds)) {\n\t\t\t\tselectedIds = [selectedIds];\n\t\t\t}\n\t\t\t$('#selectedIds').data(this.getCurrentCvId() + 'selectedIds', selectedIds);\n\t\t},\n\t\treadExcludedIds: function (decode) {\n\t\t\tlet excludedIdsDataAttr = this.getCurrentCvId() + 'Excludedids',\n\t\t\t\texcludedIdsElementDataAttributes = $('#excludedIds').data(),\n\t\t\t\texcludedIds = [];\n\t\t\tif (!(excludedIdsDataAttr in excludedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeExcludedIds(excludedIds);\n\t\t\t} else {\n\t\t\t\texcludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof excludedIds == 'object') {\n\t\t\t\treturn JSON.stringify(excludedIds);\n\t\t\t}\n\t\t\treturn excludedIds;\n\t\t},\n\t\twriteExcludedIds: function (excludedIds) {\n\t\t\t$('#excludedIds').data(this.getCurrentCvId() + 'Excludedids', excludedIds);\n\t\t},\n\t\tcheckSelectAll: function () {\n\t\t\tlet state = true;\n\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\tif ($(element).is(':checked')) {\n\t\t\t\t\tstate = true;\n\t\t\t\t} else {\n\t\t\t\t\tstate = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', state);\n\t\t\treturn state;\n\t\t},\n\t\tregisterCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '.relatedListViewEntriesCheckBox', function (e) {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds(),\n\t\t\t\t\telem = $(e.currentTarget);\n\t\t\t\tif (elem.is(':checked')) {\n\t\t\t\t\telem.closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.splice($.inArray(elem.val(), excludedIds), 1);\n\t\t\t\t\t} else if ($.inArray(elem.val(), selectedIds) == -1) {\n\t\t\t\t\t\tselectedIds.push(elem.val());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.push(elem.val());\n\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectedIds.splice($.inArray(elem.val(), selectedIds), 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself.checkSelectAll();\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterMainCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '#relatedListViewEntriesMainCheckBox', function () {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds();\n\t\t\t\tif ($('#relatedListViewEntriesMainCheckBox').is(':checked')) {\n\t\t\t\t\tlet recordCountObj = self.getRecordsCount();\n\t\t\t\t\trecordCountObj.done(function (data) {\n\t\t\t\t\t\t$('#totalRecordsCount').text(data);\n\t\t\t\t\t\tif ($('#deSelectAllMsgDiv').css('display') == 'none') {\n\t\t\t\t\t\t\t$('#selectAllMsgDiv').show();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all' && $.inArray($(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\texcludedIds.splice($.inArray($(element).val(), excludedIds), 1);\n\t\t\t\t\t\t} else if ($.inArray($(element).val(), selectedIds) == -1) {\n\t\t\t\t\t\t\tselectedIds.push($(element).val());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\texcludedIds.push($(element).val());\n\t\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselectedIds.splice($.inArray($(element).val(), selectedIds), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterSelectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#selectAllMsg', function () {\n\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t$('#deSelectAllMsgDiv').show();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds('all');\n\t\t\t});\n\t\t},\n\t\tregisterDeselectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#deSelectAllMsg', function () {\n\t\t\t\t$('#deSelectAllMsgDiv').hide();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds([]);\n\t\t\t\tself.writeExcludedIds([]);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register quick edit save event description.\n\t\t */\n\t\tregisterQuickEditSaveEvent() {\n\t\t\tapp.event.on('QuickEdit.AfterSaveFinal', (e, data, instance, element) => {\n\t\t\t\tif (this.moduleName === instance.data('moduleName')) {\n\t\t\t\t\tif (element.closest('.js-detail-widget').length) {\n\t\t\t\t\t\tVtiger_Detail_Js.getInstance().postSummaryWidgetAddRecord(data, element);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.loadRelatedList(data.result);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterRelatedEvents: function () {\n\t\t\tthis.registerUnreviewedCountEvent();\n\t\t\tthis.registerChangeEntityStateEvent();\n\t\t\tthis.registerPaginationEvents();\n\t\t\tthis.registerListEvents();\n\t\t\tthis.registerPostLoadEvents();\n\t\t\tthis.registerSummationEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t\tthis.registerQuickEditSaveEvent();\n\t\t\tYetiForce_ListSearch_Js.registerSearch(this.content, (data) => {\n\t\t\t\tthis.loadRelatedList(data);\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","relatedListInstance","getInstance","parentId","parentModule","selectedRelatedTabElement","relatedModuleName","url","Vtiger_RelatedList_Js","moduleName","moduleClassName","app","getModuleName","fallbackClassName","instance","parentRecordId","parentModuleName","relatedTabsContainer","closest","content","$","relatedView","find","val","parseUrlParams","setSelectedTabElement","triggerMassAction","massActionUrl","type","validationResult","self","checkListRecordSelected","progressIndicator","selectedIds","readSelectedIds","excludedIds","readExcludedIds","cvId","getCurrentCvId","postData","getCompleteParams","mode","view","viewname","selected_ids","excluded_ids","openUrlMethodPost","progressIndicatorElement","AppConnector","request","data","done","responseData","result","notify","Vtiger_Helper_Js","showMessage","reloadList","Vtiger_Detail_Js","reloadRelatedList","procesStop","fail","noRecordSelectedAlert","verifyFileExist","Deferred","module","action","record","message","showPnotify","text","aDeferred","resolve","promise","triggerMassDownload","thisInstance","substring","indexOf","listSearchInstance","detailViewContentHolder","frameProgress","noEventsListSearch","listViewContainer","defaultParams","tabElement","getSelectedTabElement","getParentId","getRelatedContainer","setRelatedContainer","container","getContentHolder","getCurrentPageNum","setCurrentPageNumber","pageNumber","getOrderBy","getDefaultParams","params","length","search_params","JSON","stringify","getListSearchParams","getAlphabetSearchValue","getAlphabetSearchField","searchValue","switchBtn","time","first","prop","relatedModule","tab_label","extend","convertUrlToObject","loadRelatedList","loadWidgets","position","blockInfo","enabled","completeParams","activeTabsReference","currentInstance","progressInstance","removeClass","addClass","html","tooltip","registerPostLoadEvents","registerListEvents","textStatus","errorThrown","reject","vtranslate","triggerDisplayTypeEvent","cacheGet","widthType","elements","attr","showSelectRelation","extendParams","getRecordsListParams","showRecordsList","modal","setSelectEvent","addRelations","Object","keys","event","trigger","detail","registerRelatedModulesRecordCount","src_module","src_record","multi_select","idList","related_module","relationId","related_record_list","isArray","deleteRelation","target","id","response","widget","loadWidget","updatesWidget","nextPageHandler","pageLimit","noOfEntries","nextPage","parseInt","page","previousPageHandler","previousPage","selectPageHandler","pageJumpHandler","e","which","currentTarget","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","element","validationEngine","preventDefault","totalPages","jumpToPage","error","parent","currentPage","addRelatedRecord","callback","referenceModuleName","quickCreateParams","relatedParams","relatedField","fullFormUrl","preQuickCreateSave","queryParam","queryParamComponents","queryParameters","split","queryString","urlSplit","index","appendTo","inArray","eliminatedKeys","Vtiger_Header_Js","quickCreateModule","getRelatedPageCount","totalCountElem","totalPageNumber","numberOfRecords","pageCount","favoritesRelation","relcrmId","state","relcrmid","actionMode","updatePreview","getMainParams","defaultView","frame","replace","registerUnreviewedCountEvent","relatedContent","isUnreviewedActive","each","ids","push","sourceModule","recordsId","appData","value","a","m","registerChangeEntityStateEvent","on","registerRowsEvent","is","getViewName","top","document","location","href","row","inventoryRow","next","hasClass","toggleClass","contains","get","recordUrl","registerSummationEvent","calculateValue","button","hidePopover","success","progress","registerPreviewEvent","contentHeight","height","getScreenHeight","offset","contents","registerPaginationEvents","stopImmediatePropagation","openUrl","restrictionsField","search_key","key","search_value","name","title","showConfirmationBox","registerListScroll","setDomParams","toggleSplit","registerListPreviewEvents","YetiForce_ListSearch_Js","getSecondColMinWidth","maxWidth","i","thisWidth","width","listColumnFirstWidth","listColumnSecondWidth","windowW","window","mainBody","windowMinWidth","windowMaxWidth","minWidth","sideBlocks","sideBlockLeft","sideBlockRight","last","list","preview","rotatedText","footerH","outerHeight","headerH","getDefaultSplitSizes","thWidth","getSplitSizes","moduleCacheGet","cachedParams","showNewScrollbarTopBottom","showNewScrollbarLeft","getSizes","setSizes","defaultGutterPosition","show","moduleCacheSet","parents","registerScrollEvent","gutter","App","Components","Scrollbar","listOffsetTop","initialH","mainViewPortHeightCss","mainViewPortWidthCss","fixedElements","scrollContainer","iframe","scrollTop","css","onScroll","registerSplitEvents","rightSplitMaxWidth","minWindowWidth","maxWindowWidth","listPreview","isNaN","gutterRelatedMidPosition","hide","registerSplit","splitSizes","Split","sizes","minSize","gutterSize","snapOffset","onDrag","collapse","mainWindowHeightCss","commactHeight","splitsArray","destroy","left","currentSplit","Quasar","plugins","Platform","desktop","el","xy","getRecordsCount","recordCountVal","minNumberOfRecords","decode","selectedIdsElementDataAttributes","selectedIdsDataAttr","writeSelectedIds","Array","excludedIdsElementDataAttributes","excludedIdsDataAttr","writeExcludedIds","checkSelectAll","registerCheckBoxClickEvent","elem","splice","registerMainCheckBoxClickEvent","recordCountObj","registerSelectAllClickEvent","registerDeselectAllClickEvent","registerQuickEditSaveEvent","postSummaryWidgetAddRecord","registerRelatedEvents","registerSearch"],"mappings":"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"}