{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_Edit_Js(\n\t'Settings_WebserviceUsers_Edit_Js',\n\t{},\n\t{\n\t\tgetForm: function () {\n\t\t\tif (this.formElement == false) {\n\t\t\t\tthis.setForm(jQuery('#modalEdit'));\n\t\t\t}\n\t\t\treturn this.formElement;\n\t\t},\n\t\tshowHideFields: function (typeElement) {\n\t\t\tvar elementContainer = this.getForm().find('[name=\"crmid\"]').closest('.form-group');\n\t\t\tif (typeElement.val() === '1') {\n\t\t\t\telementContainer.addClass('d-none').find('.clearReferenceSelection').trigger('click');\n\t\t\t} else {\n\t\t\t\telementContainer.removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tconst self = this,\n\t\t\t\tcontainer = this.getForm();\n\t\t\tthis.registerBasicEvents(container);\n\t\t\tlet form = container.find('form');\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\t\tAppConnector.request(formData).done(function (data) {\n\t\t\t\t\t\tif (data.result.success) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_SAVE_SUCCESS') });\n\t\t\t\t\t\t\tlet listInstance = Settings_WebserviceUsers_List_Js.getInstance();\n\t\t\t\t\t\t\tlistInstance.reloadTab();\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (data.result.message) {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(data.result.message);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet typeElement = form.find('[name=\"type\"]');\n\t\t\tself.showHideFields(typeElement);\n\t\t\ttypeElement.on('change', function (e) {\n\t\t\t\tself.showHideFields(jQuery(e.currentTarget));\n\t\t\t});\n\t\t}\n\t}\n);\njQuery(document).ready(function (e) {\n\tvar instance = new Settings_WebserviceUsers_Edit_Js();\n\tinstance.registerEvents();\n});\n"],"names":["Vtiger_Edit_Js","getForm","formElement","setForm","jQuery","showHideFields","typeElement","find","closest","val","elementContainer","addClass","trigger","removeClass","registerEvents","container","registerBasicEvents","form","on","e","preventDefault","validationEngine","serializeFormData","AppConnector","request","formData","done","data","result","success","Settings_Vtiger_Index_Js","showMessage","text","app","vtranslate","Settings_WebserviceUsers_List_Js","getInstance","listInstance","reloadTab","hideModalWindow","message","Vtiger_Helper_Js","showPnotify","self","currentTarget","document","ready","instance"],"mappings":";;AAGAA,eACC,kCADD,CAEC,EAFD,CAGC,CACCC,QAAS,kBAAY,CAIpB,OAHI,SAAKC,WAGT,EAFC,KAAKC,OAAL,CAAaC,OAAO,YAAP,CAAb,CAED,CAAO,KAAKF,WACZ,CANF,CAOCG,eAAgB,wBAAUC,WAAV,CAAuB,CACtC,qBAAuB,KAAKL,OAAL,GAAeM,IAAf,CAAoB,gBAApB,EAAsCC,OAAtC,CAA8C,aAA9C,CAAvB,CAC0B,GAAtB,eAAYC,GAAZ,EAFkC,CAGrCC,iBAAiBC,QAAjB,CAA0B,QAA1B,EAAoCJ,IAApC,CAAyC,0BAAzC,EAAqEK,OAArE,CAA6E,OAA7E,CAHqC,CAKrCF,iBAAiBG,WAAjB,CAA6B,QAA7B,EAED,CAdF,CAeCC,eAAgB,yBAAY,CAC3B,SAAa,IAAb,CACCC,UAAY,KAAKd,OAAL,EADb,CAEA,KAAKe,mBAAL,CAAyBD,SAAzB,CAH2B,CAI3B,SAAWA,UAAUR,IAAV,CAAe,MAAf,CAAX,CACAU,KAAKC,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAE9B,GADAA,EAAEC,cAAF,EACA,CAAIH,KAAKI,gBAAL,CAAsB,UAAtB,CAAJ,CAAuC,CACtC,aAAeJ,KAAKK,iBAAL,EAAf,CACAC,aAAaC,OAAb,CAAqBC,QAArB,EAA+BC,IAA/B,CAAoC,SAAUC,IAAV,CAAgB,CACnD,GAAIA,KAAKC,MAAL,CAAYC,OAAhB,CAAyB,CACxBC,yBAAyBC,WAAzB,CAAqC,CAAEC,KAAMC,IAAIC,UAAJ,CAAe,iBAAf,CAAR,CAArC,CADwB,CAExB,iBAAmBC,iCAAiCC,WAAjC,EAAnB,CACAC,aAAaC,SAAb,EAHwB,CAIxBL,IAAIM,eAAJ,GACA,CALD,UAMUX,MAAL,CAAYY,OANjB,CAOEC,iBAAiBC,WAAjB,CAA6Bf,KAAKC,MAAL,CAAYY,OAAzC,CAPF,CASEC,iBAAiBC,WAAjB,CAA6BT,IAAIC,UAAJ,CAAe,UAAf,CAA7B,EAGF,CAbD,EAcA,CACD,CAnBD,CAL2B,CAyB3B,gBAAkBjB,KAAKV,IAAL,CAAU,eAAV,CAAlB,CACAoC,KAAKtC,cAAL,CAAoBC,WAApB,CA1B2B,CA2B3BA,YAAYY,EAAZ,CAAe,QAAf,CAAyB,SAAUC,CAAV,CAAa,CACrCwB,KAAKtC,cAAL,CAAoBD,OAAOe,EAAEyB,aAAT,CAApB,EACA,CAFD,EAGA,CA7CF,CAHD,EAmDAxC,OAAOyC,QAAP,EAAiBC,KAAjB,CAAuB,UAAa,CACnC,aAAe,oCAAf,CACAC,SAASjC,cAAT,GACA,CAHD"}