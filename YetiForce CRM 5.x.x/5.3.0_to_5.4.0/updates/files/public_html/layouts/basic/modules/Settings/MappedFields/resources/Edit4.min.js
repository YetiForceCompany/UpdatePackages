'use strict';

Settings_MappedFields_Edit_Js('Settings_MappedFields_Edit4_Js',{},{step4Container:!1,advanceFilterInstance:!1,init:function init(){this.initialize();},/**
		 * Function to get the container which holds all the reports step1 elements
		 * @return jQuery object
		 */getContainer:function getContainer(){return this.step4Container},/**
		 * Function to set the reports step1 container
		 * @params : element - which represents the reports step1 container
		 * @return : current instance
		 */setContainer:function setContainer(element){return this.step4Container=element,this},/**
		 * Function  to intialize the reports step1
		 */initialize:function initialize(container){'undefined'==typeof container&&(container=jQuery('#mf_step4')),container.is('#mf_step4')?this.setContainer(container):this.setContainer(jQuery('#mf_step4'));},submit:function submit(){var aDeferred=jQuery.Deferred(),form=this.getContainer(),formData=form.serializeFormData(),progressIndicatorElement=jQuery.progressIndicator({position:'html',blockInfo:{enabled:!0}}),saveData={};return saveData.permissions=jQuery('#permissions').val(),saveData.record=formData.record,saveData.step=4,saveData=jQuery.extend({},saveData),app.saveAjax('step1',saveData).done(function(data){!0==data.success&&(Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate('JS_MF_SAVED_SUCCESSFULLY')}),setTimeout(function(){window.location.href='index.php?module=MappedFields&parent=Settings&page=1&view=List',progressIndicatorElement.progressIndicator({mode:'hide'});},1e3));}),aDeferred.promise()},registerCancelStepClickEvent:function registerCancelStepClickEvent(form){jQuery('button.cancelLink',form).on('click',function(){window.history.back();});},registerEvents:function registerEvents(){var container=this.getContainer(),opts=app.validationEngineOptions;// to prevent the page reload after the validation has completed
opts.onValidationComplete=function(form,valid){//returns the valid status
return valid},opts.promptPosition='bottomRight',container.validationEngine(opts),this.registerCancelStepClickEvent(container),App.Fields.Picklist.showSelect2ElementView(container.find('.select2'));}});
//# sourceMappingURL=Edit4.min.js.map
