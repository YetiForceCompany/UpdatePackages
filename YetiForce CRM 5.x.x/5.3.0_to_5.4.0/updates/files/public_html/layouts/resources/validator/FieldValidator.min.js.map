{"version":3,"file":"FieldValidator.min.js","sources":["FieldValidator.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce Sp. z o.o.\n *************************************************************************************/\n'use strict';\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Email_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar emailInstance = new Vtiger_Email_Validator_Js();\n\t\t\temailInstance.setElement(field);\n\t\t\tvar response = emailInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn emailInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t *Overwrites base function to avoid trimming and validate white spaces\n\t\t * @return fieldValue\n\t\t * */\n\t\tgetFieldValue: function() {\n\t\t\treturn this.getElement().val();\n\t\t},\n\t\t/**\n\t\t * Function to validate the email field data\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\treturn this.validateValue(fieldValue);\n\t\t},\n\t\t/**\n\t\t * Function to validate the email field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidateValue: function(fieldValue) {\n\t\t\tvar emailFilter = /^[_/a-zA-Z0-9*]+([!\"#$%&'()*+,./:;<=>?\\^_`{|}~-]?[a-zA-Z0-9/_/-])*@[a-zA-Z0-9]+([\\_\\-\\.]?[a-zA-Z0-9]+)*\\.([\\-\\_]?[a-zA-Z0-9])+(\\.?[a-zA-Z0-9]+)?$/;\n\t\t\tvar illegalChars = /[\\(\\)\\<\\>\\,\\;\\:\\\\\\\"\\[\\]]/;\n\n\t\t\tif (!emailFilter.test(fieldValue)) {\n\t\t\t\tthis.setError(app.vtranslate('JS_PLEASE_ENTER_VALID_EMAIL_ADDRESS'));\n\t\t\t\treturn false;\n\t\t\t} else if (fieldValue.match(illegalChars)) {\n\t\t\t\tthis.setError(app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tif (\n\t\t\t\tfieldInfo &&\n\t\t\t\tfieldInfo.restrictedDomains &&\n\t\t\t\tfieldInfo.restrictedDomains.indexOf(fieldValue.split('@').pop()) !== -1\n\t\t\t) {\n\t\t\t\tthis.setError(app.vtranslate('JS_EMAIL_RESTRICTED_DOMAINS'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Phone_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the phone field data\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\treturn this.validateValue(fieldValue);\n\t\t},\n\t\t/**\n\t\t * Function to validate the phone field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidateValue: function(fieldValue) {\n\t\t\tif (fieldValue == '') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar field = this.getElement();\n\t\t\tvar form = field.closest('form');\n\t\t\tvar fieldData = field.data();\n\t\t\tvar result = true;\n\t\t\tif (fieldData.advancedVerification == 1) {\n\t\t\t\tvar thisInstance = this;\n\t\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\t\tvar group = field.closest('.input-group');\n\t\t\t\tvar phoneCountryList = group.find('.phoneCountryList');\n\t\t\t\tfield.attr('readonly', true);\n\t\t\t\tlet moduleName = form.find('[name=\"module\"]').length\n\t\t\t\t\t? form.find('[name=\"module\"]').val()\n\t\t\t\t\t: app.getModuleName();\n\t\t\t\tif (moduleName === 'LayoutEditor') {\n\t\t\t\t\tmoduleName = $('#selectedModuleName').val();\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: false,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: moduleName,\n\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\tmode: 'verifyPhoneNumber',\n\t\t\t\t\t\tfieldName: fieldInfo.name,\n\t\t\t\t\t\tphoneNumber: fieldValue,\n\t\t\t\t\t\tphoneCountry: phoneCountryList.val()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tif (data.result.isValidNumber == false) {\n\t\t\t\t\t\t\tthisInstance.setError(data.result.message);\n\t\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfield.val(data.result.number);\n\t\t\t\t\t\t\tfield.attr('title', data.result.geocoding + ' ' + data.result.carrier);\n\t\t\t\t\t\t\tif (phoneCountryList.val() != data.result.country) {\n\t\t\t\t\t\t\t\tphoneCountryList.val(data.result.country).trigger('change');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfield.attr('readonly', false);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\tthisInstance.setError(app.vtranslate('JS_ERROR'));\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_UserName_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tlet usernameInstance = new Vtiger_UserName_Validator_Js();\n\t\t\tusernameInstance.setElement(field);\n\t\t\tlet response = usernameInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn usernameInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the User Name\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet fieldValue = this.getFieldValue();\n\t\t\tlet fieldData = this.getElement().data();\n\t\t\tconst maximumLength =\n\t\t\t\ttypeof fieldData.fieldinfo !== 'undefined' ? fieldData.fieldinfo.maximumlength : '3,64';\n\t\t\tlet ranges = maximumLength.split(',');\n\t\t\tif (fieldValue.length < parseInt(ranges[0])) {\n\t\t\t\tthis.setError(app.vtranslate('JS_ENTERED_VALUE_IS_TOO_SHORT'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (fieldValue.length > parseInt(ranges[1])) {\n\t\t\t\tthis.setError(app.vtranslate('JS_ENTERED_VALUE_IS_TOO_LONG'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet negativeRegex = /^[a-zA-Z0-9_.@-]+$/;\n\t\t\tif (!negativeRegex.test(fieldValue)) {\n\t\t\t\tthis.setError(app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Integer_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar integerInstance = new Vtiger_Integer_Validator_Js();\n\t\t\tintegerInstance.setElement(field);\n\t\t\tvar response = integerInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn integerInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Integre field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet fieldValue = this.getFieldValue(),\n\t\t\t\tgroupSeperator = CONFIG.currencyGroupingSeparator,\n\t\t\t\tintegerRegex = new RegExp('(^[-+]?[\\\\d\\\\' + groupSeperator + ']+)$', 'g');\n\t\t\tif (!fieldValue.match(integerRegex)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_INTEGER_VALUE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet fieldInfo = this.getElement().data().fieldinfo;\n\t\t\tif (!fieldInfo || !fieldInfo.maximumlength) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet ranges = fieldInfo.maximumlength.split(',');\n\t\t\tif (ranges.length === 2) {\n\t\t\t\tif (fieldValue > parseFloat(ranges[1]) || fieldValue < parseFloat(ranges[0])) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (fieldValue > parseFloat(ranges[0]) || fieldValue < 0) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Double_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar doubleValidator = new Vtiger_Double_Validator_Js();\n\t\t\tdoubleValidator.setElement(field);\n\t\t\tvar response = doubleValidator.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn doubleValidator.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Decimal field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet response = this._super();\n\t\t\tif (response === true) {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tvar doubleRegex = /(^[-+]?\\d+)(\\.\\d+)?$/;\n\t\t\t\tif (!fieldValue.toString().match(doubleRegex)) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_DECIMAL_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet fieldInfo = this.getElement().data().fieldinfo;\n\t\t\t\tif (!fieldInfo || !fieldInfo.maximumlength) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tlet maximumLength = fieldInfo.maximumlength;\n\t\t\t\tfieldValue = parseFloat(fieldValue);\n\t\t\t\tif (fieldValue > parseFloat(maximumLength) || fieldValue < -parseFloat(maximumLength)) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn response;\n\t\t},\n\t\t/**\n\t\t * Overwrites base function to avoid trimming and validate white spaces\n\t\t * @return fieldValue\n\t\t * */\n\t\tgetFieldValue: function() {\n\t\t\treturn App.Fields.Double.formatToDb(this.getElement().val());\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_PositiveNumber_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar positiveNumberInstance = new Vtiger_PositiveNumber_Validator_Js();\n\t\t\tpositiveNumberInstance.setElement(field);\n\t\t\tvar response = positiveNumberInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn positiveNumberInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar response = this._super();\n\t\t\tif (response !== true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\tvar negativeRegex = /(^[-]+\\d+)$/;\n\t\t\tvar parseFieldValue = App.Fields.Double.formatToDb(this.getFieldValue());\n\t\t\tif (isNaN(parseFieldValue) || fieldValue < 0 || fieldValue.match(negativeRegex)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_ACCEPT_POSITIVE_NUMBER');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar maximumLength = null;\n\t\t\tif (this.getElement().data().fieldinfo) {\n\t\t\t\tmaximumLength = this.getElement().data().fieldinfo.maximumlength;\n\t\t\t} else {\n\t\t\t\tmaximumLength = this.getElement().data('maximumlength');\n\t\t\t}\n\t\t\tif (!maximumLength) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet ranges = maximumLength.split(',');\n\t\t\tif (ranges.length === 2) {\n\t\t\t\tif (fieldValue > parseFloat(ranges[1]) || fieldValue < parseFloat(ranges[0])) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (fieldValue > parseFloat(ranges[0]) || fieldValue < 0) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_PositiveNumber_Validator_Js(\n\t'Vtiger_Percentage_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar percentageInstance = new Vtiger_Percentage_Validator_Js();\n\t\t\tpercentageInstance.setElement(field);\n\t\t\tvar response = percentageInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn percentageInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the percentage field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate() {\n\t\t\tconst response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tif (App.Fields.Double.formatToDb(this.getFieldValue()) > 100) {\n\t\t\t\t\tthis.setError(app.vtranslate('JS_PERCENTAGE_VALUE_SHOULD_BE_LESS_THAN_100'));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Url_Validator_Js',\n\t{\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar validatorInstance = new Vtiger_Url_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tconst result = validatorInstance.validate();\n\t\t\tif (result === true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Url\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\tvar regexp = /(^|\\s)((https?:\\/\\/)?[\\w-]+(\\.[\\w-]+)+\\.?(:\\d+)?(\\/\\S*)?)/gi;\n\t\t\tvar result = regexp.test(fieldValue);\n\t\t\tif (!result) {\n\t\t\t\tif (\n\t\t\t\t\tfieldValue.indexOf('http://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('https://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('ftp://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('ftps://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('telnet://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('smb://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('www.') === 0\n\t\t\t\t) {\n\t\t\t\t\tresult = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!result) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'); //\"Please enter valid url\";\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_MultiSelect_Validator_Js',\n\t{\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar validatorInstance = new Vtiger_MultiSelect_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tvar result = validatorInstance.validate();\n\t\t\tif (result == true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Multi select\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldInstance = this.getElement();\n\t\t\tvar selectElementValue = fieldInstance.val();\n\t\t\tif (selectElementValue == null) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_SELECT_ATLEAST_ONE_OPTION');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Email_Validator_Js(\n\t'Vtiger_MultiEmails_Validator_Js',\n\t{\n\t\tinvokeValidation: function(field) {\n\t\t\tvar validatorInstance = new Vtiger_MultiEmails_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tvar result = validatorInstance.validate();\n\t\t\tif (!result) {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Multi select\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldInstance = this.getElement();\n\t\t\tvar fieldInstanceValue = fieldInstance.val();\n\t\t\tif (fieldInstanceValue != '') {\n\t\t\t\tvar emailsArr = fieldInstanceValue.split(',');\n\t\t\t\tvar i;\n\t\t\t\tfor (i = 0; i < emailsArr.length; ++i) {\n\t\t\t\t\tvar result = this.validateValue(emailsArr[i]);\n\t\t\t\t\tif (result == false) {\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_MultiDomain_Validator_Js',\n\t{\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tconst validatorInstance = new Vtiger_MultiDomain_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tconst result = validatorInstance.validate();\n\t\t\tif (result === true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Multi Domain select\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate() {\n\t\t\tconst fieldInstance = this.getElement();\n\t\t\tconst selectElementValue = fieldInstance.val();\n\t\t\tif (Array.isArray(selectElementValue)) {\n\t\t\t\tfor (let value of selectElementValue) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tvalue &&\n\t\t\t\t\t\t!/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]/iu.test(value)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.setError(app.vtranslate('JS_PLEASE_SELECT_VALID_DOMAIN_NAMES'));\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Double_Validator_Js(\n\t'Vtiger_GreaterThanZero_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar GreaterThanZeroInstance = new Vtiger_GreaterThanZero_Validator_Js();\n\t\t\tGreaterThanZeroInstance.setElement(field);\n\t\t\tvar response = GreaterThanZeroInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn GreaterThanZeroInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and greater than zero value\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue <= 0) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_VALUE_SHOULD_BE_GREATER_THAN_ZERO');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_PositiveNumber_Validator_Js(\n\t'Vtiger_WholeNumber_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_WholeNumber_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return boolean true if validation is successful or false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet response = this._super();\n\t\t\tif (response !== true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tlet field = this.getElement(),\n\t\t\t\tfieldValue = this.getFieldValue(),\n\t\t\t\tfieldData = field.data(),\n\t\t\t\tfieldInfo = fieldData.fieldinfo,\n\t\t\t\terrorInfo;\n\t\t\tif (fieldValue % 1 !== 0) {\n\t\t\t\tif (!jQuery.isEmptyObject(fieldInfo)) {\n\t\t\t\t\terrorInfo = app.vtranslate('INVALID_NUMBER_OF') + ' ' + fieldInfo.label;\n\t\t\t\t} else {\n\t\t\t\t\terrorInfo = app.vtranslate('INVALID_NUMBER');\n\t\t\t\t}\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_lessThanToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal <= 0) {\n\t\t\t\tvar errorInfo = fieldInfo.label + ' ' + app.vtranslate('JS_SHOULD_BE_LESS_THAN_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_lessThanOrEqualToToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the datesold field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal < 0) {\n\t\t\t\tvar errorInfo =\n\t\t\t\t\tfieldInfo.label +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.vtranslate('JS_SHOULD_BE_LESS_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.vtranslate('JS_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_greaterThanOrEqualToToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the dateinservice field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal > 0) {\n\t\t\t\tvar errorInfo =\n\t\t\t\t\tfieldInfo.label +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.vtranslate('JS_SHOULD_BE_GREATER_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.vtranslate('JS_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_greaterThanDependentField_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar fieldForValidation = field[0];\n\t\t\tif (jQuery(fieldForValidation).attr('name') == 'followup_date_start') {\n\t\t\t\tvar dependentFieldList = new Array('date_start');\n\t\t\t}\n\t\t\tvar instance = new Vtiger_greaterThanDependentField_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate(dependentFieldList);\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function(dependentFieldList) {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldInfo = field.data('fieldinfo');\n\t\t\tvar fieldLabel;\n\t\t\tif (typeof fieldInfo === 'undefined') {\n\t\t\t\tfieldLabel = jQuery(field).attr('name');\n\t\t\t} else {\n\t\t\t\tfieldLabel = fieldInfo.label;\n\t\t\t}\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tlet value, dependentValue;\n\t\t\t\t\tif (\n\t\t\t\t\t\t$.inArray(dependentFieldInContext.data('fieldinfo').type, ['currency', 'number', 'decimal']) !==\n\t\t\t\t\t\t-1\n\t\t\t\t\t) {\n\t\t\t\t\t\tvalue = App.Fields.Double.formatToDb(field.val());\n\t\t\t\t\t\tdependentValue = App.Fields.Double.formatToDb(dependentFieldInContext.val());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = this.getDateTimeInstance(field);\n\t\t\t\t\t\tdependentValue = this.getDateTimeInstance(dependentFieldInContext);\n\t\t\t\t\t}\n\t\t\t\t\tvar dependentFieldLabel = dependentFieldInContext.data('fieldinfo').label;\n\t\t\t\t\tvar comparedDateVal = value - dependentValue;\n\t\t\t\t\tif (comparedDateVal < 0) {\n\t\t\t\t\t\tvar errorInfo =\n\t\t\t\t\t\t\tfieldLabel +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tapp.vtranslate('JS_SHOULD_BE_GREATER_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tdependentFieldLabel +\n\t\t\t\t\t\t\t'';\n\t\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tgetDateTimeInstance: function(field) {\n\t\t\tvar dateFormat = field.data('dateFormat');\n\t\t\tvar fieldValue = field.val();\n\t\t\ttry {\n\t\t\t\tvar dateTimeInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, dateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn dateTimeInstance;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_dateAndTimeGreaterThanDependentField_Validator_Js',\n\t{},\n\t{\n\t\tfieldDateTime: '',\n\t\tfieldDateTimeInstance: [],\n\t\tdateFormat: '',\n\t\t/**\n\t\t * Function to validate the date field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function(dependentFieldList) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldDateTime = '';\n\t\t\tvar fieldDateTimeInstance = [];\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\tvar view = contextFormElem.attr('name');\n\t\t\tif (view == 'EditView') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar j = 0;\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tif (typeof dependentFieldInContext.data('dateFormat') === 'undefined' && fieldDateTime) {\n\t\t\t\t\t\tfieldDateTime += ' ' + dependentFieldInContext.val();\n\t\t\t\t\t\tfieldDateTimeInstance[j] = Vtiger_Helper_Js.getDateInstance(fieldDateTime, dateFormat);\n\t\t\t\t\t\tj++;\n\t\t\t\t\t} else if (typeof dependentFieldInContext.data('dateFormat') !== 'undefined') {\n\t\t\t\t\t\tvar dateFormat = dependentFieldInContext.data('dateFormat');\n\t\t\t\t\t\tfieldDateTime = dependentFieldInContext.val();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisInstance.difference(fieldDateTimeInstance);\n\t\t},\n\t\tdifference: function(fieldDateTimeInstance) {\n\t\t\tif (fieldDateTimeInstance.length == 2) {\n\t\t\t\tvar comparedDateVal = fieldDateTimeInstance[1] - fieldDateTimeInstance[0];\n\t\t\t\tif (comparedDateVal < 0) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_AN_INCORRECT_RANGE_OF_DATES_WAS_ENTERED');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_futureEventCannotBeHeld_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate event status , which cannot be held for future events\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function(dependentFieldList) {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldLabel = field.data('fieldinfo').label;\n\t\t\tvar status = field.val();\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tvar dependentFieldLabel = dependentFieldInContext.data('fieldinfo').label;\n\t\t\t\t\tvar todayDateInstance = new Date();\n\t\t\t\t\tvar dateFormat = dependentFieldInContext.data('dateFormat');\n\t\t\t\t\tvar time = jQuery('input[name=time_start]', contextFormElem);\n\t\t\t\t\tvar fieldValue = dependentFieldInContext.val() + ' ' + time.val();\n\t\t\t\t\tvar dependentFieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, dateFormat);\n\t\t\t\t\tvar comparedDateVal = todayDateInstance - dependentFieldDateInstance;\n\t\t\t\t\tif (comparedDateVal < 0 && status == 'Held') {\n\t\t\t\t\t\tvar errorInfo =\n\t\t\t\t\t\t\tfieldLabel +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tapp.vtranslate('JS_FUTURE_EVENT_CANNOT_BE_HELD') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tdependentFieldLabel +\n\t\t\t\t\t\t\t'';\n\t\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_lessThanDependentField_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function(dependentFieldList) {\n\t\t\tlet field = this.getElement();\n\t\t\tlet fieldInfo = field.data('fieldinfo');\n\t\t\tlet fieldLabel = fieldInfo.label;\n\t\t\tlet contextFormElem = field.closest('form');\n\t\t\t//No need to validate if value is empty\n\t\t\tif (field.val().length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tlet value, dependentValue;\n\t\t\t\t\tif ($.inArray(fieldInfo.type, ['currency', 'number', 'decimal']) !== -1) {\n\t\t\t\t\t\tvalue = App.Fields.Double.formatToDb(field.val());\n\t\t\t\t\t\tdependentValue = App.Fields.Double.formatToDb(dependentFieldInContext.val());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = this.getDateTimeInstance(field);\n\t\t\t\t\t\tdependentValue = this.getDateTimeInstance(dependentFieldInContext);\n\t\t\t\t\t}\n\t\t\t\t\tvar dependentFieldLabel = dependentFieldInContext.data('fieldinfo').label;\n\t\t\t\t\t//No need to validate if value is empty\n\t\t\t\t\tif (dependentFieldInContext.val().length == 0) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar comparedDateVal = value - dependentValue;\n\t\t\t\t\tif (comparedDateVal > 0) {\n\t\t\t\t\t\tvar errorInfo =\n\t\t\t\t\t\t\tfieldLabel +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tapp.vtranslate('JS_SHOULD_BE_LESS_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tdependentFieldLabel +\n\t\t\t\t\t\t\t'';\n\t\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tgetDateTimeInstance: function(field) {\n\t\t\tvar dateFormat = field.data('dateFormat');\n\t\t\tvar fieldValue = field.val();\n\t\t\ttry {\n\t\t\t\tvar dateTimeInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, dateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn dateTimeInstance;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Currency_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar currencyValidatorInstance = new Vtiger_Currency_Validator_Js();\n\t\t\tcurrencyValidatorInstance.setElement(field);\n\t\t\tvar response = currencyValidatorInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn currencyValidatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Currency Field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tlet fieldData = this.getElement().data();\n\t\t\tlet decimalSeparator = fieldData.decimalSeparator\n\t\t\t\t? fieldData.decimalSeparator\n\t\t\t\t: CONFIG.currencyDecimalSeparator;\n\t\t\tlet groupSeparator = fieldData.groupSeparator ? fieldData.groupSeparator : CONFIG.currencyGroupingSeparator;\n\n\t\t\tlet strippedValue = this.getFieldValue().replace(decimalSeparator, '');\n\t\t\tlet spacePattern = /\\s/;\n\t\t\tif (spacePattern.test(decimalSeparator) || spacePattern.test(groupSeparator))\n\t\t\t\tstrippedValue = strippedValue.replace(/ /g, '');\n\t\t\tlet errorInfo;\n\n\t\t\tif (groupSeparator === '$') {\n\t\t\t\tgroupSeparator = '\\\\$';\n\t\t\t}\n\t\t\tif (groupSeparator === '.') {\n\t\t\t\tgroupSeparator = '\\\\.';\n\t\t\t}\n\n\t\t\tlet regex = new RegExp(groupSeparator, 'g');\n\t\t\tstrippedValue = strippedValue.replace(regex, '');\n\n\t\t\tif (isNaN(strippedValue)) {\n\t\t\t\terrorInfo = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet negativeNumber = fieldData.fieldinfo && fieldData.fieldinfo.fieldtype === 'NN';\n\t\t\tif (!negativeNumber && strippedValue < 0) {\n\t\t\t\terrorInfo = app.vtranslate('JS_ACCEPT_POSITIVE_NUMBER');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst maximumLength = typeof fieldData.fieldinfo !== 'undefined' ? fieldData.fieldinfo.maximumlength : null;\n\t\t\tif (maximumLength && strippedValue > parseFloat(maximumLength)) {\n\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Currency_Validator_Js('Vtiger_NumberUserFormat_Validator_Js', {\n\t/**\n\t *Function which invokes field validation\n\t * @param accepts field element as parameter\n\t * @return error if validation fails true on success\n\t */\n\tinvokeValidation: function(field, rules, i, options) {\n\t\tlet instance = new Vtiger_Currency_Validator_Js();\n\t\tinstance.setElement(field);\n\t\tif (instance.validate() !== true) {\n\t\t\treturn instance.getError();\n\t\t}\n\t}\n});\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_ReferenceField_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar parentElement = field.closest('.fieldValue');\n\t\t\tvar referenceField = parentElement.find('.sourceField');\n\t\t\tvar referenceFieldValue = referenceField.val();\n\t\t\tif (referenceFieldValue == '') {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_REQUIRED_FIELD');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Date_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar dateValidatorInstance = new Vtiger_Date_Validator_Js();\n\t\t\tdateValidatorInstance.setElement(field);\n\t\t\tvar response = dateValidatorInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn dateValidatorInstance.getError();\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tif (fieldData.calendarType === 'range') {\n\t\t\t\t\tfieldValue = fieldValue.split(',');\n\t\t\t\t\tif (fieldValue.length !== 2) {\n\t\t\t\t\t\tthrow new Error();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfieldValue = [fieldValue];\n\t\t\t\t}\n\t\t\t\tfieldValue.forEach(key => {\n\t\t\t\t\tVtiger_Helper_Js.getDateInstance(key, fieldDateFormat);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_VALID_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Date_Validator_Js('Vtiger_Datetime_Validator_Js', {}, {});\nVtiger_Base_Validator_Js(\n\t'Vtiger_Time_Validator_Js',\n\t{\n\t\t/**\n\t\t * Function which invokes field validation\n\t\t * @param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar validatorInstance = new Vtiger_Time_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tvar result = validatorInstance.validate();\n\t\t\tif (result == true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Time Fields\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet format = CONFIG.hourFormat;\n\t\t\tif (this.field.data('format') && [12, 24].indexOf(this.field.data('format')) != -1) {\n\t\t\t\tformat = this.field.data('format');\n\t\t\t}\n\t\t\tlet regexp = '';\n\t\t\tswitch (format) {\n\t\t\t\tcase 12:\n\t\t\t\t\tregexp = new RegExp('^([0][0-9]|1[0-2]):([0-5][0-9])([ ]PM|[ ]AM|PM|AM)$');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tregexp = new RegExp('^(2[0-3]|[0][0-9]|1[0-9]):([0-5][0-9])$');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (!regexp.test(this.getFieldValue())) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_VALID_TIME');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Twitter_Validator_Js',\n\t{\n\t\t/**\n\t\t * Function which invokes field validation\n\t\t * @param {jQuery} field - accepts field element as parameter\n\t\t * @return string|true - error text if validation fails, true on success\n\t\t */\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tlet validatorInstance = new Vtiger_Twitter_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tlet result = validatorInstance.validate();\n\t\t\tif (result == true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Twwiter Account\n\t\t * @return bool true if validation is successfull\n\t\t */\n\t\tvalidate() {\n\t\t\tlet fieldValue = this.getFieldValue();\n\t\t\tif (!fieldValue.match(/^[a-zA-Z0-9_]{1,15}$/g)) {\n\t\t\t\tthis.setError(app.vtranslate('JS_PLEASE_ENTER_VALID_TWITTER_ACCOUNT'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Email_Validator_Js(\n\t'Vtiger_MultiEmail_Validator_Js',\n\t{\n\t\t/**\n\t\t * Function which invokes field validation\n\t\t * @param {jQuery} field - accepts field element as parameter\n\t\t * @return string|true - error text if validation fails, true on success\n\t\t */\n\t\tinvokeValidation(field) {\n\t\t\tlet validatorInstance = new Vtiger_MultiEmail_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tlet result = validatorInstance.validate();\n\t\t\tif (result == true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Multi email. Check if the email address is duplicated.\n\t\t * @return bool true if validation is successfull\n\t\t */\n\t\tvalidate() {\n\t\t\tlet fieldValue = this.getFieldValue();\n\t\t\tif (fieldValue === '') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (this.validateValue(fieldValue) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet allFields = $(this.field)\n\t\t\t\t.closest('div.js-multi-email')\n\t\t\t\t.eq(0)\n\t\t\t\t.find('[class*=js-multi-email-row]');\n\t\t\tlet arrayLength = allFields.length;\n\t\t\tfor (let i = 0; i < arrayLength; ++i) {\n\t\t\t\tlet inputField = $(allFields[i])\n\t\t\t\t\t.find('input.js-email')\n\t\t\t\t\t.eq(0);\n\t\t\t\tif (inputField.val() === '') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet inputClass1 = $(allFields[i])\n\t\t\t\t\t.closest('div[class*=js-multi-email-row-]')\n\t\t\t\t\t.eq(0)\n\t\t\t\t\t.attr('class');\n\t\t\t\tlet inputClass2 = $(this.field)\n\t\t\t\t\t.closest('div[class*=js-multi-email-row-]')\n\t\t\t\t\t.eq(0)\n\t\t\t\t\t.attr('class');\n\t\t\t\tif (inputClass1 !== inputClass2 && inputField.val() === fieldValue) {\n\t\t\t\t\tthis.setError(app.vtranslate('JS_EMAIL_DUPLICATED'));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\n//Calendar Specific validators\n// We have placed it here since quick create will not load module specific validators\n\nVtiger_greaterThanDependentField_Validator_Js(\n\t'Calendar_greaterThanDependentField_Validator_Js',\n\t{},\n\t{\n\t\tgetDateTimeInstance: function(field) {\n\t\t\tlet form = field.closest('form'),\n\t\t\t\ttimeField,\n\t\t\t\ttimeFieldValue;\n\t\t\tif (field.attr('name') === 'date_start') {\n\t\t\t\ttimeField = form.find('[name=\"time_start\"]');\n\t\t\t\ttimeFieldValue = timeField.val();\n\t\t\t} else if (field.attr('name') === 'due_date') {\n\t\t\t\ttimeField = form.find('[name=\"time_end\"]');\n\t\t\t\tif (timeField.length > 0) {\n\t\t\t\t\ttimeFieldValue = timeField.val();\n\t\t\t\t} else {\n\t\t\t\t\t//Max value for the day\n\t\t\t\t\ttimeFieldValue = '11:59 PM';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet dateFieldValue = field.val() + ' ' + timeFieldValue,\n\t\t\t\tdateFormat = field.data('dateFormat');\n\t\t\treturn Vtiger_Helper_Js.getDateInstance(dateFieldValue, dateFormat);\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Calendar_greaterThanToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal >= 0) {\n\t\t\t\tvar errorInfo = fieldInfo.label + ' ' + app.vtranslate('JS_SHOULD_BE_GREATER_THAN_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Calendar_RepeatMonthDate_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar repeatMonthDateValidatorInstance = new Calendar_RepeatMonthDate_Validator_Js();\n\t\t\trepeatMonthDateValidatorInstance.setElement(field);\n\t\t\tvar response = repeatMonthDateValidatorInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn repeatMonthDateValidatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldValue = this.getFieldValue();\n\n\t\t\tif (\n\t\t\t\tparseInt(parseFloat(fieldValue)) != fieldValue ||\n\t\t\t\tfieldValue == '' ||\n\t\t\t\tparseInt(fieldValue) > '31' ||\n\t\t\t\tparseInt(fieldValue) <= 0\n\t\t\t) {\n\t\t\t\tvar result = app.vtranslate('JS_NUMBER_SHOULD_BE_LESS_THAN_32');\n\t\t\t\tthis.setError(result);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_WholeNumber_Validator_Js(\n\t'Vtiger_WholeNumberGreaterThanZero_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar WholeNumberGreaterThanZero = new Vtiger_WholeNumberGreaterThanZero_Validator_Js();\n\t\t\tWholeNumberGreaterThanZero.setElement(field);\n\t\t\tvar response = WholeNumberGreaterThanZero.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn WholeNumberGreaterThanZero.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and greater than zero value\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue == 0) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_VALUE_SHOULD_BE_GREATER_THAN_ZERO');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_AlphaNumeric_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar alphaNumericInstance = new Vtiger_AlphaNumeric_Validator_Js();\n\t\t\talphaNumericInstance.setElement(field);\n\t\t\tvar response = alphaNumericInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn alphaNumericInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldValue = field.val();\n\t\t\tvar alphaNumericRegex = /^[a-z0-9 _-]*$/i;\n\t\t\tif (!fieldValue.match(alphaNumericRegex)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_AlphaNumericWithSlashesCurlyBraces_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar alphaNumericInstance = new Vtiger_AlphaNumericWithSlashesCurlyBraces_Validator_Js();\n\t\t\talphaNumericInstance.setElement(field);\n\t\t\tvar response = alphaNumericInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn alphaNumericInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldValue = field.val();\n\t\t\tvar alphaNumericRegex = /^[\\/a-z\\\\0-9{}: _-]*$/i;\n\t\t\tif (!fieldValue.match(alphaNumericRegex)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_InputMask_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar maskInstance = new Vtiger_InputMask_Validator_Js();\n\t\t\tmaskInstance.setElement(field);\n\t\t\tvar response = maskInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn maskInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return  boolean true if validation is successful false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet response = this._super();\n\t\t\tif (response !== true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tlet field = this.getElement(),\n\t\t\t\terrorInfo;\n\t\t\tif (field.attr('data-inputmask')) {\n\t\t\t\tlet unMaskedValue = field.inputmask('unmaskedvalue'),\n\t\t\t\t\tgetMetaData = field.inputmask('getmetadata'),\n\t\t\t\t\tmaskLength =\n\t\t\t\t\t\t(getMetaData.match(/9/g) || []).length +\n\t\t\t\t\t\t(getMetaData.match(/A/g) || []).length +\n\t\t\t\t\t\t(getMetaData.match(/'*'/g) || []).length;\n\t\t\t\tif (unMaskedValue.length !== 0 && maskLength > unMaskedValue.length) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_INVALID_LENGTH');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\twindow.inputMaskValidation = true;\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\twindow.inputMaskValidation = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (window.inputMaskValidation) {\n\t\t\t\terrorInfo = app.vtranslate('JS_INVALID_LENGTH');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_Textparser_Validator_Js',\n\t{\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_TextParser_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tvalidate: function() {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldValue = field.val();\n\t\t\tvar regex = /^\\$\\((\\w+) : ([,\"\\+\\-\\[\\]\\&\\w\\s\\|]+)\\)\\$$/;\n\t\t\tif (!regex.test(fieldValue)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_INVALID_LENGTH');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_YetiForceCompanyName_Validator_Js',\n\t{\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_YetiForceCompanyName_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tvalidate: function() {\n\t\t\tlet response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tconst field = this.getElement();\n\t\t\tconst fieldValue = field.val();\n\t\t\tif (fieldValue.toLowerCase().indexOf('yetiforce') >= 0) {\n\t\t\t\tthis.setError(app.vtranslate('JS_YETIFORCE_COMPANY_NAME_NOT_ALLOWED'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_MultiImage_Validator_Js',\n\t{\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tconst instance = new Vtiger_MultiImage_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tif (instance.validate() != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tvalidate() {\n\t\t\tlet response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tconst field = this.getElement();\n\t\t\tconst fieldValue = field.val();\n\t\t\tif (field.data('fieldinfo').mandatory && JSON.parse(fieldValue).length === 0) {\n\t\t\t\tthis.setError(app.vtranslate('JS_REQUIRED_FIELD'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_MaxSizeInByte_Validator_Js',\n\t{\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tconst instance = new Vtiger_MaxSizeInByte_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tif (instance.validate() != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tvalidate() {\n\t\t\tlet response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tconst field = this.getElement();\n\t\t\tconst fieldValue = field.val();\n\t\t\tif (\n\t\t\t\tfield.data('fieldinfo').maximumlength &&\n\t\t\t\t(typeof TextEncoder === 'function'\n\t\t\t\t\t? new TextEncoder().encode(fieldValue).byteLength > field.data('fieldinfo').maximumlength\n\t\t\t\t\t: fieldValue.length > field.data('fieldinfo').maximumlength)\n\t\t\t) {\n\t\t\t\tthis.setError(\n\t\t\t\t\tapp.vtranslate('JS_MAXIMUM_TEXT_SIZE_IN_BYTES') + ' ' + field.data('fieldinfo').maximumlength\n\t\t\t\t);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_FieldName_Validator_Js',\n\t{\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tconst instance = new Vtiger_FieldName_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tif (instance.validate() != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field name\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\tif (fieldValue === 'data') {\n\t\t\t\tthis.setError(app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Double_Validator_Js('Vtiger_Advpercentage_Validator_Js', {});\n"],"names":["Vtiger_Base_Validator_Js","invokeValidation","field","emailInstance","setElement","validate","getError","getFieldValue","getElement","val","validateValue","fieldValue","illegalChars","emailFilter","test","setError","app","vtranslate","match","fieldData","data","fieldInfo","fieldinfo","restrictedDomains","indexOf","split","pop","form","closest","result","advancedVerification","group","phoneCountryList","find","attr","length","getModuleName","moduleName","$","AppConnector","request","async","module","action","mode","fieldName","name","phoneNumber","phoneCountry","done","isValidNumber","thisInstance","message","number","geocoding","carrier","country","trigger","fail","error","err","errorLog","usernameInstance","maximumLength","maximumlength","ranges","parseInt","negativeRegex","integerInstance","groupSeperator","CONFIG","currencyGroupingSeparator","integerRegex","errorInfo","parseFloat","doubleValidator","_super","doubleRegex","toString","Fields","Double","formatToDb","positiveNumberInstance","parseFieldValue","App","isNaN","Vtiger_PositiveNumber_Validator_Js","percentageInstance","response","validatorInstance","regexp","selectElementValue","fieldInstance","Vtiger_Email_Validator_Js","fieldInstanceValue","emailsArr","i","Array","isArray","value","Vtiger_Double_Validator_Js","GreaterThanZeroInstance","instance","jQuery","isEmptyObject","label","fieldDateFormat","dateFormat","Vtiger_Helper_Js","getDateInstance","fieldDateInstance","setHours","todayDateInstance","fieldForValidation","dependentFieldList","fieldLabel","dependentFieldInContext","dependentField","contextFormElem","dependentValue","inArray","type","getDateTimeInstance","comparedDateVal","dependentFieldLabel","fieldDateTime","fieldDateTimeInstance","view","j","difference","status","time","dependentFieldDateInstance","currencyValidatorInstance","decimalSeparator","currencyDecimalSeparator","groupSeparator","strippedValue","replace","spacePattern","regex","fieldtype","negativeNumber","Vtiger_Currency_Validator_Js","parentElement","referenceField","referenceFieldValue","dateValidatorInstance","calendarType","forEach","key","Vtiger_Date_Validator_Js","hourFormat","format","allFields","eq","arrayLength","inputField","inputClass2","inputClass1","Vtiger_greaterThanDependentField_Validator_Js","timeFieldValue","timeField","dateFieldValue","repeatMonthDateValidatorInstance","Vtiger_WholeNumber_Validator_Js","WholeNumberGreaterThanZero","alphaNumericInstance","alphaNumericRegex","maskInstance","inputmask","getMetaData","maskLength","unMaskedValue","window","inputMaskValidation","toLowerCase","mandatory","parse","encode","byteLength"],"mappings":"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"}