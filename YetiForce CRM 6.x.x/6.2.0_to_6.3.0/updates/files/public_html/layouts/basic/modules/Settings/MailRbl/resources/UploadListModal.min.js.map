{"version":3,"file":"UploadListModal.min.js","sources":["UploadListModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_UploadListModal_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Modal container\n\t\t */\n\t\tcontainer: false,\n\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function (modalContainer) {\n\t\t\tlet form = modalContainer.find('.js-import-list');\n\t\t\tthis.registerUploadButton(form);\n\t\t},\n\n\t\t/**\n\t\t * Register button send form\n\t\t * @param {jQuery} form\n\t\t */\n\t\tregisterUploadButton: function (form) {\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\t\tlet formData = new FormData(form[0]),\n\t\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnotifyType = '';\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\turl: 'index.php',\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: formData,\n\t\t\t\t\t\tprocessData: false,\n\t\t\t\t\t\tcontentType: false\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (true === data.result.success) {\n\t\t\t\t\t\t\tnotifyType = 'success';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotifyType = 'error';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate(data.result.message),\n\t\t\t\t\t\t\ttype: notifyType\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","registerEvents","modalContainer","form","find","registerUploadButton","on","e","preventDefault","validationEngine","formData","FormData","progressIndicatorElement","jQuery","progressIndicator","blockInfo","enabled","notifyType","AppConnector","request","url","type","data","processData","contentType","done","mode","result","success","app","showNotify","text","vtranslate","message","hideModalWindow"],"mappings":";;AAAA,kKACA,aAEAA,CAAC,CAACC,KAAF,CACC,yBADD,CAEC,EAFD,CAGC;AAED;AACA,KACEC,SAAS,GAJV;AAOD;AACA;AACA,KACEC,cAAc,CAAE,wBAAUC,cAAV,CAA0B,CACzC,IAAIC,IAAI,CAAGD,cAAc,CAACE,IAAf,CAAoB,iBAApB,CAAX,CACA,KAAKC,oBAAL,CAA0BF,IAA1B,EACA,CAbF;AAgBD;AACA;AACA,KACEE,oBAAoB,CAAE,8BAAUF,IAAV,CAAgB,CACrCA,IAAI,CAACG,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAE9B,GADAA,CAAC,CAACC,cAAF,EACA,CAAI,KAAAL,IAAI,CAACM,gBAAL,CAAsB,UAAtB,CAAJ,CAAgD,CAC/C,IAAIC,QAAQ,CAAG,IAAIC,QAAJ,CAAaR,IAAI,CAAC,CAAD,CAAjB,CAAf,CACCS,wBAAwB,CAAGC,MAAM,CAACC,iBAAP,CAAyB,CACnDC,SAAS,CAAE,CAAEC,OAAO,GAAT,CADwC,CAAzB,CAD5B,CAICC,UAAU,CAAG,EAJd,CAKAC,YAAY,CAACC,OAAb,CAAqB,CACpBC,GAAG,CAAE,WADe,CAEpBC,IAAI,CAAE,MAFc,CAGpBC,IAAI,CAAEZ,QAHc,CAIpBa,WAAW,GAJS,CAKpBC,WAAW,GALS,CAArB,EAMGC,IANH,CAMQ,SAAUH,IAAV,CAAgB,CACvBV,wBAAwB,CAACE,iBAAzB,CAA2C,CAAEY,IAAI,CAAE,MAAR,CAA3C,CADuB,CAGtBT,UAHsB,CAEnB,KAASK,IAAI,CAACK,MAAL,CAAYC,OAFF,CAGT,SAHS,CAKT,OALS,CAOvBC,GAAG,CAACC,UAAJ,CAAe,CACdC,IAAI,CAAEF,GAAG,CAACG,UAAJ,CAAeV,IAAI,CAACK,MAAL,CAAYM,OAA3B,CADQ,CAEdZ,IAAI,CAAEJ,UAFQ,CAAf,CAPuB,CAWvBY,GAAG,CAACK,eAAJ,GACA,CAlBD,EAmBA,CACD,CA5BD,EA6BA,CAjDF,CAHD;;"}