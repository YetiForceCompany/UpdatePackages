{"version":3,"file":"Currency.min.js","sources":["Currency.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Settings_Currency_Js',\n\t{\n\t\t//holds the currency instance\n\t\tcurrencyInstance: false,\n\n\t\t/**\n\t\t * This function used to triggerAdd Currency\n\t\t */\n\t\ttriggerAdd: function (event) {\n\t\t\tevent.stopPropagation();\n\t\t\tvar instance = Settings_Currency_Js.currencyInstance;\n\t\t\tinstance.showEditView();\n\t\t},\n\n\t\t/**\n\t\t * This function used to trigger Edit Currency\n\t\t */\n\t\ttriggerEdit: function (event, id) {\n\t\t\tevent.stopPropagation();\n\t\t\tvar instance = Settings_Currency_Js.currencyInstance;\n\t\t\tinstance.showEditView(id);\n\t\t},\n\n\t\t/**\n\t\t * This function used to trigger default currency\n\t\t * @param {object} event\n\t\t * @param {int} id\n\t\t */\n\t\ttriggerDefault: function (event, id) {\n\t\t\tevent.stopPropagation();\n\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\tmessage: app.vtranslate('JS_CURRENCY_DEFAULT_CONFIRMED')\n\t\t\t}).done(function (data) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t});\n\t\t\t\tapp.saveAjax('setDefault', null, { record: id }).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_CURRENCY_DETAILS_SAVED')\n\t\t\t\t\t});\n\t\t\t\t\tSettings_Currency_Js.currencyInstance.loadListViewContents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * This function used to trigger Delete Currency\n\t\t */\n\t\ttriggerDelete: function (event, id) {\n\t\t\tevent.stopPropagation();\n\t\t\tvar currentTarget = jQuery(event.currentTarget);\n\t\t\tvar currentTrEle = currentTarget.closest('tr');\n\t\t\tvar instance = Settings_Currency_Js.currencyInstance;\n\t\t\tinstance.transformEdit(id).done(function (data) {\n\t\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t\tvar form = jQuery('#transformCurrency');\n\n\t\t\t\t\t//register all select2 Elements\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('select.select2'));\n\n\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tvar transferCurrencyEle = form.find('select[name=\"transform_to_id\"]');\n\t\t\t\t\t\tinstance.deleteCurrency(id, transferCurrencyEle, currentTrEle);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tdata,\n\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{ width: '500px' }\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\t//constructor\n\t\tinit: function () {\n\t\t\tSettings_Currency_Js.currencyInstance = this;\n\t\t},\n\n\t\t/*\n\t\t * function to show editView for Add/Edit Currency\n\t\t * @params: id - currencyId\n\t\t */\n\t\tshowEditView: function (id) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'EditAjax';\n\t\t\tparams['record'] = id;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t\t\tvar form = jQuery('#editCurrency');\n\t\t\t\t\t\tvar record = form.find('[name=\"record\"]').val();\n\n\t\t\t\t\t\t//register all select2 Elements\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('select.select2'));\n\t\t\t\t\t\tvar currencyStatus = form.find('[name=\"currency_status\"]').is(':checked');\n\t\t\t\t\t\tif (record != '' && currencyStatus) {\n\t\t\t\t\t\t\t//While editing currency, register the status change event\n\t\t\t\t\t\t\tthisInstance.registerCurrencyStatusChangeEvent(form);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//If we change the currency name, change the code and symbol for that currency\n\t\t\t\t\t\tthisInstance.registerCurrencyNameChangeEvent(form);\n\n\t\t\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tthisInstance.saveCurrencyDetails(form);\n\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tform.validationEngine(params);\n\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ width: '600px' }\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * Register Change event for currency status\n\t\t */\n\t\tregisterCurrencyStatusChangeEvent: function (form) {\n\t\t\t/*If the status changed to Inactive while editing currency,\n\t\t currency should transfer to other existing currencies */\n\t\t\tform.find('[name=\"currency_status\"]').on('change', function (e) {\n\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tform.find('div.transferCurrency').addClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tform.find('div.transferCurrency').removeClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register Change event for currency Name\n\t\t */\n\t\tregisterCurrencyNameChangeEvent: function (form) {\n\t\t\tvar currencyNameEle = form.find('select[name=\"currency_name\"]');\n\t\t\t//on change of currencyName, update the currency code & symbol\n\t\t\tcurrencyNameEle.on('change', function () {\n\t\t\t\tvar selectedCurrencyOption = currencyNameEle.find('option:selected');\n\t\t\t\tform.find('[name=\"currency_code\"]').val(selectedCurrencyOption.data('code'));\n\t\t\t\tform.find('[name=\"currency_symbol\"]').val(selectedCurrencyOption.data('symbol'));\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * This function will save the currency details\n\t\t */\n\t\tsaveCurrencyDetails: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar data = form.serializeFormData();\n\t\t\tdata['module'] = app.getModuleName();\n\t\t\tdata['parent'] = app.getParentModuleName();\n\t\t\tdata['action'] = 'SaveAjax';\n\t\t\tdata['mode'] = 'save';\n\n\t\t\tAppConnector.request(data)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data['success']) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tvar params = {};\n\t\t\t\t\t\tparams.text = app.vtranslate('JS_CURRENCY_DETAILS_SAVED');\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\t\tthisInstance.loadListViewContents();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * This function will load the listView contents after Add/Edit currency\n\t\t */\n\t\tloadListViewContents: function () {\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'List';\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t//replace the new list view contents\n\t\t\t\t\tjQuery('#listViewContents').html(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * This function will show the Transform Currency view while delete the currency\n\t\t */\n\t\ttransformEdit: function (id) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'TransformEditAjax';\n\t\t\tparams['record'] = id;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * This function will delete the currency and save the transferCurrency details\n\t\t */\n\t\tdeleteCurrency: function (id, transferCurrencyEle, currentTrEle) {\n\t\t\tvar transferCurrencyId = transferCurrencyEle.find('option:selected').val();\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'DeleteAjax';\n\t\t\tparams['record'] = id;\n\t\t\tparams['transform_to_id'] = transferCurrencyId;\n\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\tvar params = {};\n\t\t\t\tparams.text = app.vtranslate('JS_CURRENCY_DELETED_SUCCESSFULLY');\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\tcurrentTrEle.fadeOut('slow').remove();\n\t\t\t});\n\t\t},\n\n\t\tregisterRowClick: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('#listViewContents').on('click', '.listViewEntries', function (e) {\n\t\t\t\tvar currentRow = jQuery(e.currentTarget);\n\t\t\t\tif (currentRow.find('.yfi yfi-full-editing-view ').length <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.showEditView(currentRow.data('id'));\n\t\t\t});\n\t\t},\n\n\t\tregisterEvents: function () {\n\t\t\tthis.registerRowClick();\n\t\t}\n\t}\n);\n\njQuery(document).ready(function () {\n\tvar currencyInstance = new Settings_Currency_Js();\n\tcurrencyInstance.registerEvents();\n});\n"],"names":["jQuery","Class","currencyInstance","triggerAdd","event","stopPropagation","instance","Settings_Currency_Js","showEditView","triggerEdit","id","triggerDefault","Vtiger_Helper_Js","showConfirmationBox","message","app","vtranslate","done","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","saveAjax","record","mode","Settings_Vtiger_Index_Js","showMessage","text","loadListViewContents","triggerDelete","currentTarget","currentTrEle","closest","transformEdit","data","callBackFunction","form","App","Fields","Picklist","showSelect2ElementView","find","on","e","preventDefault","transferCurrencyEle","deleteCurrency","showModalWindow","width","init","thisInstance","aDeferred","Deferred","params","getModuleName","getParentModuleName","AppConnector","request","val","currencyStatus","is","registerCurrencyStatusChangeEvent","registerCurrencyNameChangeEvent","validationEngineOptions","onValidationComplete","valid","saveCurrencyDetails","validationEngine","fail","error","reject","promise","addClass","removeClass","currencyNameEle","selectedCurrencyOption","serializeFormData","hideModalWindow","html","resolve","err","transferCurrencyId","fadeOut","remove","registerRowClick","currentRow","length","registerEvents","document","ready"],"mappings":"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"}