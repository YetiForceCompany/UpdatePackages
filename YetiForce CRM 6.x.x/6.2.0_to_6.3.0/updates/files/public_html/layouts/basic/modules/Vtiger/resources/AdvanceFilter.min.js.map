{"version":3,"file":"AdvanceFilter.min.js","sources":["AdvanceFilter.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_AdvanceFilter_Js',\n\t{\n\t\tgetInstance: function (container) {\n\t\t\tvar module = app.getModuleName();\n\t\t\tvar moduleClassName1 = module + '_AdvanceFilterEx_Js';\n\t\t\tvar moduleClassName2 = module + '_AdvanceFilter_Js';\n\t\t\tvar moduleClassName3 = 'Vtiger_AdvanceFilterEx_Js';\n\t\t\tvar moduleClassName4 = 'Vtiger_AdvanceFilter_Js';\n\t\t\tvar instance;\n\t\t\tif (typeof window[moduleClassName1] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName1](container);\n\t\t\t} else if (typeof window[moduleClassName2] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName2](container);\n\t\t\t} else if (typeof window[moduleClassName3] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName3](container);\n\t\t\t} else {\n\t\t\t\tinstance = new window[moduleClassName4](container);\n\t\t\t}\n\t\t\treturn instance;\n\t\t}\n\t},\n\t{\n\t\tfilterContainer: false,\n\t\t//Hold the conditions for a particular field type\n\t\tfieldTypeConditionMapping: false,\n\t\t//Hold the condition and their label translations\n\t\tconditonOperatorLabelMapping: false,\n\t\tdateConditionInfo: false,\n\t\tfieldModelInstance: false,\n\t\t//Holds fields type and conditions for which it needs validation\n\t\tvalidationSupportedFieldConditionMap: {\n\t\t\temail: ['e', 'n']\n\t\t},\n\t\t//Hols field type for which there is validations always needed\n\t\tallConditionValidationNeededFieldList: ['double', 'integer', 'currency'],\n\t\t//used to eliminate mutiple times validation registrations\n\t\tvalidationForControlsRegistered: false,\n\t\tinit: function (container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('.filterContainer');\n\t\t\t}\n\n\t\t\tif (container.is('.filterContainer')) {\n\t\t\t\tthis.setFilterContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setFilterContainer(jQuery('.filterContainer', container));\n\t\t\t}\n\t\t\tthis.initialize();\n\t\t},\n\t\tgetModuleName: function () {\n\t\t\treturn 'AdvanceFilter';\n\t\t},\n\t\t/**\n\t\t * Function  to initialize the advance filter\n\t\t */\n\t\tinitialize: function () {\n\t\t\tthis.registerEvents();\n\t\t\tthis.initializeOperationMappingDetails();\n\t\t\tthis.loadFieldSpecificUiForAll();\n\t\t},\n\t\t/**\n\t\t * Function which will save the field condition mapping condition label mapping\n\t\t */\n\t\tinitializeOperationMappingDetails: function () {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tthis.fieldTypeConditionMapping = jQuery('input[name=\"advanceFilterOpsByFieldType\"]', filterContainer).data(\n\t\t\t\t'value'\n\t\t\t);\n\t\t\tthis.conditonOperatorLabelMapping = jQuery('input[name=\"advanceFilterOptions\"]', filterContainer).data('value');\n\t\t\tthis.dateConditionInfo = jQuery('[name=\"date_filters\"]').data('value');\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to get the container which holds all the filter elements\n\t\t * @return jQuery object\n\t\t */\n\t\tgetFilterContainer: function () {\n\t\t\treturn this.filterContainer;\n\t\t},\n\t\t/**\n\t\t * Function to set the filter container\n\t\t * @params : element - which represents the filter container\n\t\t * @return : current instance\n\t\t */\n\t\tsetFilterContainer: function (element) {\n\t\t\tthis.filterContainer = element;\n\t\t\treturn this;\n\t\t},\n\t\tgetDateSpecificConditionInfo: function () {\n\t\t\treturn this.dateConditionInfo;\n\t\t},\n\t\t/**\n\t\t * Function which will return set of condition for the given field type\n\t\t * @return array of conditions\n\t\t */\n\t\tgetConditionListFromType: function (fieldType) {\n\t\t\tvar fieldTypeConditions = this.fieldTypeConditionMapping[fieldType];\n\t\t\tif (fieldType == 'D' || fieldType == 'DT') {\n\t\t\t\tfieldTypeConditions = fieldTypeConditions.concat(this.getDateConditions(fieldType));\n\t\t\t}\n\t\t\treturn fieldTypeConditions;\n\t\t},\n\t\tgetDateConditions: function (fieldType) {\n\t\t\tif (fieldType != 'D' && fieldType != 'DT') {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tvar dateFilters = this.getDateSpecificConditionInfo();\n\t\t\treturn Object.keys(dateFilters);\n\t\t},\n\t\t/**\n\t\t * Function to get the condition label\n\t\t * @param : key - condition key\n\t\t * @reurn : label for the condition or key if it doest not contain in the condition label mapping\n\t\t */\n\t\tgetConditionLabel: function (key) {\n\t\t\tif (key in this.conditonOperatorLabelMapping) {\n\t\t\t\treturn this.conditonOperatorLabelMapping[key];\n\t\t\t}\n\t\t\tif (key in this.getDateSpecificConditionInfo()) {\n\t\t\t\treturn this.getDateSpecificConditionInfo()[key]['label'];\n\t\t\t}\n\t\t\treturn key;\n\t\t},\n\t\t/**\n\t\t * Function to check if the field selected is empty field\n\t\t * @params : select element which represents the field\n\t\t * @return : boolean true/false\n\t\t */\n\t\tisEmptyFieldSelected: function (fieldSelect) {\n\t\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\t\t//assumption that empty field will be having value none\n\t\t\tif (selectedOption.val() == 'none') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Function to get the add condition elements\n\t\t * @returns : jQuery object which represents the add conditions elements\n\t\t */\n\t\tgetAddConditionElement: function () {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\treturn jQuery('.addCondition button', filterContainer);\n\t\t},\n\t\t/**\n\t\t * Function to add new condition row\n\t\t * @params : condtionGroupElement - group where condtion need to be added\n\t\t * @return : current instance\n\t\t */\n\t\taddNewCondition: function (conditionGroupElement) {\n\t\t\tlet basicElement = $('.basic', conditionGroupElement);\n\t\t\tlet newRowElement = basicElement.find('.js-conditions-row').clone(true, true);\n\t\t\tlet selectElement = newRowElement.find('select').addClass('select2');\n\t\t\tlet conditionList = $('.conditionList', conditionGroupElement);\n\t\t\tconditionList.append(newRowElement);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(selectElement, {\n\t\t\t\tdropdownParent: conditionGroupElement\n\t\t\t});\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function/Handler  which will triggered when user clicks on add condition\n\t\t */\n\t\taddConditionHandler: function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar conditionGroup = element.closest('div.conditionGroup');\n\t\t\tthis.addNewCondition(conditionGroup);\n\t\t},\n\t\tgetFieldSpecificType: function (fieldSelected) {\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\tvar type = fieldInfo.type;\n\t\t\tif (type == 'reference') {\n\t\t\t\treturn 'V';\n\t\t\t}\n\t\t\treturn fieldSelected.data('fieldtype');\n\t\t},\n\t\t/**\n\t\t * Function to load condition list for the selected field\n\t\t * @params : fieldSelect - select element which will represents field list\n\t\t * @return : select element which will represent the condition element\n\t\t */\n\t\tloadConditions: function (fieldSelect) {\n\t\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\tvar group = row.find('[name=\"column_condition\"]');\n\t\t\tvar conditionSelected = conditionSelectElement.val();\n\t\t\tvar fieldSelected = fieldSelect.find('option:selected');\n\t\t\tvar fieldSpecificType = this.getFieldSpecificType(fieldSelected);\n\t\t\tvar conditionList = this.getConditionListFromType(fieldSpecificType);\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\t//for none in field name\n\t\t\tif (typeof conditionList === 'undefined') {\n\t\t\t\tconditionList = {};\n\t\t\t\tconditionList['none'] = 'None';\n\t\t\t}\n\t\t\tvar options = '';\n\t\t\tfor (var key in conditionList) {\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['rangeTime', 'image']) != -1 &&\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['y', 'ny']) == -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, [\n\t\t\t\t\t\t'userCreator',\n\t\t\t\t\t\t'owner',\n\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t'tree',\n\t\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t\t'languages',\n\t\t\t\t\t\t'currencyList',\n\t\t\t\t\t\t'fileLocationType'\n\t\t\t\t\t]) != -1 &&\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['s', 'ew', 'c', 'k']) != -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tconditionList[key] === 'om' &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['owner', 'sharedOwner', 'userCreator']) == -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['wr', 'nwr']) != -1 &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['owner']) == -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['s', 'ew']) != -1 &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['taxes', 'multipicklist', 'categoryMultipicklist', 'sharedOwner']) != -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['bw', 'm', 'h']) != -1 &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['time']) != -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (conditionList[key] === 'd' && group.val() !== 'and') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t//IE Browser consider the prototype properties also, it should consider has own properties only.\n\t\t\t\tif (conditionList.hasOwnProperty(key)) {\n\t\t\t\t\tvar conditionValue = conditionList[key];\n\t\t\t\t\tvar conditionLabel = this.getConditionLabel(conditionValue);\n\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t}\n\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t}\n\t\t\t}\n\t\t\tconditionSelectElement.empty().html(options).trigger('change');\n\t\t\treturn conditionSelectElement;\n\t\t},\n\t\t/**\n\t\t * Functiont to get the field specific ui for the selected field\n\t\t * @prarms : fieldSelectElement - select element which will represents field list\n\t\t * @return : jquery object which represents the ui for the field\n\t\t */\n\t\tgetFieldSpecificUi: function (fieldSelectElement) {\n\t\t\tlet fieldModel = this.fieldModelInstance,\n\t\t\t\thtml;\n\t\t\tif (fieldModel.get('comparatorElementVal') === 'd') {\n\t\t\t\thtml = '<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"' + fieldModel.getName() + '\" value=\"0\" ';\n\t\t\t\tif (fieldModel.getValue() === 1 || fieldModel.getValue() === '1') {\n\t\t\t\t\thtml += 'checked';\n\t\t\t\t}\n\t\t\t\thtml += ' >' + app.vtranslate('JS_IGNORE_EMPTY_VALUES') + '</label></div>';\n\t\t\t\treturn $(html);\n\t\t\t} else if (\n\t\t\t\tfieldModel.getType().toLowerCase() === 'boolean' ||\n\t\t\t\tfieldSelectElement.find('option:selected').data('fieldtype') === 'C'\n\t\t\t) {\n\t\t\t\tlet selectedValue = fieldSelectElement.closest('.js-conditions-row').find('[data-value=\"value\"]').val();\n\t\t\t\thtml = '<select class=\"select2\" name=\"' + fieldModel.getName() + '\">';\n\t\t\t\thtml += '<option value=\"0\"';\n\t\t\t\tif (selectedValue === '0') {\n\t\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t\t}\n\t\t\t\thtml += '>' + app.vtranslate('JS_IS_DISABLED') + '</option>';\n\n\t\t\t\thtml += '<option value=\"1\"';\n\t\t\t\tif (selectedValue === '1') {\n\t\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t\t}\n\t\t\t\thtml += '>' + app.vtranslate('JS_IS_ENABLED') + '</option>';\n\t\t\t\thtml += '</select>';\n\t\t\t\treturn $(html);\n\t\t\t} else {\n\t\t\t\treturn $(fieldModel.getUiTypeSpecificHtml());\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will load the field specific ui for a selected field\n\t\t * @prarms : fieldSelect - select element which will represents field list\n\t\t * @return : current instance\n\t\t */\n\t\tloadFieldSpecificUi: function (fieldSelect) {\n\t\t\tconst selectedOption = fieldSelect.find('option:selected');\n\t\t\tconst row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tconst fieldUiHolder = row.find('.fieldUiHolder');\n\t\t\tconst conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\tlet fieldInfo = selectedOption.data('fieldinfo');\n\t\t\tconst valueType = fieldUiHolder.find(`[name=\"${fieldInfo.name}\"]`).data('valuetype');\n\t\t\tlet fieldType = 'string';\n\t\t\tif (typeof fieldInfo !== 'undefined') {\n\t\t\t\tfieldType = fieldInfo.type;\n\t\t\t} else {\n\t\t\t\tfieldInfo = {};\n\t\t\t}\n\n\t\t\tvar comparatorElementVal = (fieldInfo.comparatorElementVal = conditionSelectElement.val());\n\t\t\tif (fieldType == 'date' || fieldType == 'datetime') {\n\t\t\t\tfieldInfo.dateSpecificConditions = this.getDateSpecificConditionInfo();\n\t\t\t}\n\t\t\tvar moduleName = this.getModuleName();\n\t\t\tvar fieldModel = Vtiger_Field_Js.getInstance(fieldInfo, moduleName);\n\t\t\tthis.fieldModelInstance = fieldModel;\n\t\t\tvar fieldSpecificUi = this.getFieldSpecificUi(fieldSelect);\n\n\t\t\t//remove validation since we dont need validations for all eleements\n\t\t\t// Both filter and find is used since we dont know whether the element is enclosed in some conainer like currency\n\t\t\tvar fieldName = fieldModel.getName();\n\n\t\t\tif (\n\t\t\t\t$.inArray(fieldModel.getType(), [\n\t\t\t\t\t'multipicklist',\n\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t'taxes',\n\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t]) > -1\n\t\t\t) {\n\t\t\t\tfieldName = fieldName + '[]';\n\t\t\t} else if (\n\t\t\t\t$.inArray(fieldModel.getType(), [\n\t\t\t\t\t'userCreator',\n\t\t\t\t\t'picklist',\n\t\t\t\t\t'owner',\n\t\t\t\t\t'languages',\n\t\t\t\t\t'modules',\n\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t'currencyList',\n\t\t\t\t\t'fileLocationType'\n\t\t\t\t]) > -1 &&\n\t\t\t\tfieldSpecificUi.is('select') &&\n\t\t\t\t(comparatorElementVal == 'e' || comparatorElementVal == 'n')\n\t\t\t) {\n\t\t\t\tfieldName = fieldName + '[]';\n\t\t\t}\n\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').addClass('form-control');\n\t\t\tfieldSpecificUi\n\t\t\t\t.filter('[name=\"' + fieldName + '\"]')\n\t\t\t\t.attr('data-value', 'value')\n\t\t\t\t.removeAttr('data-validation-engine');\n\t\t\tfieldSpecificUi\n\t\t\t\t.find('[name=\"' + fieldName + '\"]')\n\t\t\t\t.attr('data-value', 'value')\n\t\t\t\t.removeAttr('data-validation-engine');\n\n\t\t\tif (fieldModel.getType() == 'currency') {\n\t\t\t\tfieldSpecificUi\n\t\t\t\t\t.filter('[name=\"' + fieldName + '\"]')\n\t\t\t\t\t.attr('data-decimal-separator', fieldInfo.decimal_separator)\n\t\t\t\t\t.attr('data-group-separator', fieldInfo.group_separator);\n\t\t\t\tfieldSpecificUi\n\t\t\t\t\t.find('[name=\"' + fieldName + '\"]')\n\t\t\t\t\t.attr('data-decimal-separator', fieldInfo.decimal_separator)\n\t\t\t\t\t.attr('data-group-separator', fieldInfo.group_separator);\n\t\t\t}\n\t\t\tif (valueType) {\n\t\t\t\tthis.fieldModelInstance.data.workflow_valuetype = valueType;\n\t\t\t}\n\t\t\tfieldUiHolder.html(fieldSpecificUi);\n\n\t\t\tif (fieldSpecificUi.is('select')) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(fieldSpecificUi, { dropdownParent: row });\n\t\t\t} else if (fieldSpecificUi.has('input.dateField').length > 0) {\n\t\t\t\tApp.Fields.Date.register(fieldSpecificUi);\n\t\t\t} else if (fieldSpecificUi.has('input.dateRangeField').length > 0) {\n\t\t\t\tApp.Fields.Date.registerRange(fieldSpecificUi, { ranges: false });\n\t\t\t} else if (fieldSpecificUi.has('input.clockPicker').length > 0) {\n\t\t\t\tapp.registerEventForClockPicker(fieldSpecificUi);\n\t\t\t}\n\t\t\tthis.addValidationToFieldIfNeeded(fieldSelect);\n\n\t\t\t// Is Empty, today, tomorrow, yesterday conditions does not need any field input value - hide the UI\n\t\t\t// re-enable if condition element is chosen.\n\t\t\tvar specialConditions = [\n\t\t\t\t'y',\n\t\t\t\t'today',\n\t\t\t\t'tomorrow',\n\t\t\t\t'yesterday',\n\t\t\t\t'smallerthannow',\n\t\t\t\t'greaterthannow',\n\t\t\t\t'ny',\n\t\t\t\t'om',\n\t\t\t\t'nom',\n\t\t\t\t'wr',\n\t\t\t\t'nwr'\n\t\t\t];\n\t\t\tif (specialConditions.indexOf(conditionSelectElement.val()) != -1) {\n\t\t\t\tfieldUiHolder.hide();\n\t\t\t} else {\n\t\t\t\tfieldUiHolder.show();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to load field specific ui for all the select elements - this is used on load\n\t\t * to show field specific ui for all the fields\n\t\t */\n\t\tloadFieldSpecificUiForAll: function () {\n\t\t\tvar conditionsContainer = jQuery('.conditionList');\n\t\t\tvar fieldSelectElement = jQuery('select[name=\"columnname\"]', conditionsContainer);\n\t\t\tjQuery.each(fieldSelectElement, function (i, elem) {\n\t\t\t\tvar currentElement = jQuery(elem);\n\t\t\t\tif (currentElement.val() != 'none') {\n\t\t\t\t\tcurrentElement.trigger('change', { _intialize: true });\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to add the validation if required\n\t\t * @prarms : selectFieldElement - select element which will represents field list\n\t\t */\n\t\taddValidationToFieldIfNeeded: function (selectFieldElement) {\n\t\t\tvar selectedOption = selectFieldElement.find('option:selected');\n\t\t\tvar row = selectFieldElement.closest('div.js-conditions-row');\n\t\t\tvar fieldSpecificElement = row.find('[data-value=\"value\"]');\n\t\t\tvar validator = selectedOption.attr('data-validator');\n\n\t\t\tif (this.isFieldSupportsValidation(selectFieldElement)) {\n\t\t\t\t//data attribute will not be present while attaching validation engine events . so we are\n\t\t\t\t//depending on the fallback option which is class\n\t\t\t\tfieldSpecificElement\n\t\t\t\t\t.addClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.attr('data-validation-engine', 'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.attr('data-fieldinfo', JSON.stringify(selectedOption.data('fieldinfo')));\n\t\t\t\tif (typeof validator !== 'undefined') {\n\t\t\t\t\tfieldSpecificElement.attr('data-validator', validator);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfieldSpecificElement\n\t\t\t\t\t.removeClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.removeAttr('data-validation-engine');\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Check if field supports validation\n\t\t * @prarms : selectFieldElement - select element which will represents field list\n\t\t * @return - boolen true/false\n\t\t */\n\t\tisFieldSupportsValidation: function (fieldSelect) {\n\t\t\tvar fieldModel = this.fieldModelInstance;\n\t\t\tvar type = fieldModel.getType();\n\n\t\t\tif (jQuery.inArray(type, this.allConditionValidationNeededFieldList) >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\n\t\t\tvar conditionValue = conditionSelectElement.val();\n\n\t\t\tif (type in this.validationSupportedFieldConditionMap) {\n\t\t\t\tif (jQuery.inArray(conditionValue, this.validationSupportedFieldConditionMap[type]) >= 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Function to retrieve the values of the filter\n\t\t * @return : object\n\t\t */\n\t\tgetValues: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tlet fieldList = ['columnname', 'comparator', 'value', 'column_condition'],\n\t\t\t\tfilterContainer = this.getFilterContainer(),\n\t\t\t\tconditionGroups = $('.conditionGroup', filterContainer),\n\t\t\t\tvalues = {},\n\t\t\t\tcolumnIndex = 0;\n\t\t\t$('.conditionGroup', filterContainer).each(function (index, domElement) {\n\t\t\t\tlet groupElement = $(domElement);\n\t\t\t\tvalues[index + 1] = {};\n\t\t\t\tvalues[index + 1]['columns'] = {};\n\t\t\t\t$('.conditionList .js-conditions-row', groupElement).each(function (i, conditionDomElement) {\n\t\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\t\tfieldSelectElement = $('[name=\"columnname\"]', rowElement),\n\t\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t\t//To not send empty fields to server\n\t\t\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tlet fieldDataInfo = fieldSelectElement.find('option:selected').data('fieldinfo'),\n\t\t\t\t\t\tfieldType = fieldDataInfo.type,\n\t\t\t\t\t\trowValues = {},\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tfield;\n\t\t\t\t\tif (fieldType === 'owner' || fieldType === 'userCreator') {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('select')) {\n\t\t\t\t\t\t\t\tlet newValuesArr = valueSelectElement.val();\n\t\t\t\t\t\t\t\tif (!newValuesArr) {\n\t\t\t\t\t\t\t\t\trowValues[field] = '';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\t\trowValues[field] =\n\t\t\t\t\t\t\t\t\tvalueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked')\n\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t: valueSelectElement.val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t$.inArray(fieldType, [\n\t\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t\t\t'languages',\n\t\t\t\t\t\t\t'currencyList',\n\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t\t\t]) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value' && valueSelectElement.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\t\trowValues[field] = valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tfield === 'value' &&\n\t\t\t\t\t\t\t\tvalueSelectElement.is('select') &&\n\t\t\t\t\t\t\t\t$.inArray(fieldType, [\n\t\t\t\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t\t\t\t\t'languages',\n\t\t\t\t\t\t\t\t\t'currencyList',\n\t\t\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t\t\t\t\t]) > -1\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet value = valueSelectElement.val();\n\t\t\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value') {\n\t\t\t\t\t\t\t\trowValues[field] =\n\t\t\t\t\t\t\t\t\tvalueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked')\n\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t: valueSelectElement.val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowElement.is(':last-child')) {\n\t\t\t\t\t\trowValues['column_condition'] = '';\n\t\t\t\t\t}\n\t\t\t\t\tvalues[index + 1]['columns'][columnIndex] = rowValues;\n\t\t\t\t\tcolumnIndex++;\n\t\t\t\t});\n\t\t\t\tif (groupElement.find('div.groupCondition').length > 0) {\n\t\t\t\t\tvalues[index + 1]['condition'] = conditionGroups.find('div.groupCondition [name=\"condition\"]').val();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn values;\n\t\t},\n\t\t/**\n\t\t * Event handle which will be triggred on deletion of a condition row\n\t\t */\n\t\tdeleteConditionHandler: function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar row = element.closest('.js-conditions-row');\n\t\t\trow.remove();\n\t\t},\n\t\t/**\n\t\t * Event handler which is invoked on add condition\n\t\t */\n\t\tregisterAddCondition: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.getAddConditionElement().on('click', function (e) {\n\t\t\t\tthisInstance.addConditionHandler(e);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register field change event\n\t\t */\n\t\tregisterFieldChange: function () {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tfilterContainer.on('change', 'select[name=\"columnname\"]', function (e, data) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t\tif (typeof data === 'undefined' || data._intialize != true) {\n\t\t\t\t\tvar row = currentElement.closest('div.js-conditions-row');\n\t\t\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\t\t\tconditionSelectElement.empty();\n\t\t\t\t}\n\t\t\t\tthisInstance.loadConditions(currentElement);\n\t\t\t\tthisInstance.loadFieldSpecificUi(currentElement);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register condition change\n\t\t */\n\t\tregisterConditionChange: function () {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tfilterContainer.on('change', 'select[name=\"comparator\"]', function (e) {\n\t\t\t\tvar comparatorSelectElement = jQuery(e.currentTarget);\n\t\t\t\tvar row = comparatorSelectElement.closest('div.js-conditions-row');\n\t\t\t\tvar fieldSelectElement = row.find('select[name=\"columnname\"]');\n\t\t\t\t//To handle the validation depending on condtion\n\t\t\t\tthisInstance.loadFieldSpecificUi(fieldSelectElement);\n\t\t\t\tthisInstance.addValidationToFieldIfNeeded(fieldSelectElement);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to regisgter delete condition event\n\t\t */\n\t\tregisterDeleteCondition: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tfilterContainer.on('click', '.js-condition-delete', function (e) {\n\t\t\t\tthisInstance.deleteConditionHandler(e);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will regiter all events for this page\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.registerAddCondition();\n\t\t\tthis.registerFieldChange();\n\t\t\tthis.registerDeleteCondition();\n\t\t\tthis.registerConditionChange();\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'AdvanceFilter_Field_Js',\n\t{},\n\t{\n\t\tgetUiTypeSpecificHtml: function () {\n\t\t\tvar uiTypeModel = this.getUiTypeModel();\n\t\t\treturn uiTypeModel.getUi();\n\t\t},\n\t\tgetModuleName: function () {\n\t\t\tvar currentModule = app.getModuleName();\n\n\t\t\tvar type = this.getType();\n\t\t\tif (\n\t\t\t\t$.inArray(type, [\n\t\t\t\t\t'picklist',\n\t\t\t\t\t'userCreator',\n\t\t\t\t\t'multipicklist',\n\t\t\t\t\t'owner',\n\t\t\t\t\t'userCreator',\n\t\t\t\t\t'modules',\n\t\t\t\t\t'date',\n\t\t\t\t\t'datetime',\n\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t'languages',\n\t\t\t\t\t'currencyList',\n\t\t\t\t\t'taxes',\n\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t]) > -1\n\t\t\t) {\n\t\t\t\tcurrentModule = 'AdvanceFilter';\n\t\t\t}\n\t\t\treturn currentModule;\n\t\t}\n\t}\n);\n\nVtiger_Picklist_Field_Js(\n\t'AdvanceFilter_Picklist_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function () {\n\t\t\tvar html = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\t\tvar pickListValues = this.getPickListValues();\n\t\t\tvar selectedOption = app.htmlDecode(this.getValue());\n\t\t\tvar selectedOptionsArray = selectedOption.split(',');\n\t\t\tfor (var option in pickListValues) {\n\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\tif (jQuery.inArray(option, selectedOptionsArray) != -1) {\n\t\t\t\t\thtml += ' selected ';\n\t\t\t\t}\n\t\t\t\thtml += '>' + pickListValues[option] + '</option>';\n\t\t\t}\n\t\t\thtml += '</select>';\n\t\t\tvar selectContainer = jQuery(html);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t}\n\t}\n);\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Modules_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Inventorylimit_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Filelocationtype_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Multipicklist_Field_Js', {}, {});\n\nVtiger_Categorymultipicklist_Field_Js(\n\t'AdvanceFilter_Categorymultipicklist_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the display value\n\t\t */\n\t\tgetDisplayValue: function () {\n\t\t\treturn this.get('displayvalue');\n\t\t},\n\t\tgetReadOnly: function () {\n\t\t\tlet result = '';\n\t\t\tif (this.getDisplayValue() !== '') {\n\t\t\t\tresult = ' readonly=\"true\" ';\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t/**\n\t\t * Function to get the user date format\n\t\t */\n\t\tgetTreeTemplate: function () {\n\t\t\treturn this.get('treetemplate');\n\t\t},\n\t\t/**\n\t\t * Function to get the user date format\n\t\t */\n\t\tgetModuleName: function () {\n\t\t\treturn this.get('modulename');\n\t\t},\n\t\tgetUi: function () {\n\t\t\tlet pickListValues = this.getPickListValues();\n\t\t\tlet displayValue = this.getDisplayValue();\n\t\t\tlet multiple = 1;\n\t\t\tif (this.getType() === 'tree') {\n\t\t\t\tmultiple = 0;\n\t\t\t}\n\t\t\tlet html =\n\t\t\t\t'<div class=\"js-tree-container fieldValue\" data-js=\"container\"><input name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" type=\"hidden\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" class=\"sourceField\" data-displayvalue=\"' +\n\t\t\t\tdisplayValue +\n\t\t\t\t'\" data-fieldinfo=\\'{\"mandatory\":false,\"presence\":true,\"quickcreate\":true,\"masseditable\":true,\"header_field\":[],\"maxlengthtext\":0,\"maximumlength\":\"200\",\"maxwidthcolumn\":0,\"tabindex\":0,\"defaultvalue\":\"\",\"type\":\"tree\",\"name\":\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\",\"label\":\"\",\"picklistvalues\":' +\n\t\t\t\tJSON.stringify(pickListValues) +\n\t\t\t\t'}\\' data-multiple=\"' +\n\t\t\t\tmultiple +\n\t\t\t\t'\" data-value=\"value\" data-treetemplate=\"' +\n\t\t\t\tthis.getTreeTemplate() +\n\t\t\t\t'\" data-modulename=\"' +\n\t\t\t\tthis.getModuleName() +\n\t\t\t\t'\"><div class=\"input-group\"><span class=\"input-group-prepend clearTreeSelection u-cursor-pointer\"><span class=\"input-group-text\"><span id=\"' +\n\t\t\t\tthis.getModuleName() +\n\t\t\t\t'_editView_fieldName_' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'_clear\" class=\"fas fa-times-circle\"  title=\"\"></span></span></span><input id=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'_display\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'_display\" type=\"text\" class=\"ml-0 treeAutoComplete form-control\" value=\"' +\n\t\t\t\tdisplayValue +\n\t\t\t\t'\"' +\n\t\t\t\tthis.getReadOnly() +\n\t\t\t\t'data-fieldinfo=\\'{\"mandatory\":false,\"presence\":true,\"quickcreate\":true,\"masseditable\":true,\"header_field\":[],\"maxlengthtext\":0,\"maximumlength\":\"200\",\"maxwidthcolumn\":0,\"tabindex\":0,\"defaultvalue\":\"\",\"type\":\"tree\",\"name\":\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\",\"label\":\"\",\"picklistvalues\":' +\n\t\t\t\tJSON.stringify(pickListValues) +\n\t\t\t\t'}\\'><span class=\"input-group-append js-tree-modal u-cursor-pointer\"><span class=\"input-group-text\"><span id=\"' +\n\t\t\t\tthis.getModuleName() +\n\t\t\t\t'_editView_fieldName_' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'_select\" class=\"fas fa-search\" title=\"\"></span></span></span></div>';\n\t\t\tlet selectContainer = $(html);\n\t\t\tApp.Fields.Tree.register(selectContainer);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t}\n\t}\n);\n\nAdvanceFilter_Categorymultipicklist_Field_Js('Vtiger_Tree_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Languages_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Currencylist_Field_Js', {}, {});\n\nAdvanceFilter_Multipicklist_Field_Js('AdvanceFilter_Taxes_Field_Js', {}, {});\n\nVtiger_Owner_Field_Js(\n\t'AdvanceFilter_Owner_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function () {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\thtml = '',\n\t\t\t\tselectContainer;\n\t\t\tif (\n\t\t\t\tcomparatorSelectedOptionVal === 'e' ||\n\t\t\t\tcomparatorSelectedOptionVal === 'n' ||\n\t\t\t\t(this.getName() === 'shownerid' && $.inArray(comparatorSelectedOptionVal, ['c', 'k']) != -1)\n\t\t\t) {\n\t\t\t\thtml = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\t\t\tlet pickListValues = this.getPickListValues(),\n\t\t\t\t\tselectedOption = app.htmlDecode(this.getValue()),\n\t\t\t\t\toptGroup;\n\t\t\t\tfor (optGroup in pickListValues) {\n\t\t\t\t\thtml += '<optgroup label=\"' + optGroup + '\">';\n\t\t\t\t\tlet optionGroupValues = pickListValues[optGroup],\n\t\t\t\t\t\toption;\n\t\t\t\t\tfor (option in optionGroupValues) {\n\t\t\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\t\t\tif ($.inArray(option, selectedOption.split(',')) != -1) {\n\t\t\t\t\t\t\thtml += ' selected ';\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtml += '>' + optionGroupValues[option] + '</option>';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '</optgroup>';\n\t\t\t\t}\n\t\t\t\thtml += '</select>';\n\t\t\t\tselectContainer = $(html);\n\t\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\t\treturn selectContainer;\n\t\t\t} else {\n\t\t\t\tlet tagsArray = [];\n\t\t\t\t$.each(this.getPickListValues(), function (groups, blocks) {\n\t\t\t\t\t$.each(blocks, function (i, e) {\n\t\t\t\t\t\ttagsArray.push($.trim(e));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\thtml = '<input data-tags=\"' + tagsArray + '\" type=\"hidden\" class=\"row select2\" name=\"' + this.getName() + '\">';\n\t\t\t\tselectContainer = $(html).val(this.getValue());\n\t\t\t\tselectContainer.data('tags', tagsArray);\n\t\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\t\treturn selectContainer;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Multireferencevalue_Field_Js('AdvanceFilter_Multireferencevalue_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Sharedowner_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Usercreator_Field_Js', {}, {});\nVtiger_Date_Field_Js(\n\t'AdvanceFilter_Date_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\tdateSpecificConditions = this.get('dateSpecificConditions'),\n\t\t\t\thtml = '';\n\t\t\tif (comparatorSelectedOptionVal === 'bw' || comparatorSelectedOptionVal === 'custom') {\n\t\t\t\thtml =\n\t\t\t\t\t'<div class=\"date\"><input class=\"dateRangeField form-control\" data-calendar-type=\"range\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\" data-date-format=\"' +\n\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t'\" type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\"></div>';\n\t\t\t\tlet element = $(html),\n\t\t\t\t\tdateFieldUi = element.find('.dateRangeField');\n\t\t\t\tif (dateFieldUi.val().indexOf(',') !== -1) {\n\t\t\t\t\tlet valueArray = this.getValue().split(','),\n\t\t\t\t\t\tstartDateTime = valueArray[0],\n\t\t\t\t\t\tendDateTime = valueArray[1];\n\t\t\t\t\tif (startDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\t\tlet dateTime = startDateTime.split(' ');\n\t\t\t\t\t\tstartDateTime = dateTime[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (endDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\t\tlet dateTimeValue = endDateTime.split(' ');\n\t\t\t\t\t\tendDateTime = dateTimeValue[0];\n\t\t\t\t\t}\n\t\t\t\t\tdateFieldUi.val(startDateTime + ',' + endDateTime);\n\t\t\t\t} else {\n\t\t\t\t\t// while changing to between/custom from equal/notequal/... we'll only have one value\n\t\t\t\t\tlet value = this.getValue().split(' '),\n\t\t\t\t\t\tstartDate = value[0],\n\t\t\t\t\t\tendDate = value[0];\n\t\t\t\t\tif (startDate !== '' && endDate !== '') {\n\t\t\t\t\t\tdateFieldUi.val(startDate + ',' + endDate);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this.addValidationToElement(element);\n\t\t\t} else if (comparatorSelectedOptionVal in dateSpecificConditions) {\n\t\t\t\tlet startValue = dateSpecificConditions[comparatorSelectedOptionVal]['startdate'],\n\t\t\t\t\tendValue = dateSpecificConditions[comparatorSelectedOptionVal]['enddate'];\n\t\t\t\tif (\n\t\t\t\t\tcomparatorSelectedOptionVal === 'today' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'tomorrow' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'yesterday'\n\t\t\t\t) {\n\t\t\t\t\thtml = '<input name=\"' + this.getName() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + startValue + '\">';\n\t\t\t\t} else {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\" type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\t\tstartValue +\n\t\t\t\t\t\t',' +\n\t\t\t\t\t\tendValue +\n\t\t\t\t\t\t'\">';\n\t\t\t\t}\n\t\t\t\treturn $(html);\n\t\t\t} else {\n\t\t\t\tlet fieldUi = this._super(),\n\t\t\t\t\tdateTimeFieldValue = fieldUi.find('.dateField').val(),\n\t\t\t\t\tdateValue = dateTimeFieldValue.split(' ');\n\t\t\t\tif (dateValue[1] === '00:00:00') {\n\t\t\t\t\tdateTimeFieldValue = dateValue[0];\n\t\t\t\t} else if (\n\t\t\t\t\tcomparatorSelectedOptionVal === 'e' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'n' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'b' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'a'\n\t\t\t\t) {\n\t\t\t\t\tlet dateTimeArray = dateTimeFieldValue.split(' ');\n\t\t\t\t\tdateTimeFieldValue = dateTimeArray[0];\n\t\t\t\t}\n\t\t\t\tfieldUi.find('.dateField').val(dateTimeFieldValue);\n\t\t\t\treturn fieldUi;\n\t\t\t}\n\t\t}\n\t}\n);\n\nAdvanceFilter_Date_Field_Js('AdvanceFilter_Datetime_Field_Js', {}, {});\n"],"names":["jQuery","Class","getInstance","container","instance","module","app","getModuleName","moduleClassName1","moduleClassName2","moduleClassName3","window","filterContainer","fieldTypeConditionMapping","conditonOperatorLabelMapping","dateConditionInfo","fieldModelInstance","validationSupportedFieldConditionMap","email","allConditionValidationNeededFieldList","validationForControlsRegistered","init","is","setFilterContainer","initialize","registerEvents","initializeOperationMappingDetails","loadFieldSpecificUiForAll","getFilterContainer","data","element","getDateSpecificConditionInfo","getConditionListFromType","fieldType","fieldTypeConditions","concat","getDateConditions","dateFilters","Object","keys","getConditionLabel","key","isEmptyFieldSelected","fieldSelect","selectedOption","find","val","getAddConditionElement","addNewCondition","conditionGroupElement","basicElement","$","newRowElement","clone","selectElement","addClass","conditionList","append","App","Fields","Picklist","showSelect2ElementView","dropdownParent","addConditionHandler","e","currentTarget","conditionGroup","closest","getFieldSpecificType","fieldSelected","fieldInfo","type","loadConditions","row","conditionSelectElement","group","conditionSelected","fieldSpecificType","options","inArray","hasOwnProperty","conditionValue","conditionLabel","empty","html","trigger","getFieldSpecificUi","fieldSelectElement","fieldModel","get","getName","getValue","vtranslate","getType","toLowerCase","selectedValue","getUiTypeSpecificHtml","loadFieldSpecificUi","fieldUiHolder","valueType","name","comparatorElementVal","dateSpecificConditions","moduleName","Vtiger_Field_Js","fieldSpecificUi","fieldName","filter","attr","removeAttr","decimal_separator","group_separator","workflow_valuetype","has","length","Date","register","registerRange","ranges","registerEventForClockPicker","addValidationToFieldIfNeeded","indexOf","show","hide","conditionsContainer","each","i","elem","currentElement","_intialize","selectFieldElement","fieldSpecificElement","validator","isFieldSupportsValidation","JSON","stringify","removeClass","getValues","thisInstance","fieldList","conditionGroups","values","columnIndex","index","domElement","groupElement","conditionDomElement","rowElement","valueSelectElement","field","fieldDataInfo","rowValues","newValuesArr","join","prop","pickListValues","valuesArr","split","push","value","deleteConditionHandler","remove","registerAddCondition","on","registerFieldChange","registerConditionChange","comparatorSelectElement","registerDeleteCondition","uiTypeModel","getUiTypeModel","getUi","currentModule","Vtiger_Picklist_Field_Js","getPickListValues","htmlDecode","selectedOptionsArray","option","selectContainer","addValidationToElement","AdvanceFilter_Picklist_Field_Js","Vtiger_Multipicklist_Field_Js","Vtiger_Categorymultipicklist_Field_Js","getDisplayValue","getReadOnly","result","getTreeTemplate","displayValue","multiple","Tree","AdvanceFilter_Categorymultipicklist_Field_Js","AdvanceFilter_Multipicklist_Field_Js","Vtiger_Owner_Field_Js","comparatorSelectedOptionVal","optGroup","optionGroupValues","tagsArray","groups","blocks","trim","Vtiger_Multireferencevalue_Field_Js","AdvanceFilter_Owner_Field_Js","Vtiger_Date_Field_Js","getDateFormat","dateFieldUi","valueArray","startDateTime","endDateTime","dateTime","dateTimeValue","startDate","endDate","startValue","endValue","fieldUi","_super","dateTimeFieldValue","dateValue","dateTimeArray","AdvanceFilter_Date_Field_Js"],"mappings":"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"}