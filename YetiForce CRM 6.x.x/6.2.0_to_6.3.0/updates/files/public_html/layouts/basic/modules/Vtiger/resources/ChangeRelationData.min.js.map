{"version":3,"file":"ChangeRelationData.min.js","sources":["ChangeRelationData.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n$.Class(\n\t'Base_ChangeRelationData_JS',\n\t{},\n\t{\n\t\tregisterEvents(container) {\n\t\t\tcontainer.find('.js-modal__save').on('click', (e) => {\n\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet params = container.find('form').serializeFormData();\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance(),\n\t\t\t\t\t\t\t\tselectedTabElement = detailInstance.getSelectedTab();\n\t\t\t\t\t\t\tif (selectedTabElement) {\n\t\t\t\t\t\t\t\tselectedTabElement.trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {});\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["$","Class","registerEvents","container","find","on","progress","progressIndicator","position","blockInfo","enabled","params","serializeFormData","AppConnector","request","done","data","mode","app","hideModalWindow","result","text","vtranslate","type","detailInstance","Vtiger_Detail_Js","getInstance","selectedTabElement","getSelectedTab","trigger","showNotify","fail"],"mappings":";;AAAA,kKACA,aACAA,CAAC,CAACC,KAAF,CACC,4BADD,CAEC,EAFD,CAGC,CACCC,cADD,yBACgBC,SADhB,CAC2B,CACzBA,SAAS,CAACC,IAAV,CAAe,iBAAf,EAAkCC,EAAlC,CAAqC,OAArC,CAA8C,UAAO,KAChDC,QAAQ,CAAGN,CAAC,CAACO,iBAAF,CAAoB,CAClCC,QAAQ,CAAE,MADwB,CAElCC,SAAS,CAAE,CACVC,OAAO,GADG,CAFuB,CAApB,CADqC,CAOhDC,MAAM,CAAGR,SAAS,CAACC,IAAV,CAAe,MAAf,EAAuBQ,iBAAvB,EAPuC,CAQpDC,YAAY,CAACC,OAAb,CAAqBH,MAArB,EACEI,IADF,CACO,SAAUC,IAAV,CAAgB,CACrBV,QAAQ,CAACC,iBAAT,CAA2B,CAC1BU,IAAI,CAAE,MADoB,CAA3B,CADqB,CAIrBC,GAAG,CAACC,eAAJ,EAJqB,CAKrB,IAAIR,MAAM,CAAG,EAAb,CACA,GAAIK,IAAI,CAACI,MAAT,CAAiB,CAChBT,MAAM,CAAG,CACRU,IAAI,CAAEH,GAAG,CAACI,UAAJ,CAAe,mBAAf,CADE,CAERC,IAAI,CAAE,SAFE,CADO,CAKhB,IAAIC,cAAc,CAAGC,gBAAgB,CAACC,WAAjB,EAArB,CACCC,kBAAkB,CAAGH,cAAc,CAACI,cAAf,EADtB,CAEID,kBAPY,EAQfA,kBAAkB,CAACE,OAAnB,CAA2B,OAA3B,EAED,CAVD,KAWClB,MAAM,CAAG,CACRU,IAAI,CAAEH,GAAG,CAACI,UAAJ,CAAe,UAAf,CADE,CAERC,IAAI,CAAE,OAFE,CAXV,CAgBAL,GAAG,CAACY,UAAJ,CAAenB,MAAf,EACA,CAxBF,EAyBEoB,IAzBF,CAyBO,UAAmC,EAzB1C,EA0BA,CAlCD,EAmCA,CArCF,CAHD;;"}