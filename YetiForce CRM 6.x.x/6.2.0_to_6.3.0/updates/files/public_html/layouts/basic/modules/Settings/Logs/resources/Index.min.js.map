{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Logs_Index_Js', {\n\tgetWarningsList: function () {\n\t\tconst thisInstance = this;\n\t\tconst container = $('.js-warnings-content');\n\t\tconst progressIndicator = $.progressIndicator({\n\t\t\tmessage: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\tblockInfo: { enabled: true }\n\t\t});\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName(),\n\t\t\tmode: 'getWarningsList',\n\t\t\tactive: $('.js-warnings-index-page .js-switch--warnings').first().is(':checked'),\n\t\t\tfolder: thisInstance.getSelectedFolders()\n\t\t})\n\t\t\t.done((data) => {\n\t\t\t\tcontainer.html(data);\n\t\t\t\tthisInstance.registerWarningsList(container);\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t},\n\tregisterWarningsList: function (container) {\n\t\tcontainer.find('table').dataTable({\n\t\t\torder: [\n\t\t\t\t[2, 'desc'],\n\t\t\t\t[1, 'asc']\n\t\t\t],\n\t\t\tlengthMenu: [20, 40, 60, 80, 100],\n\t\t\tpageLength: 20\n\t\t});\n\t\tcontainer.find('.showDescription').on('click', (e) => {\n\t\t\tapp.showModalWindow($(e.currentTarget).closest('td').find('.showDescriptionContent').html());\n\t\t});\n\t\tcontainer.find('.setIgnore').on('click', (e) => {\n\t\t\tcontainer.find('.js-popover-tooltip').popover('hide');\n\t\t\tconst data = $(e.currentTarget).closest('tr').data();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SystemWarnings',\n\t\t\t\tmode: 'update',\n\t\t\t\tid: data.id,\n\t\t\t\tparams: data.status\n\t\t\t}).done(() => {\n\t\t\t\tthis.getWarningsList(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterWarningsFolders: function (container) {\n\t\tconst thisInstance = this;\n\t\tlet data = [];\n\t\tconst treeValues = container.find('.js-tree-values').val();\n\t\tif (treeValues) {\n\t\t\tdata = JSON.parse(treeValues);\n\t\t}\n\t\tcontainer\n\t\t\t.find('#jstreeContainer')\n\t\t\t.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\ticons: false\n\t\t\t\t\t},\n\t\t\t\t\tcheck_callback: true\n\t\t\t\t},\n\t\t\t\tplugins: ['checkbox']\n\t\t\t})\n\t\t\t.on('loaded.jstree', function (event, data) {\n\t\t\t\t$(this).jstree('open_all');\n\t\t\t})\n\t\t\t.on('changed.jstree', function (e, data) {\n\t\t\t\tif (data.action != 'model') {\n\t\t\t\t\tthisInstance.getWarningsList();\n\t\t\t\t}\n\t\t\t});\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-switch--warnings').on('change', () => {\n\t\t\tthisInstance.getWarningsList();\n\t\t});\n\t},\n\tregisterEventsLoadContent: function (thisInstance, mode, container) {\n\t\tthisInstance.registerWarningsFolders(container);\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","getWarningsList","thisInstance","container","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","AppConnector","request","module","getModuleName","parent","getParentModuleName","view","getViewName","mode","active","first","is","folder","getSelectedFolders","done","data","html","registerWarningsList","fail","find","dataTable","order","lengthMenu","pageLength","on","e","showModalWindow","currentTarget","closest","popover","action","id","params","status","registerWarningsFolders","treeValues","val","JSON","parse","jstree","core","themes","name","responsive","icons","check_callback","plugins","extend","fn","defaults","language","sLengthMenu","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","registerEventsLoadContent"],"mappings":"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"}