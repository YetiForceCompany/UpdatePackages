{"version":3,"file":"Map.min.js","sources":["Map.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'OpenStreetMap_Map_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tmapInstance: false,\n\t\tselectedParams: false,\n\t\tlayerMarkers: false,\n\t\tmarkers: false,\n\t\tcacheMarkers: [],\n\t\tpolygonLayer: false,\n\t\trouteLayer: false,\n\t\trecordsIds: '',\n\t\tcacheLayerMarkers: {},\n\t\tindirectPointLayer: {},\n\t\tsetSelectedParams: function (params) {\n\t\t\tdelete params['view'];\n\t\t\tthis.selectedParams = params;\n\t\t},\n\t\tregisterMap: function (startCoordinate, startZoom) {\n\t\t\tlet attribution =\n\t\t\t\t'&copy; <a href=\"https://yetiforce.com/en/yetiforce/license\" rel=\"noreferrer noopener\">YetiForce Map powered by Open Street Map</a>';\n\t\t\tif (CONFIG.disableBranding) {\n\t\t\t\tattribution = '';\n\t\t\t}\n\t\t\tthis.mapInstance = L.map('mapid').setView(startCoordinate, startZoom);\n\t\t\tL.tileLayer($('#tileLayerServer').val(), {\n\t\t\t\tmaxZoom: 19,\n\t\t\t\tattribution: attribution\n\t\t\t}).addTo(this.mapInstance);\n\t\t\treturn this.mapInstance;\n\t\t},\n\t\tsetMarkersByResponse: function (response) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar markerArray = [];\n\t\t\tvar container = this.container;\n\t\t\tvar map = this.mapInstance;\n\t\t\tif (typeof response.result.coordinates !== 'undefined') {\n\t\t\t\tvar markers = L.markerClusterGroup({\n\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t});\n\t\t\t\tvar coordinates = response.result.coordinates;\n\t\t\t\tif (typeof this.layerMarkers !== 'boolean') {\n\t\t\t\t\tmap.removeLayer(this.layerMarkers);\n\t\t\t\t}\n\t\t\t\tvar records = [];\n\t\t\t\tcoordinates.forEach(function (e) {\n\t\t\t\t\tmarkerArray.push([e.lat, e.lon]);\n\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\tmarkers.addLayer(marker);\n\t\t\t\t\trecords.push(e.recordId);\n\t\t\t\t});\n\t\t\t\tthis.recordsIds = records;\n\t\t\t\tthis.markers = coordinates;\n\t\t\t\tthis.layerMarkers = markers;\n\t\t\t\tmap.addLayer(markers);\n\t\t\t}\n\t\t\tif (typeof this.polygonLayer !== 'boolean') {\n\t\t\t\tmap.removeLayer(this.polygonLayer);\n\t\t\t}\n\t\t\tif (typeof response.result.coordinatesCeneter !== 'undefined') {\n\t\t\t\tif (typeof response.result.coordinatesCeneter.error === 'undefined') {\n\t\t\t\t\tvar radius = container.find('.js-radius').val();\n\t\t\t\t\tmarkerArray.push([response.result.coordinatesCeneter.lat, response.result.coordinatesCeneter.lon]);\n\t\t\t\t\tvar popup =\n\t\t\t\t\t\t'<span class=\"description\">' +\n\t\t\t\t\t\tcontainer.find('.searchValue').val() +\n\t\t\t\t\t\t'</span><br /><input type=hidden class=\"coordinates\" data-lon=\"' +\n\t\t\t\t\t\tresponse.result.coordinatesCeneter.lon +\n\t\t\t\t\t\t'\" data-lat=\"' +\n\t\t\t\t\t\tresponse.result.coordinatesCeneter.lat +\n\t\t\t\t\t\t'\">';\n\t\t\t\t\tpopup +=\n\t\t\t\t\t\t'<button class=\"btn btn-success btn-sm p-1 startTrack mr-2\"><span class=\"fas  fa-truck\"></span></button>';\n\t\t\t\t\tpopup +=\n\t\t\t\t\t\t'<button class=\"btn btn-danger btn-sm p-1 endTrack\"><span class=\"fas fa-flag-checkered\"></span></button>';\n\t\t\t\t\tvar marker = L.marker([response.result.coordinatesCeneter.lat, response.result.coordinatesCeneter.lon], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'search',\n\t\t\t\t\t\t\tmarkerColor: 'red',\n\t\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(popup);\n\t\t\t\t\tmap.addLayer(marker);\n\t\t\t\t\tif ($.isNumeric(radius)) {\n\t\t\t\t\t\tradius = parseInt(radius) * 1000;\n\t\t\t\t\t\tvar circle = L.circle(\n\t\t\t\t\t\t\t[response.result.coordinatesCeneter.lat, response.result.coordinatesCeneter.lon],\n\t\t\t\t\t\t\tradius,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\t\tfillColor: '#f03',\n\t\t\t\t\t\t\t\tfillOpacity: 0.05\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.polygonLayer = L.featureGroup([circle]);\n\t\t\t\t\t\tmap.addLayer(this.polygonLayer);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\ttext: response.result.coordinatesCeneter.error,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof response.result.cache !== 'undefined') {\n\t\t\t\tvar cache = response.result.cache;\n\t\t\t\tObject.keys(cache).forEach(function (key) {\n\t\t\t\t\tif (typeof thisInstance.cacheLayerMarkers[key] !== 'undefined') {\n\t\t\t\t\t\tmap.removeLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t}\n\t\t\t\t\tvar markersCache = L.markerClusterGroup({\n\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t});\n\t\t\t\t\tcoordinates = cache[key];\n\t\t\t\t\tcoordinates.forEach(function (e) {\n\t\t\t\t\t\tif (thisInstance.recordsIds.indexOf(e.recordId) === -1) {\n\t\t\t\t\t\t\tmarkerArray.push([e.lat, e.lon]);\n\t\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tmarkersCache.addLayer(marker);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.cacheMarkers[key] = coordinates;\n\t\t\t\t\tmap.addLayer(markersCache);\n\t\t\t\t\tthisInstance.cacheLayerMarkers[key] = markersCache;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar legendContainer = this.container.find('.js-legend-container');\n\t\t\tif (typeof response.result.legend !== 'undefined') {\n\t\t\t\tvar html = '';\n\t\t\t\tvar legend = response.result.legend;\n\t\t\t\tlegend.forEach(function (e) {\n\t\t\t\t\thtml +=\n\t\t\t\t\t\t'<div class=\"float-left mt-2\"><span class=\"leegendIcon mt-1\" style=\"background:' +\n\t\t\t\t\t\te.color +\n\t\t\t\t\t\t'\"></span> ' +\n\t\t\t\t\t\te.value +\n\t\t\t\t\t\t'</div>';\n\t\t\t\t});\n\t\t\t\tlegendContainer.html(html);\n\t\t\t} else {\n\t\t\t\tlegendContainer.html('');\n\t\t\t}\n\t\t\tif (markerArray.length) map.fitBounds(markerArray);\n\t\t\tthis.container.find('.groupNeighbours').prop('checked', true);\n\t\t},\n\t\tshowCalculateBtn: function () {\n\t\t\tvar container = this.container;\n\t\t\tvar endAddress = container.find('.end').val();\n\t\t\tvar startAddress = container.find('.start').val();\n\t\t\tif (endAddress.length > 0 && startAddress.length > 0) {\n\t\t\t\tcontainer.find('.calculateTrack').removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tregisterCacheEvents: function (container) {\n\t\t\tvar thisInstance = this;\n\t\t\tcontainer.find('.showRecordsFromCache').on('change', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar moduleName = currentTarget.data('module');\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\t\tcache: [moduleName]\n\t\t\t\t\t};\n\t\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\t\tthisInstance.setMarkersByResponse(response);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.mapInstance.removeLayer(thisInstance.cacheLayerMarkers[moduleName]);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('.copyToClipboard').on('click', function () {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'save',\n\t\t\t\t\trecordIds: JSON.stringify(thisInstance.recordsIds),\n\t\t\t\t\tsrcModule: app.getModuleName()\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tvar countRecords = container.find('.countRecords' + app.getModuleName());\n\t\t\t\t\tcountRecords.html(response.result);\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.deleteClipBoard').removeClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.deleteClipBoard').on('click', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar moduleName = currentTarget.data('module');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'delete',\n\t\t\t\t\tsrcModule: moduleName\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tvar countRecords = container.find('.countRecords' + moduleName);\n\t\t\t\t\tcountRecords.html('');\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.showRecordsFromCache').prop('checked', false);\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.showRecordsFromCache').trigger('change');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.addAllRecords').on('click', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar moduleName = currentTarget.data('module');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'addAllRecords',\n\t\t\t\t\tsrcModule: moduleName\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_MESSAGE_DOWNLOADED_ADDRESS_DATA'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tcontainer.find('.countRecords' + moduleName).html(response.result.count);\n\t\t\t\t\tvar moduleContainer = currentTarget.closest('.cacheModuleContainer');\n\t\t\t\t\tmoduleContainer.find('.showRecordsFromCache').prop('checked', true);\n\t\t\t\t\tmoduleContainer.find('.showRecordsFromCache').trigger('change');\n\t\t\t\t\tif (response.result.count != '0') moduleContainer.find('.deleteClipBoard').removeClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetCacheParamsToRequest: function () {\n\t\t\tvar container = this.container;\n\t\t\tvar params = [];\n\t\t\tcontainer.find('.showRecordsFromCache').each(function () {\n\t\t\t\tvar currentObject = $(this);\n\t\t\t\tif (currentObject.is(':checked')) params.push(currentObject.data('module'));\n\t\t\t});\n\t\t\treturn params;\n\t\t},\n\t\tregisterSearchCompany: function () {\n\t\t\tvar container = this.container;\n\t\t\tvar searchValue = container.find('.searchCompany');\n\t\t\tvar searchModule = container.find('.searchModule');\n\t\t\tvar addButton = container.find('.addRecord');\n\t\t\tvar thistInstance = this;\n\t\t\taddButton.on('click', function () {\n\t\t\t\tvar map = thistInstance.mapInstance;\n\t\t\t\tvar markers = thistInstance.layerMarkers;\n\t\t\t\tvar crmId = addButton.data('crmId');\n\t\t\t\tif (crmId == '') return false;\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'addRecord',\n\t\t\t\t\trecord: crmId,\n\t\t\t\t\tsrcModuleName: searchModule.val()\n\t\t\t\t}).done(function (response) {\n\t\t\t\t\taddButton.data('crmId', '');\n\t\t\t\t\tif (response.result.length == 1) {\n\t\t\t\t\t\tvar marker = L.marker([response.result[0].lat, response.result[0].lon], {\n\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\tmarkerColor: 'cadetblue',\n\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\ticonColor: response.result[0].color\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).bindPopup(response.result[0].label);\n\t\t\t\t\t\tmarkers.addLayer(marker);\n\t\t\t\t\t\tmap.addLayer(markers);\n\t\t\t\t\t\tmap.setView(new L.LatLng(response.result[0].lat, response.result[0].lon), 14);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\ttext: response.result,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tsearchValue.val('');\n\t\t\t\t});\n\t\t\t});\n\t\t\t$.widget('custom.ivAutocomplete', $.ui.autocomplete, {\n\t\t\t\t_create: function () {\n\t\t\t\t\tthis._super();\n\t\t\t\t\tthis.widget().menu('option', 'items', '> :not(.ui-autocomplete-category)');\n\t\t\t\t},\n\t\t\t\t_renderMenu: function (ul, items) {\n\t\t\t\t\tvar that = this,\n\t\t\t\t\t\tcurrentCategory = '';\n\t\t\t\t\t$.each(items, function (index, item) {\n\t\t\t\t\t\tvar li;\n\t\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + '</li>');\n\t\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat._renderItemData(ul, item);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t_renderItemData: function (ul, item) {\n\t\t\t\t\treturn this._renderItem(ul, item).data('ui-autocomplete-item', item);\n\t\t\t\t},\n\t\t\t\t_renderItem: function (ul, item) {\n\t\t\t\t\treturn $('<li>').data('item.autocomplete', item).append($('<a></a>').html(item.label)).appendTo(ul);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsearchValue.ivAutocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: searchModule.val(),\n\t\t\t\t\t\tcurrentModule: app.getModuleName(),\n\t\t\t\t\t\tsearchModule: searchModule.val(),\n\t\t\t\t\t\tview: 'BasicAjax',\n\t\t\t\t\t\tmode: 'showSearchResults',\n\t\t\t\t\t\tvalue: searchValue.val(),\n\t\t\t\t\t\thtml: false\n\t\t\t\t\t}).done(function (responseAjax) {\n\t\t\t\t\t\tresponseAjax = JSON.parse(responseAjax);\n\t\t\t\t\t\tvar reponseDataList = responseAjax.result;\n\t\t\t\t\t\tif (reponseDataList.length <= 0) {\n\t\t\t\t\t\t\treponseDataList.push({\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\ttype: 'no results',\n\t\t\t\t\t\t\t\tcategory: ''\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tvar selected = ui.item;\n\t\t\t\t\taddButton.data('crmId', selected.id);\n\t\t\t\t},\n\t\t\t\tclose: function (event, ui) {}\n\t\t\t});\n\t\t},\n\t\tregisterBasicModal: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar map = thisInstance.mapInstance;\n\t\t\tvar layer, description;\n\t\t\tthisInstance.registerCacheEvents(container);\n\t\t\tcontainer.find('.groupBy').on('click', function () {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tgroupBy: container.find('.fieldsToGroup').val(),\n\t\t\t\t\tsearchValue: container.find('.searchValue').val(),\n\t\t\t\t\tradius: container.find('.js-radius').val(),\n\t\t\t\t\tcache: thisInstance.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tparams = $.extend(thisInstance.selectedParams, params);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthisInstance.setMarkersByResponse(response);\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.groupNeighbours').on('change', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tmap.removeLayer(thisInstance.layerMarkers);\n\t\t\t\tvar markers = thisInstance.markers;\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tlayer = L.markerClusterGroup({\n\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t});\n\t\t\t\t\tmarkers.forEach(function (e) {\n\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\tlayer.addLayer(marker);\n\t\t\t\t\t});\n\n\t\t\t\t\tObject.keys(thisInstance.cacheLayerMarkers).forEach(function (key) {\n\t\t\t\t\t\tmap.removeLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t\tvar cacheLayer = L.markerClusterGroup({\n\t\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.cacheMarkers[key].forEach(function (e) {\n\t\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tcacheLayer.addLayer(marker);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.cacheLayerMarkers[key] = cacheLayer;\n\t\t\t\t\t\tmap.addLayer(cacheLayer);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvar markerArray = [];\n\t\t\t\t\tmarkers.forEach(function (e) {\n\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\tmarkerArray.push(marker);\n\t\t\t\t\t});\n\t\t\t\t\tlayer = L.featureGroup(markerArray);\n\t\t\t\t\tObject.keys(thisInstance.cacheLayerMarkers).forEach(function (key) {\n\t\t\t\t\t\tmap.removeLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t\tvar markerArray = [];\n\t\t\t\t\t\tthisInstance.cacheMarkers[key].forEach(function (e) {\n\t\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tmarkerArray.push(marker);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.cacheLayerMarkers[key] = L.featureGroup(markerArray);\n\t\t\t\t\t\tmap.addLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.layerMarkers = layer;\n\t\t\t\tmap.addLayer(layer);\n\t\t\t});\n\t\t\tcontainer.find('.searchBtn').on('click', function (e) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tsearchValue: container.find('.searchValue').val(),\n\t\t\t\t\tcache: thisInstance.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tvar radiusValue = container.find('.js-radius').val();\n\t\t\t\tif (radiusValue !== '' && parseInt(radiusValue)) {\n\t\t\t\t\tparams['radius'] = radiusValue;\n\t\t\t\t}\n\t\t\t\tparams = $.extend(thisInstance.selectedParams, params);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthisInstance.setMarkersByResponse(response);\n\t\t\t\t});\n\t\t\t});\n\t\t\tvar startIconLayer = false;\n\t\t\tcontainer.on('click', '.startTrack', function (e) {\n\t\t\t\tif (startIconLayer) {\n\t\t\t\t\tmap.removeLayer(startIconLayer);\n\t\t\t\t}\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tvar startElement = container.find('.start');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tstartElement.val(description);\n\t\t\t\tstartElement.data('lat', coordinates.data('lat'));\n\t\t\t\tstartElement.data('lon', coordinates.data('lon'));\n\t\t\t\tvar marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'truck',\n\t\t\t\t\t\tmarkerColor: 'green',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tstartIconLayer = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(startIconLayer);\n\t\t\t\tthisInstance.showCalculateBtn();\n\t\t\t});\n\t\t\tvar endIconLayer = false;\n\t\t\tcontainer.on('click', '.endTrack', function (e) {\n\t\t\t\tif (endIconLayer) {\n\t\t\t\t\tmap.removeLayer(endIconLayer);\n\t\t\t\t}\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tvar endElement = container.find('.end');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tendElement.val(description);\n\t\t\t\tendElement.data('lat', coordinates.data('lat'));\n\t\t\t\tendElement.data('lon', coordinates.data('lon'));\n\t\t\t\tvar marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'flag-checkered',\n\t\t\t\t\t\tmarkerColor: 'red',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tendIconLayer = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(endIconLayer);\n\t\t\t\tthisInstance.showCalculateBtn();\n\t\t\t});\n\n\t\t\tcontainer.on('click', '.indirectPoint', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tvar template = container.find('.indirectTemplate');\n\t\t\t\tvar indirect = template.clone();\n\t\t\t\ttemplate.before(indirect);\n\t\t\t\tindirect.removeClass('indirectTemplate');\n\t\t\t\tindirect.removeClass('d-none');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tif (typeof thisInstance.indirectPointLayer[description] !== 'undefined') {\n\t\t\t\t\tmap.removeLayer(thisInstance.indirectPointLayer[description]);\n\t\t\t\t}\n\t\t\t\tvar indirectField = indirect.find('.indirect');\n\t\t\t\tindirectField.val(description);\n\t\t\t\tindirectField.data('lat', coordinates.data('lat'));\n\t\t\t\tindirectField.data('lon', coordinates.data('lon'));\n\t\t\t\tvar marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'flag',\n\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tthisInstance.indirectPointLayer[description] = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(thisInstance.indirectPointLayer[description]);\n\t\t\t});\n\t\t\tcontainer.on('click', '.removeIndirect', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('.indirectContainer');\n\t\t\t\tmap.removeLayer(thisInstance.indirectPointLayer[container.find('.indirect').val()]);\n\t\t\t\tcurrentTarget.closest('.indirectContainer').remove();\n\t\t\t});\n\t\t\tcontainer.on('click', '.moveUp', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('.indirectContainer');\n\t\t\t\tvar previousElement = container.prev();\n\t\t\t\tif (!previousElement.hasClass('startContainer')) {\n\t\t\t\t\tpreviousElement.before(container);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.on('click', '.moveDown', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('.indirectContainer');\n\t\t\t\tvar nextElement = container.next();\n\t\t\t\tif (!nextElement.hasClass('indirectTemplate')) {\n\t\t\t\t\tnextElement.after(container);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.on('click', '.searchInRadius', function (e) {\n\t\t\t\tif (endIconLayer) {\n\t\t\t\t\tmap.removeLayer(endIconLayer);\n\t\t\t\t}\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tradius: container.find('.radius').val(),\n\t\t\t\t\tlat: coordinates.data('lat'),\n\t\t\t\t\tlon: coordinates.data('lon'),\n\t\t\t\t\tcache: thisInstance.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tparams = $.extend(thisInstance.selectedParams, params);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthisInstance.setMarkersByResponse(response);\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.calculateTrack').on('click', function () {\n\t\t\t\tlet indirectLon = [];\n\t\t\t\tlet indirectLat = [];\n\t\t\t\tcontainer.find('.indirectContainer:not(.d-none) input.indirect').each(function () {\n\t\t\t\t\tlet currentTarget = $(this);\n\t\t\t\t\tindirectLat.push(currentTarget.data('lat'));\n\t\t\t\t\tindirectLon.push(currentTarget.data('lon'));\n\t\t\t\t});\n\t\t\t\tlet endElement = container.find('.end');\n\t\t\t\tlet startElement = container.find('.start');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'GetRoute',\n\t\t\t\t\t\tflon: startElement.data('lon'),\n\t\t\t\t\t\tflat: startElement.data('lat'),\n\t\t\t\t\t\tilon: indirectLon,\n\t\t\t\t\t\tilat: indirectLat,\n\t\t\t\t\t\ttlon: endElement.data('lon'),\n\t\t\t\t\t\ttlat: endElement.data('lat')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (thisInstance.routeLayer) {\n\t\t\t\t\t\t\tmap.removeLayer(thisInstance.routeLayer);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet route = L.geoJson(response.result.geoJson);\n\t\t\t\t\t\tthisInstance.routeLayer = L.featureGroup([route]);\n\t\t\t\t\t\tmap.addLayer(thisInstance.routeLayer);\n\t\t\t\t\t\tcontainer.find('.descriptionContainer').removeClass('d-none');\n\t\t\t\t\t\tcontainer.find('.descriptionContent .instruction').html(response.result.properties.description);\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t.find('.descriptionContent .distance')\n\t\t\t\t\t\t\t.html(App.Fields.Double.formatToDisplay(response.result.properties.distance));\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t.find('.descriptionContent .travelTime')\n\t\t\t\t\t\t\t.html(App.Fields.Double.formatToDisplay(response.result.properties.traveltime / 60));\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, title) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\t\ttext: error,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.on('click', '.setView', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet inputInstance = currentTarget.closest('.input-group').find('.end,.start,.indirect');\n\t\t\t\tlet lat = inputInstance.data('lat');\n\t\t\t\tlet lon = inputInstance.data('lon');\n\t\t\t\tif (!(typeof lat === 'undefined' && typeof lon === 'undefined')) {\n\t\t\t\t\tmap.setView(new L.LatLng(lat, lon), 14);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerSearchCompany();\n\t\t},\n\t\tregisterModalView: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: container,\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.container = container;\n\t\t\t$('#mapid').css({\n\t\t\t\theight: $('body').height() - 185\n\t\t\t});\n\t\t\tthis.registerMap([0, 0], 2);\n\t\t\tlet params = {\n\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\taction: 'GetMarkers',\n\t\t\t\tsrcModule: app.getModuleName()\n\t\t\t};\n\t\t\tparams = $.extend(this.selectedParams, params);\n\t\t\tthisInstance.registerBasicModal();\n\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tthisInstance.setMarkersByResponse(response);\n\t\t\t});\n\t\t},\n\t\tregisterDetailView: function (container) {\n\t\t\tthis.container = container;\n\t\t\tvar coordinates = container.find('#coordinates').val();\n\t\t\tcoordinates = JSON.parse(coordinates);\n\t\t\tvar startCoordinate = [0, 0];\n\t\t\tvar startZoom = 2;\n\t\t\tvar $map = container.find('#mapid');\n\t\t\tif (coordinates.length) {\n\t\t\t\tstartCoordinate = coordinates[0];\n\t\t\t\tstartZoom = 6;\n\t\t\t}\n\t\t\tif ($('.mainBody').length) {\n\t\t\t\tif ($('.mainBody').height() < 1000) {\n\t\t\t\t\t$map.height(\n\t\t\t\t\t\t$('.mainBody').height() -\n\t\t\t\t\t\t\t($('.detailViewTitle').height() + $('.detailViewContainer .related').height() + 25)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$map.height(1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($('.bodyContents').height() < 1000) {\n\t\t\t\t\t$map.height(\n\t\t\t\t\t\t$('.bodyContents').height() -\n\t\t\t\t\t\t\t($('.detailViewTitle').height() + $('.detailViewContainer .related').height() + 25)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$map.height(1000);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar myMap = this.registerMap(startCoordinate, startZoom);\n\t\t\tvar markers = L.markerClusterGroup({\n\t\t\t\tmaxClusterRadius: 10\n\t\t\t});\n\t\t\tcoordinates.forEach(function (e) {\n\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(e.label);\n\t\t\t\tmarkers.addLayer(marker);\n\t\t\t});\n\t\t\tmyMap.addLayer(markers);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","mapInstance","selectedParams","layerMarkers","markers","cacheMarkers","polygonLayer","routeLayer","recordsIds","cacheLayerMarkers","indirectPointLayer","setSelectedParams","params","registerMap","startCoordinate","startZoom","attribution","CONFIG","disableBranding","L","map","setView","tileLayer","$","val","maxZoom","addTo","setMarkersByResponse","response","thisInstance","markerArray","result","coordinates","markerClusterGroup","maxClusterRadius","removeLayer","records","forEach","e","push","lat","lon","marker","icon","AwesomeMarkers","markerColor","prefix","iconColor","color","bindPopup","label","addLayer","recordId","coordinatesCeneter","error","radius","find","popup","isNumeric","parseInt","circle","fillColor","fillOpacity","featureGroup","title","app","vtranslate","text","type","Vtiger_Helper_Js","showMessage","cache","Object","keys","key","markersCache","indexOf","legendContainer","legend","html","value","length","fitBounds","prop","showCalculateBtn","endAddress","startAddress","removeClass","registerCacheEvents","on","currentTarget","moduleName","data","is","module","action","srcModule","getModuleName","AppConnector","request","done","mode","recordIds","JSON","stringify","countRecords","closest","addClass","trigger","count","moduleContainer","getCacheParamsToRequest","each","currentObject","registerSearchCompany","searchValue","searchModule","addButton","thistInstance","crmId","record","srcModuleName","LatLng","widget","ui","autocomplete","_create","_super","menu","_renderMenu","ul","items","that","currentCategory","index","item","category","append","_renderItemData","_renderItem","appendTo","ivAutocomplete","delay","minLength","source","currentModule","view","responseAjax","parse","reponseDataList","select","event","selected","id","close","registerBasicModal","layer","description","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","groupBy","extend","cacheLayer","radiusValue","startIconLayer","containerPopup","startElement","replace","endIconLayer","endElement","template","indirect","clone","before","indirectField","remove","previousElement","prev","hasClass","nextElement","next","after","indirectLon","indirectLat","url","flon","flat","ilon","ilat","tlon","tlat","route","geoJson","properties","App","Fields","Double","formatToDisplay","distance","traveltime","fail","showNotify","inputInstance","registerModalView","css","height","registerDetailView","$map","myMap"],"mappings":"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"}