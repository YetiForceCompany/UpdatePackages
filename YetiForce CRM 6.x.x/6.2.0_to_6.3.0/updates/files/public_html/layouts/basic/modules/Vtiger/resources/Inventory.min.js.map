{"version":3,"file":"Inventory.min.js","sources":["Inventory.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Vtiger_Inventory_Js',\n\t{\n\t\tinventoryInstance: false,\n\n\t\t/**\n\t\t * Get inventory instance\n\t\t * @param {jQuery} container\n\t\t * @returns {Vtiger_Inventory_Js}\n\t\t */\n\t\tgetInventoryInstance: function (container) {\n\t\t\tif (this.inventoryInstance === false) {\n\t\t\t\tlet moduleClassName = container.find('[name=\"module\"]').val() + '_Inventory_Js';\n\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\tmoduleClassName = 'Vtiger_Inventory_Js';\n\t\t\t\t}\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tthis.inventoryInstance = new window[moduleClassName]();\n\t\t\t\t\tthis.inventoryInstance.registerEvents(container);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.inventoryInstance;\n\t\t}\n\t},\n\t{\n\t\tform: false,\n\t\tinventoryContainer: false,\n\t\tinventoryHeadContainer: false,\n\t\tsummaryTaxesContainer: false,\n\t\tsummaryDiscountContainer: false,\n\t\tsummaryCurrenciesContainer: false,\n\t\trowClass: 'tr.inventoryRow',\n\t\tdiscountModalFields: [\n\t\t\t'aggregationType',\n\t\t\t'globalDiscount',\n\t\t\t'groupCheckbox',\n\t\t\t'groupDiscount',\n\t\t\t'individualDiscount',\n\t\t\t'individualDiscountType'\n\t\t],\n\t\ttaxModalFields: ['aggregationType', 'globalTax', 'groupCheckbox', 'groupTax', 'individualTax', 'regionalTax'],\n\t\t/**\n\t\t * Get current form element\n\t\t * @returns {jQuery}\n\t\t */\n\t\tgetForm() {\n\t\t\treturn this.form;\n\t\t},\n\n\t\t/**\n\t\t * Function that is used to get the line item container\n\t\t * @return : jQuery object\n\t\t */\n\t\tgetInventoryItemsContainer: function () {\n\t\t\tif (this.inventoryContainer === false) {\n\t\t\t\tthis.inventoryContainer = $('.inventoryItems');\n\t\t\t}\n\t\t\treturn this.inventoryContainer;\n\t\t},\n\t\tgetInventoryHeadContainer: function () {\n\t\t\tif (this.inventoryHeadContainer === false) {\n\t\t\t\tthis.inventoryHeadContainer = $('.inventoryHeader');\n\t\t\t}\n\t\t\treturn this.inventoryHeadContainer;\n\t\t},\n\t\tgetInventorySummaryDiscountContainer: function () {\n\t\t\tif (this.summaryDiscountContainer === false) {\n\t\t\t\tthis.summaryDiscountContainer = $('.inventorySummaryDiscounts');\n\t\t\t}\n\t\t\treturn this.summaryDiscountContainer;\n\t\t},\n\t\tgetInventorySummaryTaxesContainer: function () {\n\t\t\tif (this.summaryTaxesContainer === false) {\n\t\t\t\tthis.summaryTaxesContainer = $('.inventorySummaryTaxes');\n\t\t\t}\n\t\t\treturn this.summaryTaxesContainer;\n\t\t},\n\t\tgetInventorySummaryCurrenciesContainer: function () {\n\t\t\tif (this.summaryCurrenciesContainer === false) {\n\t\t\t\tthis.summaryCurrenciesContainer = $('.inventorySummaryCurrencies');\n\t\t\t}\n\t\t\treturn this.summaryCurrenciesContainer;\n\t\t},\n\t\tgetNextLineItemRowNumber: function () {\n\t\t\tlet $inventoryItemsNo = $('#inventoryItemsNo');\n\t\t\tlet rowNumber = parseInt($inventoryItemsNo.val()) + 1;\n\t\t\t$inventoryItemsNo.val(rowNumber);\n\t\t\treturn rowNumber;\n\t\t},\n\t\tgetAccountId: function () {\n\t\t\tlet accountReferenceField = $('#accountReferenceField').val();\n\t\t\tif (accountReferenceField != '') {\n\t\t\t\treturn $('[name=\"' + accountReferenceField + '\"]').val();\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\tcheckDeleteIcon: function () {\n\t\t\tif (this.getInventoryItemsContainer().find(this.rowClass).length > 1) {\n\t\t\t\tthis.showLineItemsDeleteIcon();\n\t\t\t} else if (app.getMainParams('isRequiredInventory')) {\n\t\t\t\tthis.hideLineItemsDeleteIcon();\n\t\t\t}\n\t\t},\n\t\tshowLineItemsDeleteIcon: function () {\n\t\t\tthis.getInventoryItemsContainer().find('.deleteRow').removeClass('d-none');\n\t\t},\n\t\thideLineItemsDeleteIcon: function () {\n\t\t\tthis.getInventoryItemsContainer().find('.deleteRow').addClass('d-none');\n\t\t},\n\t\tgetClosestRow: function (element) {\n\t\t\treturn element.closest(this.rowClass);\n\t\t},\n\t\t/**\n\t\t * Function which will return the basic row which can be used to add new rows\n\t\t * @return jQuery object which you can use to\n\t\t */\n\t\tgetBasicRow: function () {\n\t\t\treturn this.getForm().find('.js-inventory-base-item').eq(0).clone(true, true);\n\t\t},\n\t\tisRecordSelected: function (element) {\n\t\t\tlet parentRow = element.closest('tr');\n\t\t\tlet productField = parentRow.find('.recordLabel');\n\t\t\treturn productField.validationEngine('validate');\n\t\t},\n\t\tgetTaxModeSelectElement: function (row) {\n\t\t\tlet items = this.getInventoryHeadContainer();\n\t\t\tif (items.find('thead .js-taxmode').length > 0) {\n\t\t\t\treturn $('.js-taxmode');\n\t\t\t}\n\t\t\tif (row) {\n\t\t\t\treturn row.find('.js-taxmode');\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tisIndividualTaxMode: function (row) {\n\t\t\tlet taxModeElement = this.getTaxModeSelectElement(row);\n\t\t\tlet selectedOption = taxModeElement.find('option:selected');\n\t\t\treturn selectedOption.val() == '1';\n\t\t},\n\t\tisGroupTaxMode: function () {\n\t\t\tlet taxTypeElement = this.getTaxModeSelectElement();\n\t\t\tif (taxTypeElement) {\n\t\t\t\tlet selectedOption = taxTypeElement.find('option:selected');\n\t\t\t\tif (selectedOption.val() == '0') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tshowIndividualTax: function (row) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet groupTax = thisInstance.getInventorySummaryTaxesContainer().find('.groupTax');\n\t\t\tlet items = thisInstance.getInventoryItemsContainer();\n\t\t\tlet newRow = $('#blackIthemTable').find('tbody');\n\t\t\tif (thisInstance.isIndividualTaxMode()) {\n\t\t\t\tgroupTax.addClass('d-none');\n\t\t\t\titems.find('.changeTax').removeClass('d-none');\n\t\t\t\tnewRow.find('.changeTax').removeClass('d-none');\n\t\t\t\tlet parentRow = thisInstance.getInventoryItemsContainer();\n\t\t\t\tlet taxParam = { aggregationType: 'global' };\n\n\t\t\t\tparentRow.find(thisInstance.rowClass).each(function () {\n\t\t\t\t\tlet thisItem = $(this);\n\t\t\t\t\ttaxParam['globalTax'] = parseFloat(thisItem.find('.js-tax').attr('data-default-tax'));\n\t\t\t\t\tthisInstance.setTaxParam(thisItem, taxParam);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthisInstance.setTax(items, 0);\n\t\t\t\tthisInstance.setTaxPercent(items, 0);\n\t\t\t\tthisInstance.setTaxParam(items, []);\n\t\t\t\tthisInstance.setDefaultGlobalTax(row);\n\t\t\t\tgroupTax.removeClass('d-none');\n\t\t\t\titems.find('.changeTax').addClass('d-none');\n\t\t\t\tnewRow.find('.changeTax').addClass('d-none');\n\t\t\t}\n\t\t\tthisInstance.rowsCalculations();\n\t\t},\n\t\tsetDefaultGlobalTax: function (row) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet parentRow = thisInstance.getInventoryItemsContainer();\n\t\t\tlet taxDefaultValue = thisInstance\n\t\t\t\t.getInventorySummaryTaxesContainer()\n\t\t\t\t.find('.js-default-tax')\n\t\t\t\t.data('tax-default-value');\n\t\t\tlet isGroupTax = thisInstance.isGroupTaxMode();\n\t\t\tlet summaryContainer = $('#blackIthemTable');\n\t\t\tif (isGroupTax) {\n\t\t\t\tlet taxParam = thisInstance.getTaxParams(summaryContainer);\n\t\t\t\tif (taxParam === false && taxDefaultValue) {\n\t\t\t\t\ttaxParam = { aggregationType: 'global' };\n\t\t\t\t\ttaxParam['globalTax'] = taxDefaultValue;\n\t\t\t\t\ttaxParam['individualTax'] = '';\n\t\t\t\t}\n\t\t\t\tif (taxParam) {\n\t\t\t\t\tthisInstance.setTaxParam(summaryContainer, taxParam);\n\t\t\t\t\tthisInstance.setTaxParam(parentRow, taxParam);\n\t\t\t\t\tparentRow.closest('.inventoryItems').data('taxParam', JSON.stringify(taxParam));\n\t\t\t\t\tparentRow.find(thisInstance.rowClass).each(function () {\n\t\t\t\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthisInstance.setTaxParam(summaryContainer, []);\n\t\t\t\tparentRow.closest('.inventoryItems').data('taxParam', '[]');\n\t\t\t}\n\t\t},\n\t\tgetDiscountModeSelectElement: function (row) {\n\t\t\tlet items = this.getInventoryHeadContainer();\n\t\t\tif (items.find('thead .js-discountmode').length > 0) {\n\t\t\t\treturn $('.js-discountmode');\n\t\t\t}\n\t\t\treturn row.find('.js-discountmode');\n\t\t},\n\t\tisIndividualDiscountMode: function (row) {\n\t\t\tlet discountModeElement = this.getDiscountModeSelectElement(row);\n\t\t\tlet selectedOption = discountModeElement.find('option:selected');\n\t\t\treturn selectedOption.val() == '1';\n\t\t},\n\t\tshowIndividualDiscount: function (row) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet groupDiscount = thisInstance.getInventorySummaryDiscountContainer().find('.groupDiscount');\n\t\t\tlet items = thisInstance.getInventoryItemsContainer();\n\t\t\tlet newRow = $('#blackIthemTable').find('tbody');\n\t\t\tif (thisInstance.isIndividualDiscountMode(row)) {\n\t\t\t\tgroupDiscount.addClass('d-none');\n\t\t\t\titems.find('.changeDiscount').removeClass('d-none');\n\t\t\t\tnewRow.find('.changeDiscount').removeClass('d-none');\n\t\t\t} else {\n\t\t\t\tgroupDiscount.removeClass('d-none');\n\t\t\t\titems.find('.changeDiscount').addClass('d-none');\n\t\t\t\tnewRow.find('.changeDiscount').addClass('d-none');\n\t\t\t}\n\t\t\tthisInstance.setDiscount(items, 0);\n\t\t\tthisInstance.setDiscountParam(items, []);\n\t\t\tthisInstance.rowsCalculations();\n\t\t},\n\t\tgetCurrency: function () {\n\t\t\tlet currency = $('.js-currency', this.getInventoryHeadContainer());\n\t\t\treturn currency.find('option:selected').val();\n\t\t},\n\t\tgetTax: function (row) {\n\t\t\tlet taxParams = row.find('.taxParam').val();\n\t\t\tif (taxParams == '' || taxParams == '[]' || taxParams == undefined) return 0;\n\t\t\ttaxParams = JSON.parse(taxParams);\n\t\t\tlet aggregationType = $('.aggregationTypeTax').val();\n\t\t\tlet valuePrices = this.getNetPrice(row);\n\t\t\tlet taxRate = 0;\n\t\t\tlet types = taxParams.aggregationType;\n\t\t\tif (typeof types == 'string') {\n\t\t\t\ttypes = [types];\n\t\t\t}\n\t\t\tif (types) {\n\t\t\t\ttypes.forEach(function (entry) {\n\t\t\t\t\tlet taxValue = 0;\n\t\t\t\t\tswitch (entry) {\n\t\t\t\t\t\tcase 'individual':\n\t\t\t\t\t\t\ttaxValue = taxParams.individualTax;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'global':\n\t\t\t\t\t\t\ttaxValue = taxParams.globalTax;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'group':\n\t\t\t\t\t\t\ttaxValue = taxParams.groupTax;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'regional':\n\t\t\t\t\t\t\ttaxValue = taxParams.regionalTax;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\ttaxRate += valuePrices * (taxValue / 100);\n\t\t\t\t\tif (aggregationType == '2') {\n\t\t\t\t\t\tvaluePrices = valuePrices + taxRate;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn taxRate;\n\t\t},\n\t\tgetTaxPercent: function (row) {\n\t\t\tlet taxParams = row.find('.taxParam').val();\n\t\t\tif (taxParams == '' || taxParams == '[]' || taxParams == undefined) return 0;\n\t\t\ttaxParams = JSON.parse(taxParams);\n\t\t\tlet taxPercent = 0;\n\t\t\tlet types =\n\t\t\t\ttypeof taxParams.aggregationType === 'string' ? [taxParams.aggregationType] : taxParams.aggregationType;\n\t\t\ttypes.forEach(function (aggregationType) {\n\t\t\t\ttaxPercent += taxParams[aggregationType + 'Tax'] || 0;\n\t\t\t});\n\t\t\treturn taxPercent;\n\t\t},\n\t\tgetTaxParams: function (row) {\n\t\t\tlet taxParams = row.find('.taxParam').val();\n\t\t\tif (taxParams == '' || taxParams == '[]' || taxParams == undefined) return false;\n\t\t\treturn JSON.parse(taxParams);\n\t\t},\n\t\tgetQuantityValue: function (row) {\n\t\t\treturn $('.qty', row).getNumberFromValue();\n\t\t},\n\t\tgetUnitPriceValue: function (row) {\n\t\t\treturn $('.unitPrice', row).getNumberFromValue();\n\t\t},\n\t\tgetDiscount: function (row) {\n\t\t\tlet discountParams = row.find('.discountParam').val();\n\t\t\tlet aggregationType = $('.aggregationTypeDiscount').val();\n\t\t\tif (discountParams == '' || discountParams == 'null' || discountParams == '[]' || discountParams == undefined) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tdiscountParams = JSON.parse(discountParams);\n\t\t\tlet valuePrices = this.getTotalPrice(row);\n\t\t\tlet discountRate = 0;\n\t\t\tlet types = discountParams.aggregationType;\n\t\t\tif (typeof types == 'string') {\n\t\t\t\ttypes = [types];\n\t\t\t}\n\t\t\tif (types) {\n\t\t\t\ttypes.forEach(function (entry) {\n\t\t\t\t\tlet discountValue;\n\t\t\t\t\tif (entry == 'individual') {\n\t\t\t\t\t\tdiscountValue = discountParams.individualDiscount;\n\t\t\t\t\t\tlet discountType = discountParams.individualDiscountType;\n\t\t\t\t\t\tif (discountType == 'percentage') {\n\t\t\t\t\t\t\tdiscountRate += valuePrices * (discountValue / 100);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdiscountRate += discountValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (entry == 'global') {\n\t\t\t\t\t\tdiscountRate += valuePrices * (discountParams.globalDiscount / 100);\n\t\t\t\t\t}\n\t\t\t\t\tif (entry == 'group') {\n\t\t\t\t\t\tlet groupDiscount = discountParams.groupDiscount ? discountParams.groupDiscount : 0;\n\t\t\t\t\t\tdiscountRate += valuePrices * (groupDiscount / 100);\n\t\t\t\t\t}\n\t\t\t\t\tif (aggregationType == '2') {\n\t\t\t\t\t\tvaluePrices = valuePrices - discountRate;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn discountRate;\n\t\t},\n\t\tgetNetPrice: function (row) {\n\t\t\treturn this.getTotalPrice(row) - this.getDiscount(row);\n\t\t},\n\t\tgetTotalPrice: function (row) {\n\t\t\treturn this.getQuantityValue(row) * this.getUnitPriceValue(row);\n\t\t},\n\t\tgetGrossPrice: function (row) {\n\t\t\treturn $('.grossPrice', row).getNumberFromValue();\n\t\t},\n\t\tgetPurchase: function (row) {\n\t\t\tlet qty = this.getQuantityValue(row);\n\t\t\tlet element = $('.purchase', row);\n\t\t\tlet purchase = 0;\n\t\t\tif (element.length > 0) {\n\t\t\t\tpurchase = App.Fields.Double.formatToDb(element.val());\n\t\t\t}\n\t\t\treturn purchase * qty;\n\t\t},\n\t\tgetSummaryGrossPrice: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet price = 0;\n\t\t\tthis.getInventoryItemsContainer()\n\t\t\t\t.find(thisInstance.rowClass)\n\t\t\t\t.each(function (index) {\n\t\t\t\t\tprice += thisInstance.getGrossPrice($(this));\n\t\t\t\t});\n\t\t\treturn App.Fields.Double.formatToDb(price);\n\t\t},\n\t\t/**\n\t\t * Set currency\n\t\t * @param {int} val\n\t\t */\n\t\tsetCurrency(val) {\n\t\t\tthis.getInventoryHeadContainer().find('.js-currency').val(val).trigger('change');\n\t\t},\n\t\t/**\n\t\t * Set currency param\n\t\t * @param {string} val json string\n\t\t */\n\t\tsetCurrencyParam(val) {\n\t\t\tthis.getInventoryHeadContainer().find('.js-currencyparam').val(val);\n\t\t},\n\t\t/**\n\t\t * Set discount mode\n\t\t * @param {int} val\n\t\t */\n\t\tsetDiscountMode(val) {\n\t\t\tthis.getInventoryHeadContainer().find('.js-discountmode').val(val).trigger('change');\n\t\t},\n\t\t/**\n\t\t * Set tax mode\n\t\t * @param {int} val\n\t\t */\n\t\tsetTaxMode(val) {\n\t\t\tthis.getInventoryHeadContainer().find('.js-taxmode').val(val).trigger('change');\n\t\t},\n\t\t/**\n\t\t * Set inventory id\n\t\t * @param {jQuery} row\n\t\t * @param {int} val\n\t\t * @param {string} display\n\t\t */\n\t\tsetName(row, val, display) {\n\t\t\trow.find('.js-name').val(val).trigger('change');\n\t\t\trow.find('.js-name_display').val(display).attr('readonly', 'true').trigger('change');\n\t\t},\n\t\t/**\n\t\t * Set inventory row quantity\n\t\t * @param {jQuery} row\n\t\t * @param {int} val\n\t\t */\n\t\tsetQuantity(row, val) {\n\t\t\trow.find('.qty').val(val).trigger('change');\n\t\t},\n\t\t/**\n\t\t * Set unit original (db) value\n\t\t * @param {jQuery} row\n\t\t * @param {string} val\n\t\t * @param {string} display\n\t\t */\n\t\tsetUnit(row, val, display) {\n\t\t\trow.find('.unit').val(val).trigger('change');\n\t\t\trow.find('.unitText').text(display).trigger('change');\n\t\t},\n\t\t/**\n\t\t * Set subUnit original (db) value\n\t\t * @param {jQuery} row\n\t\t * @param {string} val\n\t\t * @param {string} display\n\t\t */\n\t\tsetSubUnit(row, val, display) {\n\t\t\trow.find('.subunit').val(val);\n\t\t\trow.find('.subunitText').val(display);\n\t\t},\n\t\t/**\n\t\t * Set inventory row comment\n\t\t * @param {jQuery} row\n\t\t * @param {string} val\n\t\t */\n\t\tsetComment(row, val) {\n\t\t\trow\n\t\t\t\t.parent()\n\t\t\t\t.find('[numrowex=' + row.attr('numrow') + '] .comment')\n\t\t\t\t.val(val);\n\t\t},\n\t\tsetUnitPrice: function (row, val) {\n\t\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t\trow.find('.unitPrice').val(val).attr('title', val);\n\t\t\treturn this;\n\t\t},\n\t\tsetPurchase: function (row, val) {\n\t\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t\trow.find('.purchase').val(val);\n\t\t\treturn this;\n\t\t},\n\t\tsetNetPrice: function (row, val) {\n\t\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t\t$('.netPriceText', row).text(val);\n\t\t\t$('.netPrice', row).val(val);\n\t\t},\n\t\tsetGrossPrice: function (row, val) {\n\t\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t\t$('.grossPriceText', row).text(val);\n\t\t\t$('.grossPrice', row).val(val);\n\t\t},\n\t\tsetTotalPrice: function (row, val) {\n\t\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t\t$('.totalPriceText', row).text(val);\n\t\t\t$('.totalPrice', row).val(val);\n\t\t},\n\t\tsetMargin: function (row, val) {\n\t\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t\t$('.margin', row).val(val);\n\t\t},\n\t\tsetMarginP: function (row, val) {\n\t\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t\t$('.marginp', row).val(val);\n\t\t},\n\t\tsetDiscount: function (row, val) {\n\t\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t\t$('.discount', row).val(val);\n\t\t},\n\t\tsetDiscountParam: function (row, val) {\n\t\t\t$('.discountParam', row).val(JSON.stringify(val));\n\t\t},\n\t\tsetTax: function (row, val) {\n\t\t\t$('.tax', row).val(App.Fields.Double.formatToDisplay(val));\n\t\t},\n\t\tsetTaxPercent: function (row, val) {\n\t\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t\t$('.js-tax-percent', row).val(val);\n\t\t},\n\t\tsetTaxParam: function (row, val) {\n\t\t\t$('.taxParam', row).val(JSON.stringify(val));\n\t\t},\n\t\tquantityChangeActions: function (row) {\n\t\t\tthis.rowCalculations(row);\n\t\t\tthis.summaryCalculations();\n\t\t},\n\t\trowCalculations: function (row) {\n\t\t\tthis.calculateTotalPrice(row);\n\t\t\tthis.calculateDiscounts(row);\n\t\t\tthis.calculateNetPrice(row);\n\t\t\tthis.calculateTaxes(row);\n\t\t\tthis.calculateGrossPrice(row);\n\t\t\tthis.calculateMargin(row);\n\t\t},\n\t\trowsCalculations: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.getInventoryItemsContainer()\n\t\t\t\t.find(thisInstance.rowClass)\n\t\t\t\t.each(function (index) {\n\t\t\t\t\tlet row = $(this);\n\t\t\t\t\tthisInstance.syncHeaderData(row);\n\t\t\t\t\tthisInstance.quantityChangeActions(row);\n\t\t\t\t});\n\t\t\tthisInstance.calculateItemNumbers();\n\t\t},\n\t\tcalculateDiscounts: function (row) {\n\t\t\tthis.setDiscount(row, this.getDiscount(row));\n\t\t},\n\t\tcalculateTaxes: function (row) {\n\t\t\tthis.setTax(row, this.getTax(row));\n\t\t\tthis.setTaxPercent(row, this.getTaxPercent(row));\n\t\t},\n\t\tsummaryCalculations: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthisInstance\n\t\t\t\t.getInventoryItemsContainer()\n\t\t\t\t.find('tfoot .wisableTd')\n\t\t\t\t.each(function (index) {\n\t\t\t\t\tthisInstance.calculatSummary($(this), $(this).data('sumfield'));\n\t\t\t\t});\n\t\t\tthisInstance.calculatDiscountSummary();\n\t\t\tthisInstance.calculatTaxSummary();\n\t\t\tthisInstance.calculatCurrenciesSummary();\n\t\t\tthisInstance.calculatMarginPSummary();\n\t\t},\n\t\tcalculatSummary: function (element, field) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet sum = 0;\n\t\t\tthis.getInventoryItemsContainer()\n\t\t\t\t.find(thisInstance.rowClass)\n\t\t\t\t.each(function (index) {\n\t\t\t\t\tlet element = $(this).find('.' + field);\n\t\t\t\t\tif (element.length > 0) {\n\t\t\t\t\t\tsum += App.Fields.Double.formatToDb(element.val());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\telement.text(App.Fields.Double.formatToDisplay(sum));\n\t\t},\n\t\tcalculatMarginPSummary: function () {\n\t\t\tlet sumRow = this.getInventoryItemsContainer().find('tfoot'),\n\t\t\t\ttotalPriceField =\n\t\t\t\t\tsumRow.find('[data-sumfield=\"netPrice\"]').length > 0\n\t\t\t\t\t\t? sumRow.find('[data-sumfield=\"netPrice\"]')\n\t\t\t\t\t\t: sumRow.find('[data-sumfield=\"totalPrice\"]'),\n\t\t\t\tsumPrice = totalPriceField.getNumberFromText(),\n\t\t\t\tpurchase = 0,\n\t\t\t\tmarginp = 0;\n\t\t\tthis.getInventoryItemsContainer()\n\t\t\t\t.find(this.rowClass)\n\t\t\t\t.each(function (index) {\n\t\t\t\t\tlet qty = $(this).find('.qty').getNumberFromValue(),\n\t\t\t\t\t\tpurchasePrice = $(this).find('.purchase').getNumberFromValue();\n\t\t\t\t\tif (qty > 0 && purchasePrice > 0) {\n\t\t\t\t\t\tpurchase += qty * purchasePrice;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tlet subtraction = sumPrice - purchase;\n\t\t\tif (purchase !== 0 && sumPrice !== 0) {\n\t\t\t\tmarginp = (subtraction * 100) / purchase;\n\t\t\t}\n\t\t\tsumRow.find('[data-sumfield=\"marginP\"]').text(App.Fields.Double.formatToDisplay(marginp) + '%');\n\t\t},\n\t\tcalculatDiscountSummary: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet discount = thisInstance.getAllDiscount();\n\t\t\tlet container = thisInstance.getInventorySummaryDiscountContainer();\n\t\t\tcontainer.find('input').val(App.Fields.Double.formatToDisplay(discount));\n\t\t},\n\t\tgetAllDiscount: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet discount = 0;\n\t\t\tthis.getInventoryItemsContainer()\n\t\t\t\t.find(thisInstance.rowClass)\n\t\t\t\t.each(function (index) {\n\t\t\t\t\tlet row = $(this);\n\t\t\t\t\tdiscount += thisInstance.getDiscount(row);\n\t\t\t\t});\n\t\t\treturn discount;\n\t\t},\n\t\tcalculatCurrenciesSummary: function () {\n\t\t\tlet container = this.getInventorySummaryCurrenciesContainer(),\n\t\t\t\tselected = $('.js-currency option:selected', this.getInventoryHeadContainer()),\n\t\t\t\tbase = $('.js-currency option[data-base-currency=\"1\"]', this.getInventoryHeadContainer()),\n\t\t\t\tconversionRate = selected.data('conversionRate'),\n\t\t\t\tbaseConversionRate = base.data('conversionRate');\n\t\t\tif (conversionRate == baseConversionRate) {\n\t\t\t\tcontainer.addClass('d-none');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconversionRate = parseFloat(baseConversionRate) / parseFloat(conversionRate);\n\t\t\tcontainer.removeClass('d-none');\n\t\t\tlet taxes = this.getAllTaxes();\n\t\t\tlet sum = 0;\n\t\t\tcontainer.find('.js-panel__body').html('');\n\t\t\t$.each(taxes, function (index, value) {\n\t\t\t\tif (value != undefined) {\n\t\t\t\t\tvalue = value * conversionRate;\n\t\t\t\t\tlet row = container.find('.d-none .form-group').clone();\n\t\t\t\t\trow.find('.percent').text(index + '%');\n\t\t\t\t\trow.find('input').val(App.Fields.Double.formatToDisplay(value));\n\t\t\t\t\trow.appendTo(container.find('.js-panel__body'));\n\t\t\t\t\tsum += value;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('.js-panel__footer input').val(App.Fields.Double.formatToDisplay(sum));\n\t\t},\n\t\tcalculatTaxSummary: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet taxes = thisInstance.getAllTaxes();\n\t\t\tlet container = thisInstance.getInventorySummaryTaxesContainer();\n\t\t\tcontainer.find('.js-panel__body').html('');\n\t\t\tlet sum = 0;\n\t\t\tfor (let index in taxes) {\n\t\t\t\tlet row = container.find('.d-none .form-group').clone();\n\t\t\t\trow.find('.percent').text(App.Fields.Double.formatToDisplay(index) + '%');\n\t\t\t\trow.find('input').val(App.Fields.Double.formatToDisplay(taxes[index]));\n\t\t\t\trow.appendTo(container.find('.js-panel__body'));\n\t\t\t\tsum += taxes[index];\n\t\t\t}\n\t\t\tcontainer.find('.js-panel__footer input').val(App.Fields.Double.formatToDisplay(sum));\n\t\t},\n\t\tgetAllTaxes: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet tax = [];\n\t\t\tlet typeSummary = $('.aggregationTypeTax').val();\n\t\t\tthis.getInventoryItemsContainer()\n\t\t\t\t.find(thisInstance.rowClass)\n\t\t\t\t.each(function (index) {\n\t\t\t\t\tlet row = $(this);\n\t\t\t\t\tlet netPrice = thisInstance.getNetPrice(row);\n\t\t\t\t\tlet params = row.find('.taxParam').val();\n\t\t\t\t\tif (params != '' && params != '[]' && params != undefined) {\n\t\t\t\t\t\tlet param = JSON.parse(params);\n\t\t\t\t\t\tif (typeof param.aggregationType == 'string') {\n\t\t\t\t\t\t\tparam.aggregationType = [param.aggregationType];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (param.aggregationType)\n\t\t\t\t\t\t\t$.each(param.aggregationType, function (index, name) {\n\t\t\t\t\t\t\t\tname = name + 'Tax';\n\t\t\t\t\t\t\t\tif (param[name] == undefined) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet percent = parseFloat(param[name]);\n\t\t\t\t\t\t\t\tlet old = 0;\n\t\t\t\t\t\t\t\tif (tax[percent] != undefined) {\n\t\t\t\t\t\t\t\t\told = parseFloat(tax[percent]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet taxRate = netPrice * (percent / 100);\n\t\t\t\t\t\t\t\ttax[percent] = old + taxRate;\n\t\t\t\t\t\t\t\tif (typeSummary == '2') {\n\t\t\t\t\t\t\t\t\tnetPrice += taxRate;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\treturn tax;\n\t\t},\n\t\tcalculateNetPrice: function (row) {\n\t\t\tthis.setNetPrice(row, this.getNetPrice(row));\n\t\t},\n\t\tcalculateGrossPrice: function (row) {\n\t\t\tlet netPrice = this.getNetPrice(row);\n\t\t\tif (this.isIndividualTaxMode(row) || this.isGroupTaxMode(row)) {\n\t\t\t\tnetPrice += this.getTax(row);\n\t\t\t}\n\t\t\tthis.setGrossPrice(row, netPrice);\n\t\t},\n\t\tcalculateTotalPrice: function (row) {\n\t\t\tthis.setTotalPrice(row, this.getTotalPrice(row));\n\t\t},\n\t\tcalculateMargin: function (row) {\n\t\t\tlet netPrice;\n\t\t\tif ($('.netPrice', row).length) {\n\t\t\t\tnetPrice = this.getNetPrice(row);\n\t\t\t} else {\n\t\t\t\tnetPrice = this.getTotalPrice(row) - this.getDiscount(row);\n\t\t\t}\n\t\t\tlet purchase = this.getPurchase(row);\n\t\t\tlet margin = netPrice - purchase;\n\t\t\tthis.setMargin(row, margin);\n\t\t\tlet marginp = '0';\n\t\t\tif (purchase !== 0) {\n\t\t\t\tmarginp = (margin / purchase) * 100;\n\t\t\t}\n\t\t\tthis.setMarginP(row, marginp);\n\t\t},\n\t\tcalculateDiscount: function (row, modal) {\n\t\t\tlet netPriceBeforeDiscount = App.Fields.Double.formatToDb(modal.find('.valueTotalPrice').text()),\n\t\t\t\tvaluePrices = netPriceBeforeDiscount,\n\t\t\t\tglobalDiscount = 0,\n\t\t\t\tgroupDiscount = 0,\n\t\t\t\tindividualDiscount = 0,\n\t\t\t\tvalueDiscount = 0;\n\n\t\t\tlet discountsType = modal.find('.discountsType').val();\n\n\t\t\tif (discountsType == '0' || discountsType == '1') {\n\t\t\t\tif (modal.find('.js-active .globalDiscount').length > 0) {\n\t\t\t\t\tglobalDiscount = App.Fields.Double.formatToDb(modal.find('.js-active .globalDiscount').val());\n\t\t\t\t}\n\t\t\t\tif (modal.find('.js-active .individualDiscountType').length > 0) {\n\t\t\t\t\tlet individualTypeDiscount = modal.find('.js-active .individualDiscountType:checked').val();\n\t\t\t\t\tlet value = App.Fields.Double.formatToDb(modal.find('.js-active .individualDiscountValue').val());\n\t\t\t\t\tif (individualTypeDiscount == 'percentage') {\n\t\t\t\t\t\tindividualDiscount = netPriceBeforeDiscount * (value / 100);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindividualDiscount = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tmodal.find('.js-active .groupCheckbox').length > 0 &&\n\t\t\t\t\tmodal.find('.js-active .groupCheckbox').prop('checked') == true\n\t\t\t\t) {\n\t\t\t\t\tgroupDiscount = App.Fields.Double.formatToDb(modal.find('.groupValue').val());\n\t\t\t\t\tgroupDiscount = netPriceBeforeDiscount * (groupDiscount / 100);\n\t\t\t\t}\n\n\t\t\t\tvaluePrices = valuePrices * ((100 - globalDiscount) / 100);\n\t\t\t\tvaluePrices = valuePrices - individualDiscount;\n\t\t\t\tvaluePrices = valuePrices - groupDiscount;\n\t\t\t} else if (discountsType == '2') {\n\t\t\t\tmodal.find('.js-active').each(function (index) {\n\t\t\t\t\tlet panel = $(this);\n\t\t\t\t\tif (panel.find('.globalDiscount').length > 0) {\n\t\t\t\t\t\tlet globalDiscount = App.Fields.Double.formatToDb(panel.find('.globalDiscount').val());\n\t\t\t\t\t\tvaluePrices = valuePrices * ((100 - globalDiscount) / 100);\n\t\t\t\t\t} else if (panel.find('.groupCheckbox').length > 0 && panel.find('.groupCheckbox').prop('checked') == true) {\n\t\t\t\t\t\tlet groupDiscount = App.Fields.Double.formatToDb(panel.find('.groupValue').val());\n\t\t\t\t\t\tvaluePrices = valuePrices * ((100 - groupDiscount) / 100);\n\t\t\t\t\t} else if (panel.find('.individualDiscountType').length > 0) {\n\t\t\t\t\t\tlet value = App.Fields.Double.formatToDb(panel.find('.individualDiscountValue').val());\n\t\t\t\t\t\tif (panel.find('.individualDiscountType[name=\"individualDiscountType\"]:checked').val() == 'percentage') {\n\t\t\t\t\t\t\tvaluePrices = valuePrices * ((100 - value) / 100);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvaluePrices = valuePrices - value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmodal.find('.valuePrices').text(App.Fields.Double.formatToDisplay(valuePrices));\n\t\t\tmodal.find('.valueDiscount').text(App.Fields.Double.formatToDisplay(netPriceBeforeDiscount - valuePrices));\n\t\t},\n\t\tcalculateTax: function (row, modal) {\n\t\t\tlet netPriceWithoutTax = App.Fields.Double.formatToDb(modal.find('.valueNetPrice').text()),\n\t\t\t\tvaluePrices = netPriceWithoutTax,\n\t\t\t\tglobalTax = 0,\n\t\t\t\tgroupTax = 0,\n\t\t\t\tregionalTax = 0,\n\t\t\t\tindividualTax = 0;\n\n\t\t\tlet taxType = modal.find('.taxsType').val();\n\t\t\tif (taxType == '0' || taxType == '1') {\n\t\t\t\tif (modal.find('.js-active .globalTax').length > 0) {\n\t\t\t\t\tglobalTax = App.Fields.Double.formatToDb(modal.find('.js-active .globalTax').val());\n\t\t\t\t}\n\t\t\t\tif (modal.find('.js-active .individualTaxValue').length > 0) {\n\t\t\t\t\tlet value = App.Fields.Double.formatToDb(modal.find('.js-active .individualTaxValue').val());\n\t\t\t\t\tindividualTax = (value / 100) * valuePrices;\n\t\t\t\t}\n\t\t\t\tif (modal.find('.js-active .groupTax').length > 0) {\n\t\t\t\t\tgroupTax = App.Fields.Double.formatToDb(modal.find('.groupTax').val());\n\t\t\t\t\tgroupTax = netPriceWithoutTax * (groupTax / 100);\n\t\t\t\t}\n\t\t\t\tif (modal.find('.js-active .regionalTax').length > 0) {\n\t\t\t\t\tregionalTax = App.Fields.Double.formatToDb(modal.find('.regionalTax').val());\n\t\t\t\t\tregionalTax = netPriceWithoutTax * (regionalTax / 100);\n\t\t\t\t}\n\n\t\t\t\tvaluePrices = valuePrices * ((100 + globalTax) / 100);\n\t\t\t\tvaluePrices = valuePrices + individualTax;\n\t\t\t\tvaluePrices = valuePrices + groupTax;\n\t\t\t\tvaluePrices = valuePrices + regionalTax;\n\t\t\t} else if (taxType == '2') {\n\t\t\t\tmodal.find('.js-active').each(function (index) {\n\t\t\t\t\tlet panel = $(this);\n\t\t\t\t\tif (panel.find('.globalTax').length > 0) {\n\t\t\t\t\t\tlet globalTax = App.Fields.Double.formatToDb(panel.find('.globalTax').val());\n\t\t\t\t\t\tvaluePrices = valuePrices * ((100 + globalTax) / 100);\n\t\t\t\t\t} else if (panel.find('.groupTax').length > 0) {\n\t\t\t\t\t\tlet groupTax = App.Fields.Double.formatToDb(panel.find('.groupTax').val());\n\t\t\t\t\t\tvaluePrices = valuePrices * ((100 + groupTax) / 100);\n\t\t\t\t\t} else if (panel.find('.regionalTax').length > 0) {\n\t\t\t\t\t\tlet regionalTax = App.Fields.Double.formatToDb(panel.find('.regionalTax').val());\n\t\t\t\t\t\tvaluePrices = valuePrices * ((100 + regionalTax) / 100);\n\t\t\t\t\t} else if (panel.find('.individualTaxValue').length > 0) {\n\t\t\t\t\t\tlet value = App.Fields.Double.formatToDb(panel.find('.individualTaxValue').val());\n\t\t\t\t\t\tvaluePrices = ((value + 100) / 100) * valuePrices;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (netPriceWithoutTax) {\n\t\t\t\tlet taxValue = ((valuePrices - netPriceWithoutTax) / netPriceWithoutTax) * 100;\n\t\t\t\tmodal.find('.js-tax-value').text(App.Fields.Double.formatToDisplay(taxValue));\n\t\t\t}\n\t\t\tmodal.find('.valuePrices').text(App.Fields.Double.formatToDisplay(valuePrices));\n\t\t\tmodal.find('.valueTax').text(App.Fields.Double.formatToDisplay(valuePrices - netPriceWithoutTax));\n\t\t},\n\t\tupdateRowSequence: function () {\n\t\t\tlet items = this.getInventoryItemsContainer();\n\t\t\titems.find(this.rowClass).each(function (index) {\n\t\t\t\t$(this)\n\t\t\t\t\t.find('.sequence')\n\t\t\t\t\t.val(index + 1);\n\t\t\t});\n\t\t},\n\t\tregisterInventorySaveData: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tthisInstance.form.on(Vtiger_Edit_Js.recordPreSave, function (e, data) {\n\t\t\t\tthisInstance.syncHeaderData();\n\t\t\t\tif (!thisInstance.checkLimits(thisInstance.form)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsyncHeaderData(container) {\n\t\t\tlet header = this.getInventoryHeadContainer();\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = this.getInventoryItemsContainer();\n\t\t\t}\n\t\t\tcontainer.find('.js-sync').each(function () {\n\t\t\t\tlet element = $(this);\n\t\t\t\telement.val(header.find('.js-' + element.data('syncId')).val());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will be used to handle price book popup\n\t\t * @params :  element - popup image element\n\t\t */\n\t\tpricebooksModalHandler: function (element) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet lineItemRow = element.closest(this.rowClass);\n\t\t\tlet rowName = lineItemRow.find('.rowName');\n\t\t\tapp.showRecordsList(\n\t\t\t\t{\n\t\t\t\t\tmodule: 'PriceBooks',\n\t\t\t\t\tsrc_module: $('[name=\"popupReferenceModule\"]', rowName).val(),\n\t\t\t\t\tsrc_record: $('.sourceField', rowName).val(),\n\t\t\t\t\tsrc_field: $('[name=\"popupReferenceModule\"]', rowName).data('field'),\n\t\t\t\t\tcurrency_id: thisInstance.getCurrency() || CONFIG.defaultCurrencyId\n\t\t\t\t},\n\t\t\t\t(modal, instance) => {\n\t\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: 'PriceBooks',\n\t\t\t\t\t\t\taction: 'ProductListPrice',\n\t\t\t\t\t\t\trecord: responseData.id,\n\t\t\t\t\t\t\tsrc_record: $('.sourceField', rowName).val()\n\t\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\t\tthisInstance.setUnitPrice(lineItemRow, data.result);\n\t\t\t\t\t\t\t\tthisInstance.quantityChangeActions(lineItemRow);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tapp.errorLog('Incorrect data', responseData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tsubProductsCashe: [],\n\t\tloadSubProducts: function (parentRow, indicator) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet progressInstace;\n\t\t\tlet recordId = $('input.sourceField', parentRow).val();\n\t\t\tlet recordModule = parentRow.find('.rowName input[name=\"popupReferenceModule\"]').val();\n\t\t\tthisInstance.removeSubProducts(parentRow);\n\t\t\tif (recordId == '0' || recordId == '' || $.inArray(recordModule, ['Products', 'Services']) < 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (thisInstance.subProductsCashe[recordId]) {\n\t\t\t\tthisInstance.addSubProducts(parentRow, thisInstance.subProductsCashe[recordId]);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet subProrductParams = {\n\t\t\t\tmodule: 'Products',\n\t\t\t\taction: 'SubProducts',\n\t\t\t\trecord: recordId\n\t\t\t};\n\t\t\tif (indicator) {\n\t\t\t\tprogressInstace = $.progressIndicator();\n\t\t\t}\n\t\t\tAppConnector.request(subProrductParams)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet responseData = data.result;\n\t\t\t\t\tthisInstance.subProductsCashe[recordId] = responseData;\n\t\t\t\t\tthisInstance.addSubProducts(parentRow, responseData);\n\t\t\t\t\tif (progressInstace) {\n\t\t\t\t\t\tprogressInstace.hide();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tif (progressInstace) {\n\t\t\t\t\t\tprogressInstace.hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tremoveSubProducts: function (parentRow) {\n\t\t\tlet subProductsContainer = $('.subProductsContainer ul', parentRow);\n\t\t\tsubProductsContainer.find('li').remove();\n\t\t},\n\t\taddSubProducts: function (parentRow, responseData) {\n\t\t\tlet subProductsContainer = $('.subProductsContainer ul', parentRow);\n\t\t\tfor (let id in responseData) {\n\t\t\t\tlet priductText = $('<li>').text(responseData[id]);\n\t\t\t\tsubProductsContainer.append(priductText);\n\t\t\t}\n\t\t},\n\t\tmapResultsToFields: function (referenceModule, parentRow, responseData) {\n\t\t\tlet unit,\n\t\t\t\tunitPrice,\n\t\t\t\ttaxParam = [];\n\t\t\tlet thisInstance = this;\n\t\t\tlet isGroupTax = thisInstance.isGroupTaxMode();\n\t\t\tfor (let id in responseData) {\n\t\t\t\tlet recordData = responseData[id];\n\t\t\t\tlet description = recordData.description;\n\t\t\t\tlet unitPriceValues = recordData.unitPriceValues;\n\t\t\t\tlet unitPriceValuesJson = JSON.stringify(unitPriceValues);\n\t\t\t\t// Load taxes detail\n\t\t\t\tif (isGroupTax) {\n\t\t\t\t\tlet parameters = parentRow.closest('.inventoryItems').data('taxParam');\n\t\t\t\t\tif (parameters) {\n\t\t\t\t\t\ttaxParam = JSON.parse(parameters);\n\t\t\t\t\t}\n\t\t\t\t} else if (recordData['taxes']) {\n\t\t\t\t\ttaxParam = { aggregationType: recordData.taxes.type };\n\t\t\t\t\ttaxParam[recordData.taxes.type + 'Tax'] = recordData.taxes.value;\n\t\t\t\t}\n\t\t\t\tif (recordData['taxes']) {\n\t\t\t\t\tparentRow.find('.js-tax').attr('data-default-tax', recordData.taxes.value);\n\t\t\t\t}\n\t\t\t\tthisInstance.setPurchase(parentRow, recordData.purchase);\n\t\t\t\tthisInstance.setTaxParam(parentRow, taxParam);\n\t\t\t\tthisInstance.setTax(parentRow, 0);\n\t\t\t\tthisInstance.setTaxPercent(parentRow, 0);\n\t\t\t\t// Load auto fields\n\t\t\t\tfor (let field in recordData['autoFields']) {\n\t\t\t\t\tparentRow.find('input.' + field).val(recordData['autoFields'][field]);\n\t\t\t\t\tif (recordData['autoFields'][field + 'Text']) {\n\t\t\t\t\t\tparentRow.find('.' + field + 'Text').text(recordData['autoFields'][field + 'Text']);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (recordData.price !== undefined) {\n\t\t\t\t\tthisInstance.setUnitPrice(parentRow, recordData.price);\n\t\t\t\t}\n\t\t\t\tif (unitPriceValuesJson !== undefined) {\n\t\t\t\t\t$('input.unitPrice', parentRow).attr('list-info', unitPriceValuesJson);\n\t\t\t\t}\n\t\t\t\tlet commentElement = $('textarea.js-inventory-item-comment', parentRow.next());\n\t\t\t\tlet editorInstance = CKEDITOR.instances[commentElement.attr('id')];\n\t\t\t\tif (editorInstance) {\n\t\t\t\t\teditorInstance.setData(description);\n\t\t\t\t} else {\n\t\t\t\t\tcommentElement.val(description);\n\t\t\t\t}\n\t\t\t\tif (typeof recordData['autoFields']['unit'] !== 'undefined') {\n\t\t\t\t\tunit = recordData['autoFields']['unit'];\n\t\t\t\t}\n\t\t\t\tthis.triggerQtyParam(unit, recordData.qtyPerUnit, parentRow);\n\t\t\t}\n\t\t\tif (referenceModule === 'Products') {\n\t\t\t\tthisInstance.loadSubProducts(parentRow, true);\n\t\t\t}\n\t\t\tthisInstance.quantityChangeActions(parentRow);\n\t\t},\n\t\t/**\n\t\t * Update qtyparam\n\t\t * @param {null|string} unit\n\t\t * @param int perUnit\n\t\t * @param {jQuery} parentRow\n\t\t */\n\t\ttriggerQtyParam(unit, perUnit, parentRow) {\n\t\t\tlet validationEngine;\n\t\t\tswitch (unit) {\n\t\t\t\tdefault:\n\t\t\t\t\t$('.qtyParamInfo', parentRow).addClass('d-none');\n\t\t\t\t\tvalidationEngine = 'validate[required,funcCall[Vtiger_NumberUserFormat_Validator_Js.invokeValidation]]';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'pack':\n\t\t\t\t\t$('.qtyParamInfo', parentRow).removeClass('d-none').removeClass('active');\n\t\t\t\t\t$('.qtyParamInfo', parentRow).attr('data-content', perUnit);\n\t\t\t\t\tvalidationEngine = 'validate[required,funcCall[Vtiger_WholeNumber_Validator_Js.invokeValidation]]';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'pcs':\n\t\t\t\t\t$('.qtyParamInfo', parentRow).addClass('d-none');\n\t\t\t\t\tvalidationEngine = 'validate[required,funcCall[Vtiger_WholeNumber_Validator_Js.invokeValidation]]';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t$('input.qty', parentRow).attr('data-validation-engine', validationEngine);\n\t\t},\n\t\tsaveDiscountsParameters: function (parentRow, modal) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet info = {};\n\t\t\tlet typeName = 'aggregationType';\n\t\t\tlet panels = modal.find('[name=\"' + typeName + '\"]:checked');\n\t\t\tinfo[typeName] = [];\n\t\t\tpanels.each(function (i) {\n\t\t\t\tlet type = $(this).val(),\n\t\t\t\t\tcontainer = $(this).closest('.js-panel');\n\t\t\t\tif (panels.length > 1) {\n\t\t\t\t\tinfo[typeName].push(type);\n\t\t\t\t} else {\n\t\t\t\t\tinfo[typeName] = type;\n\t\t\t\t}\n\t\t\t\tcontainer.find('[name=\"' + type + 'Discount\"]').each(function () {\n\t\t\t\t\tlet param = type + 'Discount';\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tif ('global' === type) {\n\t\t\t\t\t\tinfo[param] = App.Fields.Double.formatToDb(element.val());\n\t\t\t\t\t} else if ('group' === type && element.closest('.input-group').find('.groupCheckbox').prop('checked')) {\n\t\t\t\t\t\tinfo[param] = App.Fields.Double.formatToDb(element.val());\n\t\t\t\t\t} else if ('individual' === type) {\n\t\t\t\t\t\tlet name = 'individualDiscountType';\n\t\t\t\t\t\tinfo[name] = container.find('[name=\"' + name + '\"]:checked').val();\n\t\t\t\t\t\tinfo[param] = App.Fields.Double.formatToDb(element.val());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthisInstance.setDiscountParam($('#blackIthemTable'), info);\n\t\t\tthisInstance.setDiscountParam(parentRow, info);\n\t\t},\n\t\tsaveTaxsParameters: function (parentRow, modal) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet info = {};\n\t\t\tlet extend = ['aggregationType', 'groupCheckbox', 'individualTaxType'];\n\t\t\t$.each(thisInstance.taxModalFields, function (index, param) {\n\t\t\t\tif ($.inArray(param, extend) >= 0) {\n\t\t\t\t\tif (modal.find('[name=\"' + param + '\"]:checked').length > 1) {\n\t\t\t\t\t\tinfo[param] = [];\n\t\t\t\t\t\tmodal.find('[name=\"' + param + '\"]:checked').each(function (index) {\n\t\t\t\t\t\t\tinfo[param].push($(this).val());\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinfo[param] = modal.find('[name=\"' + param + '\"]:checked').val();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinfo[param] = App.Fields.Double.formatToDb(modal.find('[name=\"' + param + '\"]').val());\n\t\t\t\t}\n\t\t\t});\n\t\t\tparentRow.data('taxParam', JSON.stringify(info));\n\t\t\tthisInstance.setTaxParam(parentRow, info);\n\t\t\tthisInstance.setTaxParam($('#blackIthemTable'), info);\n\t\t},\n\t\tshowExpandedRow: function (row) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet items = thisInstance.getInventoryItemsContainer();\n\t\t\tlet inventoryRowExpanded = items.find('[numrowex=\"' + row.attr('numrow') + '\"]');\n\t\t\tlet element = row.find('.toggleVisibility');\n\t\t\telement.data('status', '1');\n\t\t\tinventoryRowExpanded.removeClass('d-none');\n\t\t},\n\t\thideExpandedRow: function (row) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet items = thisInstance.getInventoryItemsContainer();\n\t\t\tlet inventoryRowExpanded = items.find('[numrowex=\"' + row.attr('numrow') + '\"]');\n\t\t\tlet element = row.find('.toggleVisibility');\n\t\t\telement.data('status', '0');\n\t\t\tinventoryRowExpanded.addClass('d-none');\n\t\t},\n\t\tinitDiscountsParameters: function (parentRow, modal) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet parameters = parentRow.find('.discountParam').val();\n\t\t\tif (parameters == '' || parameters == undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tparameters = JSON.parse(parameters);\n\t\t\t$.each(thisInstance.discountModalFields, function (index, param) {\n\t\t\t\tlet parameter = parameters[param];\n\t\t\t\tlet field = modal.find('[name=\"' + param + '\"]');\n\t\t\t\tif (field.attr('type') == 'checkbox' || field.attr('type') == 'radio') {\n\t\t\t\t\tif ('groupCheckbox' === param && parameters['groupDiscount'] !== undefined) {\n\t\t\t\t\t\tfield.prop('checked', true);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tlet array = parameter;\n\t\t\t\t\tif (!$.isArray(array)) {\n\t\t\t\t\t\tarray = [array];\n\t\t\t\t\t}\n\t\t\t\t\t$.each(array, function (index, arrayValue) {\n\t\t\t\t\t\tlet value = field.filter('[value=\"' + arrayValue + '\"]').prop('checked', true);\n\t\t\t\t\t\tif (param == 'aggregationType') {\n\t\t\t\t\t\t\tvalue.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\t\t\t\tvalue.closest('.js-panel').addClass('js-active');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else if (field.prop('tagName') == 'SELECT') {\n\t\t\t\t\tfield\n\t\t\t\t\t\t.find('option[value=\"' + parameter + '\"]')\n\t\t\t\t\t\t.prop('selected', 'selected')\n\t\t\t\t\t\t.change();\n\t\t\t\t} else if (!field.prop('readonly')) {\n\t\t\t\t\tfield.val(parameter);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthisInstance.calculateDiscount(parentRow, modal);\n\t\t},\n\t\tinitTaxParameters: function (parentRow, modal) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet parameters;\n\t\t\tif (parentRow.data('taxParam')) {\n\t\t\t\tparameters = parentRow.data('taxParam');\n\t\t\t} else {\n\t\t\t\tparameters = parentRow.find('.taxParam').val();\n\t\t\t}\n\t\t\tif (!parameters) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tparameters = JSON.parse(parameters.toString());\n\t\t\t$.each(thisInstance.taxModalFields, function (index, param) {\n\t\t\t\tlet parameter = parameters[param],\n\t\t\t\t\tfield = modal.find('[name=\"' + param + '\"]');\n\n\t\t\t\tif (field.attr('type') === 'checkbox' || field.attr('type') === 'radio') {\n\t\t\t\t\tlet array = parameter,\n\t\t\t\t\t\tvalue;\n\t\t\t\t\tif (!$.isArray(array)) {\n\t\t\t\t\t\tarray = [array];\n\t\t\t\t\t}\n\t\t\t\t\t$.each(array, function (index, arrayValue) {\n\t\t\t\t\t\tvalue = field.filter('[value=\"' + arrayValue + '\"]').prop('checked', true);\n\t\t\t\t\t\tif (param === 'aggregationType') {\n\t\t\t\t\t\t\tvalue.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\t\t\t\tvalue.closest('.js-panel').addClass('js-active');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else if (field.prop('tagName') === 'SELECT') {\n\t\t\t\t\tfield\n\t\t\t\t\t\t.find('option[value=\"' + parameter + '\"]')\n\t\t\t\t\t\t.prop('selected', 'selected')\n\t\t\t\t\t\t.change();\n\t\t\t\t} else {\n\t\t\t\t\tlet input = modal.find('[name=\"' + param + '\"]');\n\t\t\t\t\tinput.val(App.Fields.Double.formatToDisplay(parameter));\n\t\t\t\t\tif (param === 'individualTax') {\n\t\t\t\t\t\tinput.formatNumber();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthisInstance.calculateTax(parentRow, modal);\n\t\t},\n\t\tlimitEnableSave: false,\n\t\tcheckLimits: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet account = thisInstance.getAccountId();\n\t\t\tlet limit = parseInt(app.getMainParams('inventoryLimit'));\n\t\t\tlet response = true;\n\n\t\t\tif (account == '' || thisInstance.limitEnableSave || !limit) {\n\t\t\t\treturn response;\n\t\t\t}\n\n\t\t\tlet params = {};\n\t\t\tparams.data = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\taction: 'Inventory',\n\t\t\t\tmode: 'checkLimits',\n\t\t\t\trecord: account,\n\t\t\t\tcurrency: thisInstance.getCurrency(),\n\t\t\t\tprice: thisInstance.getSummaryGrossPrice()\n\t\t\t};\n\t\t\tparams.async = false;\n\t\t\tparams.dataType = 'json';\n\t\t\tlet progressInstace = $.progressIndicator();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressInstace.hide();\n\t\t\t\t\tif (data.result.status == false) {\n\t\t\t\t\t\tapp.showModalWindow(data.result.html, function (data) {});\n\t\t\t\t\t\tresponse = false;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tprogressInstace.hide();\n\t\t\t\t});\n\t\t\treturn response;\n\t\t},\n\t\tcurrencyChangeActions: function (select, option) {\n\t\t\tif (option.data('baseCurrency') !== select.val()) {\n\t\t\t\tthis.showCurrencyChangeModal(select, option);\n\t\t\t} else {\n\t\t\t\tthis.currencyConvertValues(select, option);\n\t\t\t\tselect.data('oldValue', select.val());\n\t\t\t}\n\t\t},\n\t\tshowCurrencyChangeModal: function (select, option) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (thisInstance.lockCurrencyChange == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthisInstance.lockCurrencyChange = true;\n\t\t\tlet block = select.closest('th');\n\t\t\tlet modal = block.find('.modelContainer').clone();\n\t\t\tapp.showModalWindow(modal, function (data) {\n\t\t\t\tlet modal = $(data);\n\t\t\t\tlet currencyParam = JSON.parse(block.find('.js-currencyparam').val());\n\n\t\t\t\tif (currencyParam != false) {\n\t\t\t\t\tif (typeof currencyParam[option.val()] === 'undefined') {\n\t\t\t\t\t\tlet defaultCurrencyParams = {\n\t\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\t\tdate: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcurrencyParam[option.val()] = defaultCurrencyParams;\n\t\t\t\t\t}\n\t\t\t\t\tmodal.find('.currencyName').text(option.text());\n\t\t\t\t\tmodal.find('.currencyRate').val(currencyParam[option.val()]['value']);\n\t\t\t\t\tmodal.find('.currencyDate').text(currencyParam[option.val()]['date']);\n\t\t\t\t}\n\t\t\t\tmodal\n\t\t\t\t\t.on('click', 'button[type=\"submit\"]', function (e) {\n\t\t\t\t\t\tlet rate = modal.find('.currencyRate').val();\n\t\t\t\t\t\tlet value = App.Fields.Double.formatToDb(rate);\n\t\t\t\t\t\tlet conversionRate = 1 / App.Fields.Double.formatToDb(rate);\n\n\t\t\t\t\t\toption.data('conversionRate', conversionRate);\n\t\t\t\t\t\tcurrencyParam[option.val()] = {\n\t\t\t\t\t\t\tdate: option.data('conversionDate'),\n\t\t\t\t\t\t\tvalue: value.toString(),\n\t\t\t\t\t\t\tconversion: conversionRate.toString()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tblock.find('.js-currencyparam').val(JSON.stringify(currencyParam));\n\n\t\t\t\t\t\tthisInstance.currencyConvertValues(select, option);\n\t\t\t\t\t\tselect.data('oldValue', select.val());\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tthisInstance.lockCurrencyChange = false;\n\t\t\t\t\t})\n\t\t\t\t\t.one('hidden.bs.modal', function () {\n\t\t\t\t\t\tselect.val(select.data('oldValue')).change();\n\t\t\t\t\t\tthisInstance.lockCurrencyChange = false;\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tcurrencyConvertValues: function (select, selected) {\n\t\t\tlet thisInstance = this;\n\n\t\t\tlet previous = select.find('option[value=\"' + select.data('oldValue') + '\"]');\n\t\t\tlet conversionRate = selected.data('conversionRate');\n\t\t\tlet prevConversionRate = previous.data('conversionRate');\n\t\t\tconversionRate = parseFloat(conversionRate) / parseFloat(prevConversionRate);\n\t\t\tthis.getInventoryItemsContainer()\n\t\t\t\t.find(thisInstance.rowClass)\n\t\t\t\t.each(function (_) {\n\t\t\t\t\tlet row = $(this);\n\t\t\t\t\tthisInstance.syncHeaderData(row);\n\t\t\t\t\tthisInstance.setUnitPrice(row, thisInstance.getUnitPriceValue(row) * conversionRate);\n\t\t\t\t\tthisInstance.setDiscount(row, thisInstance.getDiscount(row) * conversionRate);\n\t\t\t\t\tthisInstance.setTax(row, thisInstance.getTax(row) * conversionRate);\n\t\t\t\t\tthisInstance.setPurchase(row, thisInstance.getPurchase(row) * conversionRate);\n\t\t\t\t\tthisInstance.quantityChangeActions(row);\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Set up all row data that comes from request\n\t\t * @param {jQuery} row\n\t\t * @param {object} rowData\n\t\t */\n\t\tsetRowData(row, rowData) {\n\t\t\tthis.setName(row, rowData.name, rowData.info.name);\n\t\t\tthis.setQuantity(row, App.Fields.Double.formatToDisplay(rowData.qty));\n\t\t\tthis.setUnit(row, rowData.info.autoFields.unit, rowData.info.autoFields.unitText);\n\t\t\tif (typeof rowData.info.autoFields !== 'undefined' && typeof rowData.info.autoFields.subunit !== 'undefined') {\n\t\t\t\tthis.setSubUnit(row, rowData.info.autoFields.subunit, rowData.info.autoFields.subunitText);\n\t\t\t}\n\t\t\tthis.setComment(row, rowData.comment1);\n\t\t\tthis.setUnitPrice(row, App.Fields.Double.formatToDisplay(rowData.price));\n\t\t\tthis.setNetPrice(row, App.Fields.Double.formatToDisplay(rowData.net));\n\t\t\tthis.setGrossPrice(row, App.Fields.Double.formatToDisplay(rowData.gross));\n\t\t\tthis.setTotalPrice(row, App.Fields.Double.formatToDisplay(rowData.total));\n\t\t\tlet discountParam = rowData.discountparam || null;\n\t\t\tthis.setDiscountParam(row, JSON.parse(discountParam));\n\t\t\tthis.setDiscount(row, App.Fields.Double.formatToDisplay(rowData.discount));\n\t\t\tthis.setTaxParam(row, JSON.parse(rowData.taxparam));\n\t\t\tthis.setTax(row, App.Fields.Double.formatToDisplay(rowData.tax));\n\t\t\tthis.setTaxPercent(row, App.Fields.Double.formatToDisplay(rowData.tax_percent));\n\t\t},\n\t\t/**\n\t\t * Add new row to inventory list\n\t\t * @param {string} module\n\t\t * @param {string} baseTableId\n\t\t * @param {object} rowData [optional]\n\t\t */\n\t\taddItem(module, baseTableId, rowData = false) {\n\t\t\tconst items = this.getInventoryItemsContainer();\n\t\t\tlet newRow = this.getBasicRow();\n\t\t\tconst sequenceNumber = this.getNextLineItemRowNumber();\n\t\t\tconst replaced = newRow.html().replace(/\\_NUM_/g, sequenceNumber);\n\t\t\tconst moduleLbls = newRow.data('moduleLbls');\n\t\t\tnewRow.html(replaced);\n\t\t\tnewRow = newRow.children().appendTo(items.find('.js-inventory-items-body'));\n\t\t\tnewRow.find('.rowName input[name=\"popupReferenceModule\"]').val(module).data('field', baseTableId);\n\t\t\tnewRow.find('.js-module-icon').removeClass().addClass(`yfm-${module}`);\n\t\t\tnewRow.find('.rowName span.input-group-text').attr('data-content', moduleLbls[module]);\n\t\t\tnewRow.find('.colPicklistField select').each(function (index, select) {\n\t\t\t\tselect = $(select);\n\t\t\t\tselect.find('option').each(function (index, option) {\n\t\t\t\t\toption = $(option);\n\t\t\t\t\tif (option.data('module') !== module) {\n\t\t\t\t\t\toption.remove();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.initItem(newRow);\n\t\t\tVtiger_Edit_Js.getInstance().registerAutoCompleteFields(newRow);\n\t\t\tif (rowData) {\n\t\t\t\tthis.setRowData(newRow, rowData);\n\t\t\t\tthis.quantityChangeActions(newRow);\n\t\t\t}\n\t\t\treturn newRow;\n\t\t},\n\n\t\t/**\n\t\t * Register add item button click\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterAddItem() {\n\t\t\tconst thisInstance = this;\n\t\t\tconst itemsHeader = thisInstance.getInventoryHeadContainer();\n\t\t\titemsHeader.find('.js-inv-add-item').on('click', function (e) {\n\t\t\t\tconst btn = $(this);\n\t\t\t\tthisInstance.addItem(btn.data('module'), btn.data('field'));\n\t\t\t});\n\t\t},\n\t\tregisterSortableItems: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet items = thisInstance.getInventoryItemsContainer();\n\t\t\titems.sortable({\n\t\t\t\thandle: '.dragHandle',\n\t\t\t\titems: thisInstance.rowClass,\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tplaceholder: 'ui-state-highlight',\n\t\t\t\thelper: function (e, ui) {\n\t\t\t\t\tui.children().each(function (index, element) {\n\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\telement.width(element.width());\n\t\t\t\t\t});\n\t\t\t\t\treturn ui;\n\t\t\t\t},\n\t\t\t\tstart: function (event, ui) {\n\t\t\t\t\titems.find(thisInstance.rowClass).each(function (index, element) {\n\t\t\t\t\t\tlet row = $(element);\n\t\t\t\t\t\tthisInstance.hideExpandedRow(row);\n\t\t\t\t\t});\n\t\t\t\t\tlet num = $(ui.item).attr('numrow');\n\t\t\t\t\titems.find('[numrowex=\"' + num + '\"] .js-inventory-item-comment').each(function () {\n\t\t\t\t\t\tApp.Fields.Text.destroyEditor($(this));\n\t\t\t\t\t});\n\t\t\t\t\tui.item.startPos = ui.item.index();\n\t\t\t\t},\n\t\t\t\tstop: function (event, ui) {\n\t\t\t\t\tlet numrow = $(ui.item).attr('numrow');\n\t\t\t\t\tlet child = items.find('.numRow' + numrow);\n\t\t\t\t\titems.find('[numrow=\"' + numrow + '\"]').after(child);\n\t\t\t\t\tApp.Fields.Text.Editor.register(child);\n\t\t\t\t\tthisInstance.updateRowSequence();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterShowHideExpanded: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tthisInstance.form.on('click', '.toggleVisibility', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet row = thisInstance.getClosestRow(element);\n\t\t\t\tif (element.data('status') == 0) {\n\t\t\t\t\tthisInstance.showExpandedRow(row);\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.hideExpandedRow(row);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterPriceBookModal: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.find('.js-price-book-modal').on('click', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet response = thisInstance.isRecordSelected(element);\n\t\t\t\tif (response == true) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.pricebooksModalHandler(element);\n\t\t\t});\n\t\t},\n\t\tregisterRowChangeEvent: function (container) {\n\t\t\tcontainer.on('focusout', '.qty', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\telement.formatNumber();\n\t\t\t\tthis.quantityChangeActions(this.getClosestRow(element));\n\t\t\t});\n\t\t\tcontainer.on('focusout', '.unitPrice', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\telement.formatNumber();\n\t\t\t\tthis.quantityChangeActions(this.getClosestRow(element));\n\t\t\t});\n\t\t\tcontainer.on('focusout', '.purchase', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\telement.formatNumber();\n\t\t\t\tthis.quantityChangeActions(this.getClosestRow(element));\n\t\t\t});\n\t\t\tlet headContainer = this.getInventoryHeadContainer();\n\t\t\theadContainer.on('change', '.js-taxmode', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tthis.showIndividualTax(this.getClosestRow(element));\n\t\t\t\tthis.rowsCalculations();\n\t\t\t});\n\t\t\theadContainer.on('change', '.js-discountmode', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tthis.showIndividualDiscount(this.getClosestRow(element));\n\t\t\t\tthis.rowsCalculations();\n\t\t\t});\n\t\t},\n\t\tregisterSubProducts: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tthisInstance.form.find('.inventoryItems ' + thisInstance.rowClass).each(function (index) {\n\t\t\t\tthisInstance.loadSubProducts($(this), false);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register clear reference selection\n\t\t */\n\t\tregisterClearReferenceSelection() {\n\t\t\tthis.form.on('click', '.clearReferenceSelection', (e) => {\n\t\t\t\tconst referenceGroup = $(e.currentTarget).closest('div.referenceGroup');\n\t\t\t\tif (referenceGroup.length) {\n\t\t\t\t\treferenceGroup.find('input[id$=\"_display\"]').val('').removeAttr('readonly');\n\t\t\t\t} else {\n\t\t\t\t\tconst row = this.getClosestRow($(e.currentTarget));\n\t\t\t\t\tthis.removeSubProducts(row);\n\t\t\t\t\trow\n\t\t\t\t\t\t.find('.unitPrice,.tax,.discount,.margin,.purchase,.js-tax-percent')\n\t\t\t\t\t\t.val(App.Fields.Double.formatToDisplay(0));\n\t\t\t\t\trow.find('.qty').val(1);\n\t\t\t\t\trow.find('textarea,.valueVal').val('');\n\t\t\t\t\trow.find('.valueText').text('');\n\t\t\t\t\trow.find('.qtyParamInfo').addClass('d-none');\n\t\t\t\t\trow.find('.recordLabel').val('').removeAttr('readonly');\n\t\t\t\t\tif (!this.isGroupTaxMode()) {\n\t\t\t\t\t\tthis.setTaxParam(row, []);\n\t\t\t\t\t}\n\t\t\t\t\tthis.quantityChangeActions(row);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterDeleteLineItemEvent: function (container) {\n\t\t\tcontainer.on('click', '.deleteRow', (e) => {\n\t\t\t\tlet num = this.getClosestRow($(e.currentTarget)).attr('numrow');\n\t\t\t\tthis.deleteLineItem(num);\n\t\t\t});\n\t\t},\n\t\tdeleteLineItem: function (num) {\n\t\t\tthis.getInventoryItemsContainer()\n\t\t\t\t.find('[numrowex=\"' + num + '\"] .js-inventory-item-comment')\n\t\t\t\t.each(function () {\n\t\t\t\t\tApp.Fields.Text.destroyEditor($(this));\n\t\t\t\t});\n\t\t\tthis.getInventoryItemsContainer()\n\t\t\t\t.find('[numrow=\"' + num + '\"], [numrowex=\"' + num + '\"]')\n\t\t\t\t.remove();\n\t\t\tthis.checkDeleteIcon();\n\t\t\tthis.rowsCalculations();\n\t\t\tif (this.getInventoryItemsContainer().find('.inventoryRow').length === 0) {\n\t\t\t\t$('#inventoryItemsNo').val(0);\n\t\t\t}\n\t\t\tthis.updateRowSequence();\n\t\t},\n\t\tregisterChangeDiscount: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthisInstance.form.on('click', '.changeDiscount', function (e) {\n\t\t\t\tlet parentRow;\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Inventory',\n\t\t\t\t\tmode: 'showDiscounts',\n\t\t\t\t\tcurrency: thisInstance.getCurrency(),\n\t\t\t\t\trelatedRecord: thisInstance.getAccountId()\n\t\t\t\t};\n\t\t\t\tif (element.hasClass('groupDiscount')) {\n\t\t\t\t\tparentRow = thisInstance.getInventoryItemsContainer();\n\t\t\t\t\tif (parentRow.find('tfoot .colTotalPrice').length != 0) {\n\t\t\t\t\t\tparams.totalPrice = App.Fields.Double.formatToDb(parentRow.find('tfoot .colTotalPrice').text());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.totalPrice = 0;\n\t\t\t\t\t}\n\t\t\t\t\tparams.discountType = 1;\n\t\t\t\t} else {\n\t\t\t\t\tparentRow = element.closest(thisInstance.rowClass);\n\t\t\t\t\tparams.totalPrice = thisInstance.getTotalPrice(parentRow);\n\t\t\t\t\tparams.discountType = 0;\n\t\t\t\t}\n\n\t\t\t\tlet progressInstace = $.progressIndicator();\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\t\tthisInstance.initDiscountsParameters(parentRow, $(data));\n\t\t\t\t\t\t\tthisInstance.registerChangeDiscountModal(data, parentRow, params);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprogressInstace.hide();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\tprogressInstace.hide();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterChangeDiscountModal: function (modal, parentRow, params) {\n\t\t\tlet thisInstance = this;\n\t\t\tmodal.on('change', '.individualDiscountType', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tmodal.find('.individualDiscountContainer .input-group-text').text(element.data('symbol'));\n\t\t\t});\n\t\t\tmodal.on('change', '.activeCheckbox[name=\"aggregationType\"]', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\n\t\t\t\tif (element.attr('type') == 'checkbox' && this.checked) {\n\t\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t\t} else if (element.attr('type') == 'radio') {\n\t\t\t\t\tmodal.find('.js-panel').removeClass('js-active');\n\t\t\t\t\tmodal.find('.js-panel .js-panel__body').addClass('d-none');\n\t\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t\t} else {\n\t\t\t\t\telement.closest('.js-panel').find('.js-panel__body').addClass('d-none');\n\t\t\t\t\telement.closest('.js-panel').removeClass('js-active');\n\t\t\t\t}\n\t\t\t});\n\t\t\tmodal.on(\n\t\t\t\t'change',\n\t\t\t\t'.activeCheckbox, .globalDiscount,.individualDiscountValue,.individualDiscountType,.groupCheckbox',\n\t\t\t\tfunction (e) {\n\t\t\t\t\tthisInstance.calculateDiscount(parentRow, modal);\n\t\t\t\t}\n\t\t\t);\n\t\t\tmodal.on('click', '.saveDiscount', function (e) {\n\t\t\t\tthisInstance.saveDiscountsParameters(parentRow, modal);\n\t\t\t\tif (params.discountType == 0) {\n\t\t\t\t\tthisInstance.setDiscount(parentRow, App.Fields.Double.formatToDb(modal.find('.valueDiscount').text()));\n\t\t\t\t\tthisInstance.quantityChangeActions(parentRow);\n\t\t\t\t} else {\n\t\t\t\t\tlet rate =\n\t\t\t\t\t\tApp.Fields.Double.formatToDb(modal.find('.valueDiscount').text()) /\n\t\t\t\t\t\tApp.Fields.Double.formatToDb(modal.find('.valueTotalPrice').text());\n\t\t\t\t\tparentRow.find(thisInstance.rowClass).each(function (index) {\n\t\t\t\t\t\tthisInstance.setDiscount($(this), thisInstance.getTotalPrice($(this)) * rate);\n\t\t\t\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tapp.hideModalWindow();\n\t\t\t});\n\t\t},\n\t\tregisterChangeTax: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tthisInstance.form.on('click', '.changeTax', function (e) {\n\t\t\t\tlet parentRow;\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Inventory',\n\t\t\t\t\tmode: 'showTaxes',\n\t\t\t\t\tcurrency: thisInstance.getCurrency(),\n\t\t\t\t\trelatedRecord: thisInstance.getAccountId()\n\t\t\t\t};\n\t\t\t\tif (element.hasClass('groupTax')) {\n\t\t\t\t\tparentRow = thisInstance.getInventoryItemsContainer();\n\t\t\t\t\tlet totalPrice = 0;\n\t\t\t\t\tif (parentRow.find('tfoot .colNetPrice').length > 0) {\n\t\t\t\t\t\ttotalPrice = parentRow.find('tfoot .colNetPrice').text();\n\t\t\t\t\t} else if (parentRow.find('tfoot .colTotalPrice ').length > 0) {\n\t\t\t\t\t\ttotalPrice = parentRow.find('tfoot .colTotalPrice ').text();\n\t\t\t\t\t}\n\t\t\t\t\tparams.totalPrice = App.Fields.Double.formatToDb(totalPrice);\n\t\t\t\t\tparams.taxType = 1;\n\t\t\t\t} else {\n\t\t\t\t\tparentRow = element.closest(thisInstance.rowClass);\n\t\t\t\t\tlet sourceRecord = parentRow.find('.rowName .sourceField').val();\n\t\t\t\t\tparams.totalPrice = thisInstance.getNetPrice(parentRow);\n\t\t\t\t\tparams.taxType = 0;\n\t\t\t\t\tif (sourceRecord) {\n\t\t\t\t\t\tparams.record = sourceRecord;\n\t\t\t\t\t}\n\t\t\t\t\tparams.recordModule = parentRow.find('.rowName [name=\"popupReferenceModule\"]').val();\n\t\t\t\t}\n\t\t\t\tlet progressInstace = $.progressIndicator();\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\t\tthisInstance.initTaxParameters(parentRow, $(data));\n\t\t\t\t\t\t\tthisInstance.registerChangeTaxModal(data, parentRow, params);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprogressInstace.hide();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\tprogressInstace.hide();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tlockCurrencyChange: false,\n\t\tregisterChangeCurrency() {\n\t\t\tthis.getInventoryHeadContainer().on('change', '.js-currency', (e) => {\n\t\t\t\tlet element = $(e.currentTarget),\n\t\t\t\t\tsymbol = element.find('option:selected').data('conversionSymbol');\n\t\t\t\tthis.currencyChangeActions(element, element.find('option:selected'));\n\t\t\t\tthis.form.find('.currencySymbol').text(symbol);\n\t\t\t});\n\t\t},\n\t\tregisterChangeTaxModal: function (modal, parentRow, params) {\n\t\t\tlet thisInstance = this;\n\t\t\tmodal.on('change', '.individualTaxType', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tmodal.find('.individualTaxContainer .input-group-text').text(element.data('symbol'));\n\t\t\t});\n\t\t\tmodal.on('change', '.activeCheckbox[name=\"aggregationType\"]', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\n\t\t\t\tif (element.attr('type') == 'checkbox' && this.checked) {\n\t\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t\t} else if (element.attr('type') == 'radio') {\n\t\t\t\t\tmodal.find('.js-panel').removeClass('js-active');\n\t\t\t\t\tmodal.find('.js-panel .js-panel__body').addClass('d-none');\n\t\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t\t} else {\n\t\t\t\t\telement.closest('.js-panel').find('.js-panel__body').addClass('d-none');\n\t\t\t\t\telement.closest('.js-panel').removeClass('js-active');\n\t\t\t\t}\n\t\t\t});\n\t\t\tmodal.on('change', '.activeCheckbox, .globalTax, .individualTaxValue, .groupTax, .regionalTax', function (e) {\n\t\t\t\tthisInstance.calculateTax(parentRow, modal);\n\t\t\t});\n\t\t\tmodal.on('click', '.saveTaxs', function (e) {\n\t\t\t\tthisInstance.saveTaxsParameters(parentRow, modal);\n\t\t\t\tif (params.taxType == '0') {\n\t\t\t\t\tthisInstance.setTax(parentRow, App.Fields.Double.formatToDb(modal.find('.valueTax').text()));\n\t\t\t\t\tthisInstance.setTaxPercent(parentRow, App.Fields.Double.formatToDb(modal.find('.js-tax-value').text()));\n\t\t\t\t\tthisInstance.quantityChangeActions(parentRow);\n\t\t\t\t} else {\n\t\t\t\t\tlet rate =\n\t\t\t\t\t\tApp.Fields.Double.formatToDb(modal.find('.valueTax').text()) /\n\t\t\t\t\t\tApp.Fields.Double.formatToDb(modal.find('.valueNetPrice').text());\n\t\t\t\t\tparentRow.find(thisInstance.rowClass).each(function (index) {\n\t\t\t\t\t\tlet totalPrice;\n\t\t\t\t\t\tif ($('.netPrice', $(this)).length > 0) {\n\t\t\t\t\t\t\ttotalPrice = thisInstance.getNetPrice($(this));\n\t\t\t\t\t\t} else if ($('.totalPrice', $(this)).length > 0) {\n\t\t\t\t\t\t\ttotalPrice = thisInstance.getTotalPrice($(this));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisInstance.setTax($(this), totalPrice * rate);\n\t\t\t\t\t\tthisInstance.setTaxPercent($(this), App.Fields.Double.formatToDb(modal.find('.js-tax-value').text()));\n\t\t\t\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tapp.hideModalWindow();\n\t\t\t});\n\t\t},\n\t\tregisterRowAutoComplete: function (container) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet sourceFieldElement = container.find('.sourceField.js-name');\n\t\t\tsourceFieldElement.on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, params) {\n\t\t\t\tlet record = params.record;\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentRow = element.closest(thisInstance.rowClass);\n\t\t\t\tlet selectedModule = parentRow.find('.rowName [name=\"popupReferenceModule\"]').val();\n\t\t\t\tlet dataUrl =\n\t\t\t\t\t'index.php?module=' +\n\t\t\t\t\tapp.getModuleName() +\n\t\t\t\t\t'&action=Inventory&mode=getDetails&record=' +\n\t\t\t\t\trecord +\n\t\t\t\t\t'&fieldname=' +\n\t\t\t\t\telement.data('columnname');\n\t\t\t\tif (thisInstance.getCurrency()) {\n\t\t\t\t\tdataUrl += '&currency_id=' + thisInstance.getCurrency();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(dataUrl).done(function (data) {\n\t\t\t\t\tfor (let id in data) {\n\t\t\t\t\t\tif (typeof data[id] == 'object') {\n\t\t\t\t\t\t\tlet recordData = data[id];\n\t\t\t\t\t\t\tthisInstance.mapResultsToFields(selectedModule, parentRow, recordData);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Mass add entries.\n\t\t */\n\t\tregisterMassAddItem: function () {\n\t\t\tthis.getForm().on('click', '.js-mass-add', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet moduleName = currentTarget.data('module');\n\t\t\t\tlet url = currentTarget.data('url');\n\t\t\t\tapp.showRecordsList(url, (_, instance) => {\n\t\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\t\tfor (let i in data) {\n\t\t\t\t\t\t\tlet parentElem = this.addItem(moduleName);\n\t\t\t\t\t\t\tVtiger_Edit_Js.getInstance().setReferenceFieldValue(parentElem, {\n\t\t\t\t\t\t\t\tname: data[i],\n\t\t\t\t\t\t\t\tid: i\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tcalculateItemNumbers: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet items = this.getInventoryItemsContainer();\n\t\t\tlet i = 1;\n\t\t\titems.find(thisInstance.rowClass).each(function (index) {\n\t\t\t\t$(this).find('.itemNumberText').text(i);\n\t\t\t\ti++;\n\t\t\t});\n\t\t},\n\t\tinitItem: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = thisInstance.getInventoryItemsContainer();\n\t\t\t}\n\t\t\tthisInstance.registerDeleteLineItemEvent(container);\n\t\t\tthisInstance.registerPriceBookModal(container);\n\t\t\tthisInstance.registerRowChangeEvent(container);\n\t\t\tthisInstance.registerRowAutoComplete(container);\n\t\t\tthisInstance.checkDeleteIcon();\n\t\t\tthisInstance.rowsCalculations();\n\t\t\tthisInstance.updateRowSequence();\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.selectInv'));\n\t\t\tApp.Fields.Date.register(container, true, {}, 'dateFieldInv');\n\t\t\tcontainer.validationEngine('detach');\n\t\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\t\tApp.Fields.Text.Editor.register(container);\n\t\t},\n\t\t/**\n\t\t * Load inventory data for specified record\n\t\t * @param {int} recordId\n\t\t * @param {string} sourceModule\n\t\t * @param {function|bool} success callback\n\t\t * @param {function|bool} fail callback\n\t\t * @returns Promise\n\t\t */\n\t\tloadInventoryData(recordId, sourceModule, success = false, fail = false) {\n\t\t\tconst progressLoader = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tsrc_module: sourceModule,\n\t\t\t\t\tsrc_record: recordId,\n\t\t\t\t\taction: 'Inventory',\n\t\t\t\t\tmode: 'getTableData',\n\t\t\t\t\trecord: app.getRecordId()\n\t\t\t\t})\n\t\t\t\t\t.done((response) => {\n\t\t\t\t\t\tlet activeModules = [];\n\t\t\t\t\t\tthis.getInventoryHeadContainer()\n\t\t\t\t\t\t\t.find('.js-inv-add-item')\n\t\t\t\t\t\t\t.each((index, addBtn) => {\n\t\t\t\t\t\t\t\tactiveModules.push($(addBtn).data('module'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tprogressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tconst oldCurrencyChangeAction = this.currencyChangeActions;\n\t\t\t\t\t\tthis.currencyChangeActions = function changeCurrencyActions(select, option) {\n\t\t\t\t\t\t\tthis.currencyConvertValues(select, option);\n\t\t\t\t\t\t\tselect.data('oldValue', select.val());\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst first = response.result[Object.keys(response.result)[0]];\n\t\t\t\t\t\tthis.setCurrencyParam(first.currencyparam);\n\t\t\t\t\t\tthis.setCurrency(first.currency);\n\t\t\t\t\t\tthis.setDiscountMode(first.discountmode);\n\t\t\t\t\t\tthis.setTaxMode(first.taxmode);\n\t\t\t\t\t\tthis.currencyChangeActions = oldCurrencyChangeAction;\n\t\t\t\t\t\tthis.clearInventory();\n\t\t\t\t\t\t$.each(response.result, (index, row) => {\n\t\t\t\t\t\t\tif (activeModules.indexOf(row.moduleName) !== -1) {\n\t\t\t\t\t\t\t\tthis.addItem(row.moduleName, row.basetableid, row);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\ttext: app\n\t\t\t\t\t\t\t\t\t\t.vtranslate('JS_INVENTORY_ITEM_MODULE_NOT_FOUND')\n\t\t\t\t\t\t\t\t\t\t.replace('${sourceModule}', row.moduleName)\n\t\t\t\t\t\t\t\t\t\t.replace('${position}', row.info.name)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.summaryCalculations();\n\t\t\t\t\t\tresolve(response.result);\n\t\t\t\t\t\tif (typeof success === 'function') {\n\t\t\t\t\t\t\tsuccess(response.result);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail((error, err) => {\n\t\t\t\t\t\tprogressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\treject(error, err);\n\t\t\t\t\t\tif (typeof fail === 'function') {\n\t\t\t\t\t\t\tfail(error, err);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Clear inventory data\n\t\t */\n\t\tclearInventory: function () {\n\t\t\tthis.getInventoryItemsContainer()\n\t\t\t\t.find('.inventoryRow')\n\t\t\t\t.each((_, e) => {\n\t\t\t\t\tlet num = $(e).attr('numrow');\n\t\t\t\t\tthis.deleteLineItem(num);\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register all the events\n\t\t */\n\t\tregisterEvents: function (container) {\n\t\t\tthis.form = container;\n\t\t\tthis.registerInventorySaveData();\n\t\t\tthis.registerAddItem();\n\t\t\tthis.registerMassAddItem();\n\t\t\tthis.initItem();\n\t\t\tthis.registerSortableItems();\n\t\t\tthis.registerSubProducts();\n\t\t\tthis.registerChangeDiscount();\n\t\t\tthis.registerChangeTax();\n\t\t\tthis.registerClearReferenceSelection();\n\t\t\tthis.registerShowHideExpanded();\n\t\t\tthis.registerChangeCurrency();\n\t\t\tthis.setDefaultGlobalTax(container);\n\t\t}\n\t}\n);\n"],"names":["$","Class","inventoryInstance","getInventoryInstance","container","moduleClassName","find","val","window","registerEvents","form","inventoryContainer","inventoryHeadContainer","summaryTaxesContainer","summaryDiscountContainer","summaryCurrenciesContainer","rowClass","discountModalFields","taxModalFields","getForm","getInventoryItemsContainer","getInventoryHeadContainer","getInventorySummaryDiscountContainer","getInventorySummaryTaxesContainer","getInventorySummaryCurrenciesContainer","getNextLineItemRowNumber","$inventoryItemsNo","rowNumber","parseInt","getAccountId","accountReferenceField","checkDeleteIcon","length","showLineItemsDeleteIcon","app","getMainParams","hideLineItemsDeleteIcon","removeClass","addClass","getClosestRow","element","closest","getBasicRow","eq","clone","isRecordSelected","parentRow","productField","validationEngine","getTaxModeSelectElement","row","items","isIndividualTaxMode","taxModeElement","selectedOption","isGroupTaxMode","taxTypeElement","showIndividualTax","thisInstance","groupTax","newRow","taxParam","aggregationType","each","thisItem","parseFloat","attr","setTaxParam","setTax","setTaxPercent","setDefaultGlobalTax","rowsCalculations","taxDefaultValue","data","isGroupTax","summaryContainer","getTaxParams","JSON","stringify","quantityChangeActions","getDiscountModeSelectElement","isIndividualDiscountMode","discountModeElement","showIndividualDiscount","groupDiscount","setDiscount","setDiscountParam","getCurrency","currency","getTax","taxParams","parse","valuePrices","getNetPrice","taxRate","types","forEach","entry","taxValue","individualTax","globalTax","regionalTax","getTaxPercent","taxPercent","getQuantityValue","getNumberFromValue","getUnitPriceValue","getDiscount","discountParams","getTotalPrice","discountRate","discountValue","individualDiscount","discountType","individualDiscountType","globalDiscount","getGrossPrice","getPurchase","qty","purchase","App","Fields","Double","formatToDb","getSummaryGrossPrice","price","setCurrency","trigger","setCurrencyParam","setDiscountMode","setTaxMode","setName","display","setQuantity","setUnit","text","setSubUnit","setComment","parent","setUnitPrice","formatToDisplay","setPurchase","setNetPrice","setGrossPrice","setTotalPrice","setMargin","setMarginP","rowCalculations","summaryCalculations","calculateTotalPrice","calculateDiscounts","calculateNetPrice","calculateTaxes","calculateGrossPrice","calculateMargin","syncHeaderData","calculateItemNumbers","calculatSummary","calculatDiscountSummary","calculatTaxSummary","calculatCurrenciesSummary","calculatMarginPSummary","field","sum","sumRow","totalPriceField","sumPrice","getNumberFromText","marginp","purchasePrice","subtraction","discount","getAllDiscount","selected","base","conversionRate","baseConversionRate","taxes","getAllTaxes","html","index","value","appendTo","tax","typeSummary","netPrice","params","param","name","percent","old","margin","calculateDiscount","modal","netPriceBeforeDiscount","discountsType","individualTypeDiscount","prop","panel","calculateTax","netPriceWithoutTax","taxType","updateRowSequence","registerInventorySaveData","on","Vtiger_Edit_Js","recordPreSave","checkLimits","header","pricebooksModalHandler","lineItemRow","rowName","showRecordsList","module","src_module","src_record","src_field","currency_id","CONFIG","defaultCurrencyId","instance","setSelectEvent","responseData","AppConnector","request","action","record","id","done","result","errorLog","subProductsCashe","loadSubProducts","indicator","progressInstace","recordId","recordModule","removeSubProducts","inArray","addSubProducts","progressIndicator","hide","fail","subProductsContainer","remove","priductText","append","mapResultsToFields","referenceModule","unit","recordData","description","unitPriceValues","unitPriceValuesJson","parameters","type","commentElement","next","editorInstance","CKEDITOR","instances","setData","triggerQtyParam","qtyPerUnit","perUnit","saveDiscountsParameters","info","typeName","panels","push","saveTaxsParameters","extend","showExpandedRow","inventoryRowExpanded","hideExpandedRow","initDiscountsParameters","parameter","array","isArray","arrayValue","filter","change","initTaxParameters","toString","input","formatNumber","limitEnableSave","account","limit","response","getModuleName","mode","async","dataType","status","showModalWindow","currencyChangeActions","select","option","currencyConvertValues","showCurrencyChangeModal","lockCurrencyChange","block","currencyParam","date","rate","conversion","hideModalWindow","one","previous","prevConversionRate","setRowData","rowData","autoFields","unitText","subunit","subunitText","comment1","net","gross","total","discountParam","discountparam","taxparam","tax_percent","addItem","baseTableId","sequenceNumber","replaced","replace","moduleLbls","children","initItem","getInstance","registerAutoCompleteFields","registerAddItem","itemsHeader","btn","registerSortableItems","sortable","handle","revert","tolerance","placeholder","helper","e","ui","width","start","event","num","item","Text","destroyEditor","startPos","stop","numrow","child","after","Editor","register","registerShowHideExpanded","currentTarget","registerPriceBookModal","registerRowChangeEvent","headContainer","registerSubProducts","registerClearReferenceSelection","referenceGroup","removeAttr","registerDeleteLineItemEvent","deleteLineItem","registerChangeDiscount","view","relatedRecord","hasClass","totalPrice","registerChangeDiscountModal","checked","registerChangeTax","sourceRecord","registerChangeTaxModal","registerChangeCurrency","symbol","registerRowAutoComplete","sourceFieldElement","referenceSelectionEvent","selectedModule","dataUrl","registerMassAddItem","moduleName","url","_","i","parentElem","setReferenceFieldValue","Picklist","showSelect2ElementView","Date","validationEngineOptions","loadInventoryData","sourceModule","success","progressLoader","blockInfo","enabled","Promise","resolve","reject","getRecordId","activeModules","addBtn","oldCurrencyChangeAction","first","Object","keys","currencyparam","discountmode","taxmode","clearInventory","indexOf","Vtiger_Helper_Js","showMessage","vtranslate","basetableid","error","err"],"mappings":"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"}