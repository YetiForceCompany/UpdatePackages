{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_AdminAccess_Index_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Register DataTable\n\t\t */\n\t\tregisterDataTable: function (container) {\n\t\t\tlet table = container.find('.js-data-table');\n\t\t\tlet form = container.find('.js-filter-form');\n\t\t\tlet dataTable = app.registerDataTables(table, {\n\t\t\t\torder: [],\n\t\t\t\tcolumnDefs: [{ targets: -1, orderable: false }],\n\t\t\t\tprocessing: true,\n\t\t\t\tserverSide: true,\n\t\t\t\tsearching: false,\n\t\t\t\torderCellsTop: true,\n\t\t\t\tfixedHeader: true,\n\t\t\t\tdom: \"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'p>>\" + \"<'row'<'col-sm-12'tr>>\",\n\t\t\t\tajax: {\n\t\t\t\t\turl: table.data('url'),\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: function (data) {\n\t\t\t\t\t\t$.extend(data, form.serializeFormData());\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tinitComplete: function () {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('select.select2,select.select2noactive'));\n\t\t\t\t\tApp.Fields.DateTime.register(form);\n\t\t\t\t}\n\t\t\t});\n\t\t\ttable.find('thead input,thead select').each(function (i) {\n\t\t\t\t$(this)\n\t\t\t\t\t.on('change', function () {\n\t\t\t\t\t\tdataTable.column(i).search(this.value).draw();\n\t\t\t\t\t})\n\t\t\t\t\t.on('apply.daterangepicker', function () {\n\t\t\t\t\t\tsetTimeout((_) => {\n\t\t\t\t\t\t\tdataTable.column(i).search(this.value).draw();\n\t\t\t\t\t\t}, 10);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register tab events\n\t\t * @param {jQuery} contentContainer\n\t\t */\n\t\tregisterTabEvents: function (contentContainer) {\n\t\t\tthis.registerDataTable(contentContainer);\n\t\t},\n\t\t/**\n\t\t * Load tab content\n\t\t * @param {jQuery} contentContainer\n\t\t */\n\t\tloadTabContent: function (contentContainer = $('.js-tab.active')) {\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'Index',\n\t\t\t\tmode: contentContainer.attr('id')\n\t\t\t};\n\t\t\tlet progress = jQuery.progressIndicator();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((data) => {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tcontentContainer.html(data);\n\t\t\t\t\tthis.registerTabEvents(contentContainer);\n\t\t\t\t\tapp.registerFormsEvents(contentContainer);\n\t\t\t\t})\n\t\t\t\t.fail((_) => {\n\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_ERROR'), type: 'error' });\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register events\n\t\t */\n\t\tregisterEvents: function (e) {\n\t\t\tthis.loadTabContent();\n\t\t\t$('#tabs a[data-toggle=\"tab\"]').on('shown.bs.tab', (_) => {\n\t\t\t\tthis.loadTabContent();\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","registerDataTable","container","table","find","form","dataTable","app","registerDataTables","order","columnDefs","targets","orderable","processing","serverSide","searching","orderCellsTop","fixedHeader","dom","ajax","url","data","type","$","extend","serializeFormData","initComplete","App","Fields","Picklist","showSelect2ElementView","DateTime","register","each","i","on","column","search","value","draw","setTimeout","registerTabEvents","contentContainer","loadTabContent","params","module","getModuleName","parent","getParentModuleName","view","mode","attr","progress","progressIndicator","AppConnector","request","done","html","registerFormsEvents","fail","showNotify","text","vtranslate","registerEvents"],"mappings":"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"}