{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Settings_RecordNumbering_Index_Js',\n\t{},\n\t{\n\t\tform: false,\n\t\tclipBoardInstances: [],\n\t\tgetForm: function () {\n\t\t\tif (this.form == false) {\n\t\t\t\tthis.form = jQuery('#EditView');\n\t\t\t}\n\t\t\treturn this.form;\n\t\t},\n\n\t\t/**\n\t\t * Function to register change event for source module field\n\t\t */\n\t\tregisterOnChangeEventOfSourceModule() {\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tconst sequenceBtn = editViewForm.find('.js-adavanced-sequence');\n\t\t\teditViewForm.find('[name=\"sourceModule\"]').on('change', (e) => {\n\t\t\t\t$('.saveButton').removeAttr('disabled');\n\t\t\t\tsequenceBtn.addClass('d-none');\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'CustomRecordNumbering',\n\t\t\t\t\tsourceModule: $(e.currentTarget).val()\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\t$('.js-container').html(data);\n\t\t\t\t\t\tthis.form = false;\n\t\t\t\t\t\tthis.registerEvents();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to register event for saving module custom numbering\n\t\t */\n\t\tsaveModuleCustomNumbering() {\n\t\t\tif ($('.saveButton').attr('disabled')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tconst sourceModule = editViewForm.find('[name=\"sourceModule\"]').val();\n\t\t\tconst prefix = editViewForm.find('[name=\"prefix\"]');\n\t\t\tconst leadingZeros = editViewForm.find('[name=\"leading_zeros\"]').val();\n\t\t\tconst currentPrefix = $.trim(prefix.val());\n\t\t\tconst postfix = editViewForm.find('[name=\"postfix\"]');\n\t\t\tconst currentPostfix = jQuery.trim(postfix.val());\n\t\t\tconst sequenceNumberElement = editViewForm.find('[name=\"sequenceNumber\"]');\n\t\t\tconst sequenceNumber = sequenceNumberElement.val();\n\t\t\tconst oldSequenceNumber = sequenceNumberElement.data('oldSequenceNumber');\n\t\t\tif (\n\t\t\t\tsequenceNumber < oldSequenceNumber &&\n\t\t\t\tcurrentPrefix === prefix.data('oldPrefix') &&\n\t\t\t\tcurrentPostfix === postfix.data('oldPostfix')\n\t\t\t) {\n\t\t\t\tsequenceNumberElement.validationEngine(\n\t\t\t\t\t'showPrompt',\n\t\t\t\t\tapp.vtranslate('JS_SEQUENCE_NUMBER_MESSAGE') + ' ' + oldSequenceNumber,\n\t\t\t\t\t'error',\n\t\t\t\t\t'topLeft',\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\teditViewForm.find('.saveButton').attr('disabled', 'disabled');\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: 'saveModuleCustomNumberingData',\n\t\t\t\tsourceModule: sourceModule,\n\t\t\t\tprefix: currentPrefix,\n\t\t\t\tleading_zeros: leadingZeros,\n\t\t\t\tpostfix: currentPostfix,\n\t\t\t\tsequenceNumber: sequenceNumber,\n\t\t\t\treset_sequence: editViewForm.find('[name=\"reset_sequence\"]').val()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data.success === true) {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\tapp.vtranslate('JS_RECORD_NUMBERING_SAVED_SUCCESSFULLY_FOR') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\teditViewForm.find('option[value=\"' + sourceModule + '\"]').text()\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttext: currentPrefix + ' ' + app.vtranslate(data.error.message),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to handle update record with the given sequence number\n\t\t */\n\t\tregisterEventToUpdateRecordsWithSequenceNumber() {\n\t\t\tconst editViewForm = this.getForm();\n\t\t\t$('[name=\"updateRecordWithSequenceNumber\"]')\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', function () {\n\t\t\t\t\tconst sourceModule = editViewForm.find('[name=\"sourceModule\"]').val();\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\tmode: 'updateRecordsWithSequenceNumber',\n\t\t\t\t\t\tsourceModule: sourceModule\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tif (data.success === true) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_RECORD_NUMBERING_UPDATED_SUCCESSFULLY_FOR') +\n\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\teditViewForm.find('option[value=\"' + sourceModule + '\"]').text()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(data.error.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to register change event for prefix,postfix,reset_sequence and sequence number\n\t\t */\n\t\tregisterChangeEvent() {\n\t\t\tthis.getForm()\n\t\t\t\t.find('[name=\"prefix\"],[name=\"leading_zeros\"],[name=\"sequenceNumber\"],[name=\"postfix\"],[name=\"reset_sequence\"]')\n\t\t\t\t.on('change', this.checkPrefix.bind(this));\n\t\t},\n\n\t\tregisterCopyClipboard: function (editViewForm) {\n\t\t\tfor (let i in this.clipBoardInstances) {\n\t\t\t\tthis.clipBoardInstances[i].destroy();\n\t\t\t}\n\t\t\tthis.clipBoardInstances[0] = new ClipboardJS('#customVariableCopy', {\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\treturn '{{' + editViewForm.find('#customVariables').val() + '}}';\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.clipBoardInstances[1] = new ClipboardJS('#picklistVariableCopy', {\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\treturn '{{' + editViewForm.find('#picklistVariables').val() + '}}';\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.clipBoardInstances[2] = new ClipboardJS('#referenceVariableCopy', {\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\treturn editViewForm.find('#referenceVariables').val();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Check if reset sequence appears in prefix or postfix to prevent duplicate number generation\n\t\t * @returns {boolean}\n\t\t */\n\t\tcheckPrefix() {\n\t\t\tlet sequenceExists = false;\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tconst value = editViewForm.find('[name=\"reset_sequence\"]').val();\n\t\t\tconst prefix = editViewForm.find('[name=\"prefix\"]').val();\n\t\t\tconst postfix = editViewForm.find('[name=\"postfix\"]').val();\n\t\t\tconst saveBtn = editViewForm.find('.saveButton');\n\t\t\tswitch (value) {\n\t\t\t\tcase 'Y':\n\t\t\t\t\tif (\n\t\t\t\t\t\tprefix.indexOf('{{YY}}') === -1 &&\n\t\t\t\t\t\tprefix.indexOf('{{YYYY}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{YY}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{YYYY}}') === -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_RS_ADD_YEAR_VARIABLE')\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\t\tsequenceExists = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tif (\n\t\t\t\t\t\tprefix.indexOf('{{MM}}') === -1 &&\n\t\t\t\t\t\tprefix.indexOf('{{M}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{MM}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{M}}') === -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_RS_ADD_MONTH_VARIABLE')\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\t\tsequenceExists = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'D':\n\t\t\t\t\tif (\n\t\t\t\t\t\tprefix.indexOf('{{DD}}') === -1 &&\n\t\t\t\t\t\tprefix.indexOf('{{D}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{DD}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{D}}') === -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_RS_ADD_DAY_VARIABLE')\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\t\tsequenceExists = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'X':\n\t\t\t\tdefault:\n\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\tsequenceExists = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (sequenceExists) {\n\t\t\t\tlet regex = new RegExp('{{picklist:([a-z0-9_]+)}}', 'g');\n\t\t\t\tlet regexResult = (postfix + prefix).match(regex);\n\t\t\t\tif (regexResult && regexResult.length > 1) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: app.vtranslate('JS_PICKLIST_TOO_MANY')\n\t\t\t\t\t});\n\t\t\t\t\tsequenceExists = false;\n\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t} else {\n\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\tsequenceExists = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.checkAdvancedSequenceBtn();\n\t\t\treturn sequenceExists;\n\t\t},\n\n\t\t/**\n\t\t * Function to enable button if prefix or postfix has picklist value\n\t\t */\n\t\tcheckAdvancedSequenceBtn: function () {\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tconst sequenceBtn = editViewForm.find('.js-adavanced-sequence');\n\t\t\tconst prefix = editViewForm.find('[name=\"prefix\"]').val();\n\t\t\tconst postfix = editViewForm.find('[name=\"postfix\"]').val();\n\t\t\tlet regex = new RegExp('{{picklist:([a-z0-9_]+)}}|\\\\$\\\\(relatedRecord', 'g');\n\t\t\tlet regexResult = (postfix + prefix).match(regex);\n\t\t\tif ((regexResult && regexResult.length > 1) || !regexResult) {\n\t\t\t\tsequenceBtn.addClass('d-none');\n\t\t\t} else {\n\t\t\t\tsequenceBtn.removeClass('d-none');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function to register event on button\n\t\t */\n\t\tregisterAdavancedSequenceEvent: function () {\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tconst sequenceBtn = editViewForm.find('.js-adavanced-sequence');\n\t\t\tsequenceBtn.on('click', function () {\n\t\t\t\tlet sourceModule = editViewForm.find('[name=\"sourceModule\"]').val();\n\t\t\t\tlet picklistName = '';\n\t\t\t\tlet prefix = editViewForm.find('[name=\"prefix\"]').val();\n\t\t\t\tlet postfix = editViewForm.find('[name=\"postfix\"]').val();\n\t\t\t\tlet regex = new RegExp('{{picklist:([a-z0-9_]+)}}', 'g');\n\t\t\t\tif (prefix.match(regex)) {\n\t\t\t\t\tpicklistName = prefix;\n\t\t\t\t} else if (postfix.match(regex)) {\n\t\t\t\t\tpicklistName = postfix;\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'Advanced',\n\t\t\t\t\tsourceModule: sourceModule,\n\t\t\t\t\tpicklist: picklistName\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, function (container) {\n\t\t\t\t\t\t\tlet modalForm = container.find('form');\n\t\t\t\t\t\t\tmodalForm.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t\t\t\tcontainer.on('click', '.js-modal__save', function (e) {\n\t\t\t\t\t\t\t\tif (modalForm.validationEngine('validate')) {\n\t\t\t\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\t\t\t\tmode: 'saveModuleCustomNumberingAdvanceData',\n\t\t\t\t\t\t\t\t\t\tsourceModule: sourceModule,\n\t\t\t\t\t\t\t\t\t\tsequenceNumber: modalForm.find('.js-picklist-sequence').serializeFormData()\n\t\t\t\t\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tif (data.success === true) {\n\t\t\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_RECORD_NUMBERING_SAVED_SUCCESSFULLY_FOR') +\n\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\teditViewForm.find('option[value=\"' + sourceModule + '\"]').text()\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(editViewForm.find('select'));\n\t\t\tthis.registerOnChangeEventOfSourceModule();\n\t\t\tthis.registerEventToUpdateRecordsWithSequenceNumber();\n\t\t\tthis.registerChangeEvent();\n\t\t\tthis.checkAdvancedSequenceBtn();\n\t\t\tthis.registerAdavancedSequenceEvent();\n\t\t\tlet params = app.validationEngineOptions;\n\t\t\tparams.onValidationComplete = function (editViewForm, valid) {\n\t\t\t\tif (valid) {\n\t\t\t\t\tthisInstance.saveModuleCustomNumbering();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\teditViewForm.validationEngine('detach');\n\t\t\teditViewForm.validationEngine('attach', params);\n\t\t\tthis.registerCopyClipboard(editViewForm);\n\t\t}\n\t}\n);\n"],"names":["$","Class","form","clipBoardInstances","getForm","jQuery","registerOnChangeEventOfSourceModule","editViewForm","sequenceBtn","find","on","e","removeAttr","addClass","AppConnector","request","module","app","getModuleName","parent","getParentModuleName","view","sourceModule","currentTarget","val","done","data","html","registerEvents","saveModuleCustomNumbering","attr","prefix","leadingZeros","currentPrefix","trim","postfix","currentPostfix","sequenceNumberElement","sequenceNumber","oldSequenceNumber","validationEngine","vtranslate","action","mode","leading_zeros","reset_sequence","success","Settings_Vtiger_Index_Js","showMessage","text","error","message","type","registerEventToUpdateRecordsWithSequenceNumber","off","registerChangeEvent","checkPrefix","bind","registerCopyClipboard","i","destroy","ClipboardJS","showNotify","sequenceExists","value","saveBtn","indexOf","Vtiger_Helper_Js","regexResult","match","length","checkAdvancedSequenceBtn","removeClass","registerAdavancedSequenceEvent","picklistName","regex","picklist","showModalWindow","container","modalForm","validationEngineOptionsForRecord","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","serializeFormData","hideModalWindow","thisInstance","App","Fields","Picklist","showSelect2ElementView","params","validationEngineOptions","onValidationComplete","valid"],"mappings":"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"}