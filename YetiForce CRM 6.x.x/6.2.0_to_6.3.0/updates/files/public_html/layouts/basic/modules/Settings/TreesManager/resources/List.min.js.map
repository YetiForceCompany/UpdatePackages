{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\n\t'Settings_TreesManager_List_Js',\n\t{\n\t\ttriggerCreate: function (url) {\n\t\t\tvar selectedModule = jQuery('#moduleFilter').val();\n\t\t\tif (selectedModule.length > 0) {\n\t\t\t\turl += '&source_module=' + selectedModule;\n\t\t\t}\n\t\t\twindow.location.href = url;\n\t\t}\n\t},\n\t{\n\t\t/*\n\t\t * function to trigger delete record action\n\t\t * @params: delete record url.\n\t\t */\n\t\tDeleteRecord: function (deleteRecordActionUrl) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar message = app.vtranslate('LBL_DELETE_CONFIRMATION');\n\t\t\tVtiger_Helper_Js.showConfirmationBox({ message: message }).done(function (data) {\n\t\t\t\tAppConnector.request(deleteRecordActionUrl).done(function (data) {\n\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_TREE_DELETED_SUCCESSFULLY')\n\t\t\t\t\t\t};\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\t\t\tthisInstance.getListViewRecords().done(function () {\n\t\t\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: data.error.message,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tregisterFilterChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('#moduleFilter').on('change', function (e) {\n\t\t\t\tjQuery('#pageNumber').val('1');\n\t\t\t\tjQuery('#pageToJump').val('1');\n\t\t\t\tjQuery('#orderBy').val('');\n\t\t\t\tjQuery('#sortOrder').val('');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tsourceModule: jQuery(e.currentTarget).val()\n\t\t\t\t};\n\t\t\t\t//Make the select all count as empty\n\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t//Make total number of pages as empty\n\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * function to load the contents from the url through pjax\n\t\t */\n\t\tloadContents: function (url) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.requestPjax(url)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.registerFilterChangeEvent();\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","triggerCreate","url","selectedModule","jQuery","val","length","window","location","href","DeleteRecord","deleteRecordActionUrl","thisInstance","message","app","vtranslate","Vtiger_Helper_Js","showConfirmationBox","done","AppConnector","request","data","success","params","text","Settings_Vtiger_Index_Js","showMessage","getListViewRecords","updatePagination","showNotify","error","type","registerFilterChangeEvent","on","e","module","getModuleName","parent","getParentModuleName","sourceModule","currentTarget","loadContents","aDeferred","Deferred","requestPjax","html","resolve","fail","err","reject","promise","registerEvents","_super"],"mappings":"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"}