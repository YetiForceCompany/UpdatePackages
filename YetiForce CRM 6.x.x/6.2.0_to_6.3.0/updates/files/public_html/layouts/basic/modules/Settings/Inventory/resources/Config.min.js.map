{"version":3,"file":"Config.min.js","sources":["Config.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Settings_Inventory_Config_Js',\n\t{},\n\t{\n\t\tregisterChangeVal: function ($container) {\n\t\t\t$container.on('change', 'select', (e) => {\n\t\t\t\tlet $target = $(e.currentTarget);\n\t\t\t\tlet isMultiple = $target.attr('multiple');\n\t\t\t\tif ($target.validationEngine('validate')) {\n\t\t\t\t\tlet prevValue = $target.data('prevvalue').toString();\n\t\t\t\t\tprevValue = isMultiple ? prevValue.split() : prevValue;\n\t\t\t\t\t$target.val(prevValue);\n\t\t\t\t\t$target.change();\n\t\t\t\t} else {\n\t\t\t\t\tlet value = $target.val();\n\t\t\t\t\tvalue = isMultiple ? value.join() : value.toString();\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tparam: {\n\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\tparam: $target.attr('name')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tview: app.getViewName()\n\t\t\t\t\t};\n\t\t\t\t\tapp.saveAjax('saveConfig', params).done((data) => {\n\t\t\t\t\t\t$target.data('prevvalue', value);\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tregisterValidationsFields: function ($container) {\n\t\t\tlet params = app.validationEngineOptionsForRecord;\n\t\t\t$container.validationEngine(params);\n\t\t},\n\n\t\tregisterEvents: function () {\n\t\t\tlet $container = $('#configForm');\n\t\t\tthis.registerValidationsFields($container);\n\t\t\tthis.registerChangeVal($container);\n\t\t}\n\t}\n);\n\n$(document).ready((e) => {\n\tlet instance = new Settings_Inventory_Config_Js();\n\tinstance.registerEvents();\n});\n"],"names":["$","Class","registerChangeVal","$container","on","e","$target","currentTarget","isMultiple","attr","validationEngine","prevValue","data","toString","split","val","change","value","join","params","param","view","app","getViewName","saveAjax","done","Settings_Vtiger_Index_Js","showMessage","type","text","vtranslate","registerValidationsFields","validationEngineOptionsForRecord","registerEvents","document","ready","instance","Settings_Inventory_Config_Js"],"mappings":";;AAAA,kKACA,aAEAA,CAAC,CAACC,KAAF,CACC,8BADD,CAEC,EAFD,CAGC,CACCC,iBAAiB,CAAE,2BAAUC,UAAV,CAAsB,CACxCA,UAAU,CAACC,EAAX,CAAc,QAAd,CAAwB,QAAxB,CAAkC,SAACC,CAAD,CAAO,KACpCC,OAAO,CAAGN,CAAC,CAACK,CAAC,CAACE,aAAH,CADyB,CAEpCC,UAAU,CAAGF,OAAO,CAACG,IAAR,CAAa,UAAb,CAFuB,CAGxC,GAAIH,OAAO,CAACI,gBAAR,CAAyB,UAAzB,CAAJ,CAA0C,CACzC,IAAIC,SAAS,CAAGL,OAAO,CAACM,IAAR,CAAa,WAAb,EAA0BC,QAA1B,EAAhB,CACAF,SAAS,CAAGH,UAAU,CAAGG,SAAS,CAACG,KAAV,EAAH,CAAuBH,SAFJ,CAGzCL,OAAO,CAACS,GAAR,CAAYJ,SAAZ,CAHyC,CAIzCL,OAAO,CAACU,MAAR,GACA,CALD,KAKO,CACN,IAAIC,KAAK,CAAGX,OAAO,CAACS,GAAR,EAAZ,CACAE,KAAK,CAAGT,UAAU,CAAGS,KAAK,CAACC,IAAN,EAAH,CAAkBD,KAAK,CAACJ,QAAN,EAF9B,CAGN,IAAIM,MAAM,CAAG,CACZC,KAAK,CAAE,CACNH,KAAK,CAAEA,KADD,CAENG,KAAK,CAAEd,OAAO,CAACG,IAAR,CAAa,MAAb,CAFD,CADK,CAKZY,IAAI,CAAEC,GAAG,CAACC,WAAJ,EALM,CAAb,CAOAD,GAAG,CAACE,QAAJ,CAAa,YAAb,CAA2BL,MAA3B,EAAmCM,IAAnC,CAAwC,UAAU,CACjDnB,OAAO,CAACM,IAAR,CAAa,WAAb,CAA0BK,KAA1B,CADiD,CAEjDS,wBAAwB,CAACC,WAAzB,CAAqC,CACpCC,IAAI,CAAE,SAD8B,CAEpCC,IAAI,CAAEP,GAAG,CAACQ,UAAJ,CAAe,iBAAf,CAF8B,CAArC,EAIA,CAND,EAOA,CACD,CA1BD,EA2BA,CA7BF,CA+BCC,yBAAyB,CAAE,mCAAU5B,UAAV,CAAsB,CAChD,IAAIgB,MAAM,CAAGG,GAAG,CAACU,gCAAjB,CACA7B,UAAU,CAACO,gBAAX,CAA4BS,MAA5B,EACA,CAlCF,CAoCCc,cAAc,CAAE,yBAAY,CAC3B,IAAI9B,UAAU,CAAGH,CAAC,CAAC,aAAD,CAAlB,CACA,KAAK+B,yBAAL,CAA+B5B,UAA/B,CAF2B,CAG3B,KAAKD,iBAAL,CAAuBC,UAAvB,EACA,CAxCF,CAHD,EA+CAH,CAAC,CAACkC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,UAAO,CACxB,IAAIC,QAAQ,CAAG,IAAIC,4BAAnB,CACAD,QAAQ,CAACH,cAAT,GACA,CAHD;;"}