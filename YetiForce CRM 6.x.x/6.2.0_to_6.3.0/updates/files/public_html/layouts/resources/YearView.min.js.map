{"version":3,"file":"YearView.min.js","sources":["YearView.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\nvar FC = $.fullCalendar, // a reference to FullCalendar's root namespace\n\tView = FC.View; // the class that all views must inherit from\n\n/**\n * Creates fullcalendar's View year subclass\n */\nFC.views.year = View.extend({\n\tcalendarView: false,\n\trenderHtml: function (year) {\n\t\tlet col2Breakpoint = 'col-xxl-2';\n\t\tif ($('#switchingDays').val() === 'all') {\n\t\t\tcol2Breakpoint = 'col-xxxl-2';\n\t\t}\n\t\treturn `\n\t\t\t<div class=\"h-100 fc-year\">\n\t\t\t\t<div class=\"fc-year__container row no-gutters\">\n\t\t\t\t\t<div class=\"fc-january fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-01-01\"></div>\n\t\t\t\t\t<div class=\"fc-february fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-02-01\"></div>\n\t\t\t\t\t<div class=\"fc-march fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-03-01\"></div>\n\t\t\t\t\t<div class=\"fc-april fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-04-01\"></div>\n\t\t\t\t\t<div class=\"fc-may fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-05-01\"></div>\n\t\t\t\t\t<div class=\"fc-june fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-06-01\"></div>\n\t\t\t\t\t<div class=\"fc-july fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-07-01\"></div>\n\t\t\t\t\t<div class=\"fc-august fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-08-01\"></div>\n\t\t\t\t\t<div class=\"fc-september fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-09-01\"></div>\n\t\t\t\t\t<div class=\"fc-october fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-10-01\"></div>\n\t\t\t\t\t<div class=\"fc-november fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-11-01\"></div>\n\t\t\t\t\t<div class=\"fc-december fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-12-01\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t},\n\tloadMonthData: function (calendar, events) {\n\t\tconst thisInstance = this;\n\t\tlet height = calendar.find('.fc-bg :first').height() - calendar.find('.fc-day-number').height() - 10,\n\t\t\twidth = calendar.find('.fc-day-number').width() / 2 - 10,\n\t\t\ti;\n\t\tfor (i in events.result) {\n\t\t\tevents.result[i]['width'] = width;\n\t\t\tevents.result[i]['height'] = height;\n\t\t}\n\t\tcalendar.fullCalendar('addEventSource', events.result);\n\t\tcalendar.find('.js-show-day').on('click', function () {\n\t\t\tlet date = moment($(this).data('date')).format();\n\t\t\tthisInstance.getCalendarView().fullCalendar('changeView', 'agendaDay', date);\n\t\t\t$('.js-sub-record .active').click();\n\t\t});\n\t\tcalendar.find('.fc-center').on('click', function () {\n\t\t\tlet date = moment($(this).closest('[data-date]').data('date')).format();\n\t\t\tthisInstance.getCalendarView().fullCalendar('changeView', 'month', date);\n\t\t\t$('.js-sub-record .active').click();\n\t\t});\n\t},\n\tappendWeekButton() {\n\t\t$('.fc-row.fc-week.fc-widget-content').each(function () {\n\t\t\tlet date = $(this).find('.fc-day-top').first().data('date');\n\t\t\tif (date !== undefined) {\n\t\t\t\tlet actualWeek = moment(date).format('WW');\n\t\t\t\t$(this).prepend(\n\t\t\t\t\t`<div class=\"js-show-week js-popover-tooltip fc-year__show-week-btn\" data-toggle=\"popover\" data-date=\"${date}\" data-content=\"${app.vtranslate(\n\t\t\t\t\t\t'JS_WEEK'\n\t\t\t\t\t)} ${actualWeek}\" role=\"tooltip\" data-js=\"click | popover\">${actualWeek}</div>`\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t\tthis.getCalendarView()\n\t\t\t.find('.js-show-week')\n\t\t\t.on('click', (e) => {\n\t\t\t\t$(e.currentTarget).popover('hide');\n\t\t\t\tlet date = moment($(e.currentTarget).data('date')).format();\n\t\t\t\tthis.getCalendarView().fullCalendar('changeView', 'agendaWeek', date);\n\t\t\t\t$('.js-sub-record .active').click();\n\t\t\t});\n\t},\n\trender: function () {\n\t\tconst self = this;\n\t\tlet calendar = self.getCalendarView().fullCalendar('getCalendar'),\n\t\t\tdate = calendar.getDate().year(),\n\t\t\tyearView = this.el.html(this.renderHtml(date)),\n\t\t\tuser = this.getSelectedUsersCalendar(),\n\t\t\tprogressInstance = $.progressIndicator({ blockInfo: { enabled: true } }),\n\t\t\tcvid = this.getCurrentCvId();\n\t\tif (user.length === 0) {\n\t\t\tuser = [app.getMainParams('userId')];\n\t\t}\n\t\tlet dateFormat = CONFIG.dateFormat.toUpperCase();\n\t\tthis.clearFilterButton(user, cvid);\n\t\tlet options = {\n\t\t\tmodule: this.module,\n\t\t\taction: 'Calendar',\n\t\t\tmode: 'getEventsYear',\n\t\t\tstart: moment(date + '-01-01').format(dateFormat),\n\t\t\tend: moment(date + '-12-31').format(dateFormat),\n\t\t\tuser: user,\n\t\t\tyearView: true,\n\t\t\ttime: app.getMainParams('showType'),\n\t\t\tcvid: cvid,\n\t\t\thistoryUrl: `index.php?module=${this.module}&view=CalendarExtended&history=true&viewType=${\n\t\t\t\tcalendar.view.type\n\t\t\t}&start=${moment(date + '-01-01').format(dateFormat)}&end=${moment(date + '-12-31').format(\n\t\t\t\tdateFormat\n\t\t\t)}&user=${user}&time=${app.getMainParams('showType')}&cvid=${cvid}&hiddenDays=${calendar.view.options.hiddenDays}`\n\t\t};\n\t\toptions = $.extend(this.getDefaultParams(), options);\n\t\tlet connectorMethod = window['AppConnector']['request'];\n\t\tif (this.browserHistory && window.calendarLoaded) {\n\t\t\tconnectorMethod = window['AppConnector']['requestPjax'];\n\t\t}\n\t\tif (this.browserHistoryConfig && Object.keys(this.browserHistoryConfig).length && window.calendarLoaded) {\n\t\t\toptions = Object.assign(options, {\n\t\t\t\tstart: moment(this.browserHistoryConfig.start).format(dateFormat),\n\t\t\t\tend: moment(this.browserHistoryConfig.end).format(dateFormat),\n\t\t\t\tuser: this.browserHistoryConfig.user,\n\t\t\t\ttime: this.browserHistoryConfig.time,\n\t\t\t\tcvid: this.browserHistoryConfig.cvid\n\t\t\t});\n\t\t\tconnectorMethod = window['AppConnector']['request'];\n\t\t\tapp.setMainParams('showType', this.browserHistoryConfig.time);\n\t\t\tapp.setMainParams('usersId', this.browserHistoryConfig.user);\n\t\t}\n\t\tlet className = this.baseInstance.constructor.name;\n\t\tconnectorMethod(options).done(function (events) {\n\t\t\tyearView.find('.fc-year__month').each(function (i) {\n\t\t\t\tlet calendarInstance = new window[className](self.container, self.readonly);\n\t\t\t\tlet basicOptions = calendarInstance.setCalendarMinimalOptions(),\n\t\t\t\t\tmonthOptions = {\n\t\t\t\t\t\tdefaultView: 'month',\n\t\t\t\t\t\ttitleFormat: 'MMMM',\n\t\t\t\t\t\theader: { center: 'title', left: false, right: false },\n\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\tselect: function (start, end) {\n\t\t\t\t\t\t\tself.selectDays(start, end);\n\t\t\t\t\t\t},\n\t\t\t\t\t\thiddenDays: calendar.view.options.hiddenDays,\n\t\t\t\t\t\tshowNonCurrentDates: false,\n\t\t\t\t\t\tdefaultDate: moment(calendar.getDate().year() + '-' + (i + 1), 'YYYY-MM-DD'),\n\t\t\t\t\t\teventRender: function (event, element) {\n\t\t\t\t\t\t\tif (event.rendering === 'background') {\n\t\t\t\t\t\t\t\telement.append(\n\t\t\t\t\t\t\t\t\t`<span class=\"js-popover-tooltip\" data-content=\"${event.title}\" data-toggle=\"popover\"><span class=\"${event.icon}\"></span></span>`\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn element;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tevent.countShow = '99+';\n\t\t\t\t\t\t\tif (event.count < 100) {\n\t\t\t\t\t\t\t\tevent.countShow = event.count;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telement = `<div class=\"js-show-day cell-calendar u-cursor-pointer d-flex\" data-date=\"${event.date}\" data-js=\"click\">\n\t\t\t\t\t\t\t<a class=\"u-z-index-100 fc-year__show-day-btn mx-auto\" href=\"#\" data-date=\"${event.date}\" title=\"${event.count}\">\n\t\t\t\t\t\t\t\t  <span class=\"fc-year__show-day-btn__container\">\n\t\t\t\t\t\t\t\t\t<span class=\"fas fa-calendar fa-lg\"></span>\n\t\t\t\t\t\t\t\t\t<span class=\"fc-year__show-day-btn__text fa-inverse u-font-weight-700\">${event.countShow}</span>\n\t\t\t\t\t\t\t\t  </span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\treturn element;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\tself.loadMonthData($(this).fullCalendar($.extend(basicOptions, monthOptions)), events);\n\t\t\t});\n\t\t\tif (app.getMainParams('weekCount') === '1') {\n\t\t\t\tself.appendWeekButton();\n\t\t\t}\n\t\t\tlet yearViewContainer = self.container.find('.fc-view-container').first();\n\t\t\tyearViewContainer\n\t\t\t\t.height($(window).height() - yearViewContainer.offset().top - $('.js-footer').height())\n\t\t\t\t.addClass('u-overflow-y-auto u-overflow-x-hidden');\n\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t});\n\t\tthis.registerTodayButtonYearChange(calendar);\n\t\tthis.registerViewRenderEvents(calendar.view);\n\t\twindow.calendarLoaded = true;\n\t},\n\n\t/**\n\t * Function extends today button functionality for year view\n\t * @param {jQuery} calendar\n\t */\n\tregisterTodayButtonYearChange(calendar) {\n\t\tif (calendar.currentDate.format('YYYY') === moment().format('YYYY')) {\n\t\t\tcalendar.el.find('.fc-today-button').addClass('fc-state-disabled');\n\t\t} else {\n\t\t\tcalendar.el.find('.fc-today-button').removeClass('fc-state-disabled');\n\t\t}\n\t}\n});\n"],"names":["FC","$","fullCalendar","View","views","year","extend","calendarView","renderHtml","col2Breakpoint","val","loadMonthData","calendar","events","i","thisInstance","height","find","width","result","on","date","moment","data","format","getCalendarView","click","closest","appendWeekButton","each","first","actualWeek","prepend","app","vtranslate","e","currentTarget","popover","render","self","getDate","yearView","el","html","user","getSelectedUsersCalendar","progressInstance","progressIndicator","blockInfo","enabled","cvid","getCurrentCvId","length","getMainParams","dateFormat","CONFIG","toUpperCase","clearFilterButton","options","module","action","mode","start","end","time","historyUrl","view","type","hiddenDays","getDefaultParams","connectorMethod","window","browserHistory","calendarLoaded","browserHistoryConfig","Object","keys","assign","setMainParams","className","baseInstance","constructor","name","done","calendarInstance","container","readonly","basicOptions","setCalendarMinimalOptions","monthOptions","defaultView","titleFormat","header","center","left","right","select","selectDays","showNonCurrentDates","defaultDate","eventRender","event","element","rendering","append","title","icon","countShow","count","yearViewContainer","offset","top","addClass","registerTodayButtonYearChange","registerViewRenderEvents","currentDate","removeClass"],"mappings":"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"}