{"version":3,"file":"Tools.min.js","sources":["Tools.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nApp.Tools = {\n\tVariablesPanel: {\n\t\t/**\n\t\t * Generate values based on selected company\n\t\t * @param container\n\t\t */\n\t\trefreshCompanyVariables(container) {\n\t\t\tconst companyId = container.find('.js-company-list').val();\n\t\t\tcontainer.find('.js-company-variable > optgroup > option').each(function () {\n\t\t\t\tlet template = $(this).data('value-template');\n\t\t\t\tthis.value = template.replace(/__X__/i, companyId);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register change company event\n\t\t * @param container\n\t\t */\n\t\tregisterRefreshCompanyVariables(container) {\n\t\t\tcontainer.find('.js-company-list').on('change', function (e) {\n\t\t\t\tApp.Tools.VariablesPanel.refreshCompanyVariables(container);\n\t\t\t});\n\t\t}\n\t},\n\tForm: {\n\t\t/**\n\t\t * Generate values based on selected company\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterBlockToggle(container) {\n\t\t\tcontainer.on('click', '.js-toggle-block', function (e) {\n\t\t\t\tconst target = $(e.target);\n\t\t\t\tif (\n\t\t\t\t\ttarget.is('input') ||\n\t\t\t\t\ttarget.is('button') ||\n\t\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst blockHeader = $(e.currentTarget);\n\t\t\t\tconst blockContents = blockHeader.next();\n\t\t\t\tconst icon = blockHeader.find('.js-toggle-icon');\n\t\t\t\tif (blockContents.hasClass('d-none')) {\n\t\t\t\t\tblockContents.removeClass('d-none');\n\t\t\t\t\ticon.removeClass(icon.data('hide')).addClass(icon.data('show'));\n\t\t\t\t} else {\n\t\t\t\t\tblockContents.addClass('d-none');\n\t\t\t\t\ticon.removeClass(icon.data('show')).addClass(icon.data('hide'));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n"],"names":["App","Tools","VariablesPanel","refreshCompanyVariables","container","find","val","each","$","data","value","template","replace","companyId","registerRefreshCompanyVariables","on","Form","registerBlockToggle","e","target","is","parents","hasClass","blockHeader","currentTarget","blockContents","next","icon","removeClass","addClass"],"mappings":";;AAAA,kKACA,YAAA,CAEAA,GAAG,CAACC,KAAJ,CAAY,CACXC,cAAc,CAAE;AAEjB;AACA;AACA,KACEC,uBALe,CAKSC,SAAAA,uBAAAA,CAAAA,SALT,CAKoB,CAClC,IAAe,SAAA,CAAGA,SAAS,CAACC,IAAV,CAAe,kBAAf,CAAmCC,CAAAA,GAAnC,EAAlB,CACAF,SAAS,CAACC,IAAV,CAAe,0CAAf,CAAA,CAA2DE,IAA3D,CAAgE,UAAY,CAC3E,IAAY,QAAA,CAAGC,CAAC,CAAC,IAAD,CAAD,CAAQC,IAAR,CAAa,gBAAb,CAAf,CACA,IAAA,CAAKC,KAAL,CAAaC,QAAQ,CAACC,OAAT,CAAiB,QAAjB,CAA2BC,SAA3B,EACb,CAHD,EAIA,CAXc;AAajB;AACA;AACA,KACEC,+BAhBe,CAAA,SAAA,+BAAA,CAgBiBV,SAhBjB,CAgB4B,CAC1CA,SAAS,CAACC,IAAV,CAAe,kBAAf,CAAmCU,CAAAA,EAAnC,CAAsC,QAAtC,CAAgD,UAAa,CAC5Df,GAAG,CAACC,KAAJ,CAAUC,cAAV,CAAyBC,uBAAzB,CAAiDC,SAAjD,EACA,CAFD,EAGA,CApBc,CADL,CAuBXY,IAAI,CAAE;AAEP;AACA;AACA,KACEC,mBALK,CAKeb,SAAAA,mBAAAA,CAAAA,SALf,CAK0B,CAC9BA,SAAS,CAACW,EAAV,CAAa,OAAb,CAAsB,kBAAtB,CAA0C,SAAUG,CAAV,CAAa,CACtD,IAAY,MAAA,CAAGV,CAAC,CAACU,CAAC,CAACC,MAAH,CAAhB,CACA,GACCA,MAAM,CAACC,EAAP,CAAU,OAAV,GACAD,MAAM,CAACC,EAAP,CAAU,QAAV,CADA,EAEAD,MAAM,CAACE,OAAP,EAAiBD,CAAAA,EAAjB,CAAoB,QAApB,CAFA,EAGAD,MAAM,CAACG,QAAP,CAAgB,qBAAhB,CAHA,EAIAH,MAAM,CAACE,OAAP,EAAA,CAAiBC,QAAjB,CAA0B,qBAA1B,CALD,CAOC,UATqD,IAWhDC,WAAW,CAAGf,CAAC,CAACU,CAAC,CAACM,aAAH,CAXiC,CAYhDC,aAAa,CAAGF,WAAW,CAACG,IAAZ,EAZgC,CAahDC,IAAI,CAAGJ,WAAW,CAAClB,IAAZ,CAAiB,iBAAjB,CAbyC,CAclDoB,aAAa,CAACH,QAAd,CAAuB,QAAvB,CAdkD,EAerDG,aAAa,CAACG,WAAd,CAA0B,QAA1B,CAfqD,CAgBrDD,IAAI,CAACC,WAAL,CAAiBD,IAAI,CAAClB,IAAL,CAAU,MAAV,CAAjB,CAAA,CAAoCoB,QAApC,CAA6CF,IAAI,CAAClB,IAAL,CAAU,MAAV,CAA7C,CAhBqD,GAkBrDgB,aAAa,CAACI,QAAd,CAAuB,QAAvB,CAlBqD,CAmBrDF,IAAI,CAACC,WAAL,CAAiBD,IAAI,CAAClB,IAAL,CAAU,MAAV,CAAjB,CAAA,CAAoCoB,QAApC,CAA6CF,IAAI,CAAClB,IAAL,CAAU,MAAV,CAA7C,CAnBqD,EAqBtD,CArBD,EAsBA,CA5BI,CAvBK;;"}