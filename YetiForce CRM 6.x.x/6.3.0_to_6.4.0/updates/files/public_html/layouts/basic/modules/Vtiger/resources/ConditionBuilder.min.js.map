{"version":3,"file":"ConditionBuilder.min.js","sources":["ConditionBuilder.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nclass Vtiger_ConditionBuilder_Js {\n\t/**\n\t * Constructor\n\t * @param {jQuery} container\n\t * @param {(string|Object)} params\n\t * @param {function} onChange\n\t */\n\tconstructor(container, params, onChange) {\n\t\tthis.container = container;\n\t\tthis.params = typeof params === 'string' ? { sourceModuleName: params } : params;\n\t\tif (onChange) {\n\t\t\tthis.onChange = onChange;\n\t\t} else {\n\t\t\tthis.onChange = () => {};\n\t\t}\n\t}\n\n\t/**\n\t * Register change value event\n\t *\n\t * @param   {jQuery}  container\n\t */\n\tregisterChangeValueEvent(container) {\n\t\tcontainer.find('.js-condition-builder-value').on('change', (e) => {\n\t\t\tthis.onChange(this);\n\t\t});\n\t}\n\t/**\n\t * Get default params\n\t * @returns {Object}\n\t */\n\tgetDefaultParams() {\n\t\treturn {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: 'ConditionBuilder',\n\t\t\t...this.params\n\t\t};\n\t}\n\n\t/**\n\t * Register events when change conditions\n\t * @param {jQuery} container\n\t */\n\tregisterChangeConditions(container) {\n\t\tlet self = this;\n\t\tcontainer.on('change', '.js-conditions-fields, .js-conditions-operator', (e) => {\n\t\t\tlet progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\tlet requestParams = {};\n\t\t\tif (currentTarget.hasClass('js-conditions-fields')) {\n\t\t\t\trequestParams = {\n\t\t\t\t\tfieldname: currentTarget.val()\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\trequestParams = {\n\t\t\t\t\tfieldname: container.find('.js-conditions-fields').val(),\n\t\t\t\t\toperator: currentTarget.val()\n\t\t\t\t};\n\t\t\t}\n\t\t\tAppConnector.request({ ...requestParams, ...this.getDefaultParams() }).done(function (data) {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tcontainer.html($(data).html());\n\t\t\t\tself.registerField(container);\n\t\t\t\tself.registerChangeValueEvent(container);\n\t\t\t\tself.onChange(self);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * register field types related events\n\t * @param {jQuery} container\n\t */\n\tregisterField(container) {\n\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('select.select2'));\n\t\tApp.Fields.Date.register(container, true, {}, 'js-date-field');\n\t\tApp.Fields.Date.registerRange(container.find('.js-date-range-field'), { ranges: false });\n\t\tApp.Fields.DateTime.register(container.find('.js-datetime-range-field'));\n\t\tapp.registerEventForClockPicker($(container.find('.clockPicker')));\n\t\tApp.Fields.Tree.register(container);\n\t}\n\n\t/**\n\t * Register events to add condition\n\t */\n\tregisterAddCondition() {\n\t\tlet self = this;\n\t\tthis.container.on('click', '.js-condition-add', (e) => {\n\t\t\tlet progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet container = $(e.currentTarget)\n\t\t\t\t.closest('.js-condition-builder-group-container')\n\t\t\t\t.find('> .js-condition-builder-conditions-container');\n\t\t\tAppConnector.request(this.getDefaultParams()).done(function (data) {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tdata = $(data);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select.select2'));\n\t\t\t\tself.registerChangeConditions(data);\n\t\t\t\tself.registerChangeValueEvent(data);\n\t\t\t\tcontainer.append(data);\n\t\t\t\tself.onChange(self);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Register events to add group\n\t */\n\tregisterAddGroup() {\n\t\tthis.container.on('click', '.js-group-add', (e) => {\n\t\t\tlet template = this.container.find('.js-condition-builder-group-template').clone();\n\t\t\ttemplate.removeClass('hide');\n\t\t\t$(e.target)\n\t\t\t\t.closest('.js-condition-builder-group-container')\n\t\t\t\t.find('> .js-condition-builder-conditions-container')\n\t\t\t\t.append(template.html());\n\t\t\tthis.onChange(this);\n\t\t});\n\t}\n\n\t/**\n\t * Register events to remove group\n\t */\n\tregisterDeleteGroup() {\n\t\tthis.container.on('click', '.js-group-delete', (e) => {\n\t\t\t$(e.target).closest('.js-condition-builder-group-container').remove();\n\t\t\tthis.onChange(this);\n\t\t});\n\t}\n\n\t/**\n\t * Register events to remove condition\n\t */\n\tregisterDeleteCondition() {\n\t\tthis.container.on('click', '.js-condition-delete', (e) => {\n\t\t\t$(e.target).closest('.js-condition-builder-conditions-row').remove();\n\t\t\tthis.onChange(this);\n\t\t});\n\t}\n\n\t/**\n\t * Block submit on press enter key\n\t */\n\tregisterDisableSubmitOnEnter() {\n\t\tthis.container.find('.js-condition-builder-value').on('keydown', (e) => {\n\t\t\tif (e.key === 'Enter') {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Read conditions in group\n\t * @param {jQuery} container\n\t * @param {boolean} skipEmpty\n\t * @returns {object}\n\t */\n\treadCondition(container, skipEmpty) {\n\t\tlet self = this;\n\t\tlet condition = container.find('> .js-condition-switch .js-condition-switch-value').hasClass('active')\n\t\t\t? 'AND'\n\t\t\t: 'OR';\n\t\tlet arr = {};\n\t\tlet rules = [];\n\t\tcontainer.find('> .js-condition-builder-conditions-container >').each(function () {\n\t\t\tlet element = $(this);\n\t\t\tif (element.hasClass('js-condition-builder-conditions-row')) {\n\t\t\t\trules.push({\n\t\t\t\t\tfieldname: element.find('.js-conditions-fields').val(),\n\t\t\t\t\toperator: element.find('.js-conditions-operator').val(),\n\t\t\t\t\tvalue: element.find('.js-condition-builder-value').val()\n\t\t\t\t});\n\t\t\t} else if (element.hasClass('js-condition-builder-group-container')) {\n\t\t\t\tlet childRules = self.readCondition(element, skipEmpty);\n\t\t\t\tif (!skipEmpty || Object.keys(childRules).length) {\n\t\t\t\t\trules.push(childRules);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (!skipEmpty || rules.length) {\n\t\t\tarr['condition'] = condition;\n\t\t\tarr['rules'] = rules;\n\t\t}\n\t\treturn arr;\n\t}\n\n\t/**\n\t * Returns conditions\n\t * @param {boolean} skipEmpty\n\t * @returns {object}\n\t */\n\tgetConditions(skipEmpty = true) {\n\t\treturn this.readCondition(this.container.find('> .js-condition-builder-group-container'), skipEmpty);\n\t}\n\n\t/**\n\t * Main function to regsiter events\n\t */\n\tregisterEvents() {\n\t\tlet self = this;\n\t\tthis.registerAddCondition();\n\t\tthis.registerAddGroup();\n\t\tthis.registerDeleteGroup();\n\t\tthis.registerDeleteCondition();\n\t\tthis.registerDisableSubmitOnEnter();\n\t\tthis.container.find('.js-condition-builder-conditions-row').each(function () {\n\t\t\tlet row = $(this);\n\t\t\tself.registerChangeConditions(row);\n\t\t\tself.registerChangeValueEvent(row);\n\t\t\tself.registerField(row);\n\t\t});\n\t}\n}\n"],"names":["Vtiger_ConditionBuilder_Js","container","params","onChange","sourceModuleName","find","on","module","app","getModuleName","parent","getParentModuleName","view","self","e","$","progressIndicator","position","blockInfo","enabled","currentTarget","requestParams","hasClass","fieldname","val","operator","AppConnector","request","getDefaultParams","done","data","progress","mode","html","registerField","registerChangeValueEvent","App","Fields","Picklist","showSelect2ElementView","Date","register","registerRange","ranges","DateTime","registerEventForClockPicker","Tree","closest","registerChangeConditions","append","template","clone","removeClass","target","remove","key","preventDefault","skipEmpty","condition","arr","rules","each","element","push","value","readCondition","Object","keys","childRules","length","registerAddCondition","registerAddGroup","registerDeleteGroup","registerDeleteCondition","registerDisableSubmitOnEnter","row"],"mappings":"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"}