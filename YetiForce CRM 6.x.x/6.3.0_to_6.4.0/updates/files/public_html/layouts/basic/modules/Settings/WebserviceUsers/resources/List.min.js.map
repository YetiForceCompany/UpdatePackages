{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\n\t'Settings_WebserviceUsers_List_Js',\n\t{},\n\t{\n\t\tgetDeleteParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'DeleteAjax',\n\t\t\t\ttypeApi: Vtiger_List_Js.getInstance().getActiveTypeApi()\n\t\t\t};\n\t\t},\n\t\tcontainer: false,\n\t\tclipBoardInstances: false,\n\n\t\tgetContainer: function () {\n\t\t\tif (!this.container) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tgetActiveTypeApi: function () {\n\t\t\treturn this.getContainer().find('.tabApi .active').closest('.tabApi').data('typeapi');\n\t\t},\n\t\tgetListViewRecords: function (urlParams) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (typeof urlParams === 'undefined') {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tthis.reloadTab(urlParams)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePagination: function (pageNumber) {\n\t\t\tpageNumber = typeof pageNumber !== 'undefined' ? pageNumber : 1;\n\t\t\tlet params = this.getDefaultParams();\n\t\t\tparams.view = 'Pagination';\n\t\t\tparams.page = pageNumber;\n\t\t\tparams.mode = 'getPagination';\n\t\t\tparams.totalCount = this.getContainer().find('.pagination').data('totalCount');\n\t\t\tparams.noOfEntries = this.getContainer().find('#noOfEntries').val();\n\t\t\tAppConnector.request(params).done((data) => {\n\t\t\t\t$('.paginationDiv').html(data);\n\t\t\t\tthis.registerPageNavigationEvents();\n\t\t\t});\n\t\t},\n\t\tgetDefaultParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tpage: jQuery('#pageNumber').val(),\n\t\t\t\tview: 'List',\n\t\t\t\torderby: jQuery('#orderBy').val(),\n\t\t\t\tsortorder: jQuery('#sortOrder').val(),\n\t\t\t\ttypeApi: this.getActiveTypeApi()\n\t\t\t};\n\t\t},\n\t\treloadTab: function (urlParams) {\n\t\t\tconst aDeferred = jQuery.Deferred();\n\t\t\tif (urlParams == undefined) {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tlet tabContainer = this.getContainer().find('.listViewContent');\n\t\t\tlet params = jQuery.extend(this.getDefaultParams(), urlParams);\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((data) => {\n\t\t\t\t\ttabContainer.html(data);\n\t\t\t\t\tVtiger_Header_Js.getInstance().registerFooTable();\n\t\t\t\t\tthis.registerPageNavigationEvents();\n\t\t\t\t\tthis.registerClipboard();\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Register Clipboard\n\t\t */\n\t\tregisterClipboard: function () {\n\t\t\tif (typeof this.clipBoardInstances === 'object') {\n\t\t\t\tthis.clipBoardInstances.destroy();\n\t\t\t}\n\t\t\tthis.clipBoardInstances = App.Fields.Text.registerCopyClipboard(this.getContainer().find('.listViewContent'));\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.getContainer()\n\t\t\t\t.find('li.tabApi')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tthis.reloadTab({ typeApi: e.currentTarget.dataset.typeapi, page: 1 });\n\t\t\t\t});\n\t\t\tthis.registerClipboard();\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","getDeleteParams","module","app","getModuleName","parent","getParentModuleName","action","typeApi","Vtiger_List_Js","getInstance","getActiveTypeApi","container","clipBoardInstances","getContainer","jQuery","find","closest","data","getListViewRecords","urlParams","aDeferred","Deferred","reloadTab","done","resolve","fail","textStatus","errorThrown","reject","promise","updatePagination","pageNumber","params","getDefaultParams","view","page","mode","totalCount","noOfEntries","val","AppConnector","request","$","html","registerPageNavigationEvents","orderby","sortorder","tabContainer","extend","Vtiger_Header_Js","registerFooTable","registerClipboard","errorLog","destroy","App","Fields","Text","registerCopyClipboard","registerEvents","_super","on","e","currentTarget","dataset","typeapi"],"mappings":"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"}