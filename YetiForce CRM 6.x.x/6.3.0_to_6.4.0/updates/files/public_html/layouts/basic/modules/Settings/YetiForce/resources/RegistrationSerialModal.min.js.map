{"version":3,"file":"RegistrationSerialModal.min.js","sources":["RegistrationSerialModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n/**\n * Class Settings_YetiForce_RegistrationSerialModal_Js.\n * @type {window.Settings_YetiForce_RegistrationSerialModal_Js}\n */\nwindow.Settings_YetiForce_RegistrationSerialModal_Js = class Settings_YetiForce_RegistrationSerialModal_Js {\n\t/**\n\t * Register events.\n\t * @param {jQuery} modalContainer\n\t */\n\tregisterEvents(modalContainer) {\n\t\tconst form = modalContainer.find('form');\n\t\tform.validationEngine(app.validationEngineOptions);\n\t\tform.on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tmodalContainer.find('[name=\"saveButton\"]').click();\n\t\t});\n\t\tmodalContainer.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\tif (!form.validationEngine('validate')) {\n\t\t\t\te.preventDefault();\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_ENTER_REGISTRATION_KEY'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tmodalContainer.find('button[name=saveButton]').prop('disabled', true);\n\t\t\tvar progress = $.progressIndicator({\n\t\t\t\tmessage: app.vtranslate('JS_LOADING_PLEASE_WAIT'),\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'YetiForce',\n\t\t\t\tparent: 'Settings',\n\t\t\t\taction: 'Register',\n\t\t\t\tmode: 'serial',\n\t\t\t\tkey: modalContainer.find('.registrationKey').val()\n\t\t\t}).done(function (data) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: data['result']['message'],\n\t\t\t\t\ttype: data['result']['type']\n\t\t\t\t});\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tif (data['result']['type'] === 'success') {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t}\n\t\t\t\tmodalContainer.find('button[name=saveButton]').prop('disabled', false);\n\t\t\t\treturn data['result'];\n\t\t\t});\n\t\t});\n\t}\n};\n"],"names":["window","Settings_YetiForce_RegistrationSerialModal_Js","modalContainer","find","form","validationEngine","app","validationEngineOptions","on","e","preventDefault","click","showNotify","text","vtranslate","type","prop","progress","$","progressIndicator","message","blockInfo","enabled","AppConnector","request","module","parent","action","mode","key","val","done","data","hideModalWindow"],"mappings":"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"}