{"version":3,"file":"Edit2.min.js","sources":["Edit2.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_MappedFields_Edit_Js(\n\t'Settings_MappedFields_Edit2_Js',\n\t{},\n\t{\n\t\tstep2Container: false,\n\t\tadvanceFilterInstance: false,\n\t\trestictName: ['_csrf', 'mode', 'module', 'parent', 'record', 'view'],\n\t\tinit: function () {\n\t\t\tthis.initialize();\n\t\t},\n\t\t/**\n\t\t * Function to get the container which holds all the reports step1 elements\n\t\t * @return jQuery object\n\t\t */\n\t\tgetContainer: function () {\n\t\t\treturn this.step2Container;\n\t\t},\n\t\t/**\n\t\t * Function to set the reports step1 container\n\t\t * @params : element - which represents the reports step1 container\n\t\t * @return : current instance\n\t\t */\n\t\tsetContainer: function (element) {\n\t\t\tthis.step2Container = element;\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function  to intialize the reports step1\n\t\t */\n\t\tinitialize: function (container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('#mf_step2');\n\t\t\t}\n\t\t\tif (container.is('#mf_step2')) {\n\t\t\t\tthis.setContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setContainer(jQuery('#mf_step2'));\n\t\t\t}\n\t\t},\n\t\tsubmit: function () {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar form = this.getContainer();\n\t\t\tvar formData = form.serializeFormData();\n\t\t\tvar saveData = this.getData(formData);\n\t\t\tsaveData.record = formData.record;\n\t\t\tthis.validationMappingFields().done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.saveAjax('step2', saveData).done(function (data) {\n\t\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_MF_SAVED_SUCCESSFULLY')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar mfRecordElement = jQuery('[name=\"record\"]', form);\n\t\t\t\t\t\t\tif (mfRecordElement.val() === '') {\n\t\t\t\t\t\t\t\tmfRecordElement.val(data.result.id);\n\t\t\t\t\t\t\t\tformData['record'] = data.result.id;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tformData['record'] = data.result.id;\n\t\t\t\t\t\t\tAppConnector.request(formData)\n\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\tform.hide();\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetData: function (data) {\n\t\t\tvar mappingData = [];\n\t\t\tvar mappingConditions = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tvar name = i.split('][');\n\t\t\t\tif (name.length == 2) {\n\t\t\t\t\tif (name[1] != 'default]' && data[i] != 0) mappingData[i] = data[i];\n\t\t\t\t\telse if (name[1] == 'default]') mappingData[i] = jQuery.isArray(data[i]) ? data[i].join(',') : data[i].trim();\n\t\t\t\t} else if (name.length != 2 && jQuery.inArray(i, this.restictName) == -1) {\n\t\t\t\t\tmappingConditions[i] = data[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tmappingData = jQuery.extend({}, mappingData);\n\t\t\tmappingConditions = jQuery.extend({}, mappingConditions);\n\t\t\treturn { mapping: mappingData, otherConditions: JSON.stringify(mappingConditions) };\n\t\t},\n\t\tregisterCancelStepClickEvent: function (form) {\n\t\t\tjQuery('button.cancelLink', form).on('click', function () {\n\t\t\t\twindow.history.back();\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tvar container = this.getContainer();\n\n\t\t\tvar opts = app.validationEngineOptions;\n\t\t\t// to prevent the page reload after the validation has completed\n\t\t\topts['onValidationComplete'] = function (form, valid) {\n\t\t\t\t//returns the valid status\n\t\t\t\treturn valid;\n\t\t\t};\n\t\t\topts['promptPosition'] = 'bottomRight';\n\t\t\tcontainer.validationEngine(opts);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.select2'));\n\t\t\tthis.registerCancelStepClickEvent(container);\n\t\t\tthis.registerEventsForEditView();\n\t\t},\n\t\t/**\n\t\t * Function to register event for adding new convert to field mapping\n\t\t */\n\t\tregisterEventForAddingNewMapping: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('#addMapping').on('click', function (e) {\n\t\t\t\tvar mappingToGenerateTable = jQuery('#mappingToGenerate');\n\t\t\t\tvar lastSequenceNumber = mappingToGenerateTable.find('tr:not(.d-none)[sequence-number]').last();\n\t\t\t\tvar newSequenceNumber = thisInstance.getSequenceNumber(lastSequenceNumber) + 1;\n\t\t\t\tvar newMapping = jQuery('.newMapping').clone(true, true);\n\t\t\t\tnewMapping.attr('sequence-number', newSequenceNumber);\n\t\t\t\tnewMapping.find('select.sourceFields.newSelect').attr('name', 'mapping[' + newSequenceNumber + '][source]');\n\t\t\t\tnewMapping.find('select.targetFields.newSelect').attr('name', 'mapping[' + newSequenceNumber + '][target]');\n\t\t\t\tnewMapping.find('input.mappingType').attr('name', 'mapping[' + newSequenceNumber + '][type]');\n\t\t\t\tnewMapping.removeClass('d-none newMapping');\n\t\t\t\tnewMapping.appendTo(mappingToGenerateTable);\n\t\t\t\tnewMapping.find('.newSelect').removeClass('newSelect').addClass('select2');\n\t\t\t\tvar select2Elements = newMapping.find('.select2');\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(select2Elements);\n\t\t\t\tjQuery('select.targetFields', newMapping).trigger('change', false);\n\t\t\t\tthisInstance.loadDefaultValueWidgetForMappedFields(newMapping.find('.select2'));\n\t\t\t});\n\t\t},\n\t\tgetSequenceNumber: function (element) {\n\t\t\tlet sequenceNumber;\n\t\t\tif (element.length) {\n\t\t\t\tsequenceNumber = element.attr('sequence-number');\n\t\t\t} else {\n\t\t\t\tsequenceNumber = 0;\n\t\t\t}\n\t\t\treturn parseInt(sequenceNumber);\n\t\t},\n\t\t/**\n\t\t * Function to register on change event for select2 element\n\t\t */\n\t\tregisterOnChangeEventForSourceModule: function () {\n\t\t\tvar form = this.getContainer();\n\t\t\tform.on('change', '.sourceFields', function (e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar container = jQuery(element.closest('tr'));\n\t\t\t\tvar selectedValue = element.val();\n\t\t\t\tvar selectedOption = element.find('option[value=\"' + selectedValue + '\"]');\n\t\t\t\tvar selectedDataType = selectedOption.data('type');\n\t\t\t\tvar mappingType = selectedOption.data('mappingtype');\n\t\t\t\tvar fieldsSelectElement = container.find('select.targetFields.select2');\n\t\t\t\tvar fieldsBasedOnType = form.find('.newMapping').find('.targetFields').children().clone(true, true);\n\t\t\t\tvar options = jQuery('<div></div>');\n\t\t\t\tcontainer.find('.mappingType').val(mappingType);\n\t\t\t\tfieldsBasedOnType.each(function (i, e) {\n\t\t\t\t\tvar element = jQuery(e);\n\t\t\t\t\tif (element.is('option') && (element.data('type') == selectedDataType || element.data('type') == 'none')) {\n\t\t\t\t\t\toptions.append(element);\n\t\t\t\t\t} else if (element.is('optgroup') && element.find('[data-type=\"' + selectedDataType + '\"]').length > 0) {\n\t\t\t\t\t\telement.children().each(function (q, k) {\n\t\t\t\t\t\t\tvar option = jQuery(k);\n\t\t\t\t\t\t\tif (option.data('type') !== selectedDataType) {\n\t\t\t\t\t\t\t\toption.remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\toptions.append(element);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tcontainer\n\t\t\t\t\t.find('.selectedFieldDataType')\n\t\t\t\t\t.html(selectedOption.data('type-name') ? selectedOption.data('type-name') : '');\n\t\t\t\tfieldsSelectElement.html(options.children());\n\n\t\t\t\tfieldsSelectElement.trigger('change', false);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event to delete mapping\n\t\t */\n\t\tregisterEventToDeleteMapping: function () {\n\t\t\tvar form = this.getContainer();\n\t\t\tform.on('click', '.deleteMapping', function (e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar trContainer = element.closest('tr');\n\t\t\t\ttrContainer.remove();\n\t\t\t});\n\t\t},\n\t\tloadDefaultValueWidget: function (element) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar id = element.val() + '_defaultvalue';\n\t\t\tvar affectedRow = jQuery('#defaultValuesElementsContainer').find('#' + id);\n\t\t\tvar dafeultTd = element.closest('td').next();\n\t\t\tvar defaultValueElement = dafeultTd.find('input.default');\n\t\t\tvar defaultValue = '';\n\t\t\tif (defaultValueElement.length) {\n\t\t\t\tdefaultValue = defaultValueElement.val();\n\t\t\t}\n\t\t\tdafeultTd.children().remove();\n\t\t\tvar exist = jQuery('#mappingToGenerate').find('#' + id);\n\t\t\tif (affectedRow.length === 0 || !element.val() || exist.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar seqNumber = thisInstance.getSequenceNumber(element.closest('tr'));\n\t\t\tvar copyOfDefaultValue = affectedRow.clone(true, true);\n\t\t\tcopyOfDefaultValue.prop('disabled', false).attr('name', 'mapping[' + seqNumber + '][default]');\n\t\t\tif (copyOfDefaultValue.is(':checkbox') && defaultValue) {\n\t\t\t\tcopyOfDefaultValue.prop('checked', true);\n\t\t\t} else if (defaultValue) {\n\t\t\t\tdefaultValue =\n\t\t\t\t\ttypeof copyOfDefaultValue.attr('multiple') !== 'undefined' ? defaultValue.split(',') : defaultValue;\n\t\t\t\tcopyOfDefaultValue.val(defaultValue);\n\t\t\t}\n\t\t\tcopyOfDefaultValue.appendTo(dafeultTd);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(dafeultTd.find('select'));\n\t\t},\n\t\tloadDefaultValueWidgetForMappedFields: function (fieldsList) {\n\t\t\tvar thisInstance = this;\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tthisInstance.loadDefaultValueWidget(jQuery(this));\n\t\t\t});\n\t\t\tfieldsList.on('change', function (e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tthisInstance.loadDefaultValueWidget(element);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register events for edit view of fields mapping\n\t\t */\n\t\tregisterEventsForEditView: function () {\n\t\t\tthis.registerEventForAddingNewMapping();\n\t\t\tthis.registerOnChangeEventForSourceModule();\n\t\t\tthis.registerEventToDeleteMapping();\n\t\t\tthis.loadDefaultValueWidgetForMappedFields(jQuery('select.targetFields:not(.newSelect)'));\n\t\t},\n\t\t/*\n\t\t * Function to register on chnage event of target module\n\t\t */\n\t\tvalidationMappingFields: function () {\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tmappingTable = jQuery('#mappingToGenerate tr:not(.d-none)');\n\n\t\t\tmappingTable.each(function (i, e) {\n\t\t\t\tlet breakSave = false,\n\t\t\t\t\ttargetField = jQuery(this).find('.targetFields :selected'),\n\t\t\t\t\tmoduleName;\n\t\t\t\tif (mappingTable.find('.targetFields option[value=\"' + targetField.val() + '\"]:selected').length > 1) {\n\t\t\t\t\tmoduleName = jQuery('.targetModuleName').text();\n\t\t\t\t\tbreakSave = moduleName + ': ' + targetField.text();\n\t\t\t\t}\n\t\t\t\tif (breakSave) {\n\t\t\t\t\tlet warningMessage = breakSave + ' <br />' + app.vtranslate('JS_IS_ALREADY_BEEN_MAPPED'),\n\t\t\t\t\t\tnotificationParams = {\n\t\t\t\t\t\t\ttext: warningMessage,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(notificationParams);\n\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\taDeferred.resolve(true);\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t}\n);\n"],"names":["Settings_MappedFields_Edit_Js","step2Container","advanceFilterInstance","restictName","init","initialize","getContainer","setContainer","element","container","jQuery","is","submit","Deferred","form","formData","serializeFormData","saveData","getData","record","validationMappingFields","done","data","progressIndicator","position","blockInfo","enabled","app","saveAjax","success","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","mfRecordElement","val","result","id","AppConnector","request","hide","progressIndicatorElement","mode","aDeferred","resolve","fail","error","err","errorLog","promise","mappingConditions","i","split","name","length","mappingData","isArray","join","trim","inArray","extend","mapping","otherConditions","JSON","stringify","registerCancelStepClickEvent","on","window","history","back","registerEvents","opts","validationEngineOptions","valid","validationEngine","App","Fields","Picklist","showSelect2ElementView","find","registerEventsForEditView","registerEventForAddingNewMapping","lastSequenceNumber","mappingToGenerateTable","last","newSequenceNumber","thisInstance","getSequenceNumber","newMapping","clone","attr","removeClass","appendTo","addClass","select2Elements","trigger","loadDefaultValueWidgetForMappedFields","sequenceNumber","parseInt","registerOnChangeEventForSourceModule","e","currentTarget","closest","selectedValue","selectedOption","selectedDataType","mappingType","fieldsSelectElement","fieldsBasedOnType","children","options","each","append","q","k","option","remove","html","registerEventToDeleteMapping","trContainer","loadDefaultValueWidget","affectedRow","dafeultTd","next","defaultValueElement","defaultValue","exist","seqNumber","copyOfDefaultValue","prop","fieldsList","mappingTable","breakSave","targetField","moduleName","warningMessage","type"],"mappings":";;AAAA,kKACA,aAEAA,6BAA6B,CAC5B,gCAD4B,CAE5B,EAF4B,CAG5B,CACCC,cAAc,CAAA,CAAA,CADf,CAECC,qBAAqB,CAAA,CAAA,CAFtB,CAGCC,WAAW,CAAE,CAAC,OAAD,CAAU,MAAV,CAAkB,QAAlB,CAA4B,QAA5B,CAAsC,QAAtC,CAAgD,MAAhD,CAHd,CAICC,IAAI,CAAE,SAAY,IAAA,EAAA,CACjB,KAAKC,UAAL,GACA,CANF;AAQD;AACA;AACA,KACEC,YAAY,CAAE,SAAY,YAAA,EAAA,CACzB,OAAYL,IAAAA,CAAAA,cACZ,CAbF;AAeD;AACA;AACA;AACA,KACEM,YAAY,CAAE,SAAUC,YAAAA,CAAAA,OAAV,CAAmB,CAEhC,OADKP,IAAAA,CAAAA,cAAL,CAAsBO,OACtB,CAAO,IACP,CAtBF;AAwBD;AACA,KACEH,UAAU,CAAE,SAAA,UAAA,CAAUI,SAAV,CAAqB,CACP,WAArB,EAAOA,OAAAA,SADqB,GAE/BA,SAAS,CAAGC,MAAM,CAAC,WAAD,CAFa,CAI5BD,CAAAA,SAAS,CAACE,EAAV,CAAa,WAAb,CAJ4B,CAK/B,IAAKJ,CAAAA,YAAL,CAAkBE,SAAlB,CAL+B,CAO/B,IAAA,CAAKF,YAAL,CAAkBG,MAAM,CAAC,WAAD,CAAxB,EAED,CAnCF,CAoCCE,MAAM,CAAE,SAAA,MAAA,EAAY,KACN,SAAA,CAAGF,MAAM,CAACG,QAAP,EADG,CAEfC,IAAI,CAAG,IAAA,CAAKR,YAAL,EAFQ,CAGfS,QAAQ,CAAGD,IAAI,CAACE,iBAAL,EAHI,CAIfC,QAAQ,CAAG,IAAA,CAAKC,OAAL,CAAaH,QAAb,CAJI,CA2CnB,eAtCQ,CAACI,MAAT,CAAkBJ,QAAQ,CAACI,MAsC3B,CArCA,IAAA,CAAKC,uBAAL,EAAA,CAA+BC,IAA/B,CAAoC,SAAUC,IAAV,CAAgB,CACnD,GAAIA,IAAJ,CAAU,CACT,IAA4B,wBAAA,CAAGZ,MAAM,CAACa,iBAAP,CAAyB,CACvDC,QAAQ,CAAE,MAD6C,CAEvDC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CADG,CAF4C,CAAzB,CAA/B,CAMAC,GAAG,CAACC,QAAJ,CAAa,OAAb,CAAsBX,QAAtB,CAAgCI,CAAAA,IAAhC,CAAqC,SAAUC,IAAV,CAAgB,CACpD,GAAI,CAAAA,CAAAA,EAAAA,IAAI,CAACO,OAAT,CAA0B,CACzBC,wBAAwB,CAACC,WAAzB,CAAqC,CACpCC,IAAI,CAAEL,GAAG,CAACM,UAAJ,CAAe,0BAAf,CAD8B,CAArC,CADyB,CAIzB,IAAIC,eAAe,CAAGxB,MAAM,CAAC,mBAAD,CAAoBI,IAApB,CAA5B,CAC8B,EAA1B,GAAAoB,eAAe,CAACC,GAAhB,EALqB,GAMxBD,eAAe,CAACC,GAAhB,CAAoBb,IAAI,CAACc,MAAL,CAAYC,EAAhC,CANwB,CAOxBtB,QAAQ,CAAR,MAAA,CAAqBO,IAAI,CAACc,MAAL,CAAYC,EAPT,CAAA,CASzBtB,QAAQ,CAAA,MAAR,CAAqBO,IAAI,CAACc,MAAL,CAAYC,EATR,CAUzBC,YAAY,CAACC,OAAb,CAAqBxB,QAArB,CAAA,CACEM,IADF,CACO,SAAUC,IAAV,CAAgB,CACrBR,IAAI,CAAC0B,IAAL,EADqB,CAErBC,wBAAwB,CAAClB,iBAAzB,CAA2C,CAC1CmB,IAAI,CAAE,MADoC,CAA3C,CAFqB,CAKrBC,SAAS,CAACC,OAAV,CAAkBtB,IAAlB,EACA,CAPF,CAQEuB,CAAAA,IARF,CAQO,SAAUC,KAAV,CAAiBC,GAAjB,CAAsB,CAC3BpB,GAAG,CAACqB,QAAJ,CAAaF,KAAb,CAAoBC,GAApB,EACA,CAVF,EAWA,CACD,CAvBD,EAwBA,CA/BD,KAgCU,SAAA,CAACH,OAAV,CAAA,CAAA,CAAA,EAED,CAnCD,CAqCA,CAAOD,SAAS,CAACM,OAAV,EACP,CAhFF,CAiFC/B,OAAO,CAAE,SAAUI,OAAAA,CAAAA,IAAV,CAAgB,CAAA,IACT,WAAA,CAAG,EADM,CAEpB4B,iBAAiB,CAAG,EAFA,CAGxB,IAAK,IAAL,CAAA,IAAA,IAAA,CAAoB,CACnB,IAAQ,IAAA,CAAGC,CAAC,CAACC,KAAF,CAAQ,IAAR,CAAX,CACmB,CAAf,EAAAC,IAAI,CAACC,MAFU,CAGH,UAAX,EAAAD,IAAI,CAAC,CAAD,CAAJ,EAAoC,CAAX,EAAA/B,IAAI,CAAC6B,CAAD,CAHf,CAGyBI,WAAW,CAACJ,CAAD,CAAX,CAAiB7B,IAAI,CAAC6B,CAAD,CAH9C,CAIE,UAAX,EAAAE,IAAI,CAAC,CAAD,CAJK,GAIcE,WAAW,CAACJ,CAAD,CAAX,CAAiBzC,MAAM,CAAC8C,OAAP,CAAelC,IAAI,CAAC6B,CAAD,CAAnB,CAA0B7B,CAAAA,IAAI,CAAC6B,CAAD,CAAJ,CAAQM,IAAR,CAAa,GAAb,CAA1B,CAA8CnC,IAAI,CAAC6B,CAAD,CAAJ,CAAQO,IAAR,EAJ7E,CAAA,CAKO,CAAf,EAAAL,IAAI,CAACC,MAAL,EAA2D,CAAC,CAAxC,EAAA5C,MAAM,CAACiD,OAAP,CAAeR,CAAf,CAAkB,IAAKhD,CAAAA,WAAvB,CALZ,GAMlB+C,iBAAiB,CAACC,CAAD,CAAjB,CAAuB7B,IAAI,CAAC6B,CAAD,CANT,EAQnB,CAGD,OAFAI,WAAW,CAAG7C,MAAM,CAACkD,MAAP,CAAc,EAAd,CAAkBL,WAAlB,CAEd,CADAL,iBAAiB,CAAGxC,MAAM,CAACkD,MAAP,CAAc,EAAd,CAAkBV,iBAAlB,CACpB,CAAO,CAAEW,OAAO,CAAEN,WAAX,CAAwBO,eAAe,CAAEC,IAAI,CAACC,SAAL,CAAed,iBAAf,CAAzC,CACP,CAhGF,CAiGCe,4BAA4B,CAAE,SAAA,4BAAA,CAAUnD,IAAV,CAAgB,CAC7CJ,MAAM,CAAC,mBAAD,CAAsBI,IAAtB,CAAN,CAAkCoD,EAAlC,CAAqC,OAArC,CAA8C,UAAY,CACzDC,MAAM,CAACC,OAAP,CAAeC,IAAf,GACA,CAFD,EAGA,CArGF,CAsGCC,cAAc,CAAE,SAAA,cAAA,EAAY,CACvB7D,IAAAA,SAAS,CAAG,IAAA,CAAKH,YAAL,EADW,CAGvBiE,IAAI,CAAG5C,GAAG,CAAC6C,uBAHY,CAI3B;AACAD,IAAI,qBAAJ,CAA+B,SAAUzD,IAAV,CAAgB2D,KAAhB,CAAuB;AAErD,YACA,CAR0B,CAS3BF,IAAI,CAAJ,cAAA,CAAyB,aATE,CAU3B9D,SAAS,CAACiE,gBAAV,CAA2BH,IAA3B,CAV2B,CAW3BI,GAAG,CAACC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2CrE,SAAS,CAACsE,IAAV,CAAe,UAAf,CAA3C,CAX2B,CAY3B,KAAKd,4BAAL,CAAkCxD,SAAlC,CAZ2B,CAa3B,KAAKuE,yBAAL,GACA,CApHF;AAsHD;AACA,KACEC,gCAAgC,CAAE,SAAA,gCAAA,EAAY,CAC7C,gBAAgB,CAAG,IAAnB,CACAvE,MAAM,CAAC,aAAD,CAAN,CAAsBwD,EAAtB,CAAyB,OAAzB,CAAkC,UAAa,KACpB,sBAAA,CAAGxD,MAAM,CAAC,oBAAD,CADW,CAE1CwE,kBAAkB,CAAGC,sBAAsB,CAACJ,IAAvB,CAA4B,kCAA5B,CAAgEK,CAAAA,IAAhE,EAFqB,CAG1CC,iBAAiB,CAAGC,YAAY,CAACC,iBAAb,CAA+BL,kBAA/B,CAAqD,CAAA,CAH/B,CAI1CM,UAAU,CAAG9E,MAAM,CAAC,aAAD,CAAN,CAAsB+E,KAAtB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAJ6B,CAK9CD,UAAU,CAACE,IAAX,CAAgB,iBAAhB,CAAmCL,iBAAnC,CAL8C,CAM9CG,UAAU,CAACT,IAAX,CAAgB,+BAAhB,CAAA,CAAiDW,IAAjD,CAAsD,MAAtD,CAA8D,UAAA,CAAaL,iBAAb,CAAiC,WAA/F,CAN8C,CAO9CG,UAAU,CAACT,IAAX,CAAgB,+BAAhB,CAAA,CAAiDW,IAAjD,CAAsD,MAAtD,CAA8D,UAAA,CAAaL,iBAAb,CAAiC,WAA/F,CAP8C,CAQ9CG,UAAU,CAACT,IAAX,CAAgB,mBAAhB,CAAA,CAAqCW,IAArC,CAA0C,MAA1C,CAAkD,UAAaL,CAAAA,iBAAb,CAAiC,SAAnF,CAR8C,CAS9CG,UAAU,CAACG,WAAX,CAAuB,mBAAvB,CAT8C,CAU9CH,UAAU,CAACI,QAAX,CAAoBT,sBAApB,CAV8C,CAW9CK,UAAU,CAACT,IAAX,CAAgB,YAAhB,CAAA,CAA8BY,WAA9B,CAA0C,WAA1C,CAAA,CAAuDE,QAAvD,CAAgE,SAAhE,CAX8C,CAY9C,IAAIC,eAAe,CAAGN,UAAU,CAACT,IAAX,CAAgB,UAAhB,CAAtB,CACAJ,GAAG,CAACC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2CgB,eAA3C,CAb8C,CAc9CpF,MAAM,CAAC,qBAAD,CAAwB8E,UAAxB,CAAN,CAA0CO,OAA1C,CAAkD,QAAlD,CAd8C,CAAA,CAAA,CAAA,CAe9CT,YAAY,CAACU,qCAAb,CAAmDR,UAAU,CAACT,IAAX,CAAgB,UAAhB,CAAnD,EACA,CAhBD,EAiBA,CA3IF,CA4ICQ,iBAAiB,CAAE,SAAA,iBAAA,CAAU/E,OAAV,CAAmB,CACrC,IAAIyF,cAAJ,CAMA,qBAAA,CALIzF,OAAO,CAAC8C,MAKZ,CAJkB9C,OAAO,CAACkF,IAAR,CAAa,iBAAb,CAIlB,CAFkB,CAElB,CAAOQ,QAAQ,CAACD,cAAD,CACf,CApJF;AAsJD;AACA,KACEE,oCAAoC,CAAE,SAAY,oCAAA,EAAA,CACjD,IAAIrF,IAAI,CAAG,IAAA,CAAKR,YAAL,EAAX,CACAQ,IAAI,CAACoD,EAAL,CAAQ,QAAR,CAAkB,eAAlB,CAAmC,SAAUkC,CAAV,CAAa,CAC3C5F,IAAAA,OAAO,CAAGE,MAAM,CAAC0F,CAAC,CAACC,aAAH,CAD2B,CAE3C5F,SAAS,CAAGC,MAAM,CAACF,OAAO,CAAC8F,OAAR,CAAgB,IAAhB,CAAD,CAFyB,CAG3CC,aAAa,CAAG/F,OAAO,CAAC2B,GAAR,EAH2B,CAI3CqE,cAAc,CAAGhG,OAAO,CAACuE,IAAR,CAAa,kBAAmBwB,aAAnB,CAAmC,KAAhD,CAJ0B,CAK3CE,gBAAgB,CAAGD,cAAc,CAAClF,IAAf,CAAoB,MAApB,CALwB,CAM3CoF,WAAW,CAAGF,cAAc,CAAClF,IAAf,CAAoB,aAApB,CAN6B,CAO3CqF,mBAAmB,CAAGlG,SAAS,CAACsE,IAAV,CAAe,6BAAf,CAPqB,CAQ3C6B,iBAAiB,CAAG9F,IAAI,CAACiE,IAAL,CAAU,aAAV,CAAyBA,CAAAA,IAAzB,CAA8B,eAA9B,EAA+C8B,QAA/C,EAAA,CAA0DpB,KAA1D,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CARuB,CAS3CqB,OAAO,CAAGpG,MAAM,CAAC,aAAD,CAT2B,CAU/CD,SAAS,CAACsE,IAAV,CAAe,cAAf,EAA+B5C,GAA/B,CAAmCuE,WAAnC,CAV+C,CAW/CE,iBAAiB,CAACG,IAAlB,CAAuB,SAAU5D,CAAV,CAAaiD,CAAb,CAAgB,CACtC,IAAI5F,OAAO,CAAGE,MAAM,CAAC0F,CAAD,CAApB,CACI5F,OAAO,CAACG,EAAR,CAAW,QAAX,CAAyBH,GAAAA,OAAO,CAACc,IAAR,CAAa,MAAb,GAAwBmF,gBAAxB,EAAoE,MAAxB,EAAAjG,OAAO,CAACc,IAAR,CAAa,MAAb,CAArE,CAFkC,CAGrCwF,OAAO,CAACE,MAAR,CAAexG,OAAf,CAHqC,CAI3BA,OAAO,CAACG,EAAR,CAAW,UAAX,CAA0F,EAAA,CAAhE,CAAAH,OAAO,CAACuE,IAAR,CAAa,eAAiB0B,CAAAA,gBAAjB,CAAoC,KAAjD,EAAuDnD,MAJtD,GAKrC9C,OAAO,CAACqG,QAAR,EAAA,CAAmBE,IAAnB,CAAwB,SAAUE,CAAV,CAAaC,CAAb,CAAgB,CACvC,IAAU,MAAA,CAAGxG,MAAM,CAACwG,CAAD,CAAnB,CACIC,MAAM,CAAC7F,IAAP,CAAY,MAAZ,CAAwBmF,GAAAA,gBAFW,EAGtCU,MAAM,CAACC,MAAP,GAED,CALD,CALqC,CAWrCN,OAAO,CAACE,MAAR,CAAexG,OAAf,CAXqC,EAatC,CAbD,CAX+C,CA0B/CC,SAAS,CACPsE,IADF,CACO,wBADP,CAAA,CAEEsC,IAFF,CAEOb,cAAc,CAAClF,IAAf,CAAoB,WAApB,CAAmCkF,CAAAA,cAAc,CAAClF,IAAf,CAAoB,WAApB,CAAnC,CAAsE,EAF7E,CA1B+C,CA6B/CqF,mBAAmB,CAACU,IAApB,CAAyBP,OAAO,CAACD,QAAR,EAAzB,CA7B+C,CA+B/CF,mBAAmB,CAACZ,OAApB,CAA4B,QAA5B,CAAA,CAAA,CAAA,EACA,CAhCD,EAiCA,CA3LF;AA6LD;AACA,KACEuB,4BAA4B,CAAE,SAAA,4BAAA,EAAY,CACzC,QAAQ,CAAG,IAAA,CAAKhH,YAAL,EAAX,CACAQ,IAAI,CAACoD,EAAL,CAAQ,OAAR,CAAiB,gBAAjB,CAAmC,SAAUkC,CAAV,CAAa,CAAA,IACpC,OAAA,CAAG1F,MAAM,CAAC0F,CAAC,CAACC,aAAH,CAD2B,CAE3CkB,WAAW,CAAG/G,OAAO,CAAC8F,OAAR,CAAgB,IAAhB,CAF6B,CAG/CiB,WAAW,CAACH,MAAZ,GACA,CAJD,EAKA,CAtMF,CAuMCI,sBAAsB,CAAE,SAAUhH,sBAAAA,CAAAA,OAAV,CAAmB,CAAA,gBAC1B,CAAG,IADuB,CAEtC6B,EAAE,CAAG7B,OAAO,CAAC2B,GAAR,EAAA,CAAgB,eAFiB,CAGtCsF,WAAW,CAAG/G,MAAM,CAAC,iCAAD,CAAN,CAA0CqE,IAA1C,CAA+C,GAAM1C,CAAAA,EAArD,CAHwB,CAItCqF,SAAS,CAAGlH,OAAO,CAAC8F,OAAR,CAAgB,IAAhB,CAAA,CAAsBqB,IAAtB,EAJ0B,CAKtCC,mBAAmB,CAAGF,SAAS,CAAC3C,IAAV,CAAe,eAAf,CALgB,CAMtC8C,YAAY,CAAG,EANuB,CAOtCD,mBAAmB,CAACtE,MAPkB,GAQzCuE,YAAY,CAAGD,mBAAmB,CAACzF,GAApB,EAR0B,CAAA,CAU1CuF,SAAS,CAACb,QAAV,EAAqBO,CAAAA,MAArB,EAV0C,CAW1C,IAAS,KAAA,CAAG1G,MAAM,CAAC,oBAAD,CAAN,CAA6BqE,IAA7B,CAAkC,GAAA,CAAM1C,EAAxC,CAAZ,CACA,GAA2B,CAAvB,GAAAoF,WAAW,CAACnE,MAAZ,EAA6B9C,OAAO,CAAC2B,GAAR,EAA7B,EAAA,EAA6D,CAAf,CAAA2F,KAAK,CAACxE,MAApD,CAAJ,CAGIyE,CAAAA,IAAAA,SAAS,CAAGzC,YAAY,CAACC,iBAAb,CAA+B/E,OAAO,CAAC8F,OAAR,CAAgB,IAAhB,CAA/B,CAHhB,CAII0B,kBAAkB,CAAGP,WAAW,CAAChC,KAAZ,CAJzB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAKAuC,kBAAkB,CAACC,IAAnB,CAAwB,UAAxB,KAA2CvC,IAA3C,CAAgD,MAAhD,CAAwD,WAAaqC,SAAb,CAAyB,YAAjF,CALA,CAMIC,kBAAkB,CAACrH,EAAnB,CAAsB,WAAtB,CAAsCkH,EAAAA,YAN1C,CAOCG,kBAAkB,CAACC,IAAnB,CAAwB,SAAxB,CAAA,CAAA,CAAA,CAPD,CAQWJ,YARX,GASCA,YAAY,CACoC,WAA/C,EAAOG,OAAAA,kBAAkB,CAACtC,IAAnB,CAAwB,UAAxB,CAAP,CAAuFmC,YAAvF,CAA6DA,YAAY,CAACzE,KAAb,CAAmB,GAAnB,CAV/D,CAWC4E,kBAAkB,CAAC7F,GAAnB,CAAuB0F,YAAvB,CAXD,CAaAG,CAAAA,kBAAkB,CAACpC,QAAnB,CAA4B8B,SAA5B,CAbA,CAcA/C,GAAG,CAACC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2C4C,SAAS,CAAC3C,IAAV,CAAe,QAAf,CAA3C,EAdA,CAeA,CAlOF,CAmOCiB,qCAAqC,CAAE,SAAUkC,qCAAAA,CAAAA,UAAV,CAAsB,CAC5D,IAAgB,YAAA,CAAG,IAAnB,CACAA,UAAU,CAACnB,IAAX,CAAgB,UAAsB,CACrCzB,YAAY,CAACkC,sBAAb,CAAoC9G,MAAM,CAAC,IAAD,CAA1C,EACA,CAFD,CAF4D,CAK5DwH,UAAU,CAAChE,EAAX,CAAc,QAAd,CAAwB,SAAUkC,CAAV,CAAa,CACpC,IAAI5F,OAAO,CAAGE,MAAM,CAAC0F,CAAC,CAACC,aAAH,CAApB,CACAf,YAAY,CAACkC,sBAAb,CAAoChH,OAApC,EACA,CAHD,EAIA,CA5OF;AA8OD;AACA,KACEwE,yBAAyB,CAAE,SAAA,yBAAA,EAAY,CACtC,IAAA,CAAKC,gCAAL,EADsC,CAEtC,IAAKkB,CAAAA,oCAAL,EAFsC,CAGtC,KAAKmB,4BAAL,EAHsC,CAItC,IAAA,CAAKtB,qCAAL,CAA2CtF,MAAM,CAAC,qCAAD,CAAjD,EACA,CArPF;AAuPD;AACA,KACEU,uBAAuB,CAAE,SAAY,uBAAA,EAAA,CACpC,IAAIuB,SAAS,CAAGjC,MAAM,CAACG,QAAP,EAAhB,CACCsH,YAAY,CAAGzH,MAAM,CAAC,oCAAD,CADtB,CAuBA,OApBAyH,YAAY,CAACpB,IAAb,CAAkB,UAAgB,CACjC,IAAA,UAAA,CAAIqB,SAAS,CAAb,CAAA,CAAA,CACCC,WAAW,CAAG3H,MAAM,CAAC,IAAD,CAAN,CAAaqE,IAAb,CAAkB,yBAAlB,CADf,CAOA,GAJmG,CAA/F,CAAAoD,YAAY,CAACpD,IAAb,CAAkB,+BAAiCsD,CAAAA,WAAW,CAAClG,GAAZ,EAAjC,CAAqD,cAAvE,CAAsFmB,CAAAA,MAI1F,GAHCgF,UAAU,CAAG5H,MAAM,CAAC,mBAAD,CAAN,CAA4BsB,IAA5B,EAGd,CAFCoG,SAAS,CAAGE,UAAU,CAAG,IAAb,CAAoBD,WAAW,CAACrG,IAAZ,EAEjC,EAAIoG,SAAJ,CAAe,CACd,IAAkB,cAAA,CAAGA,SAAS,CAAG,SAAZ,CAAwBzG,GAAG,CAACM,UAAJ,CAAe,2BAAf,CAA7C,CAOA,OAFwB,wBAAA,CAACF,WAAzB,CAJsB,CACpBC,IAAI,CAAEuG,cADc,CAEpBC,IAAI,CAAE,OAFc,CAItB,CAEA,CADA7F,SAAS,CAACC,OAAV,CAAA,CAAA,CAAA,CACA,CACA,CAAA,CAAA,CACD,CAlBD,CAoBA,CADAD,SAAS,CAACC,OAAV,CAAA,CAAA,CAAA,CACA,CAAOD,SAAS,CAACM,OAAV,EACP,CAlRF,CAH4B;;"}