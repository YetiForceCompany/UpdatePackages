{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_List_Js(\n\t'Campaigns_List_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to mark selected records\n\t\t */\n\t\tmarkSelectedRecords: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar selectedIds = this.readSelectedIds();\n\t\t\tif (selectedIds != '') {\n\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\tjQuery(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t});\n\t\t\t\t\tjQuery('#deSelectAllMsgDiv').show();\n\t\t\t\t\tvar excludedIds = jQuery('[name=\"excludedIds\"]').data('excludedIds');\n\t\t\t\t\tif (excludedIds != '') {\n\t\t\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t\tif (jQuery.inArray(jQuery(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\t\tjQuery(element).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\tif (jQuery.inArray(jQuery(element).val(), selectedIds) != -1) {\n\t\t\t\t\t\t\tjQuery(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.checkSelectAll();\n\t\t\t}\n\t\t},\n\n\t\tgetRecordsCount: function () {\n\t\t\tif (app.getViewName() != 'Detail') {\n\t\t\t\treturn this._super();\n\t\t\t}\n\t\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar recordCountVal = jQuery('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tvar count = '';\n\t\t\t\tvar cvId = jQuery('#customFilter').val();\n\t\t\t\tvar module = app.getModuleName();\n\t\t\t\tvar parent = app.getParentModuleName();\n\t\t\t\tvar relatedModuleName = jQuery('[name=\"relatedModuleName\"]').val();\n\t\t\t\tvar recordId = app.getRecordId();\n\t\t\t\tlet selectedTab = detailInstance.getSelectedTab();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: module,\n\t\t\t\t\tparent: parent,\n\t\t\t\t\taction: 'DetailAjax',\n\t\t\t\t\tviewname: cvId,\n\t\t\t\t\tmode: 'getRecordsCount',\n\t\t\t\t\trelatedModule: relatedModuleName,\n\t\t\t\t\trecord: recordId,\n\t\t\t\t\ttab_label: selectedTab.data('labelKey'),\n\t\t\t\t\trelationId: selectedTab.data('relationId')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tjQuery('#recordsCount').val(data['result']['count']);\n\t\t\t\t\tcount = data['result']['count'];\n\t\t\t\t\taDeferred.resolve(count);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tif (app.getViewName() != 'Detail') {\n\t\t\t\tthis._super();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t}\n\t}\n);\n"],"names":["Vtiger_List_Js","markSelectedRecords","selectedIds","readSelectedIds","jQuery","each","prop","closest","addClass","show","data","excludedIds","index","element","inArray","val","removeClass","thisInstance","checkSelectAll","getRecordsCount","app","getViewName","_super","detailInstance","Vtiger_Detail_Js","getInstance","aDeferred","Deferred","recordCountVal","resolve","cvId","module","getModuleName","parent","getParentModuleName","relatedModuleName","recordId","getRecordId","selectedTab","getSelectedTab","AppConnector","request","action","viewname","mode","relatedModule","record","tab_label","relationId","done","count","promise","registerEvents","registerMainCheckBoxClickEvent","registerCheckBoxClickEvent","registerSelectAllClickEvent","registerDeselectAllClickEvent"],"mappings":"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"}