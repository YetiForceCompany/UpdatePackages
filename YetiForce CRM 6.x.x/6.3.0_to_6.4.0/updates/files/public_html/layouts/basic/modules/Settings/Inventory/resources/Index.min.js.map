{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Inventory_Index_Js',\n\t{},\n\t{\n\t\t//Stored history of Name and duplicate check result\n\t\tduplicateCheckCache: {},\n\t\t/**\n\t\t * This function will show the model for Add/Edit\n\t\t */\n\t\tedit: function (url, currentTrElement) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(url)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet callBackFunction = function (container) {\n\t\t\t\t\t\t//cache should be empty when modal opened\n\t\t\t\t\t\tthisInstance.duplicateCheckCache = {};\n\t\t\t\t\t\tlet form = container.find('#formInventory');\n\t\t\t\t\t\tlet params = app.validationEngineOptions;\n\t\t\t\t\t\tparams.onValidationComplete = function (formData, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tthisInstance.saveDetails(formData, currentTrElement);\n\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tfunction (modalContainer) {\n\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\tcallBackFunction(modalContainer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{}\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to Save the Details\n\t\t */\n\t\tsaveDetails: function (form, currentTrElement) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = form.serializeFormData();\n\t\t\tconst saveButton = form.find('[type=\"submit\"]');\n\t\t\tsaveButton.prop('disabled', true);\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tthisInstance\n\t\t\t\t.validateName(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tif (typeof response === 'undefined') {\n\t\t\t\t\t\tsaveButton.prop('disabled', false);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tparams.module = app.getModuleName();\n\t\t\t\t\tparams.parent = app.getParentModuleName();\n\t\t\t\t\tparams.action = 'SaveAjax';\n\t\t\t\t\tparams.view = app.getViewName();\n\t\t\t\t\tAppConnector.request(params).done((data) => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tif (typeof data == 'string') {\n\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata['result']['value'] = App.Fields.Double.formatToDisplay(data['result']['value']);\n\t\t\t\t\t\t//Adding or update details in the list\n\t\t\t\t\t\tif (form.find('.addView').val() == 'true') {\n\t\t\t\t\t\t\tthisInstance.addDetails(data['result']);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthisInstance.updateDetails(data['result'], currentTrElement);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//show notification after details saved\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail((_data, _err) => {\n\t\t\t\t\tsaveButton.prop('disabled', false);\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to add the Details in the list after saving\n\t\t */\n\t\taddDetails: function (details) {\n\t\t\tlet container = jQuery('#inventory'),\n\t\t\t\tcurrency = jQuery('#currency'),\n\t\t\t\tsymbol = '%',\n\t\t\t\ttable = $('.inventoryTable', container);\n\t\t\tif (currency.length > 0) {\n\t\t\t\tcurrency = JSON.parse(currency.val());\n\t\t\t\tsymbol = currency.currency_symbol;\n\t\t\t}\n\t\t\tif (details.default === 1) {\n\t\t\t\ttable.find('.default').prop('checked', false);\n\t\t\t}\n\t\t\tlet trElement = $(`<tr class=\"opacity\" data-id=\"${details.id}\">\n\t\t\t\t\t<td class=\"textAlignCenter ${details.row_type}\"><label class=\"name\">${details.name}</label></td>\n\t\t\t\t\t<td class=\"textAlignCenter ${details.row_type}\"><span class=\"value\">${details.value} ${symbol}</span></td>\n\t\t\t\t\t<td class=\"textAlignCenter ${details.row_type}\">\n\t\t\t\t\t<div class=\"float-right  w-50 d-flex justify-content-between mr-2\">\n\t\t\t\t\t\t<input class=\"status js-update-field mt-2\" checked type=\"checkbox\" data-field-name=\"status\">\n\t\t\t\t\t\t<div class=\"actions\">\n\t\t\t\t\t\t\t<button class=\"btn btn-info btn-sm text-white editInventory u-cursor-pointer\" data-url=\"${details._editurl}\">\n\t\t\t\t\t\t\t<span title=\"Edycja\" class=\"yfi yfi-full-editing-view alignBottom\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button class=\"removeInventory u-cursor-pointer btn btn-danger btn-sm text-white\" data-url=\"${details._editurl}\">\n\t\t\t\t\t\t\t<span title=\"UsuÅ„\" class=\"fas fa-trash-alt alignBottom\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t</tr>`);\n\t\t\ttable.append(trElement);\n\t\t},\n\t\t/*\n\t\t * Function to update the details in the list after edit\n\t\t */\n\t\tupdateDetails: function (data, currentTrElement) {\n\t\t\tlet currency = jQuery('#currency');\n\t\t\tlet symbol = '%';\n\t\t\tif (currency.length > 0) {\n\t\t\t\tcurrency = JSON.parse(currency.val());\n\t\t\t\tsymbol = currency.currency_symbol;\n\t\t\t}\n\t\t\tcurrentTrElement.find('.name').text(data['name']);\n\t\t\tcurrentTrElement.find('.value').text(data['value'] + ' ' + symbol);\n\t\t\tif (data['status'] === 0) {\n\t\t\t\tcurrentTrElement.find('.status').prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcurrentTrElement.find('.status').prop('checked', false);\n\t\t\t}\n\t\t\tif (data['default'] === 1) {\n\t\t\t\tlet table = $('.inventoryTable');\n\t\t\t\ttable.find('.default').prop('checked', false);\n\t\t\t\tcurrentTrElement.find('.default').prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcurrentTrElement.find('.default').prop('checked', false);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to validate the Name to avoid duplicates\n\t\t */\n\t\tvalidateName: function (data) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet aDeferred = jQuery.Deferred();\n\n\t\t\tlet name = data.name;\n\t\t\tlet form = jQuery('#formInventory');\n\t\t\tlet nameElement = form.find('[name=\"name\"]');\n\t\t\tif (!(name in thisInstance.duplicateCheckCache)) {\n\t\t\t\tthisInstance\n\t\t\t\t\t.checkDuplicateName(data)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.duplicateCheckCache[name] = data['success'];\n\t\t\t\t\t\tif (data['success']) {\n\t\t\t\t\t\t\tthisInstance.duplicateCheckCache['message'] = data['message'];\n\t\t\t\t\t\t\tnameElement.validationEngine('showPrompt', data['message'], 'error', 'bottomLeft', true);\n\t\t\t\t\t\t\taDeferred.reject(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (data, _err) {\n\t\t\t\t\t\taDeferred.reject(data);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (thisInstance.duplicateCheckCache[name] == true) {\n\t\t\t\t\tlet result = thisInstance.duplicateCheckCache['message'];\n\t\t\t\t\tnameElement.validationEngine('showPrompt', result, 'error', 'bottomLeft', true);\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to check Duplication of inventory Name\n\t\t */\n\t\tcheckDuplicateName: function (details) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet name = details.name;\n\t\t\tlet id = details.id;\n\t\t\tlet moduleName = app.getModuleName();\n\t\t\tlet params = {\n\t\t\t\tmodule: moduleName,\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: 'checkDuplicateName',\n\t\t\t\tname: name,\n\t\t\t\tid: id,\n\t\t\t\tview: app.getViewName()\n\t\t\t};\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (typeof data == 'string') {\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data['result']);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to update status as enabled or disabled\n\t\t */\n\t\tupdateCheckbox: function (currentTarget) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\n\t\t\tlet currentTrElement = currentTarget.closest('tr');\n\t\t\tlet id = currentTrElement.data('id');\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet updatedCheckbox = currentTarget.data('field-name');\n\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tid: id,\n\t\t\t\tview: app.getViewName()\n\t\t\t};\n\t\t\tif (updatedCheckbox === 'status') {\n\t\t\t\tparams.status = currentTarget.is(':checked') ? 0 : 1;\n\t\t\t} else if (updatedCheckbox === 'default') {\n\t\t\t\tparams.default = currentTarget.is(':checked') ? 1 : 0;\n\t\t\t\tlet table = $('.inventoryTable');\n\t\t\t\tif (params.default === 1) {\n\t\t\t\t\ttable.find('.default').not(currentTarget).prop('checked', false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, _err) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tremoveInventory: function (inventoryElement) {\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttext: app.vtranslate('JS_DELETE_INVENTORY_CONFIRMATION'),\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['view'] = app.getViewName();\n\t\t\t\t\tparams['id'] = inventoryElement.data('id');\n\t\t\t\t\tapp.saveAjax('deleteInventory', params).done(function (data) {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'success', text: data.result.message });\n\t\t\t\t\t\tinventoryElement.remove();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register all actions in the List\n\t\t */\n\t\tregisterActions: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet container = jQuery('#inventory');\n\t\t\t//register click event for Add New Inventory button\n\t\t\tcontainer.find('.addInventory').on('click', function (e) {\n\t\t\t\tlet addInventoryButton = jQuery(e.currentTarget);\n\t\t\t\tlet createUrl = addInventoryButton.data('url');\n\t\t\t\tthisInstance.edit(createUrl);\n\t\t\t});\n\n\t\t\t//register event for edit icon\n\t\t\tcontainer.on('click', '.editInventory', function (e) {\n\t\t\t\tlet editButton = jQuery(e.currentTarget);\n\t\t\t\tlet currentTrElement = editButton.closest('tr');\n\t\t\t\tthisInstance.edit(editButton.data('url'), currentTrElement);\n\t\t\t});\n\n\t\t\t//register event for edit icon\n\t\t\tcontainer.on('click', '.removeInventory', function (e) {\n\t\t\t\tlet removeInventoryButton = jQuery(e.currentTarget);\n\t\t\t\tlet currentTrElement = removeInventoryButton.closest('tr');\n\t\t\t\tthisInstance.removeInventory(currentTrElement);\n\t\t\t});\n\n\t\t\t//register event for checkbox to change the Status\n\t\t\tcontainer.on('click', '[type=\"checkbox\"]', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tthisInstance.updateCheckbox(currentTarget).done(function (_data) {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams.text = app.vtranslate('JS_SAVE_CHANGES');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis.registerActions();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","duplicateCheckCache","edit","url","currentTrElement","aDeferred","Deferred","thisInstance","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","request","done","data","callBackFunction","container","form","find","params","app","validationEngineOptions","onValidationComplete","formData","valid","saveDetails","validationEngine","on","e","preventDefault","mode","showModalWindow","modalContainer","fail","error","reject","promise","serializeFormData","saveButton","prop","validateName","response","$","module","getModuleName","parent","getParentModuleName","action","view","getViewName","AppConnector","hideModalWindow","JSON","parse","App","Fields","Double","formatToDisplay","val","addDetails","updateDetails","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","details","currency","symbol","table","length","currency_symbol","default","id","row_type","name","value","_editurl","append","trElement","nameElement","checkDuplicateName","resolve","result","moduleName","err","updateCheckbox","currentTarget","closest","updatedCheckbox","status","is","not","removeInventory","inventoryElement","showConfirmModal","confirmedCallback","saveAjax","type","message","remove","registerActions","createUrl","addInventoryButton","editButton","removeInventoryButton","registerEvents"],"mappings":"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"}