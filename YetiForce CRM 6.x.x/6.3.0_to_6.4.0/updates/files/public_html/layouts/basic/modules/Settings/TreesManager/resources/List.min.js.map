{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\n\t'Settings_TreesManager_List_Js',\n\t{\n\t\ttriggerCreate: function (url) {\n\t\t\tvar selectedModule = jQuery('#moduleFilter').val();\n\t\t\tif (selectedModule.length > 0) {\n\t\t\t\turl += '&source_module=' + selectedModule;\n\t\t\t}\n\t\t\twindow.location.href = url;\n\t\t}\n\t},\n\t{\n\t\t/*\n\t\t * function to trigger delete record action\n\t\t * @params: delete record url.\n\t\t */\n\t\tDeleteRecord: function (deleteRecordActionUrl) {\n\t\t\tconst self = this;\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttitle: app.vtranslate('LBL_DELETE_CONFIRMATION'),\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tAppConnector.request(deleteRecordActionUrl).done(function (data) {\n\t\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_TREE_DELETED_SUCCESSFULLY')\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\t\t\t\tself.getListViewRecords().done(function () {\n\t\t\t\t\t\t\t\tself.updatePagination();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: data.error.message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tregisterFilterChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('#moduleFilter').on('change', function (e) {\n\t\t\t\tjQuery('#pageNumber').val('1');\n\t\t\t\tjQuery('#pageToJump').val('1');\n\t\t\t\tjQuery('#orderBy').val('');\n\t\t\t\tjQuery('#sortOrder').val('');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tsourceModule: jQuery(e.currentTarget).val()\n\t\t\t\t};\n\t\t\t\t//Make the select all count as empty\n\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t//Make total number of pages as empty\n\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * function to load the contents from the url through pjax\n\t\t */\n\t\tloadContents: function (url) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.requestPjax(url)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.registerFilterChangeEvent();\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","triggerCreate","url","jQuery","val","selectedModule","length","window","location","href","DeleteRecord","deleteRecordActionUrl","self","app","showConfirmModal","title","vtranslate","confirmedCallback","AppConnector","request","done","data","success","params","text","Settings_Vtiger_Index_Js","showMessage","getListViewRecords","updatePagination","showNotify","error","message","type","registerFilterChangeEvent","on","e","module","getModuleName","parent","getParentModuleName","sourceModule","currentTarget","thisInstance","loadContents","Deferred","requestPjax","html","aDeferred","resolve","fail","err","reject","promise","registerEvents","_super"],"mappings":"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"}