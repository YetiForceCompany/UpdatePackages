{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Edit_Js(\n\t'Settings_Magento_Edit_Js',\n\t{},\n\t{\n\t\tregisterSubmitForm: function () {\n\t\t\tvar form = this.getForm();\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request(paramsForm)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (true == data.result.success) {\n\t\t\t\t\t\t\t\twindow.location.href = data.result.url;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttext: data.result.message,\n\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (textStatus) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: textStatus,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\tgetRecordsListParams: function (container) {\n\t\t\treturn { module: $('input[name=\"popupReferenceModule\"]', container).val() };\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tconst form = this.getForm();\n\t\t\tif (form.length) {\n\t\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\t}\n\t\t\tthis.registerSubmitForm();\n\t\t\tthis.registerBasicEvents(form);\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_Edit_Js","registerSubmitForm","getForm","form","on","e","preventDefault","stopPropagation","validationEngine","paramsForm","serializeFormData","progressIndicatorElement","jQuery","progressIndicator","blockInfo","enabled","request","done","data","mode","result","success","window","location","href","url","app","showNotify","text","message","type","fail","textStatus","formAlignmentAfterValidation","getRecordsListParams","container","module","$","val","registerEvents","length","validationEngineOptions","registerBasicEvents"],"mappings":";;AAAA,kKACA,YAAA,CAEAA,uBAAuB,CACtB,0BADsB,CAEtB,EAFsB,CAGtB,CACCC,kBAAkB,CAAE,SAAA,kBAAA,EAAY,CAC/B,QAAQ,CAAG,IAAA,CAAKC,OAAL,EAAX,CACAC,IAAI,CAACC,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAG9B,GAFAA,CAAC,CAACC,cAAF,EAEA,CADAD,CAAC,CAACE,eAAF,EACA,CAAI,CAAA,CAAA,GAAAJ,IAAI,CAACK,gBAAL,CAAsB,UAAtB,CAAJ,CAAgD,CAC3CC,IAAAA,UAAU,CAAGN,IAAI,CAACO,iBAAL,EAD8B,CAE3CC,wBAAwB,CAAGC,MAAM,CAACC,iBAAP,CAAyB,CACvDC,SAAS,CAAE,CAAEC,OAAO,CAAT,CAAA,CAAA,CAD4C,CAAzB,CAFgB,CAwB/C,mBAnBY,CAACC,OAAb,CAAqBP,UAArB,CACEQ,CAAAA,IADF,CACO,SAAUC,IAAV,CAAgB,CACrBP,wBAAwB,CAACE,iBAAzB,CAA2C,CAAEM,IAAI,CAAE,MAAR,CAA3C,CADqB,CAEjB,CAAA,CAAA,EAAQD,IAAI,CAACE,MAAL,CAAYC,OAFH,CAGpBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBN,IAAI,CAACE,MAAL,CAAYK,GAHf,CAKpBC,GAAG,CAACC,UAAJ,CAAe,CACdC,IAAI,CAAEV,IAAI,CAACE,MAAL,CAAYS,OADJ,CAEdC,IAAI,CAAE,OAFQ,CAAf,EAKD,CAXF,EAYEC,IAZF,CAYO,SAAUC,UAAV,CAAsB,CAC3BrB,wBAAwB,CAACE,iBAAzB,CAA2C,CAAEM,IAAI,CAAE,MAAR,CAA3C,CAD2B,CAE3BO,GAAG,CAACC,UAAJ,CAAe,CACdC,IAAI,CAAEI,UADQ,CAEdF,IAAI,CAAE,OAFQ,CAAf,EAIA,CAlBF,CAmBA,CACA,CAAA,CAAA,CAGD,OAFCJ,GAAG,CAACO,4BAAJ,CAAiC9B,IAAjC,CAED,CAAA,CAAA,CACA,CAhCD,EAiCA,CApCF,CAqCC+B,oBAAoB,CAAE,SAAA,oBAAA,CAAUC,SAAV,CAAqB,CAC1C,OAAO,CAAEC,MAAM,CAAEC,CAAC,CAAC,sCAAD,CAAuCF,SAAvC,CAAD,CAAmDG,GAAnD,EAAV,CACP,CAvCF,CAwCCC,cAAc,CAAE,SAAY,cAAA,EAAA,CAC3B,IAAMpC,IAAI,CAAG,IAAKD,CAAAA,OAAL,EAAb,CACIC,IAAI,CAACqC,MAFkB,EAG1BrC,IAAI,CAACK,gBAAL,CAAsBkB,GAAG,CAACe,uBAA1B,CAH0B,CAK3B,IAAA,CAAKxC,kBAAL,EAL2B,CAM3B,IAAA,CAAKyC,mBAAL,CAAyBvC,IAAzB,EACA,CA/CF,CAHsB;;"}