{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/**\n * SlaPolicy Edit Js class\n *\n * @package     Edit\n *\n * @description SlaPolicy Edit View scripts\n * @license     YetiForce Public License 5.0\n * @author      Rafal Pospiech <r.pospiech@yetiforce.com>\n */\n'use strict';\nSettings_Vtiger_List_Js(\n\t'Settings_Wapro_List_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Register button to create record\n\t\t */\n\t\tregisterButtons: function () {\n\t\t\tconst container = this.getListViewContainer();\n\t\t\tcontainer.on('click', '.js-add-record-modal, .js-edit-record-modal', (e) => {\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\turl: e.currentTarget.dataset.url,\n\t\t\t\t\tsendByAjaxCb: (_, responseData) => {\n\t\t\t\t\t\tthis.getListViewRecords();\n\t\t\t\t\t\tif (responseData['result']) {\n\t\t\t\t\t\t\tthis.showListModal(responseData['result']);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register list modal\n\t\t */\n\t\tregisterListModal: function () {\n\t\t\tthis.getListViewContainer().on('click', '.js-list-sync', (e) => {\n\t\t\t\tthis.showListModal(e.currentTarget.dataset.id);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show list modal\n\t\t * @param {int} id\n\t\t */\n\t\tshowListModal: function (id) {\n\t\t\tapp.showModalWindow(\n\t\t\t\tnull,\n\t\t\t\t'index.php?parent=Settings&module=Wapro&view=ListSynchronizerModal&id=' + id,\n\t\t\t\t(modalContainer) => {\n\t\t\t\t\tmodalContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\tlet synchronizer = [];\n\t\t\t\t\t\tmodalContainer.find('.js-synchronizer:checked').each(function () {\n\t\t\t\t\t\t\tsynchronizer.push($(this).val());\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\tmode: 'updateSynchronizer',\n\t\t\t\t\t\t\tid: id,\n\t\t\t\t\t\t\tsynchronizer: synchronizer\n\t\t\t\t\t\t}).done(() => {\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.registerListModal();\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","registerButtons","container","getListViewContainer","on","e","app","showModalWindow","url","currentTarget","dataset","sendByAjaxCb","_","responseData","getListViewRecords","showListModal","registerListModal","id","modalContainer","find","each","synchronizer","push","$","val","AppConnector","request","module","getModuleName","parent","getParentModuleName","action","mode","done","hideModalWindow","registerEvents","_super"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,aACAA,uBAAuB,CACtB,wBADsB,CAEtB,EAFsB,CAGtB;AAED;AACA,KACEC,eAAe,CAAE,SAAY,eAAA,EAAA,CAAA,IAAA,KAAA,CAAA,IAAA,CACtBC,SAAS,CAAG,IAAKC,CAAAA,oBAAL,EADU,CAE5BD,SAAS,CAACE,EAAV,CAAa,OAAb,CAAsB,6CAAtB,CAAqE,SAACC,CAAD,CAAO,CAC3EC,GAAG,CAACC,eAAJ,CAAoB,CACnBC,GAAG,CAAEH,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBF,GADV,CAEnBG,YAAY,CAAE,SAACC,YAAAA,CAAAA,CAAD,CAAIC,YAAJ,CAAqB,CAClC,KAAI,CAACC,kBAAL,EADkC,CAE9BD,YAAY,CAAA,MAFkB,EAGjC,KAAI,CAACE,aAAL,CAAmBF,YAAY,CAAA,MAA/B,EAED,CAPkB,CAApB,EASA,CAVD,EAWA,CAjBF;AAmBD;AACA,KACEG,iBAAiB,CAAE,SAAY,iBAAA,EAAA,CAAA,IAAA,MAAA,CAAA,IAAA,CAC9B,KAAKb,oBAAL,EAAA,CAA4BC,EAA5B,CAA+B,OAA/B,CAAwC,eAAxC,CAAyD,SAACC,CAAD,CAAO,CAC/D,MAAI,CAACU,aAAL,CAAmBV,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBO,EAA3C,EACA,CAFD,EAGA,CAzBF;AA2BD;AACA;AACA,KACEF,aAAa,CAAE,SAAA,aAAA,CAAUE,EAAV,CAAc,CAC5BX,GAAG,CAACC,eAAJ,CACC,IADD,CAEC,wEAA0EU,EAF3E,CAGC,SAACC,cAAD,CAAoB,CACnBA,cAAc,CAACC,IAAf,CAAoB,iBAApB,CAAA,CAAuCf,EAAvC,CAA0C,OAA1C,CAAmD,UAAM,CACxD,IAAgB,YAAA,CAAG,EAAnB,CACAc,cAAc,CAACC,IAAf,CAAoB,0BAApB,EAAgDC,IAAhD,CAAqD,UAAY,CAChEC,YAAY,CAACC,IAAb,CAAkBC,CAAC,CAAC,IAAD,CAAD,CAAQC,GAAR,EAAlB,EACA,CAFD,CAFwD,CAKxDC,YAAY,CAACC,OAAb,CAAqB,CACpBC,MAAM,CAAErB,GAAG,CAACsB,aAAJ,EADY,CAEpBC,MAAM,CAAEvB,GAAG,CAACwB,mBAAJ,EAFY,CAGpBC,MAAM,CAAE,UAHY,CAIpBC,IAAI,CAAE,oBAJc,CAKpBf,EAAE,CAAEA,EALgB,CAMpBI,YAAY,CAAEA,YANM,CAArB,CAAA,CAOGY,IAPH,CAOQ,UAAM,CACb3B,GAAG,CAAC4B,eAAJ,GACA,CATD,EAUA,CAfD,EAgBA,CApBF,EAsBA,CArDF;AAuDD;AACA,KACEC,cAAc,CAAE,SAAY,cAAA,EAAA,CAC3B,IAAKC,CAAAA,MAAL,EAD2B,CAE3B,IAAKpB,CAAAA,iBAAL,GACA,CA5DF,CAHsB;;"}