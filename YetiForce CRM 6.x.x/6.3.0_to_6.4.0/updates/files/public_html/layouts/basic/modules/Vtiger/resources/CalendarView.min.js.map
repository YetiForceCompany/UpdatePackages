{"version":3,"file":"CalendarView.min.js","sources":["CalendarView.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n/**\n * Class representing a standard calendar.\n * @extends Calendar_Js\n */\nwindow.Vtiger_Calendar_Js = class Vtiger_Calendar_Js extends Calendar_Js {\n\t/**\n\t * Create calendar's options.\n\t * @param {jQuery} container\n\t * @param {bool} readonly\n\t * @param {boolean} browserHistory\n\t */\n\tconstructor(container, readonly, browserHistory = false) {\n\t\tsuper(container, readonly, browserHistory);\n\t}\n\t/**\n\t * Set calendar module options.\n\t * @returns {{allDaySlot: boolean, dayClick: object, selectable: boolean}}\n\t */\n\tsetCalendarModuleOptions() {\n\t\tconst self = this;\n\t\treturn {\n\t\t\tallDaySlot: false,\n\t\t\tdateClick: (args) => {\n\t\t\t\tif (this.eventCreate) {\n\t\t\t\t\tself.registerDayClickEvent(args);\n\t\t\t\t}\n\t\t\t},\n\t\t\tselectable: false,\n\t\t\teventClick: function (info) {\n\t\t\t\tinfo.jsEvent.preventDefault();\n\t\t\t\tconst element = $(info.el);\n\t\t\t\tlet link = element.attr('href');\n\t\t\t\tif (!link) {\n\t\t\t\t\tlink = element.find('a').attr('href');\n\t\t\t\t}\n\t\t\t\tif (link && $.inArray('js-show-modal', info.event.classNames) !== -1) {\n\t\t\t\t\tapp.showModalWindow(null, link.replace('view=', 'xview=') + '&view=QuickDetailModal');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\t/**\n\t * Set calendar module's options.\n\t * @returns {object}\n\t */\n\tsetCalendarAdvancedOptions() {\n\t\tconst self = this;\n\t\treturn Object.assign(super.setCalendarAdvancedOptions(), {\n\t\t\theaderToolbar: {\n\t\t\t\tleft: `dayGridMonth,${app.getMainParams('weekView')},${app.getMainParams('dayView')},listWeek,today`,\n\t\t\t\tcenter: 'prevYear,prev,title,next,nextYear',\n\t\t\t\tright: ''\n\t\t\t},\n\t\t\tselect: function (info) {\n\t\t\t\tself.selectDays(info);\n\t\t\t},\n\t\t\tdatesSet: function (dateInfo) {\n\t\t\t\tapp.event.trigger('Calendar.DatesSet', dateInfo, this);\n\t\t\t\tif (self.fullCalendar.view !== 'year') {\n\t\t\t\t\tself.loadCalendarData();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Function invokes by fullCalendar, sets selected days in form\n\t * @param {object} info\n\t */\n\tselectDays(info) {\n\t\tif (!this.container.find('.js-right-panel-event-link').length) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.container.find('.js-right-panel-event-link').tab('show');\n\t\tsuper.selectDays(info);\n\t}\n\t/**\n\t * Load calendar data\n\t */\n\tloadCalendarData() {\n\t\tconst self = this,\n\t\t\tdefaultParams = this.getDefaultParams(),\n\t\t\tprogressInstance = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\tself.fullCalendar.removeAllEvents();\n\t\tself.clearFilterButton(defaultParams['user']);\n\t\tAppConnector.request(defaultParams).done((events) => {\n\t\t\tself.fullCalendar.removeAllEvents();\n\t\t\tself.fullCalendar.addEventSource(events.result);\n\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t});\n\t}\n\t/**\n\t * Reload calendar data after changing search parameters\n\t */\n\treloadCalendarData() {\n\t\tsuper.reloadCalendarData();\n\t\tthis.updateCountTaskCalendar();\n\t}\n\t/**\n\t * Show/hide clear filter button\n\t */\n\tclearFilterButton(user) {\n\t\tlet currentUser = parseInt(app.getMainParams('userId')),\n\t\t\ttime = app.getMainParams('showType'),\n\t\t\tstatement =\n\t\t\t\tJSON.stringify(user['selectedIds']) === JSON.stringify([`${currentUser}`]) &&\n\t\t\t\tthis.getCurrentCvId() === undefined &&\n\t\t\t\ttime === 'current';\n\t\t$('.js-calendar__clear-filters').toggleClass('d-none', statement);\n\t}\n\t/**\n\t * Default params\n\t * @returns {{module: *, action: string, mode: string, start: *, end: *, user: *, emptyFilters: boolean}}\n\t */\n\tgetDefaultParams() {\n\t\tlet options = super.getDefaultParams(),\n\t\t\tuser = this.getSelectedUsersCalendar();\n\t\tif (0 === user.length) {\n\t\t\tuser = app.getMainParams('usersId');\n\t\t}\n\t\tif (user === undefined) {\n\t\t\tuser = [app.getMainParams('userId')];\n\t\t}\n\t\tif (this.fullCalendar.view === 'timeGridDay') {\n\t\t\tthis.fullCalendar.view.activeEnd = this.fullCalendar.view.activeEnd.add(1, 'day');\n\t\t}\n\t\tconst time = this.getSidebarView().find('.js-switch--showType input:checked').data('val');\n\t\toptions.time = options.time !== undefined ? time : app.getMainParams('showType');\n\t\toptions.history = true;\n\t\toptions.user = user;\n\t\treturn options;\n\t}\n\t/**\n\t * Get selected users\n\t * @returns {{ selectedIds: array, excludedIds: array }}\n\t */\n\tgetSelectedUsersCalendar() {\n\t\tconst sidebar = this.getSidebarView();\n\t\tlet selectedUsers = sidebar.find('.js-input-user-owner-id:checked'),\n\t\t\tnotSelectedUsers = sidebar.find('.js-input-user-owner-id:not(:checked)'),\n\t\t\tselectedUsersAjax = sidebar.find('.js-input-user-owner-id-ajax'),\n\t\t\tselectedRolesAjax = sidebar.find('.js-input-role-owner-id-ajax'),\n\t\t\tcheckboxSelectAll = sidebar.find('.js-select-all'),\n\t\t\tselectedIds = [],\n\t\t\texcludedIds = [];\n\n\t\tlet ifSelectAllIsChecked = checkboxSelectAll.length > 0 && checkboxSelectAll.is(':checked');\n\t\tif (ifSelectAllIsChecked) {\n\t\t\tselectedIds.push('all');\n\t\t} else if (selectedUsers.length > 0) {\n\t\t\tselectedUsers.each(function () {\n\t\t\t\tselectedIds.push($(this).val());\n\t\t\t});\n\t\t}\n\t\tif (selectedUsersAjax.length > 0) {\n\t\t\tselectedIds = selectedUsersAjax.val().concat(selectedRolesAjax.val());\n\t\t}\n\t\tif (ifSelectAllIsChecked && notSelectedUsers) {\n\t\t\tnotSelectedUsers.each(function () {\n\t\t\t\texcludedIds.push($(this).val());\n\t\t\t});\n\t\t}\n\t\tif (0 === selectedIds.length && CONFIG.userId) {\n\t\t\tselectedIds.push(CONFIG.userId);\n\t\t}\n\t\treturn { selectedIds: selectedIds, excludedIds: excludedIds };\n\t}\n\t/**\n\t * Register day click event.\n\t * @param {object} info\n\t */\n\tregisterDayClickEvent(info) {\n\t\tconst self = this,\n\t\t\tuserFormat = App.Fields.Date.dateToUserFormat(info.date);\n\t\tif (!CONFIG.isQuickCreateSupported) {\n\t\t\tapp.openUrl(\n\t\t\t\t'index.php?module=' +\n\t\t\t\t\t(this.module ? this.module : CONFIG.module) +\n\t\t\t\t\t'&view=Edit&date_start=' +\n\t\t\t\t\tuserFormat +\n\t\t\t\t\t'&due_date=' +\n\t\t\t\t\tuserFormat\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tself.getCalendarCreateView().done((data) => {\n\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\tself.reloadCalendarData();\n\t\t\t\t},\n\t\t\t\tcallbackBeforeRegister: (modal) => {\n\t\t\t\t\tmodal.find('.js-selected-date').val(App.Fields.Date.dateToDbFormat(info.date));\n\t\t\t\t},\n\t\t\t\tcallbackPostShown: (modal) => {\n\t\t\t\t\tself.dayCallbackCreateModal(modal, info);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Callback after shown create modal\n\t * @param {jQuery} modal\n\t * @param {object} info\n\t */\n\tdayCallbackCreateModal(modal, info) {\n\t\tlet dateFormat = modal.find('[name=\"date_start\"]').data('dateFormat'),\n\t\t\ttimeFormat = modal.find('[name=\"time_start\"]').data('format'),\n\t\t\tdefaultTimeFormat = 'hh:mm A',\n\t\t\tuserFormat = App.Fields.Date.dateToUserFormat(info.date, dateFormat),\n\t\t\tendTimeString;\n\n\t\tif (timeFormat == 24) {\n\t\t\tdefaultTimeFormat = 'HH:mm';\n\t\t}\n\t\tlet startTimeString = moment(info.date).format(defaultTimeFormat);\n\t\tif ('dayGridMonth' == this.fullCalendar.view.type) {\n\t\t\tlet now = new Date();\n\t\t\tstartTimeString = moment(now).format(defaultTimeFormat);\n\t\t\tendTimeString = moment(now).add(15, 'minutes').format(defaultTimeFormat);\n\t\t} else {\n\t\t\tendTimeString = moment(info.date).add(30, 'minutes').format(defaultTimeFormat);\n\t\t}\n\t\tmodal.find('[name=\"date_start\"]').val(userFormat);\n\t\tmodal.find('[name=\"due_date\"]').val(userFormat);\n\t\tmodal.find('[name=\"time_start\"]').val(startTimeString);\n\t\tmodal.find('[name=\"time_end\"]').val(endTimeString);\n\t}\n\t/**\n\t * Register switch events\n\t */\n\tregisterSwitchEvents() {\n\t\tlet isWorkDays,\n\t\t\tswitchShowTypeVal,\n\t\t\tswitchContainer = $('.js-calendar__tab--filters'),\n\t\t\tswitchShowType = switchContainer.find('.js-switch--showType'),\n\t\t\tshowTypeState = switchShowType.find('.js-switch--label-on.active').length ? 'current' : 'history',\n\t\t\tswitchSwitchingDays = switchContainer.find('.js-switch--switchingDays'),\n\t\t\tswitchingDaysState = switchSwitchingDays.find('.js-switch--label-on.active').length ? 'workDays' : 'all';\n\t\tlet historyParams = app.getMainParams('historyParams', true);\n\t\tif (historyParams === '') {\n\t\t\tisWorkDays =\n\t\t\t\tapp.getMainParams('switchingDays') === 'workDays' && app.moduleCacheGet('defaultSwitchingDays') !== 'all';\n\t\t\tswitchShowTypeVal =\n\t\t\t\tapp.getMainParams('showType') === 'current' && app.moduleCacheGet('defaultShowType') !== 'history';\n\t\t\tif (!switchShowTypeVal) {\n\t\t\t\tswitchShowType.find('.js-switch--label-off').button('toggle');\n\t\t\t}\n\t\t} else {\n\t\t\tif (historyParams.time !== undefined) {\n\t\t\t\tapp.setMainParams('showType', historyParams.time);\n\t\t\t}\n\t\t\tapp.setMainParams('switchingDays', historyParams.hiddenDays === '' ? 'all' : 'workDays');\n\t\t}\n\t\tswitchShowType.on('change', 'input', (e) => {\n\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined') {\n\t\t\t\tapp.setMainParams('showType', 'current');\n\t\t\t\tapp.moduleCacheSet('defaultShowType', 'current');\n\t\t\t} else if (typeof currentTarget.data('off-text') !== 'undefined') {\n\t\t\t\tapp.setMainParams('showType', 'history');\n\t\t\t\tapp.moduleCacheSet('defaultShowType', 'history');\n\t\t\t}\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t\tif (app.getMainParams('showType') !== showTypeState) {\n\t\t\t$('label.active', switchShowType).find('input').filter(':first').trigger('change');\n\t\t}\n\t\tif (switchSwitchingDays.length) {\n\t\t\tif (typeof isWorkDays !== 'undefined' && !isWorkDays) {\n\t\t\t\tswitchSwitchingDays.find('.js-switch--label-off').button('toggle');\n\t\t\t}\n\t\t\tswitchSwitchingDays.on('change', 'input', (e) => {\n\t\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\t\tlet hiddenDays = [];\n\t\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined') {\n\t\t\t\t\tapp.setMainParams('switchingDays', 'workDays');\n\t\t\t\t\tapp.moduleCacheSet('defaultSwitchingDays', 'workDays');\n\t\t\t\t\thiddenDays = app.getMainParams('hiddenDays', true);\n\t\t\t\t} else if (typeof currentTarget.data('off-text') !== 'undefined') {\n\t\t\t\t\tapp.setMainParams('switchingDays', 'all');\n\t\t\t\t\tapp.moduleCacheSet('defaultSwitchingDays', 'all');\n\t\t\t\t}\n\t\t\t\tthis.fullCalendar.setOption('hiddenDays', hiddenDays);\n\t\t\t\tthis.fullCalendar.setOption('height', this.setCalendarHeight());\n\t\t\t});\n\t\t\tif (app.getMainParams('switchingDays') !== switchingDaysState) {\n\t\t\t\t$('label.active', switchSwitchingDays).find('input').filter(':first').trigger('change');\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Function toggles next year/month and general arrows on view render\n\t */\n\tregisterViewRenderEvents() {\n\t\tlet toolbar = this.calendarView.find('.fc-toolbar.fc-header-toolbar');\n\t\tthis.showChangeDateButtons(toolbar);\n\t\tthis.appendSubDateRow(toolbar);\n\t\tthis.refreshDatesRowView();\n\t\tthis.addHeaderButtons();\n\t\tthis.showTodayButtonCheckbox(toolbar);\n\t\tapp.event.on('Calendar.DatesSet', () => {\n\t\t\tthis.showChangeDateButtons(toolbar);\n\t\t\tthis.refreshDatesRowView();\n\t\t\tthis.showTodayButtonCheckbox(toolbar);\n\t\t});\n\t}\n\t/**\n\t * Function shows change date buttons in calendar's header for specific view\n\t * @param {jQuery} toolbar\n\t */\n\tshowChangeDateButtons(toolbar) {\n\t\tconst view = this.fullCalendar.view;\n\t\tconst buttonText = this.calendarOptions.buttonText;\n\t\tlet nextPrevButtons = toolbar.find('.fc-prev-button, .fc-next-button'),\n\t\t\tyearButtons = toolbar.find('.fc-prevYear-button, .fc-nextYear-button');\n\t\tyearButtons.first().html(`<span class=\"fas fa-xs fa-minus mr-1\"></span>${buttonText['year']}`);\n\t\tyearButtons.last().html(`${buttonText['year']}<span class=\"fas fa-xs fa-plus ml-1\"></span>`);\n\t\tif (view.type !== 'year' && Calendar_Js.viewsNamesLabels[view.type]) {\n\t\t\tlet viewType = Calendar_Js.viewsNamesLabels[view.type];\n\t\t\tnextPrevButtons.first().html(`<span class=\"fas fa-xs fa-minus mr-1\"></span>${buttonText[viewType]}`);\n\t\t\tnextPrevButtons.last().html(`${buttonText[viewType]}<span class=\"fas fa-xs fa-plus ml-1\"></span>`);\n\t\t}\n\t\tif (view.type === 'year') {\n\t\t\tnextPrevButtons.hide();\n\t\t\tyearButtons.show();\n\t\t} else if (view.type === 'dayGridMonth') {\n\t\t\tnextPrevButtons.show();\n\t\t\tyearButtons.show();\n\t\t} else if (view.type === 'list') {\n\t\t\tnextPrevButtons.hide();\n\t\t\tyearButtons.hide();\n\t\t} else {\n\t\t\tnextPrevButtons.show();\n\t\t\tyearButtons.hide();\n\t\t}\n\t}\n\t/**\n\t * Appends sub date row to calendar header and register its scroll\n\t * @param {jQuery} toolbar\n\t */\n\tappendSubDateRow(toolbar) {\n\t\tif (!this.calendarView.find('.js-dates-row').length) {\n\t\t\tthis.subDateRow =\n\t\t\t\t$(`<div class=\"js-scroll js-dates-row u-overflow-auto-xl-down order-4 flex-grow-1 position-relative my-1 w-100\" data-js=\"perfectScrollbar | container\">\n\t\t\t\t\t\t<div class=\"d-flex flex-nowrap w-100\">\n\t\t\t\t\t\t\t<div class=\"js-sub-date-list w-100 sub-date-list row no-gutters flex-nowrap nav nav-tabs\" data-js=\"data-type\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`);\n\t\t\ttoolbar.append(this.subDateRow);\n\t\t\tif ($(window).width() > app.breakpoints.lg) {\n\t\t\t\tapp.showNewScrollbar(toolbar);\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t * Refresh date bar with counts\n\t */\n\trefreshDatesRowView() {\n\t\tconst self = this;\n\t\tswitch (this.fullCalendar.view.type) {\n\t\t\tcase 'year':\n\t\t\t\tself.generateYearList();\n\t\t\t\tbreak;\n\t\t\tcase 'dayGridMonth':\n\t\t\t\tself.generateMonthList();\n\t\t\t\tbreak;\n\t\t\tcase 'dayGridWeek':\n\t\t\tcase 'timeGridWeek':\n\t\t\tcase 'listWeek':\n\t\t\t\tself.generateWeekList();\n\t\t\t\tbreak;\n\t\t\tcase 'dayGridWeek':\n\t\t\tcase 'timeGridDay':\n\t\t\t\tself.generateDaysList();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.container.find('.js-dates-row .js-sub-date-list').html('');\n\t\t\t\tbreak;\n\t\t}\n\t\tself.updateCountTaskCalendar();\n\t\tself.registerDatesChange();\n\t}\n\t/**\n\t * Generate days bar list\n\t */\n\tgenerateDaysList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveDays = moment(this.fullCalendar.view.currentStart).format('DDD'),\n\t\t\tnextDays = moment(this.fullCalendar.view.currentStart).add(7, 'days');\n\t\tlet prevDays = moment(this.fullCalendar.view.currentStart).subtract(5, 'days'),\n\t\t\tdaysToShow = nextDays.diff(prevDays, 'days'),\n\t\t\thtml = '';\n\n\t\tfor (let day = 0; day < daysToShow; ++day) {\n\t\t\tif (app.getMainParams('switchingDays') === 'workDays' && app.moduleCacheGet('defaultSwitchingDays') !== 'all') {\n\t\t\t\tif ($.inArray(prevDays.day(), app.getMainParams('hiddenDays', true)) !== -1) {\n\t\t\t\t\tprevDays = moment(prevDays).add(1, 'days');\n\t\t\t\t\tdaysToShow++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet date = prevDays.format('YYYY-MM-DD'),\n\t\t\t\tdateUser = App.Fields.Date.dateToUserFormat(date),\n\t\t\t\tactive = '';\n\t\t\tif (prevDays.format('DDD') === activeDays) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${date}\" data-type=\"days\"\n\t\t\t\tclass=\"js-sub-record sub-record nav-item col-1 px-0\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link js-popover-tooltip ${active}\"\n\t\t\t\t\ttitle=\"${App.Fields.Date.fullDaysTranslated[prevDays.format('d')]} ${dateUser}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${app.vtranslate('JS_DAY_SHORT')} ${prevDays.format('DD')}\n\t\t\t\t<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div>\n\t\t\t\t</div></div></div>`;\n\t\t\tprevDays = moment(prevDays).add(1, 'days');\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Generate weeks bar list\n\t */\n\tgenerateWeekList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveWeek = moment(this.fullCalendar.view.currentStart).format('WW'),\n\t\t\tnextWeeks = moment(this.fullCalendar.view.currentStart).add(6, 'weeks');\n\t\tlet prevWeeks = moment(this.fullCalendar.view.currentStart).subtract(5, 'weeks'),\n\t\t\thtml = '';\n\t\twhile (prevWeeks.format('YYYY-MM-DD') <= nextWeeks.format('YYYY-MM-DD')) {\n\t\t\tlet date = prevWeeks.format('YYYY-MM-DD'),\n\t\t\t\tdateEnd = moment(prevWeeks).add(6, 'day').format('YYYY-MM-DD'),\n\t\t\t\tdateUser = App.Fields.Date.dateToUserFormat(date),\n\t\t\t\tdateEndUser = App.Fields.Date.dateToUserFormat(dateEnd),\n\t\t\t\tactive = '';\n\t\t\tif (prevWeeks.format('WW') === activeWeek) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${dateEnd}\"\n\t\t\t\tclass=\"js-sub-record sub-record nav-item col-1 px-0\" data-type=\"weeks\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link js-popover-tooltip ${active}\" title=\"${dateUser} > ${dateEndUser}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${app.vtranslate('JS_WEEK_SHORT')} ${prevWeeks.format('WW')}\n\t\t\t\t<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div>\n\t\t\t\t</div></div></div>`;\n\t\t\tprevWeeks.add(1, 'weeks');\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Generate month bar list\n\t */\n\tgenerateMonthList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveMonth = this.fullCalendar.view.currentStart.getMonth(),\n\t\t\tactiveYear = this.fullCalendar.view.currentStart.getFullYear();\n\t\tlet html = '';\n\t\tfor (let month = 0; 12 > month; ++month) {\n\t\t\tlet m = month <= 8 ? '0' + (month + 1) : month + 1,\n\t\t\t\tlastDay = App.Fields.Date.getLastMonthDay(activeYear, m),\n\t\t\t\tdate = activeYear + '-' + m + '-01',\n\t\t\t\tdateEnd = activeYear + '-' + m + '-' + lastDay,\n\t\t\t\tdateUser = App.Fields.Date.dateToUserFormat(date),\n\t\t\t\tdateEndUser = App.Fields.Date.dateToUserFormat(dateEnd),\n\t\t\t\tactive = '';\n\t\t\tif (month === activeMonth) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${dateEnd}\"\n\t\t\t\tclass=\"js-sub-record sub-record nav-item col-1 px-0\" data-type=\"months\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link js-popover-tooltip ${active}\" title=\"${dateUser} > ${dateEndUser}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${App.Fields.Date.monthsTranslated[month]}\n\t\t\t\t<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div>\n\t\t\t\t</div></div></div>`;\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Generate year bar list\n\t */\n\tgenerateYearList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveYear = this.fullCalendar.view.currentStart.getFullYear(),\n\t\t\tnextYear = activeYear + 1;\n\t\tlet prevYear = activeYear - 1,\n\t\t\thtml = '';\n\t\twhile (prevYear <= nextYear) {\n\t\t\tlet date = prevYear + '-01-01',\n\t\t\t\tdateEnd = prevYear + '-12-31',\n\t\t\t\tactive = '';\n\t\t\tif (prevYear === activeYear) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${dateEnd}\"\n\t\t\t\tclass=\"js-sub-record sub-record col-4 nav-item\" data-type=\"years\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link ${active}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${prevYear}<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div></div>\n\t\t\t\t</div></div>`;\n\t\t\tprevYear = prevYear + 1;\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Counting the number of events in the bar for the current view\n\t */\n\tupdateCountTaskCalendar() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tsubDatesElements = datesView.find('.js-sub-record');\n\t\tlet options = this.getDefaultParams(),\n\t\t\tdateArray = {};\n\t\tdelete options.start;\n\t\tdelete options.end;\n\t\tsubDatesElements.each(function (key) {\n\t\t\tdateArray[key] = $(this).data('dates').split('|');\n\t\t});\n\t\toptions.mode = 'getCountEventsGroup';\n\t\toptions.dates = dateArray;\n\t\tAppConnector.request(options).done(function (events) {\n\t\t\tsubDatesElements.each(function (key) {\n\t\t\t\t$(this).find('.js-count-events').removeClass('hide').html(events.result[key]);\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Registration of the date change in the counting the number of events bar\n\t */\n\tregisterDatesChange() {\n\t\tthis.container.find('.js-dates-row .js-sub-record').on('click', (e) => {\n\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\tcurrentTarget.addClass('active');\n\t\t\tthis.fullCalendar.gotoDate(currentTarget.data('date'));\n\t\t});\n\t}\n\t/**\n\t * Add header buttons\n\t */\n\taddHeaderButtons() {\n\t\tif (this.calendarView.find('.js-calendar__view-btn').length) {\n\t\t\treturn;\n\t\t}\n\t\tlet buttonsContainer = this.calendarView.prev('.js-calendar__header-buttons'),\n\t\t\tviewBtn = buttonsContainer.find('.js-calendar__view-btn').clone(),\n\t\t\tfilters = buttonsContainer.find('.js-calendar__filter-container').clone(),\n\t\t\ttoolbar = this.calendarView.find('.fc-toolbar-chunk');\n\t\ttoolbar.first().addClass('fc-left');\n\t\ttoolbar.eq(1).addClass('fc-center');\n\t\tthis.calendarView.find('.fc-left .fc-button-group').prepend(viewBtn);\n\t\tthis.calendarView.find('.fc-center').after(filters);\n\t\tthis.registerClearFilterButton();\n\t\tthis.registerFilterTabChange();\n\t}\n\t/**\n\t * Register clear filter button\n\t */\n\tregisterClearFilterButton() {\n\t\tconst sidebar = this.getSidebarView(),\n\t\t\tclearBtn = this.calendarView.find('.js-calendar__clear-filters');\n\t\tapp.showPopoverElementView(clearBtn);\n\t\tclearBtn.on('click', () => {\n\t\t\t$('.js-calendar__extended-filter-tab a').removeClass('active');\n\t\t\tapp.moduleCacheSet('CurrentCvId', null);\n\t\t\tapp.setMainParams('showType', 'current');\n\t\t\tapp.moduleCacheSet('defaultShowType', 'current');\n\t\t\tsidebar.find('input:checkbox').prop('checked', false);\n\t\t\tsidebar.find('option:selected').prop('selected', false).trigger('change.select2');\n\t\t\tsidebar.find('.js-sidebar-filter-container').each((_, e) => {\n\t\t\t\tlet element = $(e);\n\t\t\t\tlet cacheName = element.data('cache');\n\t\t\t\tif (element.data('name') && cacheName) {\n\t\t\t\t\tapp.moduleCacheSet(cacheName, '');\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet calendarSwitch = sidebar.find('.js-switch--showType [class*=\"js-switch--label\"]'),\n\t\t\t\tactualUserCheckbox = sidebar.find('.js-input-user-owner-id[value=' + app.getMainParams('userId') + ']');\n\t\t\tcalendarSwitch.last().removeClass('active');\n\t\t\tcalendarSwitch.first().addClass('active');\n\t\t\t$('input[data-val=\"current\"]', calendarSwitch).prop('checked', true);\n\t\t\tif (actualUserCheckbox.length) {\n\t\t\t\tactualUserCheckbox.prop('checked', true);\n\t\t\t} else {\n\t\t\t\tapp.setMainParams('usersId', undefined);\n\t\t\t}\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register filter tab change\n\t */\n\tregisterFilterTabChange() {\n\t\tthis.calendarView.find('.js-calendar__extended-filter-tab').on('shown.bs.tab', () => {\n\t\t\tthis.reloadCalendarData();\n\t\t\tapp.moduleCacheSet('CurrentCvId', this.getCurrentCvId());\n\t\t});\n\t}\n\t/**\n\t * Function appends and shows today button's checkbox\n\t * @param {jQuery} toolbar\n\t */\n\tshowTodayButtonCheckbox(toolbar) {\n\t\tlet todayButton = toolbar.find('.fc-today-button'),\n\t\t\ttodyButtonIcon = todayButton.attr('disabled') ? 'fa-calendar-check' : 'fa-calendar',\n\t\t\tpopoverContent = todayButton.attr('title');\n\t\ttodayButton.html(`<div class=\"js-popover-tooltip\"><span class=\"far fa-lg ${todyButtonIcon}\"></span></div>`);\n\t\tapp.showPopoverElementView(todayButton.find('.js-popover-tooltip'), {\n\t\t\ttitle: popoverContent\n\t\t});\n\t}\n\t/**\n\t * Registration of the event being added to favorite users\n\t */\n\tregisterPinUser() {\n\t\tconst self = this;\n\t\tthis.getSidebarView()\n\t\t\t.find('.js-pin-user')\n\t\t\t.on('click', function () {\n\t\t\t\tconst element = $(this);\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: self.module,\n\t\t\t\t\taction: 'Calendar',\n\t\t\t\t\tmode: 'pinOrUnpinUser',\n\t\t\t\t\telement_id: element.data('elementid')\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tif (data.result === 'unpin') {\n\t\t\t\t\t\telement.find('.js-pin-icon').removeClass('fas').addClass('far');\n\t\t\t\t\t} else if (data.result === 'pin') {\n\t\t\t\t\t\telement.find('.js-pin-icon').removeClass('far').addClass('fas');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n\t/**\n\t * Register cache settings\n\t */\n\tregisterCacheSettings() {}\n\t/**\n\t * Register events\n\t */\n\tregisterEvents() {\n\t\tsuper.registerEvents();\n\t\tthis.registerCacheSettings();\n\t\tthis.registerSwitchEvents();\n\t\tthis.registerPinUser();\n\t\tElementQueries.listen();\n\t}\n};\n"],"names":["window","Vtiger_Calendar_Js","container","readonly","browserHistory","self","allDaySlot","dateClick","args","eventCreate","registerDayClickEvent","selectable","eventClick","info","jsEvent","preventDefault","element","$","el","link","attr","find","inArray","event","classNames","app","showModalWindow","replace","assign","headerToolbar","left","getMainParams","center","right","select","selectDays","datesSet","dateInfo","trigger","fullCalendar","view","loadCalendarData","length","tab","defaultParams","getDefaultParams","progressInstance","progressIndicator","blockInfo","enabled","removeAllEvents","clearFilterButton","AppConnector","request","done","events","addEventSource","result","mode","updateCountTaskCalendar","user","parseInt","time","statement","JSON","stringify","currentUser","getCurrentCvId","toggleClass","options","getSelectedUsersCalendar","activeEnd","add","getSidebarView","data","history","selectedUsers","sidebar","notSelectedUsers","selectedUsersAjax","selectedRolesAjax","checkboxSelectAll","selectedIds","excludedIds","ifSelectAllIsChecked","is","push","each","val","concat","CONFIG","userId","userFormat","App","Fields","Date","dateToUserFormat","date","isQuickCreateSupported","getCalendarCreateView","Components","QuickCreate","showModal","callbackFunction","reloadCalendarData","callbackBeforeRegister","modal","dateToDbFormat","callbackPostShown","dayCallbackCreateModal","openUrl","module","dateFormat","timeFormat","defaultTimeFormat","startTimeString","moment","format","type","now","endTimeString","isWorkDays","switchShowTypeVal","switchContainer","switchShowType","showTypeState","switchSwitchingDays","switchingDaysState","historyParams","moduleCacheGet","button","setMainParams","hiddenDays","on","e","currentTarget","moduleCacheSet","filter","setOption","setCalendarHeight","toolbar","calendarView","showChangeDateButtons","appendSubDateRow","refreshDatesRowView","addHeaderButtons","showTodayButtonCheckbox","buttonText","calendarOptions","nextPrevButtons","yearButtons","first","html","last","Calendar_Js","viewsNamesLabels","viewType","hide","show","subDateRow","append","width","breakpoints","lg","showNewScrollbar","generateYearList","generateMonthList","generateWeekList","generateDaysList","registerDatesChange","activeDays","currentStart","nextDays","prevDays","subtract","daysToShow","diff","day","dateUser","active","fullDaysTranslated","vtranslate","datesView","activeWeek","nextWeeks","prevWeeks","dateEnd","dateEndUser","activeMonth","getMonth","activeYear","getFullYear","month","m","lastDay","getLastMonthDay","monthsTranslated","prevYear","subDatesElements","dateArray","start","end","key","split","dates","removeClass","addClass","gotoDate","buttonsContainer","prev","viewBtn","clone","filters","eq","prepend","after","registerClearFilterButton","registerFilterTabChange","clearBtn","showPopoverElementView","prop","_","cacheName","actualUserCheckbox","calendarSwitch","todyButtonIcon","todayButton","popoverContent","title","action","element_id","showNotify","text","registerCacheSettings","registerSwitchEvents","registerPinUser","ElementQueries","listen"],"mappings":"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"}