{"version":3,"file":"Dav.min.js","sources":["Dav.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Dav_Keys_Js',\n\t{},\n\t{\n\t\t//This will store the MenuEditor Container\n\t\tmobileContainer: false,\n\t\t/**\n\t\t * Function to get the MenuEditor container\n\t\t */\n\t\tgetContainer: function () {\n\t\t\tif (this.mobileContainer == false) {\n\t\t\t\tthis.mobileContainer = jQuery('#DavKeysContainer');\n\t\t\t}\n\t\t\treturn this.mobileContainer;\n\t\t},\n\t\taddKey: function (e) {\n\t\t\tvar container = jQuery('#DavKeysContainer');\n\t\t\tvar editColorModal = container.find('.addKeyContainer');\n\t\t\tvar clonedContainer = editColorModal.clone(true, true);\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tdata.find('.addKeyContainer').removeClass('d-none').show();\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('.select'));\n\t\t\t\tdata.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\t\t\tvar form = data.find('form');\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('Adding a Key'),\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\t\t\tsettingMobileInstance.registerSaveEvent('addKey', formData, true);\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t};\n\t\t\tapp.showModalWindow(\n\t\t\t\tclonedContainer,\n\t\t\t\tfunction (data) {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{ width: '1000px' }\n\t\t\t);\n\t\t},\n\t\tdeleteKey: function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tvar closestTrElement = target.closest('.js-tr-row');\n\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\tsettingMobileInstance.registerSaveEvent('deleteKey', {\n\t\t\t\tuser: closestTrElement.data('user')\n\t\t\t});\n\t\t\tclosestTrElement.remove();\n\t\t},\n\t\tregisterSaveEvent: function (mode, data, reload) {\n\t\t\tvar params = {};\n\t\t\tparams.data = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: mode\n\t\t\t};\n\t\t\tif (typeof data !== 'undefined') {\n\t\t\t\tfor (var i in data) {\n\t\t\t\t\tparams.data[i] = data[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tparams.async = false;\n\t\t\tparams.dataType = 'json';\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tvar response = data['result'];\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: response['message']\n\t\t\t\t\t};\n\t\t\t\t\tif (response.success == true) {\n\t\t\t\t\t\tparams.type = 'success';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.type = 'error';\n\t\t\t\t\t}\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tif (reload == true && response.success == true) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (data, err) {});\n\t\t},\n\t\tregisterEvents: function (e) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getContainer();\n\t\t\tcontainer.find('.js-add-key').on('click', thisInstance.addKey);\n\t\t\tcontainer.find('.js-delete-key').on('click', thisInstance.deleteKey);\n\t\t\tApp.Fields.Text.registerCopyClipboard(container);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","mobileContainer","getContainer","addKey","editColorModal","container","find","clonedContainer","clone","callBackFunction","data","removeClass","show","App","Fields","Picklist","showSelect2ElementView","on","formData","form","serializeFormData","progress","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","settingMobileInstance","registerSaveEvent","mode","showModalWindow","width","deleteKey","e","currentTarget","closestTrElement","target","closest","user","remove","reload","module","getModuleName","parent","getParentModuleName","action","params","i","async","dataType","AppConnector","request","done","text","response","type","success","showNotify","window","location","fail","registerEvents","thisInstance","Text","registerCopyClipboard"],"mappings":"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"}