{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_TreesManager_Edit_Js',\n\t{},\n\t{\n\t\tjstreeInstance: false,\n\t\tjstreeLastID: 0,\n\t\tregisterEvents: function () {\n\t\t\tconst self = this,\n\t\t\t\teditContainer = $('#EditView'),\n\t\t\t\tjstreeInstance = self.createTree();\n\t\t\teditContainer.validationEngine();\n\t\t\t$('.addNewElementBtn').on('click', () => {\n\t\t\t\tconst newElement = $('input.addNewElement'),\n\t\t\t\t\tref = jstreeInstance.jstree(true);\n\t\t\t\tif (newElement.val() === '') {\n\t\t\t\t\tconst message = app.vtranslate('JS_FIELD_CAN_NOT_BE_EMPTY');\n\t\t\t\t\tnewElement.validationEngine('showPrompt', message, 'error', 'bottomLeft', true);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tself.jstreeLastID += 1;\n\t\t\t\tref.create_node(\n\t\t\t\t\t'#',\n\t\t\t\t\t{\n\t\t\t\t\t\tid: self.jstreeLastID,\n\t\t\t\t\t\ttext: newElement.val(),\n\t\t\t\t\t\ticon: false\n\t\t\t\t\t},\n\t\t\t\t\t'last'\n\t\t\t\t);\n\t\t\t\tnewElement.val('');\n\t\t\t});\n\t\t\t$('.saveTree').on('click', () => {\n\t\t\t\tjstreeInstance.jstree('deselect_all', true);\n\t\t\t\tconst json = jstreeInstance.jstree('get_json');\n\t\t\t\tlet forSave = [];\n\t\t\t\t$.each(json, function (index, value) {\n\t\t\t\t\tif (value.text == value.li_attr.text) {\n\t\t\t\t\t\tvalue.text = value.li_attr.key;\n\t\t\t\t\t}\n\t\t\t\t\tforSave[index] = value;\n\t\t\t\t});\n\t\t\t\t$('#treeValues').val(JSON.stringify(forSave));\n\t\t\t\teditContainer.submit();\n\t\t\t});\n\t\t\t$('.addNewElement').on('keydown', (event) => {\n\t\t\t\tif (event.keyCode == 13) {\n\t\t\t\t\t$('.addNewElementBtn').trigger('click');\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcreateTree: function () {\n\t\t\tconst self = this;\n\t\t\tif (!this.jstreeInstance) {\n\t\t\t\tself.jstreeLastID = parseInt($('#treeLastID').val());\n\t\t\t\tlet treeValues = $('#treeValues').val(),\n\t\t\t\t\tdataTree = JSON.parse(treeValues);\n\t\t\t\tself.jstreeInstance = $('#treeContents');\n\t\t\t\tself.jstreeInstance.jstree({\n\t\t\t\t\tcore: {\n\t\t\t\t\t\tdata: dataTree,\n\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\tresponsive: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcheck_callback: true\n\t\t\t\t\t},\n\t\t\t\t\tcontextmenu: {\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\tcreate: {\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CREATE'),\n\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\tselectedNode = treeInstance.get_node(data.reference);\n\t\t\t\t\t\t\t\t\tself.jstreeLastID = self.jstreeLastID + 1;\n\t\t\t\t\t\t\t\t\ttreeInstance.create_node(\n\t\t\t\t\t\t\t\t\t\tselectedNode,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tid: self.jstreeLastID,\n\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_NEW_ITEM')\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t'last',\n\t\t\t\t\t\t\t\t\t\tfunction (new_node) {\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t\t\ttreeInstance.edit(new_node);\n\t\t\t\t\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\trename: {\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_RENAME'),\n\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\tselectedNode = treeInstance.get_node(data.reference);\n\t\t\t\t\t\t\t\t\ttreeInstance.edit(selectedNode);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchangeIcon: {\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CHANGE_ICON'),\n\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\tselectedNode = treeInstance.get_node(data.reference);\n\t\t\t\t\t\t\t\t\tApp.Components.Icons.modalView().done((media) => {\n\t\t\t\t\t\t\t\t\t\tif (media.type === 'icon') {\n\t\t\t\t\t\t\t\t\t\t\tself.jstreeInstance.jstree(true).set_icon(selectedNode.id, media.name);\n\t\t\t\t\t\t\t\t\t\t} else if (media.type === 'image') {\n\t\t\t\t\t\t\t\t\t\t\tself.jstreeInstance.jstree(true).set_icon(selectedNode.id, media.src);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tremove: {\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_REMOVE'),\n\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\tid = treeInstance.get_selected(),\n\t\t\t\t\t\t\t\t\t\tstatus = true;\n\t\t\t\t\t\t\t\t\t$.each(id, function (_index, value) {\n\t\t\t\t\t\t\t\t\t\tlet menu = treeInstance.get_node(value);\n\t\t\t\t\t\t\t\t\t\tif (menu.children.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_YOU_CANNOT_DELETE_PERENT_ITEM'),\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tstatus = false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (status) {\n\t\t\t\t\t\t\t\t\t\tself.deleteItemEvent(id, treeInstance).done(function (e) {\n\t\t\t\t\t\t\t\t\t\t\tif (e.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t$.each(id, function (_index, value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttreeInstance.delete_node(value);\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tccp: {\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CCP'),\n\t\t\t\t\t\t\t\tsubmenu: {\n\t\t\t\t\t\t\t\t\tcut: {\n\t\t\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CUT'),\n\t\t\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\t\t\tselectedNode = treeInstance.get_node(data.reference);\n\t\t\t\t\t\t\t\t\t\t\tif (treeInstance.is_selected(selectedNode)) {\n\t\t\t\t\t\t\t\t\t\t\t\ttreeInstance.cut(treeInstance.get_top_selected());\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\ttreeInstance.cut(selectedNode);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tpaste: {\n\t\t\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_PASTE'),\n\t\t\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\t\t\tselectedNode = treeInstance.get_node(data.reference);\n\t\t\t\t\t\t\t\t\t\t\ttreeInstance.paste(selectedNode);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: ['contextmenu', 'dnd']\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this.jstreeInstance;\n\t\t},\n\t\tdeleteItemEvent: function (id, inst) {\n\t\t\tlet self = this,\n\t\t\t\taDeferred = jQuery.Deferred(),\n\t\t\t\tdata = inst.get_json();\n\t\t\t$.each(id, function (_index, e) {\n\t\t\t\tdata = self.checkChildren(e, data);\n\t\t\t});\n\t\t\tif (data.length == 0) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_YOU_CANNOT_DELETE_ALL_THE_ITEMS'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\taDeferred.resolve();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tapp.showModalWindow(\n\t\t\t\tnull,\n\t\t\t\t'index.php?module=TreesManager&parent=Settings&view=ReplaceTreeItem',\n\t\t\t\tfunction (wizardContainer) {\n\t\t\t\t\tlet jstreeInstanceReplace = wizardContainer.find('#treePopupContents');\n\t\t\t\t\tjstreeInstanceReplace\n\t\t\t\t\t\t.jstree({\n\t\t\t\t\t\t\tcore: {\n\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\t\t\tresponsive: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('loaded.jstree', function () {\n\t\t\t\t\t\t\t$(this).jstree('open_all');\n\t\t\t\t\t\t});\n\t\t\t\t\twizardContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\tlet selected = jstreeInstanceReplace.jstree('get_selected'),\n\t\t\t\t\t\t\treplaceIdsElement = $('#replaceIds'),\n\t\t\t\t\t\t\treplaceIds = replaceIdsElement.val(),\n\t\t\t\t\t\t\tdataTree = [];\n\t\t\t\t\t\tif (replaceIds !== '') {\n\t\t\t\t\t\t\tdataTree = JSON.parse(replaceIds);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!selected.length || selected.length > 1) {\n\t\t\t\t\t\t\tlet message = 'JS_ONLY_ONE_ITEM_SELECTED';\n\t\t\t\t\t\t\tif (!selected.length) {\n\t\t\t\t\t\t\t\tmessage = 'JS_NO_ITEM_SELECTED';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\ttext: app.vtranslate(message)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdataTree = $.merge(dataTree, [{ old: id, new: selected }]);\n\t\t\t\t\t\treplaceIdsElement.val(JSON.stringify(dataTree));\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\taDeferred.resolve(selected);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tcheckChildren: function (id, data) {\n\t\t\tlet self = this,\n\t\t\t\tdataNew = [];\n\t\t\tfor (let key in data) {\n\t\t\t\tif (data[key].id != id) {\n\t\t\t\t\tif (data[key].children.length) {\n\t\t\t\t\t\tdata[key].children = self.checkChildren(id, data[key].children);\n\t\t\t\t\t}\n\t\t\t\t\tdataNew.push(data[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dataNew;\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","jstreeInstance","jstreeLastID","registerEvents","self","editContainer","$","createTree","validationEngine","on","ref","jstree","newElement","val","message","app","vtranslate","create_node","id","text","icon","forSave","each","json","index","value","li_attr","key","JSON","stringify","submit","event","keyCode","trigger","preventDefault","parseInt","dataTree","parse","treeValues","core","data","themes","name","responsive","check_callback","contextmenu","items","create","label","action","reference","selectedNode","treeInstance","get_node","new_node","setTimeout","edit","rename","changeIcon","App","Components","Icons","modalView","done","media","type","set_icon","src","remove","get_selected","status","_index","menu","children","length","Settings_Vtiger_Index_Js","showMessage","deleteItemEvent","e","delete_node","ccp","submenu","cut","is_selected","get_top_selected","paste","plugins","inst","aDeferred","Deferred","get_json","checkChildren","resolve","promise","showModalWindow","wizardContainer","find","jstreeInstanceReplace","replaceIdsElement","replaceIds","selected","merge","old","new","hideModalWindow","dataNew","push"],"mappings":"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"}