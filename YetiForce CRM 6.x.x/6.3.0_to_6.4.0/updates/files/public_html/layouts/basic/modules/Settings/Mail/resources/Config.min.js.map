{"version":3,"file":"Config.min.js","sources":["Config.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Settings_Mail_Config_Js',\n\t{},\n\t{\n\t\tregisterChangeConfig() {\n\t\t\tconst container = $('.configContainer');\n\t\t\tcontainer.on('change', '.configCheckbox', function () {\n\t\t\t\tconst progressIndicator = $.progressIndicator();\n\t\t\t\tconst params = {};\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\tparams['action'] = 'SaveAjax';\n\t\t\t\tparams['mode'] = 'updateConfig';\n\t\t\t\tparams['type'] = $(this).data('type');\n\t\t\t\tparams['name'] = $(this).attr('name');\n\t\t\t\tparams['val'] = this.checked;\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet messageParams = {};\n\t\t\t\t\t\tmessageParams['text'] = data.result.message;\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(messageParams);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterSignature() {\n\t\t\tconst container = $('#signature');\n\t\t\tApp.Fields.Text.Editor.register(container.find('.js-editor'), {\n\t\t\t\theight: '20em'\n\t\t\t});\n\t\t\tApp.Tools.VariablesPanel.registerRefreshCompanyVariables(container);\n\t\t\tcontainer.find('.js-save-signature').on('click', function () {\n\t\t\t\tconst progressIndicator = $.progressIndicator();\n\t\t\t\tconst editor = CKEDITOR.instances.signatureEditor;\n\t\t\t\tconst params = {};\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\tparams['action'] = 'SaveAjax';\n\t\t\t\tparams['mode'] = 'updateSignature';\n\t\t\t\tparams['val'] = editor.getData();\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterEvents() {\n\t\t\tconst thisInstance = this;\n\t\t\tthisInstance.registerChangeConfig();\n\t\t\tthisInstance.registerSignature();\n\t\t\tApp.Fields.Text.registerCopyClipboard($('.js-container-variable'));\n\t\t}\n\t}\n);\n"],"names":["$","Class","registerChangeConfig","container","on","progressIndicator","params","app","getModuleName","getParentModuleName","data","attr","checked","AppConnector","request","done","mode","messageParams","result","message","Settings_Vtiger_Index_Js","showMessage","fail","registerSignature","App","Fields","Text","Editor","register","find","height","Tools","VariablesPanel","registerRefreshCompanyVariables","editor","CKEDITOR","instances","signatureEditor","getData","text","registerEvents","thisInstance","registerCopyClipboard"],"mappings":"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"}