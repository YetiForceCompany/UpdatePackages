{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_RecordAllocation_Index_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\t/**\n\t\t * Register tables\n\t\t * @param {jQuery} contentData\n\t\t */\n\t\tregisterDataTables: function (contentData) {\n\t\t\tconst thisInstance = this;\n\t\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\t\tlanguage: {\n\t\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\t\toAria: {\n\t\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (contentData == undefined) {\n\t\t\t\tcontentData = thisInstance.getContainer();\n\t\t\t}\n\t\t\tcontentData.find('.js-data-table').dataTable({\n\t\t\t\tscrollY: 200,\n\t\t\t\tdeferRender: true,\n\t\t\t\tscroller: true,\n\t\t\t\tpaging: false,\n\t\t\t\tinfo: false\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register event drag and drop\n\t\t * @param {jQuery} contentData\n\t\t */\n\t\tregisterDragDropEvent: function (contentData) {\n\t\t\tif (contentData == undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst thisInstance = this;\n\t\t\tlet panel = contentData.closest('.js-panel'),\n\t\t\t\tindex = panel.data('index'),\n\t\t\t\twidth;\n\t\t\tcontentData.find('.js-drag-drop-' + index).draggable({\n\t\t\t\tappendTo: 'body',\n\t\t\t\thelper: 'clone',\n\t\t\t\tstart: function (e, ui) {\n\t\t\t\t\twidth = $(ui.helper.context).width();\n\t\t\t\t\t$(ui.helper).css('width', width).addClass('dataTableDragDrop bg-primary');\n\t\t\t\t},\n\t\t\t\tzIndex: 9999999999\n\t\t\t});\n\t\t\tcontentData.find('.dataTables_scrollBody .js-data-table').droppable({\n\t\t\t\tactiveClass: 'ui-state-default',\n\t\t\t\thoverClass: 'ui-state-hover',\n\t\t\t\taccept: '.js-drag-drop-' + index,\n\t\t\t\tdrop: function (event, ui) {\n\t\t\t\t\tlet tableBase = $(ui.draggable).closest('.js-data-table'),\n\t\t\t\t\t\ttable = $(this);\n\t\t\t\t\tif (tableBase.data('mode') != table.data('mode')) {\n\t\t\t\t\t\ttableBase.DataTable().row(ui.draggable).remove().draw();\n\t\t\t\t\t\ttable.DataTable().row.add(ui.draggable[0]).draw();\n\t\t\t\t\t\ttable = table.data('mode') == 'active' ? table : tableBase;\n\t\t\t\t\t\tthisInstance.save(table.closest('.js-panel'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Save users for module\n\t\t * @param {jQuery} container\n\t\t */\n\t\tsave: function (container) {\n\t\t\tlet data = {\n\t\t\t\t\tmodule: container.data('modulename'),\n\t\t\t\t\tuserid: container.find('.js-base-user').val(),\n\t\t\t\t\ttype: app.getMainParams('fieldType')\n\t\t\t\t},\n\t\t\t\tuserData = [],\n\t\t\t\tdataContainer = container.find('.dataTables_scrollBody:first tbody tr');\n\t\t\tdataContainer.each(function (e) {\n\t\t\t\tlet id = $(this).data('id'),\n\t\t\t\t\tmode = $(this).data('type');\n\t\t\t\tif (id && mode) {\n\t\t\t\t\tif (!userData[mode]) {\n\t\t\t\t\t\tuserData[mode] = [];\n\t\t\t\t\t}\n\t\t\t\t\tuserData[mode].push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdata['ids'] = jQuery.extend({}, userData);\n\t\t\tapp.saveAjax('save', jQuery.extend({}, data));\n\t\t},\n\t\t/**\n\t\t * Register event to show form\n\t\t */\n\t\tregisterModalButton: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\tcontainer = this.getContainer();\n\t\t\tcontainer.find('button.js-add-panel').on('click', function () {\n\t\t\t\tlet modalWindow = container.find('.js-modal-add-panel').clone(true, true),\n\t\t\t\t\tinUseModules = thisInstance.getModules();\n\t\t\t\tmodalWindow.find('select option').each(function () {\n\t\t\t\t\tif ($.inArray($(this).val(), inUseModules) != -1) {\n\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.showModalWindow(modalWindow, function (data) {\n\t\t\t\t\t//register all select2 Elements\n\t\t\t\t\tlet selectElement = data.find('select'),\n\t\t\t\t\t\tform = data.find('form');\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(selectElement);\n\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\tlet currentTarget = $(e.currentTarget),\n\t\t\t\t\t\t\tmodule = currentTarget.find('.js-modules-list');\n\t\t\t\t\t\tif (module.length && module.val()) {\n\t\t\t\t\t\t\tthisInstance.addPanel(module.val());\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Returns list of modules which are visible\n\t\t * @returns {Array}\n\t\t */\n\t\tgetModules: function () {\n\t\t\tvar modules = [];\n\t\t\tthis.getContainer()\n\t\t\t\t.find('.js-panel')\n\t\t\t\t.each(function () {\n\t\t\t\t\tmodules.push(jQuery(this).data('modulename'));\n\t\t\t\t});\n\t\t\treturn modules;\n\t\t},\n\t\t/**\n\t\t * Load users form modules\n\t\t * @param {string} module\n\t\t * @returns {jQuery.Deferred}\n\t\t */\n\t\taddPanel: function (module) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tlastPanel = this.getContainer().find('.js-panel:last');\n\t\t\tAppConnector.request({\n\t\t\t\tindex: lastPanel.data('index'),\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tsourceModule: module,\n\t\t\t\tview: 'Index',\n\t\t\t\tmode: 'getPanel',\n\t\t\t\ttype: app.getMainParams('fieldType')\n\t\t\t}).done(\n\t\t\t\tfunction (data) {\n\t\t\t\t\tlet elements = thisInstance.getContainer().find('.js-panels-container').append(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(elements.find('.select2'));\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Register event to load users\n\t\t */\n\t\tregisterLoadData: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tthis.getContainer().on('change', '.js-base-user', function (e) {\n\t\t\t\tlet selectElement = jQuery(e.currentTarget),\n\t\t\t\t\tpanel = selectElement.closest('.js-panel-item'),\n\t\t\t\t\tdataJson = panel.find('.js-module-allocation-data').val(),\n\t\t\t\t\tdata = [];\n\t\t\t\tif (dataJson && dataJson != 'null') {\n\t\t\t\t\tdata = JSON.parse(dataJson);\n\t\t\t\t}\n\t\t\t\tlet userData = data[selectElement.val()],\n\t\t\t\t\tbodyContainer = panel.find('.js-active-panel');\n\t\t\t\tif (bodyContainer.length) {\n\t\t\t\t\tbodyContainer.remove();\n\t\t\t\t}\n\t\t\t\tlet bodyContainerTable = panel.find('.js-clear-tables').clone(true, true);\n\t\t\t\tif (userData != undefined) {\n\t\t\t\t\tlet activeData = bodyContainerTable.find('.js-data-table .dropContainer:first'),\n\t\t\t\t\t\tbaseData = bodyContainerTable.find('.js-data-table .dropContainer:last');\n\t\t\t\t\tbaseData.find('tr').each(function () {\n\t\t\t\t\t\tlet mode = jQuery(this).data('type'),\n\t\t\t\t\t\t\tid = jQuery(this).data('id');\n\t\t\t\t\t\tif ($.inArray(id, userData[mode]) != -1 || $.inArray(id.toString(), userData[mode]) != -1) {\n\t\t\t\t\t\t\tactiveData.append(jQuery(this));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tpanel\n\t\t\t\t\t.find('.js-panel-body')\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.append(bodyContainerTable.removeClass('js-clear-tables d-none').addClass('js-active-panel'));\n\t\t\t\tthisInstance.registerDataTables(bodyContainerTable);\n\t\t\t\tthisInstance.registerDragDropEvent(bodyContainerTable);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register basic events\n\t\t */\n\t\tregisterHeaderElements: function () {\n\t\t\tthis.getContainer().on('click', '.js-remove-panel', function (e) {\n\t\t\t\tlet panel = jQuery(e.currentTarget).closest('.js-panel');\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('JS_ARE_YOU_SURE_YOU_WANT_TO_DELETE_PANEL'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tapp\n\t\t\t\t\t\t\t.saveAjax('removePanel', {\n\t\t\t\t\t\t\t\tmodule: panel.data('modulename'),\n\t\t\t\t\t\t\t\ttype: app.getMainParams('fieldType')\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\tpanel.fadeOut(300, function () {\n\t\t\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.registerLoadData();\n\t\t},\n\t\t/**\n\t\t * Returns container\n\t\t * @returns {jQuery}\n\t\t */\n\t\tgetContainer: function () {\n\t\t\tif (this.container == false) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\t/**\n\t\t * Main function\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.registerModalButton();\n\t\t\tthis.registerHeaderElements();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","registerDataTables","contentData","thisInstance","$","extend","fn","dataTable","defaults","language","sLengthMenu","app","vtranslate","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oAria","sSortAscending","sSortDescending","getContainer","find","scrollY","deferRender","scroller","paging","info","registerDragDropEvent","panel","closest","index","data","draggable","appendTo","helper","start","e","ui","width","context","css","addClass","zIndex","droppable","activeClass","hoverClass","accept","drop","event","tableBase","table","DataTable","row","remove","draw","add","save","module","userid","val","type","getMainParams","userData","dataContainer","each","id","mode","push","saveAjax","registerModalButton","on","clone","inUseModules","getModules","modalWindow","inArray","showModalWindow","form","App","Fields","Picklist","showSelect2ElementView","selectElement","currentTarget","length","addPanel","preventDefault","modules","aDeferred","Deferred","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","lastPanel","AppConnector","request","getModuleName","parent","getParentModuleName","sourceModule","view","done","elements","append","hideModalWindow","resolve","error","reject","promise","registerLoadData","dataJson","JSON","parse","bodyContainer","activeData","bodyContainerTable","baseData","toString","removeClass","registerHeaderElements","showConfirmModal","title","confirmedCallback","fadeOut","registerEvents"],"mappings":"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"}