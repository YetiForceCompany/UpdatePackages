{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Mail_Detail_Js',\n\t{},\n\t{\n\t\tregisterRemoveEvents: function () {\n\t\t\tlet container = jQuery('.contentsDiv');\n\t\t\tcontainer.on('click', '.js-delete', function () {\n\t\t\t\tlet progressIndicator = jQuery.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'DeleteAjax',\n\t\t\t\t\tdetailView: true,\n\t\t\t\t\trecord: $('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\twindow.location.href = data.result;\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (_error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterAcceptanceEvent: function () {\n\t\t\tlet container = jQuery('.contentsDiv');\n\t\t\tcontainer.on('click', '.acceptanceRecord', function () {\n\t\t\t\tlet elem = this;\n\t\t\t\tlet progressIndicator = jQuery.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\tmode: 'acceptanceRecord',\n\t\t\t\t\tid: $('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: data.result.message });\n\t\t\t\t\t\t$(elem).remove();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (_error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsendMailManually: function () {\n\t\t\tconst container = $('.contentsDiv');\n\t\t\tcontainer.on('click', '.sendManually', function () {\n\t\t\t\tconst progressIndicator = $.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SendManuallyAjax',\n\t\t\t\t\tid: container.find('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: data.result.message,\n\t\t\t\t\t\t\ttype: data.result.success ? 'success' : 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (data.result.success) {\n\t\t\t\t\t\t\twindow.history.back();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (_error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis.registerAcceptanceEvent();\n\t\t\tthis.sendMailManually();\n\t\t\tthis.registerRemoveEvents();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","registerRemoveEvents","container","on","progressIndicator","AppConnector","request","module","app","getModuleName","parent","getParentModuleName","action","detailView","record","$","val","done","data","mode","window","location","href","result","fail","registerAcceptanceEvent","elem","id","Settings_Vtiger_Index_Js","showMessage","text","message","remove","sendMailManually","find","type","success","history","back","registerEvents"],"mappings":"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"}