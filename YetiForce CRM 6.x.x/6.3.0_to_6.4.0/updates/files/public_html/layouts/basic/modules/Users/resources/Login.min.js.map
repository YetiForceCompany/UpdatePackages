{"version":3,"file":"Login.min.js","sources":["Login.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n\n'use strict';\n$(document).ready(() => {\n\t$('input:visible').first().focus();\n\t$('#fingerPrint').val(new DeviceUUID().get());\n\t$('button.close').on('click', () => {\n\t\t$('.visible-phone').css('visibility', 'hidden');\n\t});\n\t$('a#forgotpass').on('click', () => {\n\t\t$('#loginDiv').hide();\n\t\t$('#forgotPasswordDiv').removeClass('d-none');\n\t\t$('#forgotPasswordDiv').show();\n\t});\n\t$('a#backButton').on('click', () => {\n\t\t$('#loginDiv').removeClass('d-none');\n\t\t$('#loginDiv').show();\n\t\t$('#forgotPasswordDiv').hide();\n\t});\n\n\tlet formForgot = $('.js-forgot-password');\n\tformForgot.on('submit', (event) => {\n\t\tevent.preventDefault();\n\t\t$.post('index.php?module=Users&action=LoginForgotPassword', {\n\t\t\temail: formForgot.find('[name=\"email\"]').val()\n\t\t})\n\t\t\t.done((data) => {\n\t\t\t\tformForgot.find('.js-email-content').addClass('d-none');\n\t\t\t\tformForgot.find('#retrievePassword').attr('disabled', 'disabled');\n\t\t\t\t$('.js-alert-password').removeClass('d-none alert-danger').addClass('alert-success');\n\t\t\t\t$('.js-alert-text').html(data.result);\n\t\t\t})\n\t\t\t.fail((error) => {\n\t\t\t\t$('.js-alert-password').removeClass('d-none').addClass('alert-danger');\n\t\t\t\t$('.js-alert-text').html(JSON.parse(error.responseText).error.message);\n\t\t\t});\n\t});\n\n\tlet formChange = $('.js-change-password');\n\tformChange.on('submit', (event) => {\n\t\tevent.preventDefault();\n\t\tlet password = formChange.find('[name=\"password\"]').val();\n\t\tlet confirmPassword = formChange.find('[name=\"confirm_password\"]').val();\n\t\tif (password !== confirmPassword) {\n\t\t\t$('.js-alert-confirm-password').removeClass('d-none');\n\t\t} else {\n\t\t\t$.post('index.php?module=Users&action=LoginPassChange', {\n\t\t\t\tpassword: password,\n\t\t\t\tconfirm_password: confirmPassword,\n\t\t\t\ttoken: formChange.find('[name=\"token\"]').val()\n\t\t\t})\n\t\t\t\t.done(() => {\n\t\t\t\t\twindow.location.href = 'index.php';\n\t\t\t\t})\n\t\t\t\t.fail((error) => {\n\t\t\t\t\t$('.js-alert-confirm-password').addClass('d-none');\n\t\t\t\t\t$('.js-alert-password').removeClass('d-none').addClass('alert-danger');\n\t\t\t\t\t$('.js-alert-text').html(JSON.parse(error.responseText).error.message);\n\t\t\t\t});\n\t\t}\n\t});\n});\n"],"names":["$","document","ready","first","focus","val","get","on","css","hide","removeClass","show","formForgot","event","preventDefault","post","email","find","done","data","addClass","attr","html","result","fail","error","JSON","parse","responseText","message","formChange","password","confirmPassword","confirm_password","token","window","location","href"],"mappings":"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"}