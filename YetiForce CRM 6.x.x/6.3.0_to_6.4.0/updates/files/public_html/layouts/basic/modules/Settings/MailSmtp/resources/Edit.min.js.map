{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Edit_Js(\n\t'Settings_MailSmtp_Edit_Js',\n\t{},\n\t{\n\t\tregisterSubmitForm: function () {\n\t\t\tvar form = this.getForm();\n\t\t\tform.on('submit', function (e) {\n\t\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request(paramsForm).done(function (data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (true == data.result.success) {\n\t\t\t\t\t\t\twindow.location.href = data.result.url;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tform.find('.alert').removeClass('d-none');\n\t\t\t\t\t\t\tform.find('.alert p').text(data.result.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register events to preview password\n\t\t */\n\t\tregisterPreviewPassword: function () {\n\t\t\tconst container = this.getForm();\n\t\t\tconst button = container.find('.previewPassword');\n\t\t\tbutton.on('mousedown', function (e) {\n\t\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'text');\n\t\t\t});\n\t\t\tbutton.on('mouseup', function (e) {\n\t\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'password');\n\t\t\t});\n\t\t\tbutton.on('mouseout', function (e) {\n\t\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'password');\n\t\t\t});\n\t\t},\n\t\tregisterSaveSendMail() {\n\t\t\tconst form = this.getForm();\n\t\t\tform.find('.js-save-send-mail').on('click', () => {\n\t\t\t\tif (form.find('.saveMailContent').hasClass('d-none')) {\n\t\t\t\t\tform.find('.js-smtp-host').attr('data-validation-engine', 'validate[required]');\n\t\t\t\t\tform.find('.js-smtp-port').attr('data-validation-engine', 'validate[required,custom[integer]]');\n\t\t\t\t\tform.find('.js-smtp-password').attr('data-validation-engine', 'validate[required]');\n\t\t\t\t\tform.find('.js-smtp-username').attr('data-validation-engine', 'validate[required]');\n\t\t\t\t\tform.find('.js-smtp-folder').attr('data-validation-engine', 'validate[required]');\n\t\t\t\t\tform.find('.saveMailContent').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tform.find('.js-smtp-host').removeAttr('data-validation-engine');\n\t\t\t\t\tform.find('.js-smtp-port').removeAttr('data-validation-engine');\n\t\t\t\t\tform.find('.js-smtp-password').removeAttr('data-validation-engine');\n\t\t\t\t\tform.find('.js-smtp-username').removeAttr('data-validation-engine');\n\t\t\t\t\tform.find('.js-smtp-folder').removeAttr('data-validation-engine');\n\t\t\t\t\tform.find('.saveMailContent').addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tconst form = this.getForm();\n\t\t\tif (form.length) {\n\t\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\t\tform.find('[data-inputmask]').inputmask();\n\t\t\t}\n\t\t\tthis.registerSubmitForm();\n\t\t\tthis.registerPreviewPassword();\n\t\t\tthis.registerSaveSendMail();\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_Edit_Js","registerSubmitForm","getForm","form","on","validationEngine","paramsForm","serializeFormData","progressIndicatorElement","jQuery","progressIndicator","blockInfo","enabled","request","done","data","mode","result","success","window","location","href","url","find","removeClass","text","message","app","formAlignmentAfterValidation","registerPreviewPassword","button","container","e","$","currentTarget","attr","registerSaveSendMail","hasClass","removeAttr","addClass","registerEvents","length","validationEngineOptions","inputmask"],"mappings":"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"}