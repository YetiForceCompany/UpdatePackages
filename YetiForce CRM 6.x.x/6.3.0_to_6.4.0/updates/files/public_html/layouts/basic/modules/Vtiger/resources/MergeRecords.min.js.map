{"version":3,"file":"MergeRecords.min.js","sources":["MergeRecords.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_MergeRecords_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Modal container\n\t\t */\n\t\tcontainer: false,\n\t\t/**\n\t\t * Register list events\n\t\t */\n\t\tregisterListEvents: function () {\n\t\t\tthis.container.find('[name=\"record\"]').on('change', (e) => {\n\t\t\t\tthis.container.find('input[value=' + $(e.currentTarget).val() + ']').trigger('click');\n\t\t\t});\n\t\t\tthis.container.find('[type=\"submit\"]').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t});\n\t\t\t\tAppConnector.request(this.container.find('form').serializeFormData()).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (data.result === false) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tconst listInstance = new Vtiger_List_Js();\n\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function (modalContainer) {\n\t\t\tthis.container = $(modalContainer);\n\t\t\tthis.registerListEvents();\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","registerListEvents","find","on","e","currentTarget","val","trigger","preventDefault","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","AppConnector","request","serializeFormData","done","data","mode","result","app","showNotify","text","vtranslate","type","hideModalWindow","listInstance","Vtiger_List_Js","getListViewRecords","clearList","registerEvents","modalContainer"],"mappings":";;AAAA,kKACA,YAAA,CAEAA,CAAC,CAACC,KAAF,CACC,sBADD,CAEC,EAFD,CAGC;AAED;AACA,KACEC,SAAS,GAJV;AAMD;AACA,KACEC,kBAAkB,CAAE,SAAA,kBAAA,EAAY,CAC/B,IAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAKD,SAAL,CAAeE,IAAf,CAAoB,mBAApB,EAAuCC,EAAvC,CAA0C,QAA1C,CAAoD,SAACC,CAAD,CAAO,CAC1D,KAAI,CAACJ,SAAL,CAAeE,IAAf,CAAoB,cAAiBJ,CAAAA,CAAC,CAACM,CAAC,CAACC,aAAH,CAAD,CAAmBC,GAAnB,EAAjB,CAA4C,GAAhE,CAAA,CAAqEC,OAArE,CAA6E,OAA7E,EACA,CAFD,CAD+B,CAI/B,IAAA,CAAKP,SAAL,CAAeE,IAAf,CAAoB,mBAApB,CAAuCC,CAAAA,EAAvC,CAA0C,OAA1C,CAAmD,SAACC,CAAD,CAAO,CACzDA,CAAC,CAACI,cAAF,EADyD,CAEzD,IAAMC,wBAAwB,CAAGX,CAAC,CAACY,iBAAF,CAAoB,CACpDC,QAAQ,CAAE,MAD0C,CAEpDC,SAAS,CAAE,CAAEC,OAAO,GAAT,CAFyC,CAApB,CAAjC,CAIAC,YAAY,CAACC,OAAb,CAAqB,KAAI,CAACf,SAAL,CAAeE,IAAf,CAAoB,MAApB,CAA4Bc,CAAAA,iBAA5B,EAArB,CAAsEC,CAAAA,IAAtE,CAA2E,SAAUC,IAAV,CAAgB,CAC1FT,wBAAwB,CAACC,iBAAzB,CAA2C,CAAES,IAAI,CAAE,MAAR,CAA3C,CAD0F,CAEtF,KAAAD,IAAI,CAACE,MAFiF,EAGzFC,GAAG,CAACC,UAAJ,CAAe,CACdC,IAAI,CAAEF,GAAG,CAACG,UAAJ,CAAe,UAAf,CADQ,CAEdC,IAAI,CAAE,OAFQ,CAAf,CAHyF,CAQ1FJ,GAAG,CAACK,eAAJ,EAR0F,CAS1F,IAAMC,YAAY,CAAG,IAAIC,cAAzB,CACAD,YAAY,CAACE,kBAAb,EAV0F,CAW1FD,cAAc,CAACE,SAAf,GACA,CAZD,EAaA,CAnBD,EAoBA,CAhCF;AAkCD;AACA;AACA,KACEC,cAAc,CAAE,SAAA,cAAA,CAAUC,cAAV,CAA0B,CACzC,KAAKhC,SAAL,CAAiBF,CAAC,CAACkC,cAAD,CADuB,CAEzC,IAAA,CAAK/B,kBAAL,GACA,CAxCF,CAHD;;"}