{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_OSSMail_Index_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Container (Form)\n\t\t */\n\t\tcontainer: null,\n\t\t/**\n\t\t * Set container (Form)\n\t\t * @param {Object} element\n\t\t */\n\t\tsetContainer: function (element) {\n\t\t\tthis.container = element;\n\t\t},\n\t\t/**\n\t\t * Get Container (Form)\n\t\t * @returns {Object}\n\t\t */\n\t\tgetContainer: function () {\n\t\t\treturn this.container;\n\t\t},\n\t\t/**\n\t\t * Register the field with hosts\n\t\t */\n\t\tregisterDefaultHost: function () {\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.getContainer().find('[name=\"imap_host\"]'), {\n\t\t\t\tdelimiter: ',',\n\t\t\t\tpersist: false,\n\t\t\t\ttags: true,\n\t\t\t\tplaceholder: app.vtranslate('JS_SELECT_OR_WRITE_AND_PRESS_ENTER'),\n\t\t\t\tcreate: function (input) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: input,\n\t\t\t\t\t\ttext: input\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register events for form\n\t\t * @returns {undefined}\n\t\t */\n\t\tregisterForm: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getContainer();\n\t\t\tcontainer.on('submit', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\t\tAppConnector.request(container.serializeFormData()).done(function (data) {\n\t\t\t\t\t\tvar response = data['result'],\n\t\t\t\t\t\t\tparams;\n\t\t\t\t\t\tif (response['success']) {\n\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Main function\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.setContainer($('.roundcubeConfig'));\n\t\t\tthis.registerDefaultHost();\n\t\t\tthis.registerForm();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","setContainer","element","getContainer","registerDefaultHost","App","Fields","Picklist","showSelect2ElementView","find","delimiter","persist","tags","placeholder","app","vtranslate","create","input","value","text","registerForm","thisInstance","on","event","preventDefault","validationEngine","validationEngineOptions","AppConnector","request","serializeFormData","done","data","params","response","type","showNotify","registerEvents","$"],"mappings":";;AAAA,kKACA,YAAA,CAEAA,MAAM,CAACC,KAAP,CACC,2BADD,CAEC,EAFD,CAGC;AAED;AACA,KACEC,SAAS,CAAE,IAJZ;AAMD;AACA;AACA,KACEC,YAAY,CAAE,SAAA,YAAA,CAAUC,OAAV,CAAmB,CAChC,IAAA,CAAKF,SAAL,CAAiBE,QACjB,CAXF;AAaD;AACA;AACA,KACEC,YAAY,CAAE,SAAY,YAAA,EAAA,CACzB,OAAYH,IAAAA,CAAAA,SACZ,CAlBF;AAoBD;AACA,KACEI,mBAAmB,CAAE,SAAY,mBAAA,EAAA,CAChCC,GAAG,CAACC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2C,IAAKL,CAAAA,YAAL,EAAoBM,CAAAA,IAApB,CAAyB,sBAAzB,CAA3C,CAA2F,CAC1FC,SAAS,CAAE,GAD+E,CAE1FC,OAAO,CAFmF,CAAA,CAAA,CAG1FC,IAAI,CAAA,CAAA,CAHsF,CAI1FC,WAAW,CAAEC,GAAG,CAACC,UAAJ,CAAe,oCAAf,CAJ6E,CAK1FC,MAAM,CAAE,SAAUC,MAAAA,CAAAA,KAAV,CAAiB,CACxB,OAAO,CACNC,KAAK,CAAED,KADD,CAENE,IAAI,CAAEF,KAFA,CAIP,CAVyF,CAA3F,EAYA,CAnCF;AAsCD;AACA;AACA,KACEG,YAAY,CAAE,SAAA,YAAA,EAAY,CACrBC,IAAAA,YAAY,CAAG,IADM,CAErBrB,SAAS,CAAGqB,YAAY,CAAClB,YAAb,EAFS,CAGzBH,SAAS,CAACsB,EAAV,CAAa,QAAb,CAAuB,SAAUC,KAAV,CAAiB,CACvCA,KAAK,CAACC,cAAN,EADuC,CAEvCxB,SAAS,CAACyB,gBAAV,CAA2BX,GAAG,CAACY,uBAA/B,CAFuC,CAGnC1B,SAAS,CAACyB,gBAAV,CAA2B,UAA3B,CAHmC,EAItCE,YAAY,CAACC,OAAb,CAAqB5B,SAAS,CAAC6B,iBAAV,EAArB,CAAoDC,CAAAA,IAApD,CAAyD,SAAUC,IAAV,CAAgB,CACxE,IACCC,MADD,CAAIC,QAAQ,CAAGF,IAAI,CAAnB,MAAA,CAEIE,QAAQ,CAAA,OAH4D,EAIvED,MAAM,CAAG,CACRb,IAAI,CAAEc,QAAQ,CADN,IAAA,CAERC,IAAI,CAAE,MAFE,CAJ8D,CAQvEpB,GAAG,CAACqB,UAAJ,CAAeH,MAAf,CARuE,GAUvEA,MAAM,CAAG,CACRb,IAAI,CAAEc,QAAQ,CAAA,IADN,CAERC,IAAI,CAAE,OAFE,CAV8D,CAcvEpB,GAAG,CAACqB,UAAJ,CAAeH,MAAf,CAduE,EAgBxE,CAhBD,EAkBD,CAtBD,EAuBA,CAnEF;AAqED;AACA,KACEI,cAAc,CAAE,SAAY,cAAA,EAAA,CAC3B,KAAKnC,YAAL,CAAkBoC,CAAC,CAAC,kBAAD,CAAnB,CAD2B,CAE3B,IAAA,CAAKjC,mBAAL,EAF2B,CAG3B,KAAKgB,YAAL,GACA,CA3EF,CAHD;;"}