{"version":3,"file":"Import.min.js","sources":["Import.js"],"sourcesContent":["/*+**********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n ************************************************************************************/\n'use strict';\n\nif (typeof ImportJs === 'undefined') {\n\t/*\n\t * Namespaced javascript class for Import\n\t */\n\tvar ImportJs = {\n\t\ttoogleMergeConfiguration: function () {\n\t\t\tvar mergeChecked = jQuery('#auto_merge').is(':checked');\n\t\t\tvar duplicateMergeConfiguration = jQuery('#duplicates_merge_configuration');\n\t\t\tif (mergeChecked) {\n\t\t\t\tduplicateMergeConfiguration.show();\n\t\t\t} else {\n\t\t\t\tduplicateMergeConfiguration.hide();\n\t\t\t}\n\t\t},\n\t\tcheckFileType: function () {\n\t\t\tvar filePath = jQuery('#import_file').val();\n\t\t\tif (filePath != '') {\n\t\t\t\tvar fileExtension = filePath.split('.').pop();\n\t\t\t\tjQuery('.js-type').val(fileExtension);\n\t\t\t\tImportJs.handleFileTypeChange();\n\t\t\t}\n\t\t},\n\t\thandleFileTypeChange: function () {\n\t\t\tvar fileType = jQuery('.js-type').val();\n\t\t\tvar delimiterContainer = jQuery('.js-delimiter-container');\n\t\t\tvar hasHeaderContainer = jQuery('.js-has-header-container');\n\t\t\tvar xmlTpl = jQuery('.js-xml-tpl');\n\t\t\tvar extension = jQuery('.js-zip-extension');\n\n\t\t\tswitch (fileType) {\n\t\t\t\tcase 'xml':\n\t\t\t\t\tdelimiterContainer.addClass('d-none');\n\t\t\t\t\thasHeaderContainer.addClass('d-none');\n\t\t\t\t\txmlTpl.removeClass('d-none');\n\t\t\t\t\textension.addClass('d-none');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'zip':\n\t\t\t\t\tdelimiterContainer.addClass('d-none');\n\t\t\t\t\thasHeaderContainer.addClass('d-none');\n\t\t\t\t\textension.removeClass('d-none');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdelimiterContainer.removeClass('d-none');\n\t\t\t\t\thasHeaderContainer.removeClass('d-none');\n\t\t\t\t\textension.addClass('d-none');\n\t\t\t\t\txmlTpl.addClass('d-none');\n\t\t\t}\n\t\t},\n\t\tuploadAndParse: function () {\n\t\t\tif (!ImportJs.validateFilePath()) return false;\n\t\t\tif (!ImportJs.validateMergeCriteria()) return false;\n\t\t\treturn true;\n\t\t},\n\t\tregisterImportClickEvent() {\n\t\t\t$('#importButton')\n\t\t\t\t.removeAttr('disabled')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\treturn ImportJs.sanitizeAndSubmit();\n\t\t\t\t});\n\t\t},\n\t\tvalidateFilePath: function () {\n\t\t\tvar importFile = jQuery('#import_file');\n\t\t\tvar filePath = importFile.val();\n\t\t\tif (jQuery.trim(filePath) == '') {\n\t\t\t\tvar errorMessage = app.vtranslate('JS_IMPORT_FILE_CAN_NOT_BE_EMPTY');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\timportFile.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!ImportJs.uploadFilter('import_file', 'csv|vcf|xml|zip|ics|ical')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!ImportJs.uploadFileSize('import_file')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tuploadFilter: function (elementId, allowedExtensions) {\n\t\t\tvar obj = jQuery('#' + elementId);\n\t\t\tif (obj) {\n\t\t\t\tvar filePath = obj.val();\n\t\t\t\tvar fileParts = filePath.toLowerCase().split('.');\n\t\t\t\tvar fileType = fileParts[fileParts.length - 1];\n\t\t\t\tvar validExtensions = allowedExtensions.toLowerCase().split('|');\n\t\t\t\tif (validExtensions.indexOf(fileType) < 0) {\n\t\t\t\t\tvar errorMessage = app.vtranslate('JS_SELECT_FILE_EXTENSION') + '\\n' + validExtensions;\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\tobj.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tuploadFileSize: function (elementId) {\n\t\t\tvar element = jQuery('#' + elementId);\n\t\t\tvar importMaxUploadSize = element.closest('td').data('importUploadSize');\n\t\t\tvar importMaxUploadSizeInMb = element.closest('td').data('importUploadSizeMb');\n\t\t\tvar uploadedFileSize = element.get(0).files[0].size;\n\t\t\tif (uploadedFileSize > importMaxUploadSize) {\n\t\t\t\tvar errorMessage =\n\t\t\t\t\tapp.vtranslate('JS_UPLOADED_FILE_SIZE_EXCEEDS') +\n\t\t\t\t\t' ' +\n\t\t\t\t\timportMaxUploadSizeInMb +\n\t\t\t\t\t' MB.' +\n\t\t\t\t\tapp.vtranslate('JS_PLEASE_SPLIT_FILE_AND_IMPORT_AGAIN');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tvalidateMergeCriteria: function () {\n\t\t\tvar mergeChecked = jQuery('#auto_merge').is(':checked');\n\t\t\tif (mergeChecked) {\n\t\t\t\tvar selectedOptions = jQuery('#selected_merge_fields option');\n\t\t\t\tif (selectedOptions.length == 0) {\n\t\t\t\t\tvar errorMessage = app.vtranslate('JS_PLEASE_SELECT_ONE_FIELD_FOR_MERGE');\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tImportJs.convertOptionsToJSONArray('#selected_merge_fields', '#merge_fields');\n\t\t\treturn true;\n\t\t},\n\t\tconvertOptionsToJSONArray: function (objName, targetObjName) {\n\t\t\tlet obj = jQuery(objName);\n\t\t\tlet arr = [];\n\t\t\tif (typeof obj !== 'undefined' && obj[0] != '') {\n\t\t\t\tfor (let i = 0; i < obj[0].length; ++i) {\n\t\t\t\t\tif (obj[0].options[i].selected) {\n\t\t\t\t\t\tarr.push(obj[0].options[i].value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (targetObjName !== 'undefined') {\n\t\t\t\tlet targetObj = $(targetObjName);\n\t\t\t\tif (typeof targetObj !== 'undefined') targetObj.val(JSON.stringify(arr));\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\tcopySelectedOptions: function (source, destination) {\n\t\t\tlet srcObj = jQuery(source);\n\t\t\tlet destObj = jQuery(destination);\n\n\t\t\tif (typeof srcObj === 'undefined' || typeof destObj === 'undefined') return;\n\n\t\t\tfor (let i = 0; i < srcObj[0].length; i++) {\n\t\t\t\tif (srcObj[0].options[i].selected == true) {\n\t\t\t\t\tlet rowFound = false;\n\t\t\t\t\tlet existingObj = null;\n\t\t\t\t\tfor (let j = 0; j < destObj[0].length; j++) {\n\t\t\t\t\t\tif (destObj[0].options[j].value == srcObj[0].options[i].value) {\n\t\t\t\t\t\t\trowFound = true;\n\t\t\t\t\t\t\texistingObj = destObj[0].options[j];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowFound != true) {\n\t\t\t\t\t\tlet opt = $('<option selected>');\n\t\t\t\t\t\topt.attr('value', srcObj[0].options[i].value);\n\t\t\t\t\t\topt.text(srcObj[0].options[i].text);\n\t\t\t\t\t\tjQuery(destObj[0]).append(opt);\n\t\t\t\t\t\tsrcObj[0].options[i].selected = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (existingObj != null) {\n\t\t\t\t\t\t\texistingObj.selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsrcObj.trigger('change');\n\t\t\tdestObj.trigger('change');\n\t\t},\n\t\tremoveSelectedOptions: function (objName) {\n\t\t\tvar obj = jQuery(objName);\n\t\t\tif (!obj.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = obj[0].options.length - 1; i >= 0; i--) {\n\t\t\t\tif (obj[0].options[i].selected == true) {\n\t\t\t\t\tobj[0].options[i] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsanitizeAndSubmit: function () {\n\t\t\tif (!ImportJs.sanitizeFieldMapping()) return false;\n\t\t\tif (!ImportJs.validateCustomMap()) return false;\n\t\t\treturn true;\n\t\t},\n\t\tsanitizeFieldMapping: function () {\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tvar mappedFields = {};\n\t\t\tvar inventoryMappedFields = {};\n\t\t\tvar errorMessage;\n\t\t\tvar params = {};\n\t\t\tvar mappedDefaultValues = {};\n\t\t\tfor (var i = 0; i < fieldsList.length; ++i) {\n\t\t\t\tvar fieldElement = jQuery(fieldsList.get(i));\n\t\t\t\tvar rowId = jQuery('[name=row_counter]', fieldElement).get(0).value;\n\t\t\t\tvar selectElement = jQuery('select', fieldElement);\n\t\t\t\tvar selectedFieldElement = selectElement.find('option:selected');\n\t\t\t\tvar selectedFieldName = selectedFieldElement.val();\n\t\t\t\tvar selectedFieldDefaultValueElement = jQuery('#' + selectedFieldName + '_defaultvalue', fieldElement);\n\t\t\t\tvar defaultValue = '';\n\t\t\t\tif (selectedFieldDefaultValueElement.attr('type') == 'checkbox') {\n\t\t\t\t\tdefaultValue = selectedFieldDefaultValueElement.is(':checked');\n\t\t\t\t} else {\n\t\t\t\t\tdefaultValue = selectedFieldDefaultValueElement.val();\n\t\t\t\t}\n\t\t\t\tif (selectedFieldName != '') {\n\t\t\t\t\tvar stopImmediately;\n\t\t\t\t\tif (selectElement.hasClass('inventory')) {\n\t\t\t\t\t\tstopImmediately = ImportJs.checkIfMappedFieldExist(\n\t\t\t\t\t\t\tselectedFieldName,\n\t\t\t\t\t\t\tinventoryMappedFields,\n\t\t\t\t\t\t\tselectedFieldElement\n\t\t\t\t\t\t);\n\t\t\t\t\t\tinventoryMappedFields[selectedFieldName] = rowId - 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstopImmediately = ImportJs.checkIfMappedFieldExist(selectedFieldName, mappedFields, selectedFieldElement);\n\t\t\t\t\t\tmappedFields[selectedFieldName] = rowId - 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (stopImmediately) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (defaultValue != '') {\n\t\t\t\t\t\tmappedDefaultValues[selectedFieldName] = defaultValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar mandatoryFields = JSON.parse(jQuery('#mandatory_fields').val());\n\t\t\tvar missingMandatoryFields = [];\n\t\t\tfor (var mandatoryFieldName in mandatoryFields) {\n\t\t\t\tif (mandatoryFieldName in mappedFields) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tmissingMandatoryFields.push('\"' + mandatoryFields[mandatoryFieldName] + '\"');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (missingMandatoryFields.length > 0) {\n\t\t\t\terrorMessage = app.vtranslate('JS_MAP_MANDATORY_FIELDS') + missingMandatoryFields.join(',');\n\t\t\t\tparams = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tjQuery('#field_mapping').val(JSON.stringify(mappedFields));\n\t\t\tjQuery('#inventory_field_mapping').val(JSON.stringify(inventoryMappedFields));\n\t\t\tjQuery('#default_values').val(JSON.stringify(mappedDefaultValues));\n\t\t\treturn true;\n\t\t},\n\t\tcheckIfMappedFieldExist: function (selectedFieldName, mappedFields, selectedFieldElement) {\n\t\t\tif (selectedFieldName in mappedFields) {\n\t\t\t\tvar errorMessage = app.vtranslate('JS_FIELD_MAPPED_MORE_THAN_ONCE') + ' ' + selectedFieldElement.data('label');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tvalidateCustomMap: function () {\n\t\t\tvar errorMessage;\n\t\t\tvar params = {};\n\t\t\tvar saveMap = jQuery('#save_map').is(':checked');\n\t\t\tif (saveMap) {\n\t\t\t\tvar mapName = jQuery('#save_map_as').val();\n\t\t\t\tif (jQuery.trim(mapName) == '') {\n\t\t\t\t\terrorMessage = app.vtranslate('JS_MAP_NAME_CAN_NOT_BE_EMPTY');\n\t\t\t\t\tparams = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar mapOptions = jQuery('#saved_maps option');\n\t\t\t\tfor (var i = 0; i < mapOptions.length; ++i) {\n\t\t\t\t\tvar mapOption = jQuery(mapOptions.get(i));\n\t\t\t\t\tif (mapOption.html() == mapName) {\n\t\t\t\t\t\terrorMessage = app.vtranslate('JS_MAP_NAME_ALREADY_EXISTS');\n\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tloadSavedMap: function () {\n\t\t\tvar selectedMapElement = jQuery('#saved_maps option:selected');\n\t\t\tvar mapId = selectedMapElement.attr('id');\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tvar deleteMapContainer = jQuery('#delete_map_container');\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tjQuery('[name=mapped_fields]', fieldElement).val('');\n\t\t\t});\n\t\t\tif (mapId == -1) {\n\t\t\t\tdeleteMapContainer.hide();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdeleteMapContainer.show();\n\t\t\tvar mappingString = selectedMapElement.val();\n\t\t\tif (mappingString == '') return;\n\t\t\tvar mappingPairs = mappingString.split('&');\n\t\t\tvar mapping = {};\n\t\t\tfor (var i = 0; i < mappingPairs.length; ++i) {\n\t\t\t\tvar mappingPair = mappingPairs[i].split('=');\n\t\t\t\tvar header = mappingPair[0];\n\t\t\t\theader = header.replace(/\\/eq\\//g, '=');\n\t\t\t\theader = header.replace(/\\/amp\\//g, '&');\n\t\t\t\tmapping[\"'\" + header + \"'\"] = mappingPair[1];\n\t\t\t}\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tvar mappedFields = jQuery('[name=mapped_fields]', fieldElement);\n\t\t\t\tvar rowId = jQuery('[name=row_counter]', fieldElement).get(0).value;\n\t\t\t\tvar headerNameElement = jQuery('[name=header_name]', fieldElement).get(0);\n\t\t\t\tvar headerName = jQuery(headerNameElement).html();\n\t\t\t\tif (\"'\" + headerName + \"'\" in mapping) {\n\t\t\t\t\tmappedFields.val(mapping[\"'\" + headerName + \"'\"]);\n\t\t\t\t} else if (rowId in mapping) {\n\t\t\t\t\tmappedFields.val($rowId);\n\t\t\t\t}\n\t\t\t\tmappedFields.trigger('change');\n\t\t\t\tImportJs.loadDefaultValueWidget(fieldElement.attr('id'));\n\t\t\t});\n\t\t},\n\t\tdeleteMap: function (module) {\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttext: app.vtranslate('LBL_DELETE_CONFIRMATION'),\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tlet selectedMapElement = jQuery('#saved_maps option:selected');\n\t\t\t\t\tlet mapId = selectedMapElement.attr('id');\n\t\t\t\t\tlet status = jQuery('#status');\n\t\t\t\t\tstatus.show();\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: module,\n\t\t\t\t\t\tview: 'Import',\n\t\t\t\t\t\tmode: 'deleteMap',\n\t\t\t\t\t\tmapid: mapId\n\t\t\t\t\t})\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tlet mapContainer = $('#savedMapsContainer').html(data);\n\t\t\t\t\t\t\tstatus.hide();\n\t\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(mapContainer.find('select'));\n\t\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(jQuery('#saved_maps'));\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadDefaultValueWidget: function (rowIdentifierId) {\n\t\t\tvar affectedRow = jQuery('#' + rowIdentifierId);\n\t\t\tif (typeof affectedRow === 'undefined' || affectedRow == null) return;\n\t\t\tvar selectedFieldElement = jQuery('[name=mapped_fields]', affectedRow).get(0);\n\t\t\tvar selectedFieldName = jQuery(selectedFieldElement).val();\n\t\t\tvar defaultValueContainer = jQuery(jQuery('[name=default_value_container]', affectedRow).get(0));\n\t\t\tvar allDefaultValuesContainer = jQuery('#defaultValuesElementsContainer');\n\t\t\tif (defaultValueContainer.children.length > 0) {\n\t\t\t\tvar copyOfDefaultValueWidget = jQuery(':first', defaultValueContainer).detach();\n\t\t\t\tcopyOfDefaultValueWidget.appendTo(allDefaultValuesContainer);\n\t\t\t}\n\t\t\tvar selectedFieldDefValueContainer = jQuery(\n\t\t\t\t'#' + selectedFieldName + '_defaultvalue_container',\n\t\t\t\tallDefaultValuesContainer\n\t\t\t);\n\t\t\tvar defaultValueWidget = selectedFieldDefValueContainer.detach();\n\t\t\tdefaultValueWidget.appendTo(defaultValueContainer);\n\t\t},\n\t\tloadDefaultValueWidgetForMappedFields: function () {\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tvar mappedFieldName = jQuery('[name=mapped_fields]', fieldElement).val();\n\t\t\t\tif (mappedFieldName != '') {\n\t\t\t\t\tImportJs.loadDefaultValueWidget(fieldElement.attr('id'));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsubmitAction: function () {\n\t\t\tvar form = jQuery('[name=\"importAdvanced\"]');\n\t\t\tform.on('submit', function () {\n\t\t\t\t$.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\topenListInModal: function () {\n\t\t\t$('.js-open-list-in-modal').on('click', function () {\n\t\t\t\tlet element = $(this),\n\t\t\t\t\tmoduleName = element.data('module-name'),\n\t\t\t\t\ttype = '',\n\t\t\t\t\tforUser = element.data('for-user'),\n\t\t\t\t\tforModule = element.data('for-module');\n\t\t\t\tif ($(this).attr('data-type') !== '') {\n\t\t\t\t\ttype = '&type=' + element.data('type');\n\t\t\t\t}\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=' +\n\t\t\t\t\t\tmoduleName +\n\t\t\t\t\t\t'&view=List&mode=getImportDetails' +\n\t\t\t\t\t\ttype +\n\t\t\t\t\t\t'&start=1&foruser=' +\n\t\t\t\t\t\tforUser +\n\t\t\t\t\t\t'&forModule=' +\n\t\t\t\t\t\tforModule,\n\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\tlet container = data.find('.listViewEntriesDiv'),\n\t\t\t\t\t\t\tcontainerH = container.height(),\n\t\t\t\t\t\t\tcontainerOffsetTop = container.offset().top,\n\t\t\t\t\t\t\tfooterH = $('.js-footer').height(),\n\t\t\t\t\t\t\twindowH = $(window).height();\n\t\t\t\t\t\tif (Quasar.plugins.Platform.is.desktop) {\n\t\t\t\t\t\t\tif (containerH + containerOffsetTop + footerH > windowH) {\n\t\t\t\t\t\t\t\tcontainer.height(windowH - (containerOffsetTop + footerH));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showNewScrollbarTopBottomRight(container);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t};\n\n\tjQuery(document).ready(function () {\n\t\tImportJs.toogleMergeConfiguration();\n\t\tImportJs.openListInModal();\n\t\tImportJs.submitAction();\n\t\tImportJs.loadDefaultValueWidgetForMappedFields();\n\t\tImportJs.registerImportClickEvent();\n\t\tApp.Fields.Date.register(jQuery('.contentsDiv'));\n\t});\n}\n"],"names":["ImportJs","toogleMergeConfiguration","mergeChecked","jQuery","is","duplicateMergeConfiguration","show","hide","checkFileType","filePath","val","fileExtension","split","pop","handleFileTypeChange","fileType","delimiterContainer","hasHeaderContainer","xmlTpl","extension","addClass","removeClass","uploadAndParse","validateFilePath","validateMergeCriteria","registerImportClickEvent","$","removeAttr","on","sanitizeAndSubmit","importFile","trim","app","vtranslate","showMessage","text","errorMessage","type","focus","uploadFilter","uploadFileSize","elementId","allowedExtensions","obj","fileParts","toLowerCase","length","validExtensions","indexOf","Vtiger_Helper_Js","importMaxUploadSize","element","closest","data","importMaxUploadSizeInMb","uploadedFileSize","get","files","size","selectedOptions","convertOptionsToJSONArray","objName","targetObjName","arr","i","options","selected","push","value","targetObj","JSON","stringify","copySelectedOptions","source","destination","srcObj","destObj","rowFound","existingObj","j","opt","attr","append","trigger","removeSelectedOptions","sanitizeFieldMapping","validateCustomMap","fieldsList","mappedFields","inventoryMappedFields","params","mappedDefaultValues","rowId","fieldElement","selectElement","selectedFieldElement","find","selectedFieldName","selectedFieldDefaultValueElement","defaultValue","hasClass","stopImmediately","checkIfMappedFieldExist","parse","missingMandatoryFields","mandatoryFieldName","mandatoryFields","join","saveMap","mapName","mapOption","mapOptions","html","loadSavedMap","mapId","selectedMapElement","deleteMapContainer","each","mappingString","mapping","mappingPairs","header","mappingPair","replace","headerNameElement","headerName","$rowId","loadDefaultValueWidget","deleteMap","module","showConfirmModal","confirmedCallback","status","AppConnector","request","view","mode","mapid","done","mapContainer","App","Fields","Picklist","showSelect2ElementView","changeSelectElementView","fail","error","console","rowIdentifierId","affectedRow","defaultValueContainer","allDefaultValuesContainer","children","detach","copyOfDefaultValueWidget","appendTo","defaultValueWidget","selectedFieldDefValueContainer","loadDefaultValueWidgetForMappedFields","mappedFieldName","submitAction","form","progressIndicator","message","position","blockInfo","enabled","openListInModal","moduleName","forUser","forModule","showModalWindow","container","containerH","height","containerOffsetTop","offset","top","footerH","windowH","window","Quasar","plugins","Platform","desktop","showNewScrollbarTopBottomRight","document","ready","Date","register"],"mappings":"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"}