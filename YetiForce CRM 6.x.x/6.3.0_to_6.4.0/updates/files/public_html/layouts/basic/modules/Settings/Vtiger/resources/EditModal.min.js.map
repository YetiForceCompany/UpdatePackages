{"version":3,"file":"EditModal.min.js","sources":["EditModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_Edit_Js(\n\t'Settings_Vtiger_EditModal_Js',\n\t{},\n\t{\n\t\tgetForm: function () {\n\t\t\tif (this.formElement == false) {\n\t\t\t\tthis.setForm(jQuery('#modalEditModal'));\n\t\t\t}\n\t\t\treturn this.formElement;\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tvar container = this.getForm();\n\t\t\tthis.registerBasicEvents(container);\n\t\t\tthis.registerSubmit();\n\t\t},\n\t\tregisterSubmit: function () {\n\t\t\tvar container = this.getForm();\n\t\t\tvar form = container.find('form');\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tapp.saveAjax('', formData, { record: container.find('[name=\"record\"]').val() }).done(function (data) {\n\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_SAVE_SUCCESS') });\n\t\t\t\t\t\t\tvar moduleClassName = 'Settings_' + app.getModuleName() + '_List_Js';\n\t\t\t\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\t\t\t\tmoduleClassName = 'Settings_Vtiger_List_Js';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar instance = new window[moduleClassName]();\n\t\t\t\t\t\t\tinstance.getListViewRecords().done(function () {\n\t\t\t\t\t\t\t\tinstance.updatePagination();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\njQuery(document).ready(function (e) {\n\tsetTimeout(function () {\n\t\tvar moduleClassName = 'Settings_' + app.getModuleName() + '_EditModal_Js';\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = 'Settings_Vtiger_EditModal_Js';\n\t\t}\n\t\tvar instance = new window[moduleClassName]();\n\t\tinstance.registerEvents();\n\t}, 200);\n});\n"],"names":["Vtiger_Edit_Js","getForm","formElement","setForm","jQuery","registerEvents","registerBasicEvents","container","registerSubmit","form","find","on","e","preventDefault","validationEngine","serializeFormData","app","saveAjax","formData","record","val","done","data","result","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","moduleClassName","getModuleName","instance","window","getListViewRecords","updatePagination","showNotify","type","hideModalWindow","document","ready","setTimeout"],"mappings":";;AAAA,kKACA,YAEAA,CAAAA,cAAc,CACb,8BADa,CAEb,EAFa,CAGb,CACCC,OAAO,CAAE,SAAA,OAAA,EAAY,CAIpB,OAHI,SAAKC,WAGT,EAFC,IAAKC,CAAAA,OAAL,CAAaC,MAAM,CAAC,iBAAD,CAAnB,CAED,CAAO,IAAKF,CAAAA,WACZ,CANF,CAOCG,cAAc,CAAE,yBAAY,CAC3B,IAAa,SAAA,CAAG,IAAKJ,CAAAA,OAAL,EAAhB,CACA,KAAKK,mBAAL,CAAyBC,SAAzB,CAF2B,CAG3B,IAAA,CAAKC,cAAL,GACA,CAXF,CAYCA,cAAc,CAAE,SAAA,cAAA,EAAY,CACvBD,IAAAA,SAAS,CAAG,IAAA,CAAKN,OAAL,EADW,CAEvBQ,IAAI,CAAGF,SAAS,CAACG,IAAV,CAAe,MAAf,CAFgB,CAG3BD,IAAI,CAACE,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAE9B,GADAA,CAAC,CAACC,cAAF,EACA,CAAIJ,IAAI,CAACK,gBAAL,CAAsB,UAAtB,CAAJ,CAAuC,CACtC,IAAY,QAAA,CAAGL,IAAI,CAACM,iBAAL,EAAf,CACAC,GAAG,CAACC,QAAJ,CAAa,EAAb,CAAiBC,QAAjB,CAA2B,CAAEC,MAAM,CAAEZ,SAAS,CAACG,IAAV,CAAe,mBAAf,CAAA,CAAkCU,GAAlC,EAAV,CAA3B,CAAgFC,CAAAA,IAAhF,CAAqF,SAAUC,IAAV,CAAgB,CACpG,GAAIA,IAAI,CAACC,MAAT,CAAiB,CAChBC,wBAAwB,CAACC,WAAzB,CAAqC,CAAEC,IAAI,CAAEV,GAAG,CAACW,UAAJ,CAAe,iBAAf,CAAR,CAArC,CADgB,CAEhB,IAAIC,eAAe,CAAG,WAAA,CAAcZ,GAAG,CAACa,aAAJ,EAAd,CAAoC,UAA1D,CACuC,WAAnC,EAAA,OAAa,MAAA,CAACD,eAAD,CAHD,GAIfA,eAAe,CAAG,yBAJH,CAAA,CAMhB,IAAIE,QAAQ,CAAG,IAAIC,MAAM,CAACH,eAAD,CAAzB,CACAE,QAAQ,CAACE,kBAAT,EAA8BX,CAAAA,IAA9B,CAAmC,UAAY,CAC9CS,QAAQ,CAACG,gBAAT,GACA,CAFD,EAGA,CAVD,KAWI,GAAA,CAACC,UAAJ,CAAe,CACdR,IAAI,CAAEV,GAAG,CAACW,UAAJ,CAAe,UAAf,CADQ,CAEdQ,IAAI,CAAE,OAFQ,CAAf,CAXD,CAgBAnB,GAAG,CAACoB,eAAJ,GACA,CAlBD,EAmBA,CACD,CAxBD,EAyBA,CAxCF,CAHa,EA8CdhC,MAAM,CAACiC,QAAD,CAAN,CAAiBC,KAAjB,CAAuB,UAAa,CACnCC,UAAU,CAAC,UAAY,CACtB,IAAmB,eAAA,CAAG,YAAcvB,GAAG,CAACa,aAAJ,EAAd,CAAoC,eAA1D,CACuC,WAAnC,SAAa,MAAA,CAACD,eAAD,CAFK,GAGrBA,eAAe,CAAG,8BAHG,EAKtB,IAAIE,QAAQ,CAAG,IAAU,MAAA,CAACF,eAAD,CAAzB,CACAE,QAAQ,CAACzB,cAAT,GACA,CAPS,CAOP,GAPO,EAQV,CATD;;"}