{"version":3,"file":"Header.min.js","sources":["Header.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n//Show Alert if user is on a unsupported browser (IE7, IE8, ..etc)\nif (\n\t/MSIE 6.0/.test(navigator.userAgent) ||\n\t/MSIE 7.0/.test(navigator.userAgent) ||\n\t/MSIE 8.0/.test(navigator.userAgent) ||\n\t/MSIE 9.0/.test(navigator.userAgent)\n) {\n\tif (app.getCookie('oldbrowser') != 'true') {\n\t\tapp.setCookie('oldbrowser', true, 365);\n\t\twindow.location.href = 'layouts/basic/modules/Vtiger/browsercompatibility/Browser_compatibility.html';\n\t}\n}\n\n$.Class(\n\t'Vtiger_Header_Js',\n\t{\n\t\tself: false,\n\t\tgetInstance: function () {\n\t\t\tif (this.self != false) {\n\t\t\t\treturn this.self;\n\t\t\t}\n\t\t\tthis.self = new Vtiger_Header_Js();\n\t\t\treturn this.self;\n\t\t}\n\t},\n\t{\n\t\tmenuContainer: false,\n\t\tcontentContainer: false,\n\t\tinit: function () {\n\t\t\tthis.setContentsContainer('.js-base-container');\n\t\t},\n\t\tsetContentsContainer: function (element) {\n\t\t\tif (element instanceof $) {\n\t\t\t\tthis.contentContainer = element;\n\t\t\t} else {\n\t\t\t\tthis.contentContainer = $(element);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetContentsContainer: function () {\n\t\t\treturn this.contentContainer;\n\t\t},\n\t\tregisterQuickCreateSearch() {\n\t\t\t$('.js-quickcreate-search').on('keyup', function () {\n\t\t\t\tlet value = $(this).val().toLowerCase();\n\t\t\t\t$('.quickCreateModules .js-quickcreate-search-item a').filter(function () {\n\t\t\t\t\tlet item = $(this).closest('.js-quickcreate-search-item');\n\t\t\t\t\tif ($(this).text().toLowerCase().indexOf(value) > -1) {\n\t\t\t\t\t\titem.removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-quickcreate-search-block').hide();\n\t\t\t\t$('.js-quickcreate-search-item')\n\t\t\t\t\t.not('.d-none')\n\t\t\t\t\t.each(function () {\n\t\t\t\t\t\t$(this).closest('.js-quickcreate-search-block').show();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tshowAnnouncement: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet announcementContainer = $('#announcements');\n\t\t\tlet announcements = announcementContainer.find('.announcement');\n\t\t\tif (announcements.length > 0) {\n\t\t\t\tlet announcement = announcements.first();\n\t\t\t\tlet aid = announcement.data('id');\n\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tannouncement.find('.modal'),\n\t\t\t\t\tfunction (modal) {\n\t\t\t\t\t\tannouncement.remove();\n\t\t\t\t\t\tmodal.find('button').on('click', function (e) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: 'Announcements',\n\t\t\t\t\t\t\t\taction: 'BasicAjax',\n\t\t\t\t\t\t\t\tmode: 'mark',\n\t\t\t\t\t\t\t\trecord: aid,\n\t\t\t\t\t\t\t\ttype: $(this).data('type')\n\t\t\t\t\t\t\t}).done(function (res) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tthisInstance.showAnnouncement();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t'',\n\t\t\t\t\t{ backdrop: 'static', keyboard: false }\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tregisterAnnouncements: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet announcementContainer = $('#announcements');\n\t\t\tif (announcementContainer.length == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.showAnnouncement();\n\t\t},\n\t\tregisterCalendarButtonClickEvent: function () {\n\t\t\tlet element = $('#calendarBtn');\n\t\t\tlet currentDate = element.data('date');\n\t\t\telement.on('click', function (e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\telement.closest('div.nav').find('div.open').removeClass('open');\n\t\t\t\tlet calendar = $('#' + element.data('datepickerId'));\n\t\t\t\tif ($(calendar).is(':visible')) {\n\t\t\t\t\telement.DatePickerHide();\n\t\t\t\t} else {\n\t\t\t\t\telement.DatePickerShow();\n\t\t\t\t}\n\t\t\t});\n\t\t\telement.DatePicker({\n\t\t\t\tformat: App.Fields.Date.convertToDatePickerFormat(element.data('dateFormat')),\n\t\t\t\tdate: currentDate,\n\t\t\t\tcalendars: 1,\n\t\t\t\tstarts: 1,\n\t\t\t\tclassName: 'globalCalendar'\n\t\t\t});\n\t\t},\n\t\tisFreeDay: function (dayOfWeek) {\n\t\t\tif (dayOfWeek == 0 || dayOfWeek == 6) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tbasicSearch: function () {\n\t\t\tlet thisInstance = this;\n\t\t\t$('.js-global-search__value').on('keypress', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (e.which == 13) {\n\t\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\t\tthisInstance.labelSearch(currentTarget);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-global-search-operator').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.target);\n\t\t\t\tlet block = currentTarget.closest('.js-global-search__input');\n\t\t\t\tblock.find('.js-global-search__value').data('operator', currentTarget.data('operator'));\n\t\t\t\tblock.find('.js-global-search-operator .dropdown-item').removeClass('active');\n\t\t\t\tcurrentTarget.closest('.dropdown-item').addClass('active');\n\t\t\t});\n\t\t\tif ($('#gsAutocomplete').val() == 1) {\n\t\t\t\t$.widget('custom.gsAutocomplete', $.ui.autocomplete, {\n\t\t\t\t\t_create: function () {\n\t\t\t\t\t\tthis._super();\n\t\t\t\t\t\tthis.widget().menu('option', 'items', '> :not(.ui-autocomplete-category)');\n\t\t\t\t\t},\n\t\t\t\t\t_renderMenu: function (ul, items) {\n\t\t\t\t\t\tlet that = this,\n\t\t\t\t\t\t\tcurrentCategory = '';\n\t\t\t\t\t\t$.each(items, function (index, item) {\n\t\t\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + '</li>');\n\t\t\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthat._renderItemData(ul, item);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t_renderItemData: function (ul, item) {\n\t\t\t\t\t\treturn this._renderItem(ul, item).data('ui-autocomplete-item', item);\n\t\t\t\t\t},\n\t\t\t\t\t_renderItem: function (ul, item) {\n\t\t\t\t\t\tlet url = 'index.php?module=' + item.module + '&view=Detail&record=' + item.id;\n\t\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t\t.data('item.autocomplete', item)\n\t\t\t\t\t\t\t.append($(\"<a href='\" + url + \"' title='\" + item.label + \"'></a>\").html(item.label))\n\t\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-global-search__value').gsAutocomplete({\n\t\t\t\t\tminLength: app.getMainParams('gsMinLength'),\n\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\t\t\t\tbasicSearch.reduceNumberResults = app.getMainParams('gsAmountResponse');\n\t\t\t\t\t\tbasicSearch.returnHtml = false;\n\t\t\t\t\t\tbasicSearch.setMainContainer(this.element.closest('.js-global-search__input'));\n\t\t\t\t\t\tbasicSearch.search(request.term).done(function (data) {\n\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\t\tlet reponseDataList = [];\n\t\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\t'ui-autocomplete': 'u-overflow-y-auto u-overflow-x-hidden u-max-h-70vh u-max-w-sm-70 u-max-w-lg-40'\n\t\t\t\t\t},\n\t\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\t\tif (selectedItemData.permitted) {\n\t\t\t\t\t\t\tlet url = 'index.php?module=' + selectedItemData.module + '&view=Detail&record=' + selectedItemData.id;\n\t\t\t\t\t\t\twindow.location.href = url;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tclose: function (event, ui) {\n\t\t\t\t\t\t//$('.js-global-search__value').val('');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tlabelSearch: function (currentTarget) {\n\t\t\tlet val = currentTarget.val();\n\t\t\tif (val == '') {\n\t\t\t\tapp.showAlert(app.vtranslate('JS_PLEASE_ENTER_SOME_VALUE'));\n\t\t\t\tcurrentTarget.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\tbasicSearch.setMainContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\tbasicSearch.search(val).done(function (data) {\n\t\t\t\tbasicSearch.showSearchResults(data);\n\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\tmode: 'hide'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterHotKeys: function () {\n\t\t\t$('.hotKey').each(function (index) {\n\t\t\t\tlet thisObject = this;\n\t\t\t\tlet key = $(thisObject).data('hotkeys');\n\t\t\t\tif (key != '') {\n\t\t\t\t\tMousetrap.bind(key, function () {\n\t\t\t\t\t\tthisObject.click();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotice: function () {\n\t\t\tlet self = this;\n\t\t\t$('#page').before(\n\t\t\t\t`<div class=\"remindersNoticeContainer\" tabindex=\"-1\" role=\"dialog\" aria-label=\"${app.vtranslate(\n\t\t\t\t\t'JS_REMINDER'\n\t\t\t\t)}\" aria-hidden=\"true\"></div>`\n\t\t\t);\n\t\t\tlet block = $('.remindersNoticeContainer');\n\t\t\tlet remindersNotice = $('.remindersNotice');\n\t\t\tremindersNotice.on('click', function () {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.requestReminder();\n\t\t\t\t}\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tblock.toggleClass('toggled');\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotification: function () {\n\t\t\tlet self = this;\n\t\t\t$('#page').before('<div class=\"remindersNotificationContainer\" tabindex=\"-1\" role=\"dialog\"></div>');\n\t\t\tlet block = $('.remindersNotificationContainer');\n\t\t\tlet remindersNotice = $('.notificationsNotice');\n\t\t\tremindersNotice.on('click', function () {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.getNotificationsForReminder();\n\t\t\t\t}\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tblock.toggleClass('toggled');\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t},\n\t\ttoggleBreadcrumbActions(container) {\n\t\t\tlet actionsContainer = container.find('.js-header-toggle__actions');\n\t\t\tif (!actionsContainer.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet actionBtn = container.find('.js-header-toggle__actions-btn');\n\t\t\tif (!actionsContainer.closest('.js-btn-toolbar').length) {\n\t\t\t\tconst actionBtnMargin = 5;\n\t\t\t\tconst cssActionsTop = {\n\t\t\t\t\ttop: actionBtn.offset().top + actionBtn.outerHeight() + actionBtnMargin\n\t\t\t\t};\n\t\t\t\tactionsContainer.css(cssActionsTop);\n\t\t\t}\n\t\t\tactionBtn.on('click', () => {\n\t\t\t\tactionsContainer.toggleClass('is-active');\n\t\t\t});\n\t\t},\n\t\tregisterMobileEvents: function () {\n\t\t\tconst self = this,\n\t\t\t\tcontainer = this.getContentsContainer();\n\t\t\t$('.rightHeaderBtnMenu').on('click', function () {\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.mobileLeftPanel ').toggleClass('mobileMenuOn');\n\t\t\t});\n\t\t\t$('.js-quick-action-btn').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.actionMenu').toggleClass('actionMenuOn');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'false');\n\t\t\t\t\tcurrentTarget.popover();\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'true');\n\t\t\t\t\tcurrentTarget.popover('disable');\n\t\t\t\t}\n\t\t\t\t$('.quickCreateModules').on('click', function () {\n\t\t\t\t\tself.hideActionMenu();\n\t\t\t\t});\n\t\t\t});\n\t\t\t$('.searchMenuBtn').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.searchMenu').toggleClass('toogleSearchMenu');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'false');\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'true');\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-header__btn--mail .dropdown').on('show.bs.dropdown', function () {\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t\tthis.toggleBreadcrumbActions(container);\n\t\t},\n\t\thideMobileMenu: function () {\n\t\t\t$('.mobileLeftPanel ').removeClass('mobileMenuOn');\n\t\t},\n\t\thideSearchMenu: function () {\n\t\t\t$('.searchMenu').removeClass('toogleSearchMenu');\n\t\t},\n\t\thideActionMenu: function () {\n\t\t\t$('.actionMenu').removeClass('actionMenuOn');\n\t\t},\n\t\thideBreadcrumbActionMenu: function () {\n\t\t\t$('.js-header-toggle__actions').removeClass('is-active');\n\t\t},\n\t\thideReminderNotice: function () {\n\t\t\t$('.remindersNoticeContainer').removeClass('toggled');\n\t\t},\n\t\thideReminderNotification: function () {\n\t\t\t$('.remindersNotificationContainer').removeClass('toggled');\n\t\t},\n\t\tregisterFooTable: function () {\n\t\t\tlet container = $('.tableRWD');\n\t\t\tcontainer.find('thead tr th:gt(1)').attr('data-hide', 'phone');\n\t\t\tcontainer.find('thead tr th:gt(3)').attr('data-hide', 'tablet,phone');\n\t\t\tcontainer.find('thead tr th:last').attr('data-hide', '');\n\t\t\tlet whichColumnEnable = container.find('thead').attr('col-visible-alltime');\n\t\t\tcontainer.find('thead tr th:eq(' + whichColumnEnable + ')').attr('data-hide', '');\n\t\t\t$('.tableRWD, .customTableRWD').footable({\n\t\t\t\tbreakpoints: {\n\t\t\t\t\tphone: 768,\n\t\t\t\t\ttablet: 1024\n\t\t\t\t},\n\t\t\t\taddRowToggle: true,\n\t\t\t\ttoggleSelector: ' > tbody > tr:not(.footable-row-detail)'\n\t\t\t});\n\t\t\t$('.footable-toggle').on('click', function (event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t$(this).trigger('footable_toggle_row');\n\t\t\t});\n\t\t\tlet records = $('.customTableRWD').find('[data-toggle-visible=false]');\n\t\t\trecords.find('.footable-toggle').css('display', 'none');\n\t\t},\n\t\tregisterSiteBarButton(container) {\n\t\t\tconst key = 'ShowHideRightPanel' + app.getModuleName();\n\t\t\tlet cache = !container.find('.toggleSiteBarRightButton').data('nocache');\n\t\t\tif (cache && app.cacheGet(key) == 'show') {\n\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t} else if (cache && app.cacheGet(key) == null) {\n\t\t\t\tif (container.find('.siteBarRight').data('showpanel') == 1) {\n\t\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontainer.find('.toggleSiteBarRightButton').on('click', (e) => {\n\t\t\t\tlet toggleButton = $(e.currentTarget);\n\t\t\t\tif (!toggleButton.data('nocache')) {\n\t\t\t\t\tif (toggleButton.closest('.siteBarRight').hasClass('hideSiteBar')) {\n\t\t\t\t\t\tapp.cacheSet(key, 'show');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.cacheSet(key, 'hide');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.toggleSiteBar(toggleButton);\n\t\t\t});\n\t\t},\n\t\ttoggleSiteBar(toogleButton) {\n\t\t\t$('.rowContent').toggleClass('js-sitebar--active');\n\t\t\ttoogleButton.closest('.siteBarRight').toggleClass('hideSiteBar');\n\t\t\ttoogleButton.find('.fas').toggleClass('fa-chevron-right fa-chevron-left');\n\t\t\ttoogleButton.toggleClass('hideToggleSiteBarRightButton');\n\t\t},\n\t\tregisterToggleButton: function () {\n\t\t\t$('.buttonTextHolder .dropdown-menu a').on('click', function () {\n\t\t\t\t$(this).parents('.d-inline-block').find('.dropdown-toggle .textHolder').html($(this).text());\n\t\t\t});\n\t\t},\n\t\tregisterKnowledgeBaseModal() {\n\t\t\t$('.js-knowledge-base-modal').on('click', () => {\n\t\t\t\tif (window.KnowledgeBaseModalVueComponent.mounted === undefined) {\n\t\t\t\t\twindow.KnowledgeBaseModalVueComponent.mount({\n\t\t\t\t\t\tel: '#KnowledgeBaseModal',\n\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\tmoduleName: 'KnowledgeBase',\n\t\t\t\t\t\t\tdialog: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tKnowledgeBaseModalVueComponent.mounted = true;\n\t\t\t\t} else {\n\t\t\t\t\tvuexStore.commit('KnowledgeBase/setDialog', true);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window === window.parent && window.ChatModalVueComponent !== undefined) {\n\t\t\t\twindow.ChatModalVueComponent.mount({\n\t\t\t\t\tel: '#ChatModalVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tconst container = thisInstance.getContentsContainer(),\n\t\t\t\tmenuContainer = container.find('.js-menu--scroll'),\n\t\t\t\tquickCreateModal = container.find('.quickCreateModules');\n\t\t\tapp.showNewScrollbarLeft(menuContainer, { suppressScrollX: true });\n\t\t\tapp.showNewScrollbar(menuContainer.find('.subMenu').last(), { suppressScrollX: true });\n\t\t\tthisInstance.registerFooTable(); //Enable footable\n\t\t\t$('.js-clear-history').on('click', () => {\n\t\t\t\tapp.clearBrowsingHistory();\n\t\t\t});\n\t\t\t$('.globalSearch').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\tlet advanceSearchInstance = new Vtiger_AdvanceSearch_Js();\n\t\t\t\tadvanceSearchInstance.setParentContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\t\tadvanceSearchInstance.initiateSearch();\n\t\t\t});\n\t\t\t$('.searchIcon').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(this).closest('.js-global-search__input').find('.js-global-search__value');\n\t\t\t\tlet pressEvent = $.Event('keypress');\n\t\t\t\tpressEvent.which = 13;\n\t\t\t\tcurrentTarget.trigger(pressEvent);\n\t\t\t});\n\t\t\tthisInstance.registerAnnouncements();\n\t\t\tthisInstance.registerHotKeys();\n\t\t\tthisInstance.registerToggleButton();\n\t\t\tthisInstance.registerSiteBarButton($('#centerPanel'));\n\t\t\t//this.registerCalendarButtonClickEvent();\n\t\t\t//After selecting the global search module, focus the input element to type\n\t\t\t$('.basicSearchModulesList').on('change', function () {\n\t\t\t\tlet value = $(this).closest('.js-global-search__input').find('.js-global-search__value');\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tvalue.focus();\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t\tthisInstance.basicSearch();\n\t\t\tquickCreateModal.on('click', '.quickCreateModule', function (e, params) {\n\t\t\t\tlet moduleName = $(e.currentTarget).data('name');\n\t\t\t\tquickCreateModal.modal('hide');\n\t\t\t\tApp.Components.QuickCreate.createRecord(moduleName);\n\t\t\t});\n\t\t\tthisInstance.registerReminderNotification();\n\t\t\tthisInstance.registerMobileEvents();\n\t\t\tthisInstance.registerReminderNotice();\n\t\t\tthisInstance.registerQuickCreateSearch();\n\t\t\tthisInstance.registerKnowledgeBaseModal();\n\t\t\tthisInstance.registerChat();\n\t\t}\n\t}\n);\njQuery(function () {\n\twindow.addEventListener('popstate', (event) => {\n\t\tif (event.state) {\n\t\t\twindow.location.href = event.state;\n\t\t}\n\t});\n\tVtiger_Header_Js.getInstance().registerEvents();\n});\n"],"names":["test","navigator","userAgent","app","getCookie","setCookie","window","location","href","$","Class","self","getInstance","menuContainer","contentContainer","init","setContentsContainer","element","getContentsContainer","registerQuickCreateSearch","on","val","toLowerCase","filter","item","closest","text","indexOf","value","removeClass","addClass","hide","not","each","show","showAnnouncement","thisInstance","announcementContainer","announcements","find","length","first","aid","announcement","data","showModalWindow","modal","remove","AppConnector","request","module","action","mode","record","type","done","hideModalWindow","backdrop","keyboard","registerAnnouncements","registerCalendarButtonClickEvent","currentDate","e","stopImmediatePropagation","calendar","is","DatePickerHide","DatePickerShow","DatePicker","format","App","Fields","Date","convertToDatePickerFormat","date","calendars","starts","className","isFreeDay","dayOfWeek","basicSearch","currentTarget","which","hideSearchMenu","labelSearch","target","block","widget","ui","autocomplete","_create","_super","menu","_renderMenu","ul","items","that","currentCategory","index","category","append","_renderItemData","_renderItem","url","id","label","html","appendTo","gsAutocomplete","minLength","getMainParams","source","response","Vtiger_BasicSearch_Js","reduceNumberResults","returnHtml","setMainContainer","search","term","JSON","parse","result","reponseDataList","serverDataFormat","responseData","push","classes","select","event","selectedItemData","permitted","close","showAlert","vtranslate","focus","progressIndicator","position","blockInfo","enabled","showSearchResults","progress","registerHotKeys","key","thisObject","Mousetrap","bind","click","registerReminderNotice","before","remindersNotice","hasClass","Vtiger_Index_Js","requestReminder","hideActionMenu","hideBreadcrumbActionMenu","toggleClass","hideReminderNotification","closeSidebar","registerReminderNotification","getNotificationsForReminder","hideReminderNotice","toggleBreadcrumbActions","container","actionsContainer","actionBtn","top","offset","outerHeight","css","cssActionsTop","registerMobileEvents","attr","popover","hideMobileMenu","registerFooTable","whichColumnEnable","footable","breakpoints","phone","tablet","addRowToggle","toggleSelector","stopPropagation","trigger","records","registerSiteBarButton","getModuleName","cache","cacheGet","toggleSiteBar","toggleButton","cacheSet","toogleButton","registerToggleButton","parents","registerKnowledgeBaseModal","KnowledgeBaseModalVueComponent","mounted","mount","el","state","moduleName","dialog","vuexStore","commit","registerChat","parent","ChatModalVueComponent","registerEvents","quickCreateModal","showNewScrollbarLeft","suppressScrollX","showNewScrollbar","last","clearBrowsingHistory","advanceSearchInstance","Vtiger_AdvanceSearch_Js","setParentContainer","initiateSearch","pressEvent","Event","setTimeout","Components","QuickCreate","createRecord","jQuery","addEventListener","Vtiger_Header_Js"],"mappings":"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"}