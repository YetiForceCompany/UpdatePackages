{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Logs_Index_Js', {\n\tgetWarningsList: function () {\n\t\tconst thisInstance = this;\n\t\tconst container = $('.js-warnings-content');\n\t\tconst progressIndicator = $.progressIndicator({\n\t\t\tmessage: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\tblockInfo: { enabled: true }\n\t\t});\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName(),\n\t\t\tmode: 'getWarningsList',\n\t\t\tactive: $('.js-warnings-index-page .js-switch--warnings').first().is(':checked'),\n\t\t\tfolder: thisInstance.getSelectedFolders()\n\t\t})\n\t\t\t.done((data) => {\n\t\t\t\tcontainer.html(data);\n\t\t\t\tthisInstance.registerWarningsList(container);\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t},\n\tregisterWarningsList: function (container) {\n\t\tcontainer.find('table').dataTable({\n\t\t\torder: [\n\t\t\t\t[2, 'desc'],\n\t\t\t\t[1, 'asc']\n\t\t\t],\n\t\t\tlengthMenu: [20, 40, 60, 80, 100],\n\t\t\tpageLength: 20\n\t\t});\n\t\tcontainer.find('.js-show-description').on('click', (e) => {\n\t\t\tapp.showModalWindow($(e.currentTarget).closest('td').find('.js-show-description-content').html());\n\t\t});\n\t\tcontainer.find('.setIgnore').on('click', (e) => {\n\t\t\tcontainer.find('.js-popover-tooltip').popover('hide');\n\t\t\tconst data = $(e.currentTarget).closest('tr').data();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SystemWarnings',\n\t\t\t\tmode: 'update',\n\t\t\t\tid: data.id,\n\t\t\t\tparams: data.status\n\t\t\t}).done(() => {\n\t\t\t\tthis.getWarningsList(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterWarningsFolders: function (container) {\n\t\tconst thisInstance = this;\n\t\tlet data = [];\n\t\tconst treeValues = container.find('.js-tree-values').val();\n\t\tif (treeValues) {\n\t\t\tdata = JSON.parse(treeValues);\n\t\t}\n\t\tcontainer\n\t\t\t.find('#jstreeContainer')\n\t\t\t.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\ticons: false\n\t\t\t\t\t},\n\t\t\t\t\tcheck_callback: true\n\t\t\t\t},\n\t\t\t\tplugins: ['checkbox']\n\t\t\t})\n\t\t\t.on('loaded.jstree', function (event, data) {\n\t\t\t\t$(this).jstree('open_all');\n\t\t\t})\n\t\t\t.on('changed.jstree', function (e, data) {\n\t\t\t\tif (data.action != 'model') {\n\t\t\t\t\tthisInstance.getWarningsList();\n\t\t\t\t}\n\t\t\t});\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-switch--warnings').on('change', () => {\n\t\t\tthisInstance.getWarningsList();\n\t\t});\n\t},\n\tregisterEventsLoadContent: function (thisInstance, mode, container) {\n\t\tthisInstance.registerWarningsFolders(container);\n\t},\n\treloadContent: function () {\n\t\t$('.js-tabs li .active').trigger('click');\n\t},\n\tregisterTabEvents: function () {\n\t\tvar thisInstance = this;\n\t\t$('.js-tabs li').on('click', function () {\n\t\t\tthisInstance.loadContent($(this).data('mode'), false, $(this).data('params'));\n\t\t});\n\t},\n\tgetSelectedFolders: function () {\n\t\tvar selected = [];\n\t\t$.each($('#jstreeContainer').jstree('get_selected', true), function (index, value) {\n\t\t\tselected.push(value.original.subPath);\n\t\t});\n\t\treturn selected;\n\t},\n\tloadContent: function (mode, page, modeParams) {\n\t\tconst thisInstance = this;\n\t\tlet container = $('.indexContainer');\n\t\tlet params = {\n\t\t\tmode: mode,\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName()\n\t\t};\n\t\tif (page) {\n\t\t\tparams.page = page;\n\t\t}\n\t\tif (modeParams) {\n\t\t\tparams.params = modeParams;\n\t\t}\n\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true,\n\t\t\t\telementToBlock: container\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\tcontainer.html(data);\n\t\t\tthisInstance.registerEventsLoadContent(thisInstance, mode, container);\n\t\t});\n\t},\n\t/**\n\t * Register events\n\t */\n\tregisterEvents: function () {\n\t\tthis.registerTabEvents();\n\t\tthis.reloadContent();\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","getWarningsList","container","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","AppConnector","request","module","getModuleName","parent","getParentModuleName","view","getViewName","mode","active","first","is","folder","thisInstance","getSelectedFolders","done","data","html","registerWarningsList","fail","find","dataTable","order","lengthMenu","pageLength","on","e","showModalWindow","currentTarget","closest","popover","action","id","params","status","registerWarningsFolders","treeValues","val","JSON","parse","jstree","core","themes","name","responsive","icons","check_callback","plugins","extend","fn","defaults","language","sLengthMenu","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","registerEventsLoadContent","reloadContent","trigger","registerTabEvents","loadContent","selected","each","index","value","push","original","subPath","page","modeParams","progressIndicatorElement","position","elementToBlock","registerEvents"],"mappings":"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"}