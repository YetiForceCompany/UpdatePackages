{"version":3,"file":"AdvanceFilterEx.min.js","sources":["AdvanceFilterEx.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_AdvanceFilter_Js(\n\t'Vtiger_AdvanceFilterEx_Js',\n\t{},\n\t{\n\t\tvalidationSupportedFieldConditionMap: {\n\t\t\temail: ['e', 'n'],\n\t\t\tdate: ['is'],\n\t\t\tdatetime: ['is']\n\t\t},\n\t\t//Hols field type for which there is validations always needed\n\t\tallConditionValidationNeededFieldList: ['double', 'integer'],\n\t\t// comparators which do not have any field Specific UI.\n\t\tcomparatorsWithNoValueBoxMap: ['has changed', 'not has changed', 'is empty', 'is not empty'],\n\t\tinit: function (container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('#advanceFilterContainer');\n\t\t\t}\n\n\t\t\tif (container.is('#advanceFilterContainer')) {\n\t\t\t\tthis.setFilterContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setFilterContainer(jQuery('#advanceFilterContainer', container));\n\t\t\t}\n\t\t\tthis.initialize();\n\t\t},\n\t\tgetFieldSpecificType: function (fieldSelected) {\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\tvar type = fieldInfo.type;\n\t\t\treturn type;\n\t\t},\n\t\tgetModuleName: function () {\n\t\t\treturn 'AdvanceFilterEx';\n\t\t},\n\t\t/**\n\t\t * Function to add new condition row\n\t\t * @params : condtionGroupElement - group where condtion need to be added\n\t\t * @return : current instance\n\t\t */\n\t\taddNewCondition: function (conditionGroupElement) {\n\t\t\tvar basicElement = jQuery('.basic', conditionGroupElement);\n\t\t\tvar newRowElement = basicElement.find('.js-conditions-row').clone(true, true);\n\t\t\tjQuery('select', newRowElement).addClass('select2');\n\t\t\tvar conditionList = jQuery('.conditionList', conditionGroupElement);\n\t\t\tconditionList.append(newRowElement);\n\n\t\t\t//change in to chosen elements\n\t\t\tApp.Fields.Picklist.changeSelectElementView(newRowElement);\n\t\t\tnewRowElement\n\t\t\t\t.find('[name=\"columnname\"]')\n\t\t\t\t.find('optgroup:first option:first')\n\t\t\t\t.attr('selected', 'selected')\n\t\t\t\t.trigger('change');\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to load condition list for the selected field\n\t\t * (overrrided to remove \"has changed\" condition for related record fields in workflows)\n\t\t * @params : fieldSelect - select element which will represents field list\n\t\t * @return : select element which will represent the condition element\n\t\t */\n\t\tloadConditions: function (fieldSelect) {\n\t\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\tvar conditionSelected = conditionSelectElement.val();\n\t\t\tvar fieldSelected = fieldSelect.find('option:selected');\n\t\t\tvar fieldLabel = fieldSelected.val();\n\t\t\tvar match = fieldLabel.match(/\\((\\w+)\\) (\\w+)/);\n\t\t\tvar fieldSpecificType = this.getFieldSpecificType(fieldSelected);\n\t\t\tvar conditionList = this.getConditionListFromType(fieldSpecificType);\n\t\t\t//for none in field name\n\t\t\tif (typeof conditionList === 'undefined') {\n\t\t\t\tconditionList = {};\n\t\t\t\tconditionList['none'] = 'None';\n\t\t\t}\n\n\t\t\tvar options = '';\n\t\t\tfor (var key in conditionList) {\n\t\t\t\t//IE Browser consider the prototype properties also, it should consider has own properties only.\n\t\t\t\tif (conditionList.hasOwnProperty(key)) {\n\t\t\t\t\tvar conditionValue = conditionList[key];\n\t\t\t\t\tvar conditionLabel = this.getConditionLabel(conditionValue);\n\t\t\t\t\tif (match != null) {\n\t\t\t\t\t\tif (conditionValue != 'has changed') {\n\t\t\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconditionSelectElement.empty().html(options).trigger('change');\n\t\t\treturn conditionSelectElement;\n\t\t},\n\t\t/**\n\t\t * Function to retrieve the values of the filter\n\t\t * @return : object\n\t\t */\n\t\tgetValues: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\tfilterContainer = this.getFilterContainer();\n\n\t\t\tlet fieldList = ['columnname', 'comparator', 'value', 'valuetype', 'column_condition'],\n\t\t\t\tvalues = {},\n\t\t\t\tcolumnIndex = 0,\n\t\t\t\tconditionGroups = $('.conditionGroup', filterContainer);\n\t\t\tconditionGroups.each(function (index, domElement) {\n\t\t\t\tlet groupElement = $(domElement),\n\t\t\t\t\tconditions = $('.conditionList .js-conditions-row', groupElement),\n\t\t\t\t\titerationValues = {};\n\t\t\t\tif (conditions.length <= 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tconditions.each(function (i, conditionDomElement) {\n\t\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\t\tfieldSelectElement = $('[name=\"columnname\"]', rowElement),\n\t\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tlet fieldType = fieldSelectElement.find('option:selected').data('fieldinfo').type,\n\t\t\t\t\t\trowValues = {},\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tfield;\n\t\t\t\t\tif ($.inArray(fieldType, ['picklist', 'multipicklist', 'multiReferenceValue']) > -1) {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && fieldType === 'picklist') {\n\t\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tfield === 'value' &&\n\t\t\t\t\t\t\t\tvalueSelectElement.is('select') &&\n\t\t\t\t\t\t\t\t$.inArray(fieldType, ['multipicklist', 'multiReferenceValue']) > -1\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet value = valueSelectElement.val();\n\t\t\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value') {\n\t\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t$('[name=\"valuetype\"]', rowElement).val() === 'false' ||\n\t\t\t\t\t\t$('[name=\"valuetype\"]', rowElement).length === 0\n\t\t\t\t\t) {\n\t\t\t\t\t\trowValues['valuetype'] = 'rawtext';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\trowValues['groupid'] = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\trowValues['groupid'] = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowElement.is(':last-child')) {\n\t\t\t\t\t\trowValues['column_condition'] = '';\n\t\t\t\t\t}\n\t\t\t\t\titerationValues[columnIndex] = rowValues;\n\t\t\t\t\tcolumnIndex++;\n\t\t\t\t});\n\n\t\t\t\tif (!$.isEmptyObject(iterationValues)) {\n\t\t\t\t\tvalues[index + 1] = {};\n\t\t\t\t\tvalues[index + 1]['columns'] = iterationValues;\n\t\t\t\t}\n\t\t\t\tif (groupElement.find('div.groupCondition').length > 0 && !$.isEmptyObject(values[index + 1])) {\n\t\t\t\t\tvalues[index + 1]['condition'] = conditionGroups.find('div.groupCondition [name=\"condition\"]').val();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn values;\n\t\t},\n\t\t/**\n\t\t * Functiont to get the field specific ui for the selected field\n\t\t * @prarms : fieldSelectElement - select element which will represents field list\n\t\t * @return : jquery object which represents the ui for the field\n\t\t */\n\t\tgetFieldSpecificUi: function (fieldSelectElement) {\n\t\t\tvar fieldSelected = fieldSelectElement.find('option:selected');\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\tif (jQuery.inArray(fieldInfo.comparatorElementVal, this.comparatorsWithNoValueBoxMap) != -1) {\n\t\t\t\treturn jQuery('');\n\t\t\t} else {\n\t\t\t\treturn this._super(fieldSelectElement);\n\t\t\t}\n\t\t},\n\t\tgetPopUp: function (container) {\n\t\t\tconst thisInstance = this;\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = thisInstance.getFilterContainer();\n\t\t\t}\n\t\t\tcontainer.on('click', '.getPopupUi', function (e) {\n\t\t\t\tlet fieldValueElement = jQuery(e.currentTarget),\n\t\t\t\t\tfieldValue = fieldValueElement.val(),\n\t\t\t\t\tfieldUiHolder = fieldValueElement.closest('.fieldUiHolder'),\n\t\t\t\t\tvalueType = fieldUiHolder.find('[name=\"valuetype\"]').val(),\n\t\t\t\t\tconditionsContainer = fieldValueElement.closest('.js-conditions-container'),\n\t\t\t\t\tclonedPopupUi = conditionsContainer\n\t\t\t\t\t\t.find('.popupUi')\n\t\t\t\t\t\t.clone(true, true)\n\t\t\t\t\t\t.removeClass('popupUi')\n\t\t\t\t\t\t.addClass('clonedPopupUi'),\n\t\t\t\t\tvalue = '';\n\t\t\t\tclonedPopupUi.find('select').addClass('select2');\n\t\t\t\tclonedPopupUi.find('.fieldValue').val(fieldValue);\n\t\t\t\tif (valueType === '') {\n\t\t\t\t\tvalueType = 'rawtext';\n\t\t\t\t}\n\t\t\t\tif (fieldValueElement.hasClass('date')) {\n\t\t\t\t\tclonedPopupUi.find('.textType').find('option[value=\"rawtext\"]').attr('data-ui', 'input');\n\t\t\t\t\tlet dataFormat = fieldValueElement.data('date-format');\n\t\t\t\t\tif (valueType === 'rawtext') {\n\t\t\t\t\t\tvalue = fieldValueElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.fieldValueContainer')\n\t\t\t\t\t\t.prepend(\n\t\t\t\t\t\t\t'<input type=\"text\" class=\"dateField fieldValue col-md-4\" value=\"' +\n\t\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t\t'\" data-date-format=\"' +\n\t\t\t\t\t\t\t\tdataFormat +\n\t\t\t\t\t\t\t\t'\" data-input=\"true\" >'\n\t\t\t\t\t\t);\n\t\t\t\t} else if (fieldValueElement.hasClass('time')) {\n\t\t\t\t\tclonedPopupUi.find('.textType').find('option[value=\"rawtext\"]').attr('data-ui', 'input');\n\t\t\t\t\tif (valueType === 'rawtext') {\n\t\t\t\t\t\tvalue = fieldValueElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.fieldValueContainer')\n\t\t\t\t\t\t.prepend(\n\t\t\t\t\t\t\t'<input type=\"text\" class=\"clockPicker fieldValue col-md-4 form-control\" value=\"' +\n\t\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t\t'\" data-input=\"true\" >'\n\t\t\t\t\t\t);\n\t\t\t\t} else if (fieldValueElement.hasClass('boolean')) {\n\t\t\t\t\tclonedPopupUi.find('.textType').find('option[value=\"rawtext\"]').attr('data-ui', 'input');\n\t\t\t\t\tif (valueType === 'rawtext') {\n\t\t\t\t\t\tvalue = fieldValueElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.fieldValueContainer')\n\t\t\t\t\t\t.prepend('<input type=\"checkbox\" class=\"fieldValue col-md-4\" value=\"' + value + '\" data-input=\"true\" >');\n\n\t\t\t\t\tif (value == 'true:boolean' || value === '') {\n\t\t\t\t\t\tclonedPopupUi.find('.fieldValueContainer input').attr('checked', 'checked');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclonedPopupUi.find('.fieldValueContainer input').removeAttr('checked');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet callBackFunction = function (data) {\n\t\t\t\t\tdata.find('.clonedPopupUi').removeClass('d-none');\n\t\t\t\t\tlet moduleNameElement = fieldValueElement.closest('.js-conditions-row').find('[name=\"modulename\"]');\n\t\t\t\t\tif (moduleNameElement.length > 0) {\n\t\t\t\t\t\tvar moduleName = moduleNameElement.val();\n\t\t\t\t\t\tdata.find('.useFieldElement').addClass('d-none');\n\t\t\t\t\t\tdata.find('[name=\"' + moduleName + '\"]').removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(data);\n\t\t\t\t\tApp.Fields.Date.register(data);\n\t\t\t\t\tapp.registerEventForClockPicker(data);\n\t\t\t\t\tthisInstance.postShowModalAction(data, valueType);\n\t\t\t\t\tthisInstance.registerChangeFieldEvent(data);\n\t\t\t\t\tthisInstance.registerSelectOptionEvent(data);\n\t\t\t\t\tthisInstance.registerPopUpSaveEvent(data, fieldUiHolder);\n\t\t\t\t\tthisInstance.registerRemoveModalEvent(data);\n\t\t\t\t\tdata.find('.fieldValue').filter(':visible').trigger('focus');\n\t\t\t\t\tdata\n\t\t\t\t\t\t.find('[data-close-modal=\"modal\"]')\n\t\t\t\t\t\t.off('click')\n\t\t\t\t\t\t.on('click', function () {\n\t\t\t\t\t\t\t$(this).closest('.modal').removeClass('in').css('display', 'none');\n\t\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tconditionsContainer.find('.clonedPopUp').html(clonedPopupUi);\n\t\t\t\t$('.clonedPopupUi').on('shown.bs.modal', function () {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction($('.clonedPopupUi', conditionsContainer));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.clonedPopUp', conditionsContainer).find('.clonedPopupUi').modal();\n\t\t\t});\n\t\t},\n\t\tpostShowModalAction: function (data, valueType) {\n\t\t\tif (valueType == 'fieldname') {\n\t\t\t\tjQuery('.useFieldContainer', data).removeClass('d-none');\n\t\t\t\tjQuery('.textType', data).val(valueType).trigger('change');\n\t\t\t} else if (valueType == 'expression') {\n\t\t\t\tjQuery('.useFieldContainer', data).removeClass('d-none');\n\t\t\t\tjQuery('.useFunctionContainer', data).removeClass('d-none');\n\t\t\t\tjQuery('.textType', data).val(valueType).trigger('change');\n\t\t\t}\n\t\t\tjQuery('#' + valueType + '_help', data).removeClass('d-none');\n\t\t\tvar uiType = jQuery('.textType', data).find('option:selected').data('ui');\n\t\t\tjQuery('.fieldValue', data).hide();\n\t\t\tjQuery('[data-' + uiType + ']', data).show();\n\t\t},\n\t\tregisterChangeFieldEvent: function (data) {\n\t\t\tjQuery('.textType', data).on('change', function (e) {\n\t\t\t\tvar valueType = jQuery(e.currentTarget).val();\n\t\t\t\tvar useFieldContainer = jQuery('.useFieldContainer', data);\n\t\t\t\tvar useFunctionContainer = jQuery('.useFunctionContainer', data);\n\t\t\t\tvar uiType = jQuery(e.currentTarget).find('option:selected').data('ui');\n\t\t\t\tjQuery('.fieldValue', data).hide();\n\t\t\t\tjQuery('[data-' + uiType + ']', data).show();\n\t\t\t\tif (valueType == 'fieldname') {\n\t\t\t\t\tuseFieldContainer.removeClass('d-none');\n\t\t\t\t\tuseFunctionContainer.addClass('d-none');\n\t\t\t\t} else if (valueType == 'expression') {\n\t\t\t\t\tuseFieldContainer.removeClass('d-none');\n\t\t\t\t\tuseFunctionContainer.removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tuseFieldContainer.addClass('d-none');\n\t\t\t\t\tuseFunctionContainer.addClass('d-none');\n\t\t\t\t}\n\t\t\t\tjQuery('.helpmessagebox', data).addClass('d-none');\n\t\t\t\tjQuery('#' + valueType + '_help', data).removeClass('d-none');\n\t\t\t\tdata.find('.fieldValue').val('');\n\t\t\t});\n\t\t},\n\t\tregisterSelectOptionEvent: function (data) {\n\t\t\t$('.useField,.useFunction', data).on('change', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet newValue = currentElement.val();\n\t\t\t\tlet oldValue = data.find('.fieldValue').filter(':visible').val();\n\t\t\t\tif (currentElement.hasClass('useField')) {\n\t\t\t\t\tif (oldValue != '') {\n\t\t\t\t\t\tvar concatenatedValue = oldValue + ' ' + newValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconcatenatedValue = newValue;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconcatenatedValue = oldValue + newValue;\n\t\t\t\t}\n\t\t\t\tdata.find('.fieldValue').val(concatenatedValue);\n\t\t\t\tcurrentElement.val('').trigger('change.select2');\n\t\t\t});\n\t\t},\n\t\tregisterPopUpSaveEvent: function (data, fieldUiHolder) {\n\t\t\tjQuery('[name=\"saveButton\"]', data).on('click', function (e) {\n\t\t\t\tvar valueType = jQuery('.textType', data).val();\n\n\t\t\t\tfieldUiHolder.find('[name=\"valuetype\"]').val(valueType);\n\t\t\t\tvar fieldValueElement = fieldUiHolder.find('.getPopupUi');\n\t\t\t\tif (valueType != 'rawtext') {\n\t\t\t\t\tfieldValueElement.removeAttr('data-validation-engine');\n\t\t\t\t\tfieldValueElement.removeClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]');\n\t\t\t\t} else {\n\t\t\t\t\tfieldValueElement.addClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]');\n\t\t\t\t\tfieldValueElement.attr(\n\t\t\t\t\t\t'data-validation-engine',\n\t\t\t\t\t\t'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tvar fieldType = data.find('.fieldValue').filter(':visible').attr('type');\n\t\t\t\tvar fieldValue = data.find('.fieldValue').filter(':visible').val();\n\t\t\t\t//For checkbox field type, handling fieldValue\n\t\t\t\tif (fieldType == 'checkbox') {\n\t\t\t\t\tif (data.find('.fieldValue').filter(':visible').is(':checked')) {\n\t\t\t\t\t\tfieldValue = 'true:boolean';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfieldValue = 'false:boolean';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfieldValueElement.val(fieldValue);\n\t\t\t\tdata.modal('hide');\n\t\t\t\tfieldValueElement.validationEngine('hide');\n\t\t\t});\n\t\t},\n\t\tregisterRemoveModalEvent: function (data) {\n\t\t\tdata.on('click', '.closeModal', function (e) {\n\t\t\t\tdata.modal('hide');\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will regiter all events for this page\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.getPopUp();\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'AdvanceFilterEx_Field_Js',\n\t{},\n\t{\n\t\tgetUiTypeSpecificHtml: function () {\n\t\t\tvar uiTypeModel = this.getUiTypeModel();\n\t\t\treturn uiTypeModel.getUi();\n\t\t},\n\t\tgetModuleName: function () {\n\t\t\tvar currentModule = app.getModuleName();\n\t\t\treturn currentModule;\n\t\t},\n\t\t/**\n\t\t * Funtion to get the ui for the field  - generally this will be extend by the child classes to\n\t\t * give ui type specific ui\n\t\t * return <String or Jquery> it can return either plain html or jquery object\n\t\t */\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\"  /><input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\thtml = jQuery(html);\n\t\t\thtml.filter('.getPopupUi').val(app.htmlDecode(this.getValue()));\n\t\t\treturn this.addValidationToElement(html);\n\t\t}\n\t}\n);\n\nVtiger_Date_Field_Js(\n\t'AdvanceFilterEx_Date_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the user date format\n\t\t */\n\t\tgetDateFormat: function () {\n\t\t\treturn this.get('date-format');\n\t\t},\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\tdateSpecificConditions = this.get('dateSpecificConditions'),\n\t\t\t\thtml,\n\t\t\t\telement;\n\t\t\tif (comparatorSelectedOptionVal.length > 0) {\n\t\t\t\tif (comparatorSelectedOptionVal === 'between' || comparatorSelectedOptionVal === 'custom') {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<div class=\"date\"><input class=\"dateRangeField form-control\" data-calendar-type=\"range\" name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\" data-date-format=\"' +\n\t\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t\t'\" type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t\t'\"></div>';\n\t\t\t\t\telement = $(html);\n\t\t\t\t\treturn this.addValidationToElement(element);\n\t\t\t\t} else if (this._specialDateComparator(comparatorSelectedOptionVal)) {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\" type=\"text\" value=\"' +\n\t\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t\t'\" data-validation-engine=\"' +\n\t\t\t\t\t\t'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]\"' +\n\t\t\t\t\t\t' data-validator=\"[{\"name\":\"PositiveNumber\"}]\">' +\n\t\t\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t\t'\" />';\n\t\t\t\t\treturn jQuery(html);\n\t\t\t\t} else if (comparatorSelectedOptionVal in dateSpecificConditions) {\n\t\t\t\t\tlet startValue = dateSpecificConditions[comparatorSelectedOptionVal]['startdate'],\n\t\t\t\t\t\tendValue = dateSpecificConditions[comparatorSelectedOptionVal]['enddate'];\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\"  type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\t\tstartValue +\n\t\t\t\t\t\t',' +\n\t\t\t\t\t\tendValue +\n\t\t\t\t\t\t'\">';\n\t\t\t\t\treturn $(html);\n\t\t\t\t} else if (comparatorSelectedOptionVal === 'is today') {\n\t\t\t\t\t//show nothing\n\t\t\t\t} else {\n\t\t\t\t\treturn this._super();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thtml =\n\t\t\t\t\t'<input type=\"text\" class=\"getPopupUi date form-control\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\"  data-date-format=\"' +\n\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t'\"  value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\" />' +\n\t\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t'\" />';\n\t\t\t\telement = $(html);\n\t\t\t\treturn this.addValidationToElement(element);\n\t\t\t}\n\t\t},\n\t\t_specialDateComparator: function (comp) {\n\t\t\tlet specialComparators = [\n\t\t\t\t\t'less than days ago',\n\t\t\t\t\t'more than days ago',\n\t\t\t\t\t'in less than',\n\t\t\t\t\t'in more than',\n\t\t\t\t\t'days ago',\n\t\t\t\t\t'days later'\n\t\t\t\t],\n\t\t\t\tindex;\n\t\t\tfor (index in specialComparators) {\n\t\t\t\tif (comp == specialComparators[index]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n);\n\nVtiger_Date_Field_Js(\n\t'AdvanceFilterEx_Datetime_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the user date format\n\t\t */\n\t\tgetDateFormat: function () {\n\t\t\treturn this.get('date-format');\n\t\t},\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\thtml,\n\t\t\t\telement;\n\t\t\tif (this._specialDateTimeComparator(comparatorSelectedOptionVal)) {\n\t\t\t\thtml =\n\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\" type=\"text\" value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\" data-validator=\"[{name:PositiveNumber}]\"><input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t'\" />';\n\t\t\t\telement = jQuery(html);\n\t\t\t} else {\n\t\t\t\thtml =\n\t\t\t\t\t'<input type=\"text\" class=\"getPopupUi date form-control\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\"  data-date-format=\"' +\n\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t'\"  value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\" />' +\n\t\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t'\" />';\n\t\t\t\telement = jQuery(html);\n\t\t\t}\n\t\t\treturn element;\n\t\t},\n\t\t_specialDateTimeComparator: function (comp) {\n\t\t\tlet specialComparators = [\n\t\t\t\t\t'less than hours before',\n\t\t\t\t\t'less than hours later',\n\t\t\t\t\t'more than hours later',\n\t\t\t\t\t'more than hours before'\n\t\t\t\t],\n\t\t\t\tindex;\n\t\t\tfor (index in specialComparators) {\n\t\t\t\tif (comp == specialComparators[index]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n);\n\nVtiger_Currency_Field_Js(\n\t'AdvanceFilterEx_Currency_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi marginLeftZero form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\"  />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Time_Field_Js(\n\t'AdvanceFilterEx_Time_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi time form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\"  value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'Vtiger_Percentage_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input percentage field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'Vtiger_Text_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'Vtiger_Boolean_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control boolean\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Owner_Field_Js(\n\t'AdvanceFilterEx_Owner_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function () {\n\t\t\tvar html = '<select class=\"select2\" name=\"' + this.getName() + '\">';\n\t\t\tvar pickListValues = this.getPickListValues();\n\t\t\tvar selectedOption = this.getValue();\n\t\t\tfor (var optGroup in pickListValues) {\n\t\t\t\thtml += '<optgroup label=\"' + optGroup + '\">';\n\t\t\t\tvar optionGroupValues = pickListValues[optGroup];\n\t\t\t\tfor (var option in optionGroupValues) {\n\t\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\t\tif (option == selectedOption) {\n\t\t\t\t\t\thtml += ' selected ';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '>' + optionGroupValues[option] + '</option>';\n\t\t\t\t}\n\t\t\t\thtml += '</optgroup>';\n\t\t\t}\n\n\t\t\thtml += '</select>';\n\t\t\tvar selectContainer = jQuery(html);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t}\n\t}\n);\n\nVtiger_Picklist_Field_Js('AdvanceFilterEx_Picklist_Field_Js', {}, {});\n"],"names":["Vtiger_AdvanceFilter_Js","validationSupportedFieldConditionMap","email","date","datetime","allConditionValidationNeededFieldList","comparatorsWithNoValueBoxMap","init","container","jQuery","is","setFilterContainer","initialize","getFieldSpecificType","fieldSelected","fieldInfo","data","type","getModuleName","addNewCondition","conditionGroupElement","newRowElement","basicElement","find","clone","addClass","conditionList","append","App","Fields","Picklist","changeSelectElementView","attr","trigger","loadConditions","fieldSelect","row","closest","conditionSelectElement","conditionSelected","val","fieldLabel","match","fieldSpecificType","getConditionListFromType","options","key","hasOwnProperty","conditionLabel","getConditionLabel","conditionValue","empty","html","getValues","filterContainer","getFilterContainer","fieldList","values","columnIndex","conditionGroups","$","each","index","domElement","groupElement","conditions","iterationValues","length","i","conditionDomElement","fieldSelectElement","rowElement","valueSelectElement","thisInstance","isEmptyFieldSelected","field","fieldType","rowValues","inArray","pickListValues","valuesArr","split","newValuesArr","push","join","value","isEmptyObject","getFieldSpecificUi","comparatorElementVal","_super","getPopUp","on","e","currentTarget","fieldValue","fieldValueElement","fieldUiHolder","valueType","conditionsContainer","clonedPopupUi","removeClass","hasClass","dataFormat","prepend","removeAttr","moduleNameElement","moduleName","Date","register","app","registerEventForClockPicker","postShowModalAction","registerChangeFieldEvent","registerSelectOptionEvent","registerPopUpSaveEvent","registerRemoveModalEvent","filter","off","css","callBackFunction","modal","uiType","hide","show","useFieldContainer","useFunctionContainer","newValue","currentElement","oldValue","concatenatedValue","validationEngine","registerEvents","Vtiger_Field_Js","getUiTypeSpecificHtml","getUiTypeModel","getUi","getName","get","htmlDecode","getValue","addValidationToElement","Vtiger_Date_Field_Js","getDateFormat","element","comparatorSelectedOptionVal","dateSpecificConditions","_specialDateComparator","startValue","endValue","comp","specialComparators","_specialDateTimeComparator","Vtiger_Currency_Field_Js","Vtiger_Time_Field_Js","Vtiger_Owner_Field_Js","getPickListValues","selectedOption","optGroup","optionGroupValues","option","selectContainer","Vtiger_Picklist_Field_Js"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFACA,YAEAA,CAAAA,uBAAuB,CACtB,2BADsB,CAEtB,EAFsB,CAGtB,CACCC,oCAAoC,CAAE,CACrCC,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CAD8B,CAErCC,IAAI,CAAE,CAAC,IAAD,CAF+B,CAGrCC,QAAQ,CAAE,CAAC,IAAD,CAH2B,CADvC;AAOCC,qCAAqC,CAAE,CAAC,QAAD,CAAW,SAAX,CAPxC;AASCC,4BAA4B,CAAE,CAAC,aAAD,CAAgB,iBAAhB,CAAmC,UAAnC,CAA+C,cAA/C,CAT/B,CAUCC,IAAI,CAAE,SAAUC,IAAAA,CAAAA,SAAV,CAAqB,CACD,WAArB,SADsB,SAAA,GAEzBA,SAAS,CAAGC,MAAM,CAAC,yBAAD,CAFO,CAKtBD,CAAAA,SAAS,CAACE,EAAV,CAAa,yBAAb,CALsB,CAMzB,KAAKC,kBAAL,CAAwBH,SAAxB,CANyB,CAQzB,KAAKG,kBAAL,CAAwBF,MAAM,CAAC,yBAAD,CAA4BD,SAA5B,CAA9B,CARyB,CAU1B,KAAKI,UAAL,GACA,CArBF,CAsBCC,oBAAoB,CAAE,SAAUC,oBAAAA,CAAAA,aAAV,CAAyB,CAC1CC,IAAAA,SAAS,CAAGD,aAAa,CAACE,IAAd,CAAmB,WAAnB,CAD8B,CAE1CC,IAAI,CAAGF,SAAS,CAACE,IAFyB,CAG9C,WACA,CA1BF,CA2BCC,aAAa,CAAE,SAAA,aAAA,EAAY,CAC1B,OAAO,iBACP,CA7BF;AA+BD;AACA;AACA;AACA,KACEC,eAAe,CAAE,SAAA,eAAA,CAAUC,qBAAV,CAAiC,CAAA,gBACjC,CAAGX,MAAM,CAAC,QAAD,CAAWW,qBAAX,CADwB,CAE7CC,aAAa,CAAGC,YAAY,CAACC,IAAb,CAAkB,oBAAlB,CAAwCC,CAAAA,KAAxC,OAF6B,CAGjDf,MAAM,CAAC,QAAD,CAAWY,aAAX,CAAN,CAAgCI,QAAhC,CAAyC,SAAzC,CAHiD,CAIjD,iBAAiB,CAAGhB,MAAM,CAAC,gBAAD,CAAmBW,qBAAnB,CAA1B,CAUA,OATAM,aAAa,CAACC,MAAd,CAAqBN,aAArB,CASA,CANAO,GAAG,CAACC,MAAJ,CAAWC,QAAX,CAAoBC,uBAApB,CAA4CV,aAA5C,CAMA,CALAA,aAAa,CACXE,IADF,CACO,uBADP,CAEEA,CAAAA,IAFF,CAEO,6BAFP,CAAA,CAGES,IAHF,CAGO,UAHP,CAGmB,UAHnB,CAAA,CAIEC,OAJF,CAIU,QAJV,CAKA,CAAO,IACP,CAlDF;AAoDD;AACA;AACA;AACA;AACA,KACEC,cAAc,CAAE,SAAUC,cAAAA,CAAAA,WAAV,CAAuB,CAClCC,IAAAA,GAAG,CAAGD,WAAW,CAACE,OAAZ,CAAoB,uBAApB,CAD4B,CAElCC,sBAAsB,CAAGF,GAAG,CAACb,IAAJ,CAAS,6BAAT,CAFS,CAGlCgB,iBAAiB,CAAGD,sBAAsB,CAACE,GAAvB,EAHc,CAIlC1B,aAAa,CAAGqB,WAAW,CAACZ,IAAZ,CAAiB,iBAAjB,CAJkB,CAKlCkB,UAAU,CAAG3B,aAAa,CAAC0B,GAAd,EALqB,CAMlCE,KAAK,CAAGD,UAAU,CAACC,KAAX,CAAiB,iBAAjB,CAN0B,CAOlCC,iBAAiB,CAAG,IAAA,CAAK9B,oBAAL,CAA0BC,aAA1B,CAPc,CAQlCY,aAAa,CAAG,IAAKkB,CAAAA,wBAAL,CAA8BD,iBAA9B,CARkB,CAUT,WAAzB,EAAOjB,OAAAA,aAV2B,GAWrCA,aAAa,CAAG,EAXqB,CAYrCA,aAAa,KAAb,CAAwB,MAZa,EAetC,IAAImB,OAAO,CAAG,EAAd,CACA,IAAK,IAAIC,GAAT,IAAgBpB,aAAhB;AAEC,GAAIA,aAAa,CAACqB,cAAd,CAA6BD,GAA7B,CAAJ,CAAuC,KACpB,cAAA,CAAGpB,aAAa,CAACoB,GAAD,CADI,CAElCE,cAAc,CAAG,IAAKC,CAAAA,iBAAL,CAAuBC,cAAvB,CAFiB,CAGzB,IAAT,EAAAR,KAHkC,EAYrCG,OAAO,EAAI,kBAAoBK,CAAAA,cAApB,CAAqC,IAZX,CAajCA,cAAc,EAAIX,iBAbe,GAcpCM,OAAO,EAAI,yBAdyB,CAgBrCA,CAAAA,OAAO,EAAI,GAAMG,CAAAA,cAAN,CAAuB,WAhBG,EAIf,aAAlB,EAAAE,cAJiC,GAKpCL,OAAO,EAAI,mBAAoBK,cAApB,CAAqC,IALZ,CAMhCA,cAAc,EAAIX,iBANc,GAOnCM,OAAO,EAAI,yBAPwB,EASpCA,OAAO,EAAI,IAAMG,cAAN,CAAuB,WATE,EAkBtC,CAGF,OADsB,sBAAA,CAACG,KAAvB,EAA+BC,CAAAA,IAA/B,CAAoCP,OAApC,CAAA,CAA6CZ,OAA7C,CAAqD,QAArD,CACA,CAAOK,sBACP,CAjGF;AAmGD;AACA;AACA,KACEe,SAAS,CAAE,SAAY,SAAA,EAAA,CAAA,IACJ,YAAA,CAAG,IADC,CAErBC,eAAe,CAAG,IAAKC,CAAAA,kBAAL,EAFG,CAIlBC,SAAS,CAAG,CAAC,YAAD,CAAe,YAAf,CAA6B,OAA7B,CAAsC,WAAtC,CAAmD,kBAAnD,CAJM,CAKrBC,MAAM,CAAG,EALY,CAMrBC,WAAW,CAAG,CANO,CAOrBC,eAAe,CAAGC,CAAC,CAAC,iBAAD,CAAoBN,eAApB,CAPE,CAkGtB,sBA1Fe,CAACO,IAAhB,CAAqB,SAAUC,KAAV,CAAiBC,UAAjB,CAA6B,CACjD,IAAIC,YAAY,CAAGJ,CAAC,CAACG,UAAD,CAApB,CACCE,UAAU,CAAGL,CAAC,CAAC,mCAAD,CAAsCI,YAAtC,CADf,CAECE,eAAe,CAAG,EAFnB,CADiD,OAIxB,CAAA,EAAA,CAArB,EAAAD,UAAU,CAACE,MAJkC,CAAA,EAAA,KAQjDF,UAAU,CAACJ,IAAX,CAAgB,SAAUO,CAAV,CAAaC,mBAAb,CAAkC,CACjD,IAAc,UAAA,CAAGT,CAAC,CAACS,mBAAD,CAAlB,CACCC,kBAAkB,CAAGV,CAAC,CAAC,uBAAD,CAAwBW,UAAxB,CADvB,CAECC,kBAAkB,CAAGZ,CAAC,CAAC,wBAAD,CAAyBW,UAAzB,CAFvB,CAGA,GAAIE,YAAY,CAACC,oBAAb,CAAkCJ,kBAAlC,CAAJ,CACC,OAED,CAAA,CAAA,CAAA,IAAA,GAAA,CAGCK,KAHD,CAAIC,SAAS,CAAGN,kBAAkB,CAAC/C,IAAnB,CAAwB,iBAAxB,CAA2CP,CAAAA,IAA3C,CAAgD,WAAhD,CAA6DC,CAAAA,IAA7E,CACC4D,SAAS,CAAG,EADb,CAIA,GAAiF,CAAC,CAA9E,CAAAjB,CAAC,CAACkB,OAAF,CAAUF,SAAV,CAAqB,CAAC,UAAD,CAAa,eAAb,CAA8B,qBAA9B,CAArB,CAAJ,CACC,CAAA,IAAK9B,GAAL,IAAA,SAAA,CAEC,GADA6B,KAAK,CAAGnB,SAAS,CAACV,GAAD,CACjB,CAAc,OAAV,GAAA6B,KAAK,EAAgBH,kBAAkB,CAAC9D,EAAnB,CAAsB,OAAtB,CAAzB,CAAyD,CACxD,IAAIqE,cAAc,CAAGP,kBAAkB,CAACxD,IAAnB,CAAwB,gBAAxB,CAArB,CACCgE,SAAS,CAAGR,kBAAkB,CAAChC,GAAnB,EAAyByC,CAAAA,KAAzB,CAA+B,GAA/B,CADb,CAECC,YAAY,CAAG,EAFhB,CAGA,IAAKd,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGY,SAAS,CAACb,MAA1B,CAAkCC,CAAC,EAAnC,CAC6C,WAAxC,EAAA,OAAqB,cAAA,CAACY,SAAS,CAACZ,CAAD,CAAV,CAD1B,CAIEc,YAAY,CAACC,IAAb,CAAkBH,SAAS,CAACZ,CAAD,CAA3B,CAJF,CAEEc,YAAY,CAACC,IAAb,CAAkBJ,cAAc,CAACC,SAAS,CAACZ,CAAD,CAAV,CAAhC,CAFF,CAOAS,SAAS,CAACF,KAAD,CAAT,CAAmBO,YAAY,CAACE,IAAb,CAAkB,GAAlB,EACnB,CAZD,KAYqB,GAAA,OAAV,GAAAT,KAAK,EAAgBH,kBAAkB,CAAC9D,EAAnB,CAAsB,QAAtB,CAArB,EAAsE,UAAd,GAAAkE,SAA5D,CACNC,SAAS,CAACF,KAAD,CAAT,CAAmBH,kBAAkB,CAAChC,GAAnB,EADb,CAEA,KAAA,GACI,OAAV,GAAAmC,KAAK,EACLH,kBAAkB,CAAC9D,EAAnB,CAAsB,QAAtB,CADA,EAEiE,CAAC,CAAlE,CAAAkD,CAAC,CAACkB,OAAF,CAAUF,SAAV,CAAqB,CAAC,eAAD,CAAkB,qBAAlB,CAArB,CAHM,CAIL,CACD,IAAS,KAAA,CAAGJ,kBAAkB,CAAChC,GAAnB,EAAZ,CAECqC,SAAS,CAACF,KAAD,CAHT,CAEY,IAAT,EAAAU,KAFH,CAGmBA,KAHnB,CAKmBA,KAAK,CAACD,IAAN,CAAW,GAAX,EAEpB,CAXM,KAYG,SAAA,CAACT,KAAD,CAAT,CAAmBf,CAAC,CAAC,UAAYe,CAAAA,KAAZ,CAAoB,KAArB,CAA2BJ,UAA3B,CAAD,CAAwC/B,GAAxC,EAZb,CAjBT,CAiCC,KAAA,IAAKM,GAAL,IAAA,SAAA,CACC6B,KAAK,CAAGnB,SAAS,CAACV,GAAD,CADlB,CAGE+B,SAAS,CAACF,KAAD,CAHX,CAEe,OAAV,GAAAA,KAFL,CAGqBH,kBAAkB,CAAChC,GAAnB,EAHrB,CAKqBoB,CAAC,CAAC,UAAA,CAAYe,KAAZ,CAAoB,KAArB,CAA2BJ,UAA3B,CAAD,CAAwC/B,GAAxC,EALrB,CA5CgD,CAuDF,OAA9C,GAAAoB,CAAC,CAAC,sBAAD,CAAuBW,UAAvB,CAAD,CAAoC/B,GAApC,EAAA,EAC+C,CAA/C,GAAAoB,CAAC,CAAC,sBAAD,CAAuBW,UAAvB,CAAD,CAAoCJ,MAxDY,IA0DhDU,SAAS,CAAA,SAAT,CAAyB,SA1DuB,EA8DhDA,SAAS,CAAA,OA9DuC,CA6DnC,CAAV,GAAAf,KA7D6C,CA8DzB,CA9DyB,CAgEzB,CAhEyB,CAmE7CS,UAAU,CAAC7D,EAAX,CAAc,aAAd,CAnE6C,GAoEhDmE,SAAS,CAAT,gBAAA,CAAgC,EApEgB,CAAA,CAsEjDX,eAAe,CAACR,WAAD,CAAf,CAA+BmB,SAtEkB,CAuEjDnB,WAAW,GACX,CAxED,CARiD,CAkF7C,CAACE,CAAC,CAAC0B,aAAF,CAAgBpB,eAAhB,CAlF4C,GAmFhDT,MAAM,CAACK,KAAK,CAAG,CAAT,CAAN,CAAoB,EAnF4B,CAoFhDL,MAAM,CAACK,KAAK,CAAG,CAAT,CAAN,CAA+BI,OAAAA,CAAAA,eApFiB,EAsFI,CAAjD,CAAAF,YAAY,CAACzC,IAAb,CAAkB,oBAAlB,CAAA,CAAwC4C,MAAxC,EAAsD,CAACP,CAAC,CAAC0B,aAAF,CAAgB7B,MAAM,CAACK,KAAK,CAAG,CAAT,CAAtB,CAtFV,GAuFhDL,MAAM,CAACK,KAAK,CAAG,CAAT,CAAN,CAAA,SAAA,CAAiCH,eAAe,CAACpC,IAAhB,CAAqB,yCAArB,CAA8DiB,CAAAA,GAA9D,EAvFe,CAAA,CAyFjD,CAzFD,CA0FA,CAAOiB,MACP,CAzMF;AA2MD;AACA;AACA;AACA,KACE8B,kBAAkB,CAAE,SAAUjB,kBAAAA,CAAAA,kBAAV,CAA8B,CAC7CxD,IAAAA,aAAa,CAAGwD,kBAAkB,CAAC/C,IAAnB,CAAwB,iBAAxB,CAD6B,CAE7CR,SAAS,CAAGD,aAAa,CAACE,IAAd,CAAmB,WAAnB,CAFiC,CAAA,OAGwC,CAAC,CAAtF,EAAAP,MAAM,CAACqE,OAAP,CAAe/D,SAAS,CAACyE,oBAAzB,CAA+C,IAAKlF,CAAAA,4BAApD,CAH6C,CAMzC,KAAKmF,MAAL,CAAYnB,kBAAZ,CANyC,CAIzC7D,MAAM,CAAC,EAAD,CAId,CAvNF,CAwNCiF,QAAQ,CAAE,SAAA,QAAA,CAAUlF,SAAV,CAAqB,CAC9B,IAAMiE,YAAY,CAAG,IAArB,CACyB,WAArB,EAAA,gBAF0B,GAG7BjE,SAAS,CAAGiE,YAAY,CAAClB,kBAAb,EAHiB,CAK9B/C,CAAAA,SAAS,CAACmF,EAAV,CAAa,OAAb,CAAsB,aAAtB,CAAqC,SAAUC,CAAV,CAAa,CACjD,IAAqB,iBAAA,CAAGnF,MAAM,CAACmF,CAAC,CAACC,aAAH,CAA9B,CACCC,UAAU,CAAGC,iBAAiB,CAACvD,GAAlB,EADd,CAECwD,aAAa,CAAGD,iBAAiB,CAAC1D,OAAlB,CAA0B,gBAA1B,CAFjB,CAGC4D,SAAS,CAAGD,aAAa,CAACzE,IAAd,CAAmB,sBAAnB,EAAyCiB,GAAzC,EAHb,CAIC0D,mBAAmB,CAAGH,iBAAiB,CAAC1D,OAAlB,CAA0B,0BAA1B,CAJvB,CAKC8D,aAAa,CAAGD,mBAAmB,CACjC3E,IADc,CACT,UADS,EAEdC,KAFc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAGd4E,WAHc,CAGF,SAHE,CAId3E,CAAAA,QAJc,CAIL,eAJK,CALjB,CAUC4D,KAAK,CAAG,EAVT,CAgBA,GALAc,aAAa,CAAC5E,IAAd,CAAmB,QAAnB,CAA6BE,CAAAA,QAA7B,CAAsC,SAAtC,CAKA,CAJA0E,aAAa,CAAC5E,IAAd,CAAmB,aAAnB,CAAA,CAAkCiB,GAAlC,CAAsCsD,UAAtC,CAIA,CAHkB,EAAd,GAAAG,SAGJ,GAFCA,SAAS,CAAG,SAEb,CAAA,CAAIF,iBAAiB,CAACM,QAAlB,CAA2B,MAA3B,CAAJ,CAAwC,CACvCF,aAAa,CAAC5E,IAAd,CAAmB,WAAnB,CAAgCA,CAAAA,IAAhC,CAAqC,2BAArC,EAAgES,IAAhE,CAAqE,SAArE,CAAgF,OAAhF,CADuC,CAEvC,IAAIsE,UAAU,CAAGP,iBAAiB,CAAC/E,IAAlB,CAAuB,aAAvB,CAAjB,CACkB,SAAd,GAAAiF,SAHmC,GAItCZ,KAAK,CAAGU,iBAAiB,CAACvD,GAAlB,EAJ8B,CAMvC2D,CAAAA,aAAa,CACX5E,IADF,CACO,sBADP,CAAA,CAEEgF,OAFF,CAGE,uEACClB,CAAAA,KADD,CAEC,wBAFD,CAGCiB,UAHD,CAIC,0BAPH,EASA,CAfD,KAeWP,iBAAiB,CAACM,QAAlB,CAA2B,MAA3B,CAfX,EAgBCF,aAAa,CAAC5E,IAAd,CAAmB,WAAnB,CAAgCA,CAAAA,IAAhC,CAAqC,2BAArC,EAAgES,IAAhE,CAAqE,SAArE,CAAgF,OAAhF,CAhBD,CAiBmB,SAAd,GAAAiE,SAjBL,GAkBEZ,KAAK,CAAGU,iBAAiB,CAACvD,GAAlB,EAlBV,CAoBC2D,CAAAA,aAAa,CACX5E,IADF,CACO,sBADP,CAAA,CAEEgF,OAFF,CAGE,sFAAA,CACClB,KADD,CAEC,0BALH,CApBD,EA2BWU,iBAAiB,CAACM,QAAlB,CAA2B,SAA3B,CA3BX,GA4BCF,aAAa,CAAC5E,IAAd,CAAmB,WAAnB,EAAgCA,IAAhC,CAAqC,2BAArC,CAAA,CAAgES,IAAhE,CAAqE,SAArE,CAAgF,OAAhF,CA5BD,CA6BmB,SAAd,GAAAiE,SA7BL,GA8BEZ,KAAK,CAAGU,iBAAiB,CAACvD,GAAlB,EA9BV,CAgCC2D,CAAAA,aAAa,CACX5E,IADF,CACO,sBADP,CAAA,CAEEgF,OAFF,CAEU,iEAAA,CAA+DlB,KAA/D,CAAuE,0BAFjF,CAhCD,CAoCc,cAAT,EAAAA,KAAK,EAAgC,EAAV,GAAAA,KApChC,CAqCEc,aAAa,CAAC5E,IAAd,CAAmB,4BAAnB,CAAiDS,CAAAA,IAAjD,CAAsD,SAAtD,CAAiE,SAAjE,CArCF,CAuCEmE,aAAa,CAAC5E,IAAd,CAAmB,4BAAnB,CAAA,CAAiDiF,UAAjD,CAA4D,SAA5D,CAvCF,CAAA,CA0CA,IAAoB,gBAAA,CAAG,SAAUxF,IAAV,CAAgB,CACtCA,IAAI,CAACO,IAAL,CAAU,gBAAV,CAAA,CAA4B6E,WAA5B,CAAwC,QAAxC,CADsC,CAEtC,qBAAqB,CAAGL,iBAAiB,CAAC1D,OAAlB,CAA0B,oBAA1B,CAAA,CAAgDd,IAAhD,CAAqD,uBAArD,CAAxB,CACA,GAA+B,CAA3B,CAAAkF,iBAAiB,CAACtC,MAAtB,CAAkC,CACjC,IAAIuC,UAAU,CAAGD,iBAAiB,CAACjE,GAAlB,EAAjB,CACAxB,IAAI,CAACO,IAAL,CAAU,kBAAV,CAAA,CAA8BE,QAA9B,CAAuC,QAAvC,CAFiC,CAGjCT,IAAI,CAACO,IAAL,CAAU,UAAA,CAAYmF,UAAZ,CAAyB,KAAnC,CAAyCN,CAAAA,WAAzC,CAAqD,QAArD,EACA,CACDxE,GAAG,CAACC,MAAJ,CAAWC,QAAX,CAAoBC,uBAApB,CAA4Cf,IAA5C,CARsC,CAStCY,GAAG,CAACC,MAAJ,CAAW8E,IAAX,CAAgBC,QAAhB,CAAyB5F,IAAzB,CATsC,CAUtC6F,GAAG,CAACC,2BAAJ,CAAgC9F,IAAhC,CAVsC,CAWtCyD,YAAY,CAACsC,mBAAb,CAAiC/F,IAAjC,CAAuCiF,SAAvC,CAXsC,CAYtCxB,YAAY,CAACuC,wBAAb,CAAsChG,IAAtC,CAZsC,CAatCyD,YAAY,CAACwC,yBAAb,CAAuCjG,IAAvC,CAbsC,CActCyD,YAAY,CAACyC,sBAAb,CAAoClG,IAApC,CAA0CgF,aAA1C,CAdsC,CAetCvB,YAAY,CAAC0C,wBAAb,CAAsCnG,IAAtC,CAfsC,CAgBtCA,IAAI,CAACO,IAAL,CAAU,aAAV,CAAyB6F,CAAAA,MAAzB,CAAgC,UAAhC,CAAA,CAA4CnF,OAA5C,CAAoD,OAApD,CAhBsC,CAiBtCjB,IAAI,CACFO,IADF,CACO,8BADP,CAEE8F,CAAAA,GAFF,CAEM,OAFN,CAAA,CAGE1B,EAHF,CAGK,OAHL,CAGc,UAAY,CACxB/B,CAAC,CAAC,IAAD,CAAD,CAAQvB,OAAR,CAAgB,QAAhB,CAAA,CAA0B+D,WAA1B,CAAsC,IAAtC,CAA4CkB,CAAAA,GAA5C,CAAgD,SAAhD,CAA2D,MAA3D,EACA,CALF,EAMA,CAvBD,CAwBApB,mBAAmB,CAAC3E,IAApB,CAAyB,cAAzB,CAAA,CAAyC6B,IAAzC,CAA8C+C,aAA9C,CAnFiD,CAoFjDvC,CAAC,CAAC,gBAAD,CAAD,CAAoB+B,EAApB,CAAuB,gBAAvB,CAAyC,UAAY,CACrB,UAA3B,SADgD,gBAAA,EAEnD4B,gBAAgB,CAAC3D,CAAC,CAAC,gBAAD,CAAmBsC,mBAAnB,CAAF,EAEjB,CAJD,CApFiD,CAyFjDtC,CAAC,CAAC,cAAD,CAAiBsC,mBAAjB,CAAD,CAAuC3E,IAAvC,CAA4C,gBAA5C,EAA8DiG,KAA9D,GACA,CA1FD,EA2FA,CAxTF,CAyTCT,mBAAmB,CAAE,SAAA,mBAAA,CAAU/F,IAAV,CAAgBiF,SAAhB,CAA2B,CAC9B,WAAb,EAAAA,SAD2C,EAE9CxF,MAAM,CAAC,oBAAD,CAAuBO,IAAvB,CAAN,CAAmCoF,WAAnC,CAA+C,QAA/C,CAF8C,CAG9C3F,MAAM,CAAC,WAAD,CAAcO,IAAd,CAAN,CAA0BwB,GAA1B,CAA8ByD,SAA9B,CAAA,CAAyChE,OAAzC,CAAiD,QAAjD,CAH8C,EAIvB,YAAb,EAAAgE,SAJoC,GAK9CxF,MAAM,CAAC,oBAAD,CAAuBO,IAAvB,CAAN,CAAmCoF,WAAnC,CAA+C,QAA/C,CAL8C,CAM9C3F,MAAM,CAAC,uBAAD,CAA0BO,IAA1B,CAAN,CAAsCoF,WAAtC,CAAkD,QAAlD,CAN8C,CAO9C3F,MAAM,CAAC,WAAD,CAAcO,IAAd,CAAN,CAA0BwB,GAA1B,CAA8ByD,SAA9B,CAAyChE,CAAAA,OAAzC,CAAiD,QAAjD,CAP8C,CAAA,CAS/CxB,MAAM,CAAC,IAAMwF,SAAN,CAAkB,OAAnB,CAA4BjF,IAA5B,CAAN,CAAwCoF,WAAxC,CAAoD,QAApD,CAT+C,CAU/C,IAAIqB,MAAM,CAAGhH,MAAM,CAAC,WAAD,CAAcO,IAAd,CAAN,CAA0BO,IAA1B,CAA+B,iBAA/B,CAAkDP,CAAAA,IAAlD,CAAuD,IAAvD,CAAb,CACAP,MAAM,CAAC,aAAD,CAAgBO,IAAhB,CAAN,CAA4B0G,IAA5B,EAX+C,CAY/CjH,MAAM,CAAC,QAAA,CAAWgH,MAAX,CAAoB,GAArB,CAA0BzG,IAA1B,CAAN,CAAsC2G,IAAtC,GACA,CAtUF,CAuUCX,wBAAwB,CAAE,SAAUhG,wBAAAA,CAAAA,IAAV,CAAgB,CACzCP,MAAM,CAAC,WAAD,CAAcO,IAAd,CAAN,CAA0B2E,EAA1B,CAA6B,QAA7B,CAAuC,SAAUC,CAAV,CAAa,CAAA,IACtC,SAAA,CAAGnF,MAAM,CAACmF,CAAC,CAACC,aAAH,CAAN,CAAwBrD,GAAxB,EADmC,CAE/CoF,iBAAiB,CAAGnH,MAAM,CAAC,oBAAD,CAAuBO,IAAvB,CAFqB,CAG/C6G,oBAAoB,CAAGpH,MAAM,CAAC,uBAAD,CAA0BO,IAA1B,CAHkB,CAI/CyG,MAAM,CAAGhH,MAAM,CAACmF,CAAC,CAACC,aAAH,CAAN,CAAwBtE,IAAxB,CAA6B,iBAA7B,EAAgDP,IAAhD,CAAqD,IAArD,CAJsC,CAKnDP,MAAM,CAAC,aAAD,CAAgBO,IAAhB,CAAN,CAA4B0G,IAA5B,EALmD,CAMnDjH,MAAM,CAAC,QAAWgH,CAAAA,MAAX,CAAoB,GAArB,CAA0BzG,IAA1B,CAAN,CAAsC2G,IAAtC,EANmD,CAOlC,WAAb,EAAA1B,SAP+C,EAQlD2B,iBAAiB,CAACxB,WAAlB,CAA8B,QAA9B,CARkD,CASlDyB,oBAAoB,CAACpG,QAArB,CAA8B,QAA9B,CATkD,EAU3B,YAAb,EAAAwE,SAVwC,EAWlD2B,iBAAiB,CAACxB,WAAlB,CAA8B,QAA9B,CAXkD,CAYlDyB,oBAAoB,CAACzB,WAArB,CAAiC,QAAjC,CAZkD,GAclDwB,iBAAiB,CAACnG,QAAlB,CAA2B,QAA3B,CAdkD,CAelDoG,oBAAoB,CAACpG,QAArB,CAA8B,QAA9B,CAfkD,CAAA,CAiBnDhB,MAAM,CAAC,iBAAD,CAAoBO,IAApB,CAAN,CAAgCS,QAAhC,CAAyC,QAAzC,CAjBmD,CAkBnDhB,MAAM,CAAC,GAAA,CAAMwF,SAAN,CAAkB,OAAnB,CAA4BjF,IAA5B,CAAN,CAAwCoF,WAAxC,CAAoD,QAApD,CAlBmD,CAmBnDpF,IAAI,CAACO,IAAL,CAAU,aAAV,CAAA,CAAyBiB,GAAzB,CAA6B,EAA7B,EACA,CApBD,EAqBA,CA7VF,CA8VCyE,yBAAyB,CAAE,SAAA,yBAAA,CAAUjG,IAAV,CAAgB,CAC1C4C,CAAC,CAAC,wBAAD,CAA2B5C,IAA3B,CAAD,CAAkC2E,EAAlC,CAAqC,QAArC,CAA+C,SAAUC,CAAV,CAAa,CAAA,IACzC,cAAA,CAAGnF,MAAM,CAACmF,CAAC,CAACC,aAAH,CADgC,CAEvDiC,QAAQ,CAAGC,cAAc,CAACvF,GAAf,EAF4C,CAGvDwF,QAAQ,CAAGhH,IAAI,CAACO,IAAL,CAAU,aAAV,CAAyB6F,CAAAA,MAAzB,CAAgC,UAAhC,EAA4C5E,GAA5C,EAH4C,CAI3D,GAAA,CAAIuF,cAAc,CAAC1B,QAAf,CAAwB,UAAxB,CAAJ,CAOC4B,iBAAiB,CAAGD,QAAQ,CAAGF,QAPhC,CAAA,KACiB,GAAA,EAAZ,EAAAE,QAAJ,CACC,IAAIC,iBAAiB,CAAGD,QAAQ,CAAG,GAAX,CAAiBF,QAAzC,CADD,KAGCG,iBAAiB,CAAGH,QAHrB,CAQD9G,IAAI,CAACO,IAAL,CAAU,aAAV,CAAyBiB,CAAAA,GAAzB,CAA6ByF,iBAA7B,CAb2D,CAc3DF,cAAc,CAACvF,GAAf,CAAmB,EAAnB,CAAA,CAAuBP,OAAvB,CAA+B,gBAA/B,EACA,CAfD,EAgBA,CA/WF,CAgXCiF,sBAAsB,CAAE,gCAAUlG,IAAV,CAAgBgF,aAAhB,CAA+B,CACtDvF,MAAM,CAAC,uBAAD,CAAwBO,IAAxB,CAAN,CAAoC2E,EAApC,CAAuC,OAAvC,CAAgD,UAAa,CAC5D,aAAa,CAAGlF,MAAM,CAAC,WAAD,CAAcO,IAAd,CAAN,CAA0BwB,GAA1B,EAAhB,CAEAwD,aAAa,CAACzE,IAAd,CAAmB,sBAAnB,CAAA,CAAyCiB,GAAzC,CAA6CyD,SAA7C,CAH4D,CAI5D,qBAAqB,CAAGD,aAAa,CAACzE,IAAd,CAAmB,aAAnB,CAAxB,CACiB,SAAb,EAAA0E,SALwD,EAS3DF,iBAAiB,CAACtE,QAAlB,CAA2B,+DAA3B,CAT2D,CAU3DsE,iBAAiB,CAAC/D,IAAlB,CACC,wBADD,CAEC,+DAFD,CAV2D,GAM3D+D,iBAAiB,CAACS,UAAlB,CAA6B,wBAA7B,CAN2D,CAO3DT,iBAAiB,CAACK,WAAlB,CAA8B,+DAA9B,CAP2D,CAAA,CAAA,IAe/C,SAAA,CAAGpF,IAAI,CAACO,IAAL,CAAU,aAAV,EAAyB6F,MAAzB,CAAgC,UAAhC,CAAA,CAA4CpF,IAA5C,CAAiD,MAAjD,CAf4C,CAgBxD8D,UAAU,CAAG9E,IAAI,CAACO,IAAL,CAAU,aAAV,CAAA,CAAyB6F,MAAzB,CAAgC,UAAhC,CAA4C5E,CAAAA,GAA5C,EAhB2C,CAkB3C,UAAb,EAAAoC,SAlBwD,GAmBvD5D,IAAI,CAACO,IAAL,CAAU,aAAV,CAAA,CAAyB6F,MAAzB,CAAgC,UAAhC,CAA4C1G,CAAAA,EAA5C,CAA+C,UAA/C,CAnBuD,CAoB1DoF,UAAU,CAAG,cApB6C,CAsB1DA,UAAU,CAAG,eAtB6C,CAyB5DC,CAAAA,iBAAiB,CAACvD,GAAlB,CAAsBsD,UAAtB,CAzB4D,CA0B5D9E,IAAI,CAACwG,KAAL,CAAW,MAAX,CA1B4D,CA2B5DzB,iBAAiB,CAACmC,gBAAlB,CAAmC,MAAnC,EACA,CA5BD,EA6BA,CA9YF,CA+YCf,wBAAwB,CAAE,SAAUnG,wBAAAA,CAAAA,IAAV,CAAgB,CACzCA,IAAI,CAAC2E,EAAL,CAAQ,OAAR,CAAiB,aAAjB,CAAgC,UAAa,CAC5C3E,IAAI,CAACwG,KAAL,CAAW,MAAX,EACA,CAFD,EAGA,CAnZF;AAqZD;AACA,KACEW,cAAc,CAAE,SAAA,cAAA,EAAY,CAC3B,IAAA,CAAK1C,MAAL,EAD2B,CAE3B,IAAKC,CAAAA,QAAL,GACA,CA1ZF,CAHsB,EAiavB0C,eAAe,CACd,0BADc,CAEd,EAFc,CAGd,CACCC,qBAAqB,CAAE,SAAA,qBAAA,EAAY,CAClC,eAAe,CAAG,IAAA,CAAKC,cAAL,EAAlB,CACA,OAAkB,WAAA,CAACC,KAAZ,EACP,CAJF,CAKCrH,aAAa,CAAE,wBAAY,CAC1B,IAAiB,aAAA,CAAG2F,GAAG,CAAC3F,aAAJ,EAApB,CACA,OACA,aAAA,CARF;AAUD;AACA;AACA;AACA,KACEqH,KAAK,CAAE,SAAY,KAAA,EAAA,CAClB,IAAInF,IAAI,CACP,gEAAA,CACA,IAAKoF,CAAAA,OAAL,EADA,CAEA,0DAFA,CAGA,IAAKC,CAAAA,GAAL,CAAS,oBAAT,CAHA,CAIA,OALD,CAQA,OAFArF,IAAI,CAAG3C,MAAM,CAAC2C,IAAD,CAEb,CADAA,IAAI,CAACgE,MAAL,CAAY,aAAZ,CAA2B5E,CAAAA,GAA3B,CAA+BqE,GAAG,CAAC6B,UAAJ,CAAe,IAAA,CAAKC,QAAL,EAAf,CAA/B,CACA,CAAO,IAAKC,CAAAA,sBAAL,CAA4BxF,IAA5B,CACP,CAxBF,CAHc,EA+BfyF,oBAAoB,CACnB,+BADmB,CAEnB,EAFmB,CAGnB;AAED;AACA,KACEC,aAAa,CAAE,SAAA,aAAA,EAAY,CAC1B,OAAYL,IAAAA,CAAAA,GAAL,CAAS,aAAT,CACP,CANF;AAQD;AACA;AACA,KACEF,KAAK,CAAE,SAAY,KAAA,EAAA,CAClB,IAECnF,IAFD,CAGC2F,OAHD,CAAIC,2BAA2B,CAAG,IAAA,CAAKP,GAAL,CAAS,sBAAT,CAAlC,CACCQ,sBAAsB,CAAG,IAAA,CAAKR,GAAL,CAAS,wBAAT,CAD1B,CAIA,GAAyC,CAArC,CAAAO,2BAA2B,CAAC7E,MAAhC,CAA4C,CAC3C,GAAoC,SAAhC,GAAA6E,2BAA2B,EAAkD,QAAhC,GAAAA,2BAAjD,CAUC,OATI,IAAA,CACH,uGACA,CAAA,IAAA,CAAKR,OAAL,EADA,CAEA,wBAFA,CAGA,IAAA,CAAKM,aAAL,EAHA,CAIA,6CAJA,CAKA,IAAA,CAAKH,QAAL,EALA,CAMA,WAED,CADAI,OAAO,CAAGnF,CAAC,CAACR,IAAD,CACX,CAAO,IAAA,CAAKwF,sBAAL,CAA4BG,OAA5B,CAAP,CACM,GAAI,IAAKG,CAAAA,sBAAL,CAA4BF,2BAA5B,CAAJ,CAYN,OAXA5F,IAAI,CACH,gBAAA,CACA,IAAKoF,CAAAA,OAAL,EADA,CAEA,2BAFA,CAGA,KAAKG,QAAL,EAHA,CAQA,mMAAA,CAAA,IAAA,CAAKF,GAAL,CAAS,oBAAT,CARA,CASA,OACD,CAAOhI,MAAM,CAAC2C,IAAD,CAAb,CACM,GAAI4F,2BAA2B,IAAIC,sBAAnC,CAA2D,CACjE,IAAIE,UAAU,CAAGF,sBAAsB,CAACD,2BAAD,CAAtB,CAAA,SAAjB,CACCI,QAAQ,CAAGH,sBAAsB,CAACD,2BAAD,CAAtB,CADZ,OAAA,CAUA,OARA5F,IAAI,CACH,gBAAA,CACA,IAAKoF,CAAAA,OAAL,EADA,CAEA,8CAFA,CAGAW,UAHA,CAIA,GAJA,CAKAC,QALA,CAMA,KACD,CAAOxF,CAAC,CAACR,IAAD,CACR,CAAM,GAAoC,UAAhC,GAAA4F,2BAAJ,CAGN,CAAA,KAAA,OAAYvD,IAAAA,CAAAA,MAAL,EAER,CA1CD,KAuDC,OAZI,IAAA,CACH,qEACA,CAAA,IAAA,CAAK+C,OAAL,EADA,CAEA,yBAFA,CAGA,IAAA,CAAKM,aAAL,EAHA,CAIA,cAJA,CAKA,IAAA,CAAKH,QAAL,EALA,CAQA,yDAAA,CAAA,IAAA,CAAKF,GAAL,CAAS,oBAAT,CARA,CASA,OAED,CADAM,OAAO,CAAGnF,CAAC,CAACR,IAAD,CACX,CAAO,IAAA,CAAKwF,sBAAL,CAA4BG,OAA5B,CAER,CAzEF,CA0ECG,sBAAsB,CAAE,SAAUG,sBAAAA,CAAAA,IAAV,CAAgB,CACvC,IAQCvF,KARD,CAAIwF,kBAAkB,CAAG,CACvB,oBADuB,CAEvB,oBAFuB,CAGvB,cAHuB,CAIvB,cAJuB,CAKvB,UALuB,CAMvB,YANuB,CAAzB,CASA,IAAKxF,KAAL,IAAcwF,kBAAd,CACC,GAAID,IAAI,EAAIC,kBAAkB,CAACxF,KAAD,CAA9B,CACC,OAAA,CAAA,CAAA,CAGF,OACA,CAAA,CAAA,CA1FF,CAHmB,EAiGpB+E,oBAAoB,CACnB,mCADmB,CAEnB,EAFmB,CAGnB;AAED;AACA,KACEC,aAAa,CAAE,SAAA,aAAA,EAAY,CAC1B,OAAYL,IAAAA,CAAAA,GAAL,CAAS,aAAT,CACP,CANF;AAQD;AACA;AACA,KACEF,KAAK,CAAE,SAAA,KAAA,EAAY,CAClB,IACCnF,IADD,CAEC2F,OAFD,CAAIC,2BAA2B,CAAG,IAAA,CAAKP,GAAL,CAAS,sBAAT,CAAlC,CA2BA,YAxBSc,0BAAL,CAAgCP,2BAAhC,CAwBJ,EAvBC5F,IAAI,CACH,gBAAA,CACA,KAAKoF,OAAL,EADA,CAEA,2BAFA,CAGA,KAAKG,QAAL,EAHA,CAIA,kGAJA,CAKA,KAAKF,GAAL,CAAS,oBAAT,CALA,CAMA,OAgBF,CAfCM,OAAO,CAAGtI,MAAM,CAAC2C,IAAD,CAejB,GAbCA,IAAI,CACH,qEAAA,CACA,KAAKoF,OAAL,EADA,CAEA,yBAFA,CAGA,KAAKM,aAAL,EAHA,CAIA,cAJA,CAKA,KAAKH,QAAL,EALA,2DAQA,IAAKF,CAAAA,GAAL,CAAS,oBAAT,CARA,CASA,OAGF,CAFCM,OAAO,CAAGtI,MAAM,CAAC2C,IAAD,CAEjB,EAAO2F,OACP,CAxCF,CAyCCQ,0BAA0B,CAAE,SAAUF,0BAAAA,CAAAA,IAAV,CAAgB,CAC3C,SAAA,CAAIC,kBAAkB,CAAG,CACvB,wBADuB,CAEvB,uBAFuB,CAGvB,uBAHuB,CAIvB,wBAJuB,CAAzB,CAOA,IAAKxF,KAAL,IAAcwF,kBAAd,CACC,GAAID,IAAI,EAAIC,kBAAkB,CAACxF,KAAD,CAA9B,CACC,UAGF,OACA,CAAA,CAAA,CAvDF,CAHmB,EA8DpB0F,wBAAwB,CACvB,mCADuB,CAEvB,EAFuB,CAGvB,CACCjB,KAAK,CAAE,gBAAY,CACdnF,IAAAA,IAAI,CACP,+EACA,CAAA,IAAA,CAAKoF,OAAL,EADA,CAEA,aAFA,CAGA,IAAA,CAAKG,QAAL,EAHA,CAAA,0DAAA,CAMA,KAAKF,GAAL,CAAS,oBAAT,CANA,CAOA,OATiB,CAUdM,OAAO,CAAGtI,MAAM,CAAC2C,IAAD,CAVF,CAWlB,OAAYwF,IAAAA,CAAAA,sBAAL,CAA4BG,OAA5B,CACP,CAbF,CAHuB,EAoBxBU,oBAAoB,CACnB,+BADmB,CAEnB,EAFmB,CAGnB;AAED;AACA;AACA,KACElB,KAAK,CAAE,SAAY,KAAA,EAAA,CAAA,QACV,CACP,qEAAA,CACA,IAAKC,CAAAA,OAAL,EADA,CAEA,cAFA,CAGA,IAAA,CAAKG,QAAL,EAHA,CAAA,yDAAA,CAMA,KAAKF,GAAL,CAAS,oBAAT,CANA,CAOA,OATiB,CAUdM,OAAO,CAAGtI,MAAM,CAAC2C,IAAD,CAVF,CAWlB,OAAYwF,IAAAA,CAAAA,sBAAL,CAA4BG,OAA5B,CACP,CAjBF,CAHmB,EAwBpBX,eAAe,CACd,4BADc,CAEd,EAFc,CAGd;AAED;AACA;AACA,KACEG,KAAK,CAAE,SAAY,KAAA,EAAA,CAAA,QACV,CACP,gEAAA,CACA,IAAKC,CAAAA,OAAL,EADA,CAEA,aAFA,CAGA,IAAA,CAAKG,QAAL,EAHA,CAAA,yDAAA,CAMA,KAAKF,GAAL,CAAS,oBAAT,CANA,CAOA,OATiB,CAUdM,OAAO,CAAGtI,MAAM,CAAC2C,IAAD,CAVF,CAWlB,OAAYwF,IAAAA,CAAAA,sBAAL,CAA4BG,OAA5B,CACP,CAjBF,CAHc,EAwBfX,eAAe,CACd,sBADc,CAEd,EAFc,CAGd;AAED;AACA;AACA,KACEG,KAAK,CAAE,SAAY,KAAA,EAAA,CAAA,QACV,CACP,gEAAA,CACA,IAAKC,CAAAA,OAAL,EADA,CAEA,aAFA,CAGA,IAAA,CAAKG,QAAL,EAHA,CAAA,yDAAA,CAMA,KAAKF,GAAL,CAAS,oBAAT,CANA,CAOA,OATiB,CAUdM,OAAO,CAAGtI,MAAM,CAAC2C,IAAD,CAVF,CAWlB,OAAYwF,IAAAA,CAAAA,sBAAL,CAA4BG,OAA5B,CACP,CAjBF,CAHc,EAwBfX,eAAe,CACd,yBADc,CAEd,EAFc,CAGd;AAED;AACA;AACA,KACEG,KAAK,CAAE,SAAA,KAAA,EAAY,CACdnF,IAAAA,IAAI,CACP,wEACA,CAAA,IAAA,CAAKoF,OAAL,EADA,CAEA,aAFA,CAGA,IAAKG,CAAAA,QAAL,EAHA,CAMA,yDAAA,CAAA,IAAA,CAAKF,GAAL,CAAS,oBAAT,CANA,CAOA,OATiB,CAUdM,OAAO,CAAGtI,MAAM,CAAC2C,IAAD,CAVF,CAWlB,YAAYwF,sBAAL,CAA4BG,OAA5B,CACP,CAjBF,CAHc,EAwBfW,qBAAqB,CACpB,gCADoB,CAEpB,EAFoB,CAGpB,CACCnB,KAAK,CAAE,gBAAY,CACdnF,IAAAA,IAAI,CAAG,mCAAmC,CAAA,IAAA,CAAKoF,OAAL,EAAnC,CAAoD,KAD7C,CAEdzD,cAAc,CAAG,IAAA,CAAK4E,iBAAL,EAFH,CAGdC,cAAc,CAAG,IAAKjB,CAAAA,QAAL,EAHH,CAIlB,IAAK,IAAL,QAAA,kBAAA,CAAqC,CACpCvF,IAAI,EAAI,qBAAsByG,QAAtB,CAAiC,KADL,CAEpC,IAAqB,iBAAA,CAAG9E,cAAc,CAAC8E,QAAD,CAAtC,CACA,IAAK,UAAL,IAAmBC,iBAAnB,CACC1G,IAAI,EAAI,kBAAoB2G,CAAAA,MAApB,CAA6B,KADtC,CAEKA,MAAM,EAAIH,cAFf,GAGExG,IAAI,EAAI,YAHV,EAKCA,IAAI,EAAI,IAAM0G,iBAAiB,CAACC,MAAD,CAAvB,CAAkC,WAL3C,CAOA3G,IAAI,EAAI,cACR,CAEDA,IAAI,EAAI,WAjBU,CAkBlB,IAAI4G,eAAe,CAAGvJ,MAAM,CAAC2C,IAAD,CAA5B,CAEA,OADA,IAAA,CAAKwF,sBAAL,CAA4BoB,eAA5B,CACA,CAAOA,eACP,CAtBF,CAHoB,EA6BrBC,wBAAwB,CAAC,mCAAD,CAAsC,EAAtC,CAA0C,EAA1C;;"}