{"version":3,"file":"RelatedList.min.js","sources":["RelatedList.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_RelatedList_Js('IStorages_RelatedList_Js', {\n\tregisterEditQty: function () {\n\t\tlet thisInstance = this;\n\t\tlet element = this.content.find('.js-edit-qtyproductinstock');\n\t\telement.validationEngine(app.validationEngineOptions);\n\t\telement.on('change', (e) => {\n\t\t\te.stopPropagation();\n\t\t\tlet element = $(e.currentTarget);\n\t\t\telement.formatNumber();\n\t\t\tif (!element.validationEngine('validate')) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: thisInstance.parentModuleName,\n\t\t\t\t\trecord: element.closest('.js-list__row').data('id'),\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'setQtyProducts',\n\t\t\t\t\tsrc_record: thisInstance.parentRecordId,\n\t\t\t\t\trelated_module: thisInstance.moduleName,\n\t\t\t\t\tqty: element.val()\n\t\t\t\t}).done(function (responseData) {\n\t\t\t\t\tif (responseData.result) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterPostLoadEvents: function () {\n\t\tthis._super();\n\t\tthis.registerEditQty();\n\t}\n});\n"],"names":["Vtiger_RelatedList_Js","registerEditQty","element","content","find","validationEngine","app","validationEngineOptions","on","e","stopPropagation","$","currentTarget","formatNumber","AppConnector","request","module","thisInstance","parentModuleName","record","closest","data","action","mode","src_record","parentRecordId","related_module","moduleName","qty","val","done","responseData","result","showNotify","text","vtranslate","type","registerPostLoadEvents","_super"],"mappings":";;AAAA,kKACA,aAEAA,qBAAqB,CAAC,0BAAD,CAA6B,CACjDC,eAAe,CAAE,SAAY,eAAA,EAAA,CAAA,gBACZ,CAAG,IADS,CAExBC,OAAO,CAAG,KAAKC,OAAL,CAAaC,IAAb,CAAkB,4BAAlB,CAFc,CAG5BF,OAAO,CAACG,gBAAR,CAAyBC,GAAG,CAACC,uBAA7B,CAH4B,CAI5BL,OAAO,CAACM,EAAR,CAAW,QAAX,CAAqB,SAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,eAAF,EAD2B,CAE3B,WAAW,CAAGC,CAAC,CAACF,CAAC,CAACG,aAAH,CAAf,CACAV,OAAO,CAACW,YAAR,EAH2B,CAItBX,OAAO,CAACG,gBAAR,CAAyB,UAAzB,CAJsB,EAK1BS,YAAY,CAACC,OAAb,CAAqB,CACpBC,MAAM,CAAEC,YAAY,CAACC,gBADD,CAEpBC,MAAM,CAAEjB,OAAO,CAACkB,OAAR,CAAgB,eAAhB,CAAiCC,CAAAA,IAAjC,CAAsC,IAAtC,CAFY,CAGpBC,MAAM,CAAE,cAHY,CAIpBC,IAAI,CAAE,gBAJc,CAKpBC,UAAU,CAAEP,YAAY,CAACQ,cALL,CAMpBC,cAAc,CAAET,YAAY,CAACU,UANT,CAOpBC,GAAG,CAAE1B,OAAO,CAAC2B,GAAR,EAPe,CAArB,CAAA,CAQGC,IARH,CAQQ,SAAUC,YAAV,CAAwB,CAC3BA,YAAY,CAACC,MADc,EAE9B1B,GAAG,CAAC2B,UAAJ,CAAe,CACdC,IAAI,CAAE5B,GAAG,CAAC6B,UAAJ,CAAe,mBAAf,CADQ,CAEdC,IAAI,CAAE,SAFQ,CAAf,EAKD,CAfD,EAiBD,CAtBD,EAuBA,CA5BgD,CA6BjDC,sBAAsB,CAAE,SAAY,sBAAA,EAAA,CACnC,IAAKC,CAAAA,MAAL,EADmC,CAEnC,IAAA,CAAKrC,eAAL,GACA,CAhCgD,CAA7B;;"}