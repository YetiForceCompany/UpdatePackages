{"version":3,"file":"CustomView.min.js","sources":["CustomView.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\nclass CustomView {\n\tconstructor(url) {\n\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true\n\t\t\t}\n\t\t});\n\t\tapp.showModalWindow(null, url, () => {\n\t\t\tthis.modalContainer = $('.js-filter-modal__container');\n\t\t\tthis.advanceFilterInstance = new Vtiger_ConditionBuilder_Js(\n\t\t\t\tthis.modalContainer.find('.js-condition-builder-view .js-condition-builder'),\n\t\t\t\tthis.modalContainer.find('#sourceModule').val()\n\t\t\t);\n\t\t\tthis.advanceFilterInstance.registerEvents();\n\t\t\tCustomView.registerAdvancedConditionsEvents(this.modalContainer);\n\n\t\t\t//This will store the columns selection container\n\t\t\tthis.columnSelectElement = false;\n\t\t\tthis.registerEvents();\n\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t});\n\t}\n\n\t/** @type {Vtiger_ConditionBuilder_Js} Condition builder object */\n\tstatic advancedConditionsBuilder;\n\n\tloadDateFilterValues() {\n\t\tlet selectedDateFilter = $('#standardDateFilter option:selected');\n\t\tlet currentDate = selectedDateFilter.data('currentdate');\n\t\tlet endDate = selectedDateFilter.data('enddate');\n\t\t$('#standardFilterCurrentDate').val(currentDate);\n\t\t$('#standardFilterEndDate').val(endDate);\n\t}\n\n\t/**\n\t * Function to get the contents container\n\t * @return : jQuery object of contents container\n\t */\n\tgetContentsContainer() {\n\t\tif (!this.modalContainer) {\n\t\t\tthis.modalContainer = $('.js-filter-modal__container');\n\t\t}\n\t\treturn this.modalContainer;\n\t}\n\n\t/**\n\t * Function to get the view columns selection element\n\t * @return : jQuery object of view columns selection element\n\t */\n\tgetColumnSelectElement() {\n\t\tif (!this.columnSelectElement) {\n\t\t\tthis.columnSelectElement = $('#viewColumnsSelect');\n\t\t}\n\t\treturn this.columnSelectElement;\n\t}\n\n\t/**\n\t * Function which will get the selected columns\n\t * @return : array of selected values\n\t */\n\tgetSelectedColumns() {\n\t\tlet columnListSelectElement = this.getColumnSelectElement();\n\t\treturn columnListSelectElement.val();\n\t}\n\t/**\n\t * Get custom labels\n\t * @returns array\n\t */\n\tgetCustomLabels() {\n\t\tlet customFieldNames = {};\n\t\tthis.getContentsContainer()\n\t\t\t.find('.js-short-label')\n\t\t\t.each(function () {\n\t\t\t\tcustomFieldNames[$(this).attr('data-field-value')] = $(this).val();\n\t\t\t});\n\t\treturn customFieldNames;\n\t}\n\n\tsaveFilter() {\n\t\tlet aDeferred = $.Deferred();\n\t\tlet formData = $('#CustomView').serializeFormData();\n\t\tAppConnector.request(formData, true)\n\t\t\t.done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function (error) {\n\t\t\t\taDeferred.reject(error);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\n\tsaveAndViewFilter() {\n\t\tthis.saveFilter().done(function (data) {\n\t\t\tlet response = data.result;\n\t\t\tif (response && response.success) {\n\t\t\t\tlet url;\n\t\t\t\tif (app.getParentModuleName() == 'Settings') {\n\t\t\t\t\turl = 'index.php?module=CustomView&parent=Settings&view=Index&sourceModule=' + $('#sourceModule').val();\n\t\t\t\t} else {\n\t\t\t\t\turl = response.listviewurl;\n\t\t\t\t}\n\t\t\t\twindow.location.href = url;\n\t\t\t} else {\n\t\t\t\t$.unblockUI();\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: app.vtranslate('JS_DUPLICATE_RECORD'),\n\t\t\t\t\ttext: response.message,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tregisterIconEvents() {\n\t\tthis.getContentsContainer()\n\t\t\t.find('.js-filter-preferences')\n\t\t\t.on('change', '.js-filter-preference', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet iconElement = currentTarget.next();\n\t\t\t\tif (currentTarget.prop('checked')) {\n\t\t\t\t\ticonElement.removeClass(iconElement.data('unchecked')).addClass(iconElement.data('check'));\n\t\t\t\t} else {\n\t\t\t\t\ticonElement.removeClass(iconElement.data('check')).addClass(iconElement.data('unchecked'));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tregisterColorEvent() {\n\t\tconst container = this.getContentsContainer();\n\t\tlet picker = container.find('.js-color-picker');\n\t\tlet pickerField = picker.find('.js-color-picker__field');\n\t\tlet showPicker = () => {\n\t\t\tApp.Fields.Colors.showPicker({\n\t\t\t\tcolor: pickerField.val(),\n\t\t\t\tbgToUpdate: picker.find('.js-color-picker__color'),\n\t\t\t\tfieldToUpdate: pickerField\n\t\t\t});\n\t\t};\n\t\tpicker.on('click', showPicker);\n\t}\n\n\t/**\n\t * Get list of fields to duplicates\n\t * @returns {Array}\n\t */\n\tgetDuplicateFields() {\n\t\tlet fields = [];\n\t\tconst container = this.getContentsContainer();\n\t\tcontainer.find('.js-duplicates-container .js-duplicates-row').each(function () {\n\t\t\tfields.push({\n\t\t\t\tfieldid: $(this).find('.js-duplicates-field').val(),\n\t\t\t\tignore: $(this).find('.js-duplicates-ignore').is(':checked')\n\t\t\t});\n\t\t});\n\t\treturn fields;\n\t}\n\t/**\n\t * Register events for block \"Find duplicates\"\n\t */\n\tregisterDuplicatesEvents() {\n\t\tconst container = this.getContentsContainer();\n\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.js-duplicates-container .js-duplicates-field'));\n\t\tcontainer.on('click', '.js-duplicates-remove', function () {\n\t\t\t$(this).closest('.js-duplicates-row').remove();\n\t\t});\n\t\tcontainer.find('.js-duplicate-add-field').on('click', function () {\n\t\t\tlet template = container.find('.js-duplicates-field-template').clone();\n\t\t\ttemplate.removeClass('d-none');\n\t\t\ttemplate.removeClass('js-duplicates-field-template');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(template.find('.js-duplicates-field'));\n\t\t\tcontainer.find('.js-duplicates-container').append(template);\n\t\t});\n\t}\n\tregisterSubmitEvent(select2Element) {\n\t\t$('#CustomView').on('submit', (e) => {\n\t\t\tconst form = $(e.currentTarget);\n\t\t\tlet selectElement = this.getColumnSelectElement();\n\t\t\tif ($('#viewname').val().length > 100) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('JS_VIEWNAME_ALERT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//Mandatory Fields selection validation\n\t\t\t//Any one Mandatory Field should select while creating custom view.\n\t\t\tlet mandatoryFieldsList = JSON.parse($('#mandatoryFieldsList').val());\n\t\t\tlet selectedOptions = selectElement.val();\n\t\t\tlet mandatoryFieldsMissing = true;\n\t\t\tif (selectedOptions) {\n\t\t\t\tmandatoryFieldsMissing = selectedOptions.filter((value) => mandatoryFieldsList.includes(value)).length <= 0;\n\t\t\t}\n\t\t\tif (mandatoryFieldsMissing) {\n\t\t\t\tselectElement.validationEngine(\n\t\t\t\t\t'showPrompt',\n\t\t\t\t\tapp.vtranslate('JS_PLEASE_SELECT_ATLEAST_ONE_MANDATORY_FIELD'),\n\t\t\t\t\t'error',\n\t\t\t\t\t'topLeft',\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tselect2Element.validationEngine('hide');\n\t\t\t}\n\t\t\t//Mandatory Fields validation ends\n\t\t\tlet result = form.validationEngine('validate');\n\t\t\tif (result) {\n\t\t\t\t//handled standard filters saved values.\n\t\t\t\tlet stdfilterlist = {};\n\n\t\t\t\tif (\n\t\t\t\t\t$('#standardFilterCurrentDate').val() != '' &&\n\t\t\t\t\t$('#standardFilterEndDate').val() != '' &&\n\t\t\t\t\t$('select.standardFilterColumn option:selected').val() != 'none'\n\t\t\t\t) {\n\t\t\t\t\tstdfilterlist['columnname'] = $('select.standardFilterColumn option:selected').val();\n\t\t\t\t\tstdfilterlist['stdfilter'] = $('select#standardDateFilter option:selected').val();\n\t\t\t\t\tstdfilterlist['startdate'] = $('#standardFilterCurrentDate').val();\n\t\t\t\t\tstdfilterlist['enddate'] = $('#standardFilterEndDate').val();\n\t\t\t\t\t$('#stdfilterlist').val(JSON.stringify(stdfilterlist));\n\t\t\t\t}\n\t\t\t\t//handled advanced filters saved values.\n\t\t\t\tlet contentContainer = this.getContentsContainer();\n\t\t\t\t$('#advfilterlist').val(JSON.stringify(this.advanceFilterInstance.getConditions()));\n\t\t\t\tform.find('#advancedConditions').val(JSON.stringify(CustomView.getAdvancedConditions(form)));\n\t\t\t\t$('[name=\"duplicatefields\"]').val(JSON.stringify(this.getDuplicateFields()));\n\t\t\t\t$('input[name=\"columnslist\"]', contentContainer).val(JSON.stringify(this.getSelectedColumns()));\n\t\t\t\tcontentContainer.find('.js-custom-field-names').val(JSON.stringify(this.getCustomLabels()));\n\n\t\t\t\tthis.saveAndViewFilter();\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tapp.formAlignmentAfterValidation($(e.currentTarget));\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Block submit on press enter key\n\t */\n\tregisterDisableSubmitOnEnter() {\n\t\tthis.getContentsContainer()\n\t\t\t.find('#viewname, [name=\"color\"]')\n\t\t\t.on('keydown', (e) => {\n\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t/**\n\t * Function to register the advanced conditions events for customview\n\t * @param {jQuery} listViewContainer\n\t */\n\tstatic registerCustomViewAdvCondEvents(listViewContainer) {\n\t\tlistViewContainer.on('click', '.js-custom-view-adv-cond-modal', () => {\n\t\t\tconst customViewAdvCond = listViewContainer.find('.js-custom-view-adv-cond');\n\t\t\tlet advancedConditions = customViewAdvCond.val();\n\t\t\tif (advancedConditions) {\n\t\t\t\tadvancedConditions = JSON.parse(advancedConditions);\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'CustomViewAdvCondModal',\n\t\t\t\tadvancedConditions: advancedConditions\n\t\t\t})\n\t\t\t\t.done((data) => {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, (modalContainer) => {\n\t\t\t\t\t\t\tApp.Tools.Form.registerBlockToggle(modalContainer);\n\t\t\t\t\t\t\tthis.registerAdvancedConditionsEvents(modalContainer);\n\t\t\t\t\t\t\tmodalContainer.find('[name=\"saveButton\"]').on('click', () => {\n\t\t\t\t\t\t\t\tcustomViewAdvCond.val(JSON.stringify(this.getAdvancedConditions(modalContainer)));\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tif (typeof app.pageController.getListViewRecords !== 'undefined') {\n\t\t\t\t\t\t\t\t\tapp.pageController.getListViewRecords();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail((_textStatus, errorThrown) => {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttextTrusted: false,\n\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttext: errorThrown,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Function to register the advanced conditions events for custom view\n\t * @param {jQuery} container\n\t */\n\tstatic registerAdvancedConditionsEvents(container) {\n\t\tconst self = this;\n\t\tconst builder = container.find('.js-adv-condition-builder-view');\n\t\tconst relationSelect = container.find('.js-relation-select');\n\t\tif (relationSelect.val() != 0) {\n\t\t\tthis.advancedConditionsBuilder = new Vtiger_ConditionBuilder_Js(\n\t\t\t\tbuilder.find('.js-condition-builder'),\n\t\t\t\trelationSelect.find('option:selected').data('module')\n\t\t\t);\n\t\t\tthis.advancedConditionsBuilder.registerEvents();\n\t\t}\n\t\trelationSelect.on('change', function () {\n\t\t\tconst moduleName = $(this).find('option:selected').data('module');\n\t\t\tbuilder.html('');\n\t\t\tdelete self.advancedConditionsBuilder;\n\t\t\tif (moduleName) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'ConditionBuilder',\n\t\t\t\t\tmode: 'builder',\n\t\t\t\t\tsourceModuleName: moduleName\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tbuilder.html(data);\n\t\t\t\t\tself.advancedConditionsBuilder = new Vtiger_ConditionBuilder_Js(\n\t\t\t\t\t\tbuilder.find('.js-condition-builder'),\n\t\t\t\t\t\tmoduleName\n\t\t\t\t\t);\n\t\t\t\t\tself.advancedConditionsBuilder.registerEvents();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Function to register the advanced conditions events for custom view\n\t * @param {jQuery} container\n\t * @return {object}\n\t */\n\tstatic getAdvancedConditions(container) {\n\t\tconst advancedConditions = {\n\t\t\trelationId: container.find('.js-relation-select').val()\n\t\t};\n\t\tcontainer.find('.js-relation-checkbox:checked').each(function () {\n\t\t\tif (typeof advancedConditions.relationColumns === 'undefined') {\n\t\t\t\tadvancedConditions.relationColumns = [];\n\t\t\t}\n\t\t\tadvancedConditions.relationColumns.push($(this).val());\n\t\t});\n\t\tif (this.advancedConditionsBuilder) {\n\t\t\tadvancedConditions.relationConditions = this.advancedConditionsBuilder.getConditions();\n\t\t}\n\t\treturn advancedConditions;\n\t}\n\t/**\n\t * Register change selected columns\n\t */\n\tregisterChangeSelectedColumns() {\n\t\tthis.container.find('.js-view-columns-select').on('change', () => {\n\t\t\tthis.registerAppendCustomLabels();\n\t\t});\n\t}\n\t/**\n\t *\tRegister append custom labels\n\t */\n\tregisterAppendCustomLabels() {\n\t\tlet shorterNamesContainer = this.container.find('.js-custom-name-fields');\n\t\tlet selectedColumns = this.container\n\t\t\t.find('.js-view-columns-select option:selected')\n\t\t\t.toArray()\n\t\t\t.map((item) => ({\n\t\t\t\ttext: item.getAttribute('data-field-label'),\n\t\t\t\tvalue: item.value,\n\t\t\t\tcustomLabel: item.getAttribute('data-custom-label') || ''\n\t\t\t}));\n\t\tshorterNamesContainer.empty();\n\t\tlet newCustomLabelElement = '';\n\t\tlet customLabelElement = '';\n\t\tlet customLabelValue = '';\n\t\tlet inputContainerElement = '';\n\t\tlet inputElement = '';\n\t\t$.each(selectedColumns, function (_index, element) {\n\t\t\tnewCustomLabelElement = document.createElement('div');\n\t\t\tnewCustomLabelElement.setAttribute('class', 'd-flex mb-1');\n\n\t\t\tcustomLabelElement = document.createElement('div');\n\t\t\tcustomLabelElement.setAttribute('class', 'col-form-label col-md-2 pl-0');\n\t\t\tcustomLabelValue = document.createTextNode(element.text);\n\t\t\tcustomLabelElement.appendChild(customLabelValue);\n\t\t\tnewCustomLabelElement.appendChild(customLabelElement);\n\n\t\t\tinputContainerElement = document.createElement('div');\n\t\t\tinputContainerElement.setAttribute('class', 'col-md-4');\n\n\t\t\tinputElement = document.createElement('input');\n\t\t\tinputElement.setAttribute('type', 'text');\n\t\t\tinputElement.setAttribute('class', 'form-control js-short-label');\n\t\t\tinputElement.setAttribute('data-field-value', element.value);\n\t\t\tinputElement.setAttribute(\n\t\t\t\t'data-validation-engine',\n\t\t\t\t'validate[maxSize[50], funcCall[Vtiger_Base_Validator_Js.invokeValidation]]'\n\t\t\t);\n\t\t\tinputElement.setAttribute('data-validator', '[{\"name\":\"FieldLabel\"}]');\n\t\t\tinputElement.setAttribute('value', element.customLabel);\n\n\t\t\tinputContainerElement.appendChild(inputElement);\n\t\t\tnewCustomLabelElement.appendChild(inputContainerElement);\n\t\t\tshorterNamesContainer.append(newCustomLabelElement);\n\t\t});\n\t}\n\t/**\n\t * Register events\n\t */\n\tregisterEvents() {\n\t\tthis.container = this.getContentsContainer();\n\t\tthis.registerIconEvents();\n\t\tApp.Fields.Tree.register(this.getContentsContainer());\n\t\tApp.Tools.Form.registerBlockToggle(this.getContentsContainer());\n\t\tthis.registerColorEvent();\n\t\tthis.registerDuplicatesEvents();\n\t\tconst select2Element = App.Fields.Picklist.showSelect2ElementView(this.getColumnSelectElement());\n\t\tthis.registerSubmitEvent(select2Element);\n\t\t$('.stndrdFilterDateSelect').datepicker();\n\t\t$('#standardDateFilter').on('change', () => {\n\t\t\tthis.loadDateFilterValues();\n\t\t});\n\t\t$('#CustomView').validationEngine(app.validationEngineOptions);\n\t\tthis.registerDisableSubmitOnEnter();\n\t\tthis.registerChangeSelectedColumns();\n\t\tthis.registerAppendCustomLabels();\n\t}\n}\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_FieldLabel_Validator_Js',\n\t{\n\t\t/** @inheritdoc */\n\t\tinvokeValidation: function (field, _rules, _i, _options) {\n\t\t\tlet instance = new Vtiger_FieldLabel_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tlet response = instance.validate();\n\t\t\tif (response !== true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/** @inheritdoc */\n\t\tvalidate: function () {\n\t\t\treturn this.validateValue(this.getFieldValue());\n\t\t},\n\t\t/** @inheritdoc */\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tlet specialChars = /[&\\<\\>\\:\\'\\\"\\,]/;\n\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\tlet errorInfo = app.vtranslate('JS_SPECIAL_CHARACTERS') + ' & < > \\' \" : , ' + app.vtranslate('JS_NOT_ALLOWED');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n"],"names":["CustomView","url","progressIndicatorElement","$","progressIndicator","position","blockInfo","enabled","app","showModalWindow","modalContainer","advanceFilterInstance","Vtiger_ConditionBuilder_Js","find","val","registerEvents","registerAdvancedConditionsEvents","columnSelectElement","mode","selectedDateFilter","currentDate","data","endDate","getColumnSelectElement","columnListSelectElement","getContentsContainer","each","customFieldNames","attr","Deferred","formData","serializeFormData","AppConnector","request","done","aDeferred","resolve","fail","error","reject","promise","saveFilter","result","response","success","getParentModuleName","listviewurl","window","location","href","unblockUI","showNotify","title","vtranslate","text","message","type","on","e","currentTarget","iconElement","next","prop","removeClass","addClass","picker","container","pickerField","App","Fields","Colors","showPicker","color","bgToUpdate","fieldToUpdate","fields","push","fieldid","ignore","is","Picklist","showSelect2ElementView","closest","remove","clone","template","append","select2Element","selectElement","length","preventDefault","JSON","parse","selectedOptions","mandatoryFieldsMissing","filter","value","includes","validationEngine","form","stdfilterlist","stringify","getConditions","getAdvancedConditions","getDuplicateFields","contentContainer","getSelectedColumns","getCustomLabels","saveAndViewFilter","formAlignmentAfterValidation","key","registerAppendCustomLabels","shorterNamesContainer","selectedColumns","toArray","map","item","getAttribute","customLabel","empty","newCustomLabelElement","customLabelElement","customLabelValue","inputContainerElement","inputElement","_index","element","document","createElement","setAttribute","createTextNode","appendChild","registerIconEvents","Tree","register","Tools","Form","registerBlockToggle","registerColorEvent","registerDuplicatesEvents","registerSubmitEvent","datepicker","loadDateFilterValues","validationEngineOptions","registerDisableSubmitOnEnter","registerChangeSelectedColumns","listViewContainer","advancedConditions","customViewAdvCond","module","getModuleName","view","hideModalWindow","pageController","getListViewRecords","_textStatus","errorThrown","textTrusted","self","builder","relationSelect","advancedConditionsBuilder","html","moduleName","parent","sourceModuleName","relationId","relationColumns","relationConditions","Vtiger_Base_Validator_Js","invokeValidation","field","instance","setElement","validate","getError","validateValue","getFieldValue","fieldValue","test","setError","errorInfo"],"mappings":"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"}