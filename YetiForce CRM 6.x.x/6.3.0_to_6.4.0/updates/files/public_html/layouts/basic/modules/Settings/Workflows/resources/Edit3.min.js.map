{"version":3,"file":"Edit3.min.js","sources":["Edit3.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\nSettings_Workflows_Edit_Js(\n\t'Settings_Workflows_Edit3_Js',\n\t{},\n\t{\n\t\tstep3Container: false,\n\t\tadvanceFilterInstance: false,\n\t\tconditionBuilderInstance: false,\n\t\tckEditorInstance: false,\n\t\tfieldValueMap: false,\n\t\tinit: function () {\n\t\t\tthis.initialize();\n\t\t},\n\t\t/**\n\t\t * Function to get the container which holds all the reports step1 elements\n\t\t * @return jQuery object\n\t\t */\n\t\tgetContainer: function () {\n\t\t\treturn this.step3Container;\n\t\t},\n\t\t/**\n\t\t * Function to set the reports step1 container\n\t\t * @params : element - which represents the reports step1 container\n\t\t * @return : current instance\n\t\t */\n\t\tsetContainer: function (element) {\n\t\t\tthis.step3Container = element;\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function  to intialize the reports step1\n\t\t */\n\t\tinitialize: function (container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = $('#workflow_step3');\n\t\t\t}\n\t\t\tif (container.is('#workflow_step3')) {\n\t\t\t\tthis.setContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setContainer($('#workflow_step3'));\n\t\t\t}\n\t\t},\n\t\tregisterEditTaskEvent: function () {\n\t\t\tlet thisInstance = this,\n\t\t\t\tcontainer = this.getContainer();\n\t\t\tcontainer.on('click', '[data-url]', function (e) {\n\t\t\t\tlet currentElement = $(e.currentTarget),\n\t\t\t\t\tparams = currentElement.data('url'),\n\t\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tapp.showModalWindow(null, params, function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tlet clipboard = App.Fields.Text.registerCopyClipboard(data);\n\t\t\t\t\t\tcontainer.one('hidden.bs.modal', () => {\n\t\t\t\t\t\t\tclipboard.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.registerVTCreateTodoTaskEvents();\n\t\t\t\t\tvar taskType = $('#taskType').val();\n\t\t\t\t\tvar functionName = 'register' + taskType + 'Events';\n\t\t\t\t\tif (typeof thisInstance[functionName] !== 'undefined') {\n\t\t\t\t\t\tthisInstance[functionName].apply(thisInstance, data);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.registerSaveTaskSubmitEvent(taskType);\n\t\t\t\t\t$('#saveTask').validationEngine(app.validationEngineOptions);\n\t\t\t\t\tthisInstance.registerFillTaskFieldsEvent();\n\t\t\t\t\tthisInstance.registerCheckSelectDateEvent();\n\t\t\t\t\tApp.Tools.VariablesPanel.registerRefreshCompanyVariables(data);\n\t\t\t\t\tthisInstance.conditionBuilderInstance = new Vtiger_ConditionBuilder_Js(\n\t\t\t\t\t\tdata.find('.js-condition-builder'),\n\t\t\t\t\t\tdata.find('.js-source-module').val()\n\t\t\t\t\t);\n\t\t\t\t\tthisInstance.conditionBuilderInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterCheckSelectDateEvent: function () {\n\t\t\t$('[name=\"check_select_date\"]').on('change', function (e) {\n\t\t\t\tif ($(e.currentTarget).is(':checked')) {\n\t\t\t\t\t$('#checkSelectDateContainer').removeClass('d-none').addClass('show');\n\t\t\t\t} else {\n\t\t\t\t\t$('#checkSelectDateContainer').removeClass('show').addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register save task submit event\n\t\t * @param {string} taskType\n\t\t */\n\t\tregisterSaveTaskSubmitEvent(taskType) {\n\t\t\t$('#saveTask').on('submit', (e) => {\n\t\t\t\tlet form = $(e.currentTarget);\n\t\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\t\tlet customValidationFunctionName = taskType + 'CustomValidation';\n\t\t\t\t\tif (typeof this[customValidationFunctionName] !== 'undefined') {\n\t\t\t\t\t\tlet result = this[customValidationFunctionName].apply(this);\n\t\t\t\t\t\tif (result !== true) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\ttext: result,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet preSaveActionFunctionName = 'preSave' + taskType;\n\t\t\t\t\tif (typeof this[preSaveActionFunctionName] !== 'undefined') {\n\t\t\t\t\t\tthis[preSaveActionFunctionName].apply(this, [taskType]);\n\t\t\t\t\t}\n\t\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\t\tlet createEntityModule = form.find('.createEntityModule:visible option:selected');\n\t\t\t\t\tformData.entity_type = createEntityModule.val();\n\t\t\t\t\tformData.relationId = createEntityModule.attr('data-relation-id');\n\t\t\t\t\tAppConnector.request(formData).done((data) => {\n\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\tthis.getTaskList();\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\tVTUpdateFieldsTaskCustomValidation: function () {\n\t\t\treturn this.checkDuplicateFieldsSelected();\n\t\t},\n\t\tVTCreateEntityTaskCustomValidation: function () {\n\t\t\treturn this.checkDuplicateFieldsSelected();\n\t\t},\n\t\tcheckDuplicateFieldsSelected: function () {\n\t\t\tvar selectedFieldNames = $('#save_fieldvaluemapping').find('.js-conditions-row').find('[name=\"fieldname\"]');\n\t\t\tvar result = true;\n\t\t\tvar failureMessage = app.vtranslate('JS_SAME_FIELDS_SELECTED_MORE_THAN_ONCE');\n\t\t\t$.each(selectedFieldNames, function (i, ele) {\n\t\t\t\tvar fieldName = $(ele).attr('value');\n\t\t\t\tvar fields = $('[name=' + fieldName + ']').not(':hidden');\n\t\t\t\tif (fields.length > 1) {\n\t\t\t\t\tresult = failureMessage;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\tpreSaveVTUpdateFieldsTask: function (tasktype) {\n\t\t\tvar values = this.getValues(tasktype);\n\t\t\t$('[name=\"field_value_mapping\"]').val(JSON.stringify(values));\n\t\t},\n\t\tpreSaveVTCreateEntityTask: function (tasktype) {\n\t\t\tvar values = this.getValues(tasktype);\n\t\t\t$('[name=\"field_value_mapping\"]').val(JSON.stringify(values));\n\t\t},\n\t\tpreSaveVTEmailTask: function (tasktype) {\n\t\t\tvar textAreaElement = $('#content');\n\t\t\t//To keep the plain text value to the textarea which need to be\n\t\t\t//sent to server\n\t\t\ttextAreaElement.val(CKEDITOR.instances['content'].getData());\n\t\t},\n\t\tpreSaveVTUpdateRelatedFieldTask: function (tasktype) {\n\t\t\tvar values = this.getValues(tasktype);\n\t\t\t$('[name=\"field_value_mapping\"]').val(JSON.stringify(values));\n\t\t},\n\t\tpreSaveSumFieldFromDependent: function (tasktype) {\n\t\t\t$('[name=\"conditions\"]').val(JSON.stringify(this.conditionBuilderInstance.getConditions()));\n\t\t},\n\t\t/**\n\t\t * Function to check if the field selected is empty field\n\t\t * @params : select element which represents the field\n\t\t * @return : boolean true/false\n\t\t */\n\t\tisEmptyFieldSelected: function (fieldSelect) {\n\t\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\t\t//assumption that empty field will be having value none\n\t\t\tif (selectedOption.val() === 'none' || !selectedOption.val()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tgetVTCreateEntityTaskFieldList: function () {\n\t\t\treturn new Array('fieldname', 'value', 'valuetype', 'modulename');\n\t\t},\n\t\tgetVTUpdateFieldsTaskFieldList: function () {\n\t\t\treturn new Array('fieldname', 'value', 'valuetype');\n\t\t},\n\t\tgetVTUpdateRelatedFieldTaskFieldList: function () {\n\t\t\treturn new Array('fieldname', 'value', 'valuetype');\n\t\t},\n\t\t/**\n\t\t * Get values\n\t\t * @param {string} tasktype\n\t\t * @returns {Array}\n\t\t */\n\t\tgetValues(tasktype) {\n\t\t\tlet fieldListFunctionName = 'get' + tasktype + 'FieldList',\n\t\t\t\tfieldList = [];\n\t\t\tif (typeof this[fieldListFunctionName] !== 'undefined') {\n\t\t\t\tfieldList = this[fieldListFunctionName].apply();\n\t\t\t}\n\n\t\t\tlet values = [];\n\t\t\t$('.js-conditions-row', $('#save_fieldvaluemapping')).each((i, conditionDomElement) => {\n\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\tfieldSelectElement = $('[name=\"fieldname\"]', rowElement),\n\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t//To not send empty fields to server\n\t\t\t\tif (this.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet fieldDataInfo = fieldSelectElement.find('option:selected').data('fieldinfo'),\n\t\t\t\t\tfieldType = fieldDataInfo.type,\n\t\t\t\t\trowValues = {},\n\t\t\t\t\tkey,\n\t\t\t\t\tfield;\n\t\t\t\tif (fieldType === 'owner') {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field == 'value' && valueSelectElement.is('select')) {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.find('option:selected').val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (fieldType === 'picklist' || fieldType == 'multipicklist') {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\tfor (let j = 0; j < valuesArr.length; j++) {\n\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[j]] !== 'undefined') {\n\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[j]]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[j]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && fieldType == 'picklist') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && fieldType == 'multipicklist') {\n\t\t\t\t\t\t\tvar value = valueSelectElement.val();\n\t\t\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field == 'value') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($('[name=\"valuetype\"]', rowElement).val() == 'false' || $('[name=\"valuetype\"]', rowElement).length == 0) {\n\t\t\t\t\trowValues['valuetype'] = 'rawtext';\n\t\t\t\t}\n\n\t\t\t\tvalues.push(rowValues);\n\t\t\t});\n\t\t\treturn values;\n\t\t},\n\t\tgetTaskList: function () {\n\t\t\tvar container = this.getContainer();\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'TasksList',\n\t\t\t\trecord: $('[name=\"record\"]', container).val()\n\t\t\t};\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done((data) => {\n\t\t\t\t$('#taskListContainer').html(data);\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tthis.registerSortWorkflowActionsTasks();\n\t\t\t});\n\t\t},\n\t\tregisterTaskStatusChangeEvent: function () {\n\t\t\tvar container = this.getContainer();\n\t\t\tcontainer.on('change', '.taskStatus', function (e) {\n\t\t\t\tvar currentStatusElement = $(e.currentTarget);\n\t\t\t\tvar url = currentStatusElement.data('statusurl');\n\t\t\t\tif (currentStatusElement.is(':checked')) {\n\t\t\t\t\turl = url + '&status=true';\n\t\t\t\t} else {\n\t\t\t\t\turl = url + '&status=false';\n\t\t\t\t}\n\t\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tif (data.result == 'ok') {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_STATUS_CHANGED_SUCCESSFULLY'),\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t}\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\t\t},\n\t\tregisterTaskDeleteEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.getContainer();\n\t\t\tcontainer.on('click', '.deleteTask', function (e) {\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('LBL_DELETE_CONFIRMATION'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\t\t\tvar deleteUrl = currentElement.data('deleteurl');\n\t\t\t\t\t\tAppConnector.request(deleteUrl).done(function (data) {\n\t\t\t\t\t\t\tif (data.result == 'ok') {\n\t\t\t\t\t\t\t\tthisInstance.getTaskList();\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_TASK_DELETED_SUCCESSFULLY'),\n\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterFillTaskFromEmailFieldEvent: function () {\n\t\t\t$('#saveTask').on('change', '#fromEmailOption', function (e) {\n\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\tvar inputElement = currentElement.closest('.row').find('.fields');\n\t\t\t\tinputElement.val(currentElement.val());\n\t\t\t});\n\t\t},\n\t\tregisterFillTaskFieldsEvent: function () {\n\t\t\t$('#saveTask').on('change', '.task-fields', function (e) {\n\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\tvar inputElement = currentElement.closest('.row').find('.fields');\n\t\t\t\tvar oldValue = inputElement.val();\n\t\t\t\tvar newValue = oldValue + currentElement.val();\n\t\t\t\tinputElement.val(newValue);\n\t\t\t});\n\t\t},\n\t\tregisterVTEmailTaskEvents: function () {\n\t\t\tvar textAreaElement = $('#content');\n\t\t\tnew App.Fields.Text.Editor(textAreaElement);\n\t\t\tthis.registerFillTaskFromEmailFieldEvent();\n\t\t\tthis.registerCcAndBccEvents();\n\t\t},\n\t\tregisterVTCreateTodoTaskEvents: function () {\n\t\t\tapp.registerEventForClockPicker();\n\t\t},\n\t\tregisterVTUpdateFieldsTaskEvents: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.registerAddFieldEvent();\n\t\t\tthis.registerDeleteConditionEvent();\n\t\t\tthis.registerFieldChange();\n\t\t\tthis.fieldValueMap = false;\n\t\t\tif ($('#fieldValueMapping').val() != '') {\n\t\t\t\tthis.fieldValueReMapping();\n\t\t\t}\n\t\t\tvar fields = $('#save_fieldvaluemapping').find('select[name=\"fieldname\"]');\n\t\t\t$.each(fields, function (i, field) {\n\t\t\t\tthisInstance.loadFieldSpecificUi($(field));\n\t\t\t});\n\t\t\tthis.getPopUp($('#saveTask'));\n\t\t},\n\t\tregisterVTUpdateRelatedFieldTaskEvents: function (container) {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.registerAddFieldEvent();\n\t\t\tthis.registerDeleteConditionEvent();\n\t\t\tthis.registerConditionsModal($(container));\n\t\t\tthis.registerFieldChange();\n\t\t\tthis.fieldValueMap = false;\n\t\t\tif ($('#fieldValueMapping').val() != '') {\n\t\t\t\tthis.fieldValueReMapping();\n\t\t\t}\n\t\t\tvar fields = $('#save_fieldvaluemapping').find('select[name=\"fieldname\"]');\n\t\t\t$.each(fields, function (i, field) {\n\t\t\t\tthisInstance.loadFieldSpecificUi($(field));\n\t\t\t});\n\t\t\tthis.getPopUp($('#saveTask'));\n\t\t},\n\t\t/**\n\t\t * Add field\n\t\t * @param {jQuery|null} replaceElement - if we want to replace existing field container with new one\n\t\t */\n\t\taddField(replaceElement = null) {\n\t\t\tconst newAddFieldContainer = $('.js-add-basic-field-container')\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('js-add-basic-field-container d-none')\n\t\t\t\t.addClass('js-conditions-row');\n\t\t\t$('select', newAddFieldContainer).addClass('select2');\n\t\t\tif (replaceElement === null) {\n\t\t\t\t$('#save_fieldvaluemapping').append(newAddFieldContainer);\n\t\t\t} else {\n\t\t\t\treplaceElement.replaceWith(newAddFieldContainer);\n\t\t\t}\n\t\t\t//change in to select elements\n\t\t\tApp.Fields.Picklist.changeSelectElementView(newAddFieldContainer);\n\t\t},\n\t\t/**\n\t\t * Register add field event\n\t\t */\n\t\tregisterAddFieldEvent() {\n\t\t\t$('#addFieldBtn').on('click', (e) => {\n\t\t\t\tthis.addField();\n\t\t\t});\n\t\t},\n\t\tregisterDeleteConditionEvent() {\n\t\t\t$('#saveTask').on('click', '.js-condition-delete', (e) => {\n\t\t\t\t$(e.currentTarget).closest('.js-conditions-row').remove();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register condition wizard\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterConditionsModal(container) {\n\t\t\tcontainer.on('click', '.js-condition-modal', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet fieldValue = element.closest('.js-conditions-row').find('[name=\"fieldname\"]').val();\n\t\t\t\tlet sourceField = container.find('.js-condition-value');\n\t\t\t\tif (!fieldValue || sourceField.length <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet value = sourceField.val() ? { ...JSON.parse(sourceField.val()) } : {};\n\t\t\t\tlet moduleName;\n\t\t\t\tlet fieldValueParts = fieldValue.split('::');\n\t\t\t\tif (fieldValueParts.length === 2) {\n\t\t\t\t\tmoduleName = fieldValueParts[0];\n\t\t\t\t} else {\n\t\t\t\t\tmoduleName = fieldValueParts[1];\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'ConditionBuilder',\n\t\t\t\t\tmode: 'builder',\n\t\t\t\t\tsourceModuleName: moduleName,\n\t\t\t\t\trelatedModuleSkip: true,\n\t\t\t\t\tadvanceCriteria: value[fieldValue] || []\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tapp.showModalHtml({\n\t\t\t\t\t\tclass: 'modal-lg',\n\t\t\t\t\t\theader: element.attr('title'),\n\t\t\t\t\t\theaderIcon: 'fas fa-filter',\n\t\t\t\t\t\tbody: data,\n\t\t\t\t\t\tfooterButtons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_APPLY'),\n\t\t\t\t\t\t\t\ticon: 'fas fa-check',\n\t\t\t\t\t\t\t\tclass: 'btn-success js-condition-apply'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_CANCEL'),\n\t\t\t\t\t\t\t\ticon: 'fas fa-times',\n\t\t\t\t\t\t\t\tclass: 'btn-danger',\n\t\t\t\t\t\t\t\tdata: { dismiss: 'modal' }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tcb: (modal) => {\n\t\t\t\t\t\t\tlet conditionBuilder = new Vtiger_ConditionBuilder_Js(modal.find('.js-condition-builder'), {\n\t\t\t\t\t\t\t\tsourceModuleName: moduleName,\n\t\t\t\t\t\t\t\trelatedModuleSkip: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tconditionBuilder.registerEvents();\n\t\t\t\t\t\t\tmodal.on('click', '.js-condition-apply', () => {\n\t\t\t\t\t\t\t\tlet conditions = conditionBuilder.getConditions(true);\n\t\t\t\t\t\t\t\tif (conditions && Object.keys(conditions).length) {\n\t\t\t\t\t\t\t\t\tvalue[fieldValue] = conditions;\n\t\t\t\t\t\t\t\t} else if (typeof value[fieldValue] !== 'undefined') {\n\t\t\t\t\t\t\t\t\tdelete value[fieldValue];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsourceField.val(JSON.stringify(value));\n\t\t\t\t\t\t\t\tapp.hideModalWindow(false, modal.closest('.js-modal-container').attr('id'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register field change event\n\t\t */\n\t\tregisterFieldChange() {\n\t\t\t$('#saveTask').on('change', 'select[name=\"fieldname\"]', (e) => {\n\t\t\t\tconst selectedElement = $(e.currentTarget);\n\t\t\t\tconst conditionRow = selectedElement.closest('.js-conditions-row');\n\t\t\t\tif (selectedElement.val() !== 'none' && selectedElement.val()) {\n\t\t\t\t\tvar moduleNameElement = conditionRow.find('[name=\"modulename\"]');\n\t\t\t\t\tif (moduleNameElement.length > 0) {\n\t\t\t\t\t\tlet workflowModuleName = selectedElement.closest('form').find('#workflowModuleName').val();\n\t\t\t\t\t\tlet selectedOption = selectedElement.find('option:selected');\n\t\t\t\t\t\tvar selectedOptionFieldInfo = selectedOption.data('fieldinfo');\n\t\t\t\t\t\tvar type = selectedOptionFieldInfo.type;\n\t\t\t\t\t\tif (type == 'picklist' || type == 'multipicklist') {\n\t\t\t\t\t\t\tvar selectElement = $('select.createEntityModule:not(:disabled)');\n\t\t\t\t\t\t\tvar moduleName = selectElement.val();\n\t\t\t\t\t\t\tmoduleNameElement.val(moduleName).change().prop('disabled', true);\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tselectedOption.data('reference') &&\n\t\t\t\t\t\t\tmoduleNameElement.find(`option[value=\"${workflowModuleName}\"]`).length\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tmoduleNameElement.val(workflowModuleName).change().prop('disabled', true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmoduleNameElement.prop('disabled', false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.loadFieldSpecificUi(selectedElement);\n\t\t\t\t} else {\n\t\t\t\t\tthis.addField(conditionRow);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetModuleName: function () {\n\t\t\treturn app.getModuleName();\n\t\t},\n\t\tgetFieldValueMapping: function () {\n\t\t\tvar fieldValueMap = this.fieldValueMap;\n\t\t\tif (fieldValueMap != false) {\n\t\t\t\treturn fieldValueMap;\n\t\t\t} else {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t},\n\t\tfieldValueReMapping: function () {\n\t\t\tvar object = JSON.parse($('#fieldValueMapping').val());\n\t\t\tvar fieldValueReMap = {};\n\n\t\t\t$.each(object, function (i, array) {\n\t\t\t\tfieldValueReMap[array.fieldname] = {};\n\t\t\t\tvar values = {};\n\t\t\t\t$.each(array, function (key, value) {\n\t\t\t\t\tvalues[key] = value;\n\t\t\t\t});\n\t\t\t\tfieldValueReMap[array.fieldname] = values;\n\t\t\t});\n\t\t\tthis.fieldValueMap = fieldValueReMap;\n\t\t},\n\t\t/**\n\t\t * Load field specific UI\n\t\t * @param {jQuery} fieldSelect\n\t\t * @returns this\n\t\t */\n\t\tloadFieldSpecificUi(fieldSelect) {\n\t\t\tconst selectedOption = fieldSelect.find('option:selected');\n\t\t\tconst row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tconst fieldUiHolder = row.find('.fieldUiHolder');\n\t\t\tconst fieldInfo = selectedOption.data('fieldinfo');\n\t\t\tconst fieldValueMapping = this.getFieldValueMapping();\n\t\t\tlet selectField = '';\n\t\t\tif (fieldValueMapping && typeof fieldValueMapping[fieldInfo.name] !== 'undefined') {\n\t\t\t\tselectField = fieldValueMapping[fieldInfo.name];\n\t\t\t} else if (fieldValueMapping && typeof fieldValueMapping[fieldSelect.val()] !== 'undefined') {\n\t\t\t\tselectField = fieldValueMapping[fieldSelect.val()];\n\t\t\t}\n\t\t\tif (selectField) {\n\t\t\t\tfieldInfo.value = selectField['value'];\n\t\t\t\tfieldInfo.workflow_valuetype = selectField['valuetype'];\n\t\t\t} else {\n\t\t\t\tfieldInfo.workflow_valuetype = 'rawtext';\n\t\t\t}\n\t\t\tconst moduleName = this.getModuleName();\n\t\t\tconst fieldModel = Vtiger_Field_Js.getInstance(fieldInfo, moduleName);\n\t\t\tthis.fieldModelInstance = fieldModel;\n\t\t\tconst fieldSpecificUi = this.getFieldSpecificUi(fieldSelect);\n\t\t\t//remove validation since we dont need validations for all eleements\n\t\t\t// Both filter and find is used since we dont know whether the element is enclosed in some conainer like currency\n\t\t\tlet fieldName = fieldModel.getName();\n\t\t\tif (fieldModel.getType() == 'multipicklist') {\n\t\t\t\tfieldName = fieldName + '[]';\n\t\t\t}\n\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').attr('data-value', 'value');\n\t\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').attr('data-value', 'value');\n\t\t\tfieldSpecificUi.filter('[name=\"valuetype\"]').removeAttr('data-validation-engine');\n\t\t\tfieldSpecificUi.find('[name=\"valuetype\"]').removeAttr('data-validation-engine');\n\t\t\t//If the workflowValueType is rawtext then only validation should happen\n\t\t\tconst workflowValueType = fieldSpecificUi.filter('[name=\"valuetype\"]').val();\n\t\t\tif (workflowValueType != 'rawtext' && typeof workflowValueType !== 'undefined') {\n\t\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').removeAttr('data-validation-engine');\n\t\t\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').removeAttr('data-validation-engine');\n\t\t\t}\n\t\t\tfieldUiHolder.html(fieldSpecificUi);\n\t\t\tif (fieldSpecificUi.is('input.select2') || fieldSpecificUi.is('select')) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(fieldSpecificUi);\n\t\t\t} else if (fieldSpecificUi.is('input.dateField')) {\n\t\t\t\tApp.Fields.Date.register(fieldSpecificUi);\n\t\t\t} else if (fieldSpecificUi.is('input.dateRangeField')) {\n\t\t\t\tApp.Fields.Date.registerRange(fieldSpecificUi, { ranges: false });\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Functiont to get the field specific ui for the selected field\n\t\t * @prarms : fieldSelectElement - select element which will represents field list\n\t\t * @return : jquery object which represents the ui for the field\n\t\t */\n\t\tgetFieldSpecificUi: function (fieldSelectElement) {\n\t\t\tvar fieldModel = this.fieldModelInstance;\n\t\t\treturn $(fieldModel.getUiTypeSpecificHtml());\n\t\t},\n\t\tregisterVTCreateEventTaskEvents: function () {\n\t\t\tapp.registerEventForClockPicker();\n\t\t},\n\t\tregisterVTCreateEntityTaskEvents: function () {\n\t\t\tthis.registerChangeCreateEntityEvent();\n\t\t\tthis.registerVTUpdateFieldsTaskEvents();\n\t\t},\n\t\t/**\n\t\t * Register record collector events.\n\t\t */\n\t\tregisterRecordCollectorEvents: function () {\n\t\t\tconst recordCollector = $('[name=\"recordCollector\"]');\n\t\t\tconst selectedFields = $('.js-fields-map');\n\t\t\trecordCollector.on('change', function (e) {\n\t\t\t\tlet fieldsMap = '';\n\t\t\t\trecordCollector.find('.js-fields').each(function (_, e) {\n\t\t\t\t\tlet row = $(e);\n\t\t\t\t\tif (row.data('fields') && row.is(':checked')) {\n\t\t\t\t\t\tfieldsMap = row.data('fields');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (fieldsMap !== '') {\n\t\t\t\t\tif (selectedFields.is('select')) {\n\t\t\t\t\t\tlet newOptions = new $();\n\t\t\t\t\t\t$.each(fieldsMap, (v, l) => {\n\t\t\t\t\t\t\tnewOptions = newOptions.add(new Option(l, v, false));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tselectedFields.html(newOptions);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (recordCollector.val() && selectedFields.val().length < 1) {\n\t\t\t\trecordCollector.trigger('change');\n\t\t\t}\n\t\t},\n\t\tregisterChangeCreateEntityEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\t$('[name=\"mappingPanel\"]').on('change', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tapp.setMainParams('mappingPanel', currentTarget.val());\n\t\t\t\t$('#addCreateEntityContainer').html('');\n\t\t\t\tvar hideElementByClass = $('.' + currentTarget.data('hide'));\n\t\t\t\tvar showElementByClass = $('.' + currentTarget.data('show'));\n\t\t\t\tvar taskFields = app.getMainParams('taskFields', true);\n\t\t\t\thideElementByClass\n\t\t\t\t\t.addClass('d-none')\n\t\t\t\t\t.find('input,select')\n\t\t\t\t\t.each(function (e, n) {\n\t\t\t\t\t\tvar element = $(this);\n\t\t\t\t\t\tvar name = element.attr('name');\n\t\t\t\t\t\tif ($.inArray(name, taskFields) >= 0) {\n\t\t\t\t\t\t\tif (element.is('select')) {\n\t\t\t\t\t\t\t\telement.val('').trigger('change');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telement.prop('disabled', true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tshowElementByClass\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.find('input,select')\n\t\t\t\t\t.each(function (e, n) {\n\t\t\t\t\t\tvar element = $(this);\n\t\t\t\t\t\tvar name = element.attr('name');\n\t\t\t\t\t\tif ($.inArray(name, taskFields) >= 0) {\n\t\t\t\t\t\t\telement.prop('disabled', false);\n\t\t\t\t\t\t\tif (element.is('select')) {\n\t\t\t\t\t\t\t\telement.val('').trigger('change');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t\t$('.createEntityModule').on('change', function (e) {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'CreateEntity',\n\t\t\t\t\tfor_workflow: $('[name=\"for_workflow\"]').val(),\n\t\t\t\t\tmappingPanel: app.getMainParams('mappingPanel')\n\t\t\t\t};\n\t\t\t\tvar relatedModule = $(e.currentTarget).val();\n\t\t\t\tif (relatedModule) {\n\t\t\t\t\tparams['relatedModule'] = relatedModule;\n\t\t\t\t}\n\t\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar createEntityContainer = $('#addCreateEntityContainer');\n\t\t\t\t\tcreateEntityContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(createEntityContainer);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(createEntityContainer.find('.select2'));\n\t\t\t\t\tthisInstance.registerAddFieldEvent();\n\t\t\t\t\tthisInstance.fieldValueMap = false;\n\t\t\t\t\tif ($('#fieldValueMapping').val() != '') {\n\t\t\t\t\t\tthis.fieldValueReMapping();\n\t\t\t\t\t}\n\t\t\t\t\tvar fields = $('#save_fieldvaluemapping').find('select[name=\"fieldname\"]');\n\t\t\t\t\t$.each(fields, function (i, field) {\n\t\t\t\t\t\tthisInstance.loadFieldSpecificUi($(field));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will change the UI styles based on recurring type\n\t\t * @params - recurringType - which recurringtype is selected\n\t\t */\n\t\tchangeRecurringTypesUIStyles: function (recurringType) {\n\t\t\tif (recurringType == 'Daily' || recurringType == 'Yearly') {\n\t\t\t\t$('#repeatWeekUI').removeClass('show').addClass('d-none');\n\t\t\t\t$('#repeatMonthUI').removeClass('show').addClass('d-none');\n\t\t\t} else if (recurringType == 'Weekly') {\n\t\t\t\t$('#repeatWeekUI').removeClass('d-none').addClass('show');\n\t\t\t\t$('#repeatMonthUI').removeClass('show').addClass('d-none');\n\t\t\t} else if (recurringType == 'Monthly') {\n\t\t\t\t$('#repeatWeekUI').removeClass('show').addClass('d-none');\n\t\t\t\t$('#repeatMonthUI').removeClass('d-none').addClass('show');\n\t\t\t}\n\t\t},\n\t\tcheckHiddenStatusofCcandBcc: function () {\n\t\t\tvar ccLink = $('#ccLink');\n\t\t\tvar bccLink = $('#bccLink');\n\t\t\tif (ccLink.hasClass('d-none') && bccLink.hasClass('d-none')) {\n\t\t\t\tccLink.closest('div.row').addClass('d-none');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the events for bcc and cc links\n\t\t */\n\t\tregisterCcAndBccEvents: function () {\n\t\t\tvar thisInstance = this;\n\t\t\t$('#ccLink').on('click', function (e) {\n\t\t\t\tvar ccContainer = $('#ccContainer');\n\t\t\t\tccContainer.removeClass('d-none');\n\t\t\t\tvar taskFieldElement = ccContainer.find('select.task-fields');\n\t\t\t\ttaskFieldElement.addClass('select2');\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(taskFieldElement);\n\t\t\t\t$(e.currentTarget).addClass('d-none');\n\t\t\t\tthisInstance.checkHiddenStatusofCcandBcc();\n\t\t\t});\n\t\t\t$('#bccLink').on('click', function (e) {\n\t\t\t\tvar bccContainer = $('#bccContainer');\n\t\t\t\tbccContainer.removeClass('d-none');\n\t\t\t\tvar taskFieldElement = bccContainer.find('select.task-fields');\n\t\t\t\ttaskFieldElement.addClass('select2');\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(taskFieldElement);\n\t\t\t\t$(e.currentTarget).addClass('d-none');\n\t\t\t\tthisInstance.checkHiddenStatusofCcandBcc();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register sortable\n\t\t */\n\t\tregisterSortWorkflowActionsTasks: function () {\n\t\t\tlet tasks = this.container.find('.js-workflow-tasks-list');\n\t\t\ttasks.sortable({\n\t\t\t\tcontainment: tasks,\n\t\t\t\titems: tasks.find('.js-workflow-task'),\n\t\t\t\thandle: '.js-drag',\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tclasses: {\n\t\t\t\t\t'ui-sortable-helper': 'bg-light'\n\t\t\t\t},\n\t\t\t\thelper: function (_e, ui) {\n\t\t\t\t\tui.children().each(function (_index, element) {\n\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\telement.width(element.width());\n\t\t\t\t\t});\n\t\t\t\t\treturn ui;\n\t\t\t\t},\n\t\t\t\tupdate: () => {\n\t\t\t\t\tthis.saveSequence();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Save sequence\n\t\t */\n\t\tsaveSequence: function () {\n\t\t\tlet tasks = [];\n\t\t\tthis.container.find('.js-workflow-task').each(function (index) {\n\t\t\t\ttasks[index] = $(this).data('id');\n\t\t\t});\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: this.container.find('[name=\"module\"]').length\n\t\t\t\t\t? this.container.find('[name=\"module\"]').val()\n\t\t\t\t\t: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: 'sequenceTasks',\n\t\t\t\ttasks: tasks\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data.result.message) {\n\t\t\t\t\t\tapp.showNotify({ text: data.result.message });\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function () {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis.container = this.getContainer();\n\t\t\tApp.Fields.Picklist.changeSelectElementView(this.container);\n\t\t\tthis.registerEditTaskEvent();\n\t\t\tthis.registerTaskStatusChangeEvent();\n\t\t\tthis.registerTaskDeleteEvent();\n\t\t\tthis.registerSortWorkflowActionsTasks();\n\t\t}\n\t}\n);\n\n//http://stackoverflow.com/questions/946534/insert-text-into-textarea-with-jquery\n$.fn.extend({\n\tinsertAtCaret: function (myValue) {\n\t\treturn this.each(function (i) {\n\t\t\tif (document.selection) {\n\t\t\t\t//For browsers like Internet Explorer\n\t\t\t\tthis.focus();\n\t\t\t\tvar sel = document.selection.createRange();\n\t\t\t\tsel.text = myValue;\n\t\t\t\tthis.focus();\n\t\t\t} else if (this.selectionStart || this.selectionStart == '0') {\n\t\t\t\t//For browsers like Firefox and Webkit based\n\t\t\t\tvar startPos = this.selectionStart;\n\t\t\t\tvar endPos = this.selectionEnd;\n\t\t\t\tvar scrollTop = this.scrollTop;\n\t\t\t\tthis.value = this.value.substring(0, startPos) + myValue + this.value.substring(endPos, this.value.length);\n\t\t\t\tthis.focus();\n\t\t\t\tthis.selectionStart = startPos + myValue.length;\n\t\t\t\tthis.selectionEnd = startPos + myValue.length;\n\t\t\t\tthis.scrollTop = scrollTop;\n\t\t\t} else {\n\t\t\t\tthis.value += myValue;\n\t\t\t\tthis.focus();\n\t\t\t}\n\t\t});\n\t}\n});\n"],"names":["Settings_Workflows_Edit_Js","step3Container","advanceFilterInstance","conditionBuilderInstance","ckEditorInstance","fieldValueMap","init","initialize","getContainer","setContainer","element","container","$","is","registerEditTaskEvent","on","e","currentElement","currentTarget","params","data","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","app","showModalWindow","mode","App","Fields","Text","registerCopyClipboard","one","clipboard","destroy","thisInstance","registerVTCreateTodoTaskEvents","val","functionName","taskType","apply","registerSaveTaskSubmitEvent","validationEngine","validationEngineOptions","registerFillTaskFieldsEvent","registerCheckSelectDateEvent","Tools","VariablesPanel","registerRefreshCompanyVariables","find","registerEvents","removeClass","addClass","form","customValidationFunctionName","result","showNotify","title","vtranslate","text","type","preventDefault","preSaveActionFunctionName","serializeFormData","createEntityModule","formData","entity_type","relationId","attr","AppConnector","request","done","getTaskList","hideModalWindow","VTUpdateFieldsTaskCustomValidation","checkDuplicateFieldsSelected","VTCreateEntityTaskCustomValidation","failureMessage","each","selectedFieldNames","i","ele","fieldName","fields","not","length","preSaveVTUpdateFieldsTask","tasktype","values","getValues","JSON","stringify","preSaveVTCreateEntityTask","preSaveVTEmailTask","textAreaElement","CKEDITOR","instances","getData","preSaveVTUpdateRelatedFieldTask","preSaveSumFieldFromDependent","getConditions","isEmptyFieldSelected","fieldSelect","selectedOption","getVTCreateEntityTaskFieldList","Array","getVTUpdateFieldsTaskFieldList","getVTUpdateRelatedFieldTaskFieldList","fieldListFunctionName","fieldList","conditionDomElement","fieldSelectElement","rowElement","valueSelectElement","key","field","fieldDataInfo","fieldType","rowValues","valuesArr","split","newValuesArr","j","pickListValues","push","join","value","module","getModuleName","parent","getParentModuleName","view","record","html","registerSortWorkflowActionsTasks","registerTaskStatusChangeEvent","currentStatusElement","url","stopImmediatePropagation","registerTaskDeleteEvent","showConfirmModal","confirmedCallback","deleteUrl","registerFillTaskFromEmailFieldEvent","inputElement","closest","oldValue","newValue","registerVTEmailTaskEvents","Editor","registerCcAndBccEvents","registerEventForClockPicker","registerVTUpdateFieldsTaskEvents","registerAddFieldEvent","registerDeleteConditionEvent","registerFieldChange","fieldValueReMapping","loadFieldSpecificUi","getPopUp","registerVTUpdateRelatedFieldTaskEvents","registerConditionsModal","addField","newAddFieldContainer","clone","replaceElement","append","replaceWith","Picklist","changeSelectElementView","remove","fieldValue","sourceField","moduleName","parse","fieldValueParts","sourceModuleName","relatedModuleSkip","advanceCriteria","showModalHtml","class","header","headerIcon","body","footerButtons","icon","dismiss","cb","modal","Vtiger_ConditionBuilder_Js","conditionBuilder","conditions","Object","keys","selectedElement","conditionRow","moduleNameElement","selectedOptionFieldInfo","selectElement","change","prop","workflowModuleName","getFieldValueMapping","fieldValueReMap","object","array","fieldname","row","fieldUiHolder","fieldInfo","fieldValueMapping","selectField","name","workflow_valuetype","fieldModel","Vtiger_Field_Js","getInstance","fieldModelInstance","fieldSpecificUi","getFieldSpecificUi","getName","getType","filter","removeAttr","workflowValueType","showSelect2ElementView","Date","register","registerRange","ranges","getUiTypeSpecificHtml","registerVTCreateEventTaskEvents","registerVTCreateEntityTaskEvents","registerChangeCreateEntityEvent","registerRecordCollectorEvents","selectedFields","recordCollector","fieldsMap","_","newOptions","v","l","add","trigger","setMainParams","showElementByClass","taskFields","getMainParams","hideElementByClass","inArray","for_workflow","mappingPanel","relatedModule","createEntityContainer","changeRecurringTypesUIStyles","recurringType","checkHiddenStatusofCcandBcc","ccLink","bccLink","hasClass","ccContainer","taskFieldElement","bccContainer","tasks","sortable","containment","items","handle","revert","tolerance","cursor","classes","helper","_e","ui","children","_index","width","update","saveSequence","index","action","message","fail","fn","extend","insertAtCaret","myValue","document","selection","focus","createRange","sel","selectionStart","endPos","selectionEnd","scrollTop","substring","startPos"],"mappings":"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"}