{"version":3,"file":"CalendarView.min.js","sources":["CalendarView.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\nwindow.Occurrences_Calendar_Js = class Occurrences_Calendar_Js extends Vtiger_Calendar_Js {\n\t/**\n\t * Callback after shown create modal\n\t * @param {jQuery} modal\n\t * @param {object} info\n\t */\n\tselectCallbackCreateModal(modal, info) {\n\t\tlet dateFormat = modal.find('[name=\"date_start\"]').data('dateFormat'),\n\t\t\ttimeFormat = modal.find('[name=\"date_start\"]').data('hourFormat'),\n\t\t\tuserFormat = App.Fields.Date.dateToUserFormat(info.date, dateFormat),\n\t\t\tdefaultTimeFormat = 'hh:mm A',\n\t\t\tendTimeString;\n\t\tif (timeFormat == 24) {\n\t\t\tdefaultTimeFormat = 'HH:mm';\n\t\t}\n\t\tlet startTimeString = moment(info.date).format(defaultTimeFormat);\n\t\tif (info['allDay']) {\n\t\t\tstartTimeString = moment().format(defaultTimeFormat);\n\t\t\tendTimeString = moment().add(30, 'minutes').format(defaultTimeFormat);\n\t\t} else {\n\t\t\tendTimeString = moment(info.date).add(30, 'minutes').format(defaultTimeFormat);\n\t\t}\n\t\tmodal.find('[name=\"date_start\"]').val(userFormat + ' ' + startTimeString);\n\t\tmodal.find('[name=\"date_end\"]').val(userFormat + ' ' + endTimeString);\n\t}\n};\n"],"names":["window","Occurrences_Calendar_Js","modal","info","endTimeString","dateFormat","find","data","timeFormat","userFormat","App","Fields","Date","dateToUserFormat","date","defaultTimeFormat","moment","format","startTimeString","add","val","Vtiger_Calendar_Js"],"mappings":";;AAAA,kKACA,guFACAA,MAAM,CAACC,uBAAP,cACC,SAAA,mBAAA,CAAA,CAAA,SAAA,uBAAA,EAAA,CAAA,OAAA,eAAA,CAAA,IAAA,CAAA,uBAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,CAAA,SAAA,CAAA,uBAAA,CAAA,mBAAA,CAAA,CAAA,IAAA,MAAA,CAAA,YAAA,CAAA,uBAAA,CAAA,CAAA,OAAA,YAAA,CAAA,uBAAA,CAAA,CAAA,CAAA,GAAA,CAAA,2BAAA,CAAA,KAAA;AACD;AACA;AACA;AACA,IACC,mCAA0BC,KAA1B,CAAiCC,IAAjC,CAAuC,CACtC,IAICC,aAJD,CAAIC,UAAU,CAAGH,KAAK,CAACI,IAAN,CAAW,uBAAX,CAAkCC,CAAAA,IAAlC,CAAuC,YAAvC,CAAjB,CACCC,UAAU,CAAGN,KAAK,CAACI,IAAN,CAAW,uBAAX,CAAA,CAAkCC,IAAlC,CAAuC,YAAvC,CADd,CAECE,UAAU,CAAGC,GAAG,CAACC,MAAJ,CAAWC,IAAX,CAAgBC,gBAAhB,CAAiCV,IAAI,CAACW,IAAtC,CAA4CT,UAA5C,CAFd,CAGCU,iBAAiB,CAAG,SAHrB,CAKkB,EAAd,EAAAP,UANkC,GAOrCO,iBAAiB,CAAG,OAPiB,CAStC,CAAA,mBAAmB,CAAGC,MAAM,CAACb,IAAI,CAACW,IAAN,CAAN,CAAkBG,MAAlB,CAAyBF,iBAAzB,CAAtB,CACIZ,IAAI,CAAA,MAV8B,EAWrCe,eAAe,CAAGF,MAAM,EAAA,CAAGC,MAAT,CAAgBF,iBAAhB,CAXmB,CAYrCX,aAAa,CAAGY,MAAM,EAAGG,CAAAA,GAAT,CAAa,EAAb,CAAiB,SAAjB,CAAA,CAA4BF,MAA5B,CAAmCF,iBAAnC,CAZqB,EAcrCX,aAAa,CAAGY,MAAM,CAACb,IAAI,CAACW,IAAN,CAAN,CAAkBK,GAAlB,CAAsB,EAAtB,CAA0B,SAA1B,CAAA,CAAqCF,MAArC,CAA4CF,iBAA5C,CAdqB,CAgBtCb,KAAK,CAACI,IAAN,CAAW,uBAAX,EAAkCc,GAAlC,CAAsCX,UAAU,CAAG,GAAb,CAAmBS,eAAzD,CAhBsC,CAiBtChB,KAAK,CAACI,IAAN,CAAW,qBAAX,EAAgCc,GAAhC,CAAoCX,UAAU,CAAG,GAAb,CAAmBL,aAAvD,EACA,CAxBF,CAAA,CAAA,CAAA,CAAA,uBAAA,CAAA,CAAuEiB,kBAAvE;;"}