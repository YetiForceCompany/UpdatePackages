{"version":3,"file":"RelatedList.min.js","sources":["RelatedList.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_RelatedList_Js',\n\t{\n\t\trelatedListInstance: false,\n\t\tgetInstance: function (parentId, parentModule, selectedRelatedTabElement, relatedModuleName, url) {\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== relatedModuleName\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.parentRecordId = parentId;\n\t\t\t\tinstance.parentModuleName = parentModule;\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.moduleName = relatedModuleName;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parseUrlParams(url);\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\tgetInstanceByUrl: function (url, selectedRelatedTabElement) {\n\t\t\tlet params = app.convertUrlToObject(url);\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== params['relatedModule']\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parentRecordId = params['record'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parentModuleName = params['module'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName = params['relatedModule'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.defaultParams = params;\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\ttriggerMassAction: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet validationResult = self.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\t\tpostData = self.getCompleteParams();\n\t\t\t\tdelete postData.mode;\n\t\t\t\tdelete postData.view;\n\t\t\t\tpostData.viewname = cvId;\n\t\t\t\tpostData.selected_ids = selectedIds;\n\t\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\t\tlet actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdata: postData\n\t\t\t\t};\n\t\t\t\tif (type === 'sendByForm') {\n\t\t\t\t\tAppConnector.requestForm(massActionUrl, postData);\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t} else {\n\t\t\t\t\tAppConnector.request(actionParams)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (responseData && responseData.result !== null) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.reloadList) {\n\t\t\t\t\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.processStop) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Method to verify if selected files exist\n\t\t * @return boolean\n\t\t */\n\t\tverifyFileExist: function () {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\tpostData = self.getCompleteParams();\n\t\t\tdelete postData.mode;\n\t\t\tdelete postData.view;\n\t\t\tpostData.viewname = cvId;\n\t\t\tpostData.selected_ids = selectedIds;\n\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\tpostData.action = 'RelationAjax';\n\t\t\tpostData.mode = 'checkFilesIntegrity';\n\t\t\tAppConnector.request({\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: postData\n\t\t\t}).done(function (responseData) {\n\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t}\n\t\t\t\taDeferred.resolve(true);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Method to trigger mass download action\n\t\t * @param massActionUrl\n\t\t * @param type\n\t\t */\n\t\ttriggerMassDownload: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance,\n\t\t\t\tthisInstance = this;\n\t\t\tthis.verifyFileExist().done(function (data) {\n\t\t\t\tif (true === data) {\n\t\t\t\t\tthisInstance.triggerMassAction(massActionUrl.substring(0, massActionUrl.indexOf('&mode=multiple')), type);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttriggerMassQuickCreate: function (moduleName, data) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tif (self.checkListRecordSelected() !== true) {\n\t\t\t\tlet listParams = self.getSelectedParams();\n\t\t\t\tlet progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tlet params = {\n\t\t\t\t\tcallbackFunction: function () {\n\t\t\t\t\t\tself.loadRelatedList();\n\t\t\t\t\t},\n\t\t\t\t\tnoCache: true,\n\t\t\t\t\tdata: $.extend(data, {\n\t\t\t\t\t\tsourceView: 'RelatedListView',\n\t\t\t\t\t\tsourceModule: listParams.relatedModule,\n\t\t\t\t\t\tentityState: listParams.entityState,\n\t\t\t\t\t\tsearch_params: listParams.search_params,\n\t\t\t\t\t\texcluded_ids: listParams.excluded_ids,\n\t\t\t\t\t\tselected_ids: listParams.selected_ids,\n\t\t\t\t\t\trelationId: listParams.relationId,\n\t\t\t\t\t\trelatedRecord: listParams.record,\n\t\t\t\t\t\trelatedModule: listParams.module\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tApp.Components.QuickCreate.getForm(\n\t\t\t\t\t'index.php?module=' + moduleName + '&view=MassQuickCreateModal',\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tparams\n\t\t\t\t).done((data) => {\n\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tApp.Components.QuickCreate.showModal(data, params);\n\t\t\t\t\tapp.registerEventForClockPicker();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to trigger mass send email modal\n\t\t */\n\t\ttriggerSendEmail: function () {\n\t\t\tlet params = Vtiger_RelatedList_Js.relatedListInstance.getDefaultParams();\n\t\t\tVtiger_List_Js.triggerSendEmail(\n\t\t\t\t$.extend(params, {\n\t\t\t\t\trelatedLoad: true,\n\t\t\t\t\tmodule: Vtiger_RelatedList_Js.relatedListInstance.moduleName,\n\t\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\t\tsourceRecord: app.getRecordId()\n\t\t\t\t}),\n\t\t\t\tfunction () {\n\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Function to trigger mass send email modal by row\n\t\t */\n\t\ttriggerSendEmailByRow: function (row) {\n\t\t\tif (!(row instanceof jQuery)) {\n\t\t\t\trow = $(row);\n\t\t\t}\n\t\t\tlet params = Vtiger_RelatedList_Js.relatedListInstance.getDefaultParams();\n\t\t\tVtiger_List_Js.triggerSendEmail(\n\t\t\t\t$.extend(params, {\n\t\t\t\t\trelatedLoad: true,\n\t\t\t\t\tmodule: Vtiger_RelatedList_Js.relatedListInstance.moduleName,\n\t\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\t\tsourceRecord: app.getRecordId(),\n\t\t\t\t\tselected_ids: '[\"' + $(row).closest('.js-list__row').data('id') + '\"]'\n\t\t\t\t}),\n\t\t\t\tfunction () {\n\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t},\n\t\t\t\trow\n\t\t\t);\n\t\t}\n\t},\n\t{\n\t\tselectedRelatedTabElement: false,\n\t\tparentRecordId: false,\n\t\tparentModuleName: false,\n\t\tmoduleName: false,\n\t\trelatedTabsContainer: false,\n\t\tcontent: false,\n\t\tlistSearchInstance: false,\n\t\tdetailViewContentHolder: false,\n\t\trelatedView: false,\n\t\tframeProgress: false,\n\t\tnoEventsListSearch: false,\n\t\tlistViewContainer: false,\n\t\tdefaultParams: {},\n\t\tsetSelectedTabElement: function (tabElement) {\n\t\t\tthis.selectedRelatedTabElement = tabElement;\n\t\t},\n\t\tgetSelectedTabElement: function () {\n\t\t\treturn this.selectedRelatedTabElement;\n\t\t},\n\t\tgetParentId: function () {\n\t\t\treturn this.parentRecordId;\n\t\t},\n\t\tgetRelatedContainer: function () {\n\t\t\treturn this.content;\n\t\t},\n\t\tsetRelatedContainer: function (container) {\n\t\t\tthis.content = container;\n\t\t\tthis.relatedView = container.find('input.relatedView').val();\n\t\t},\n\t\tgetContentHolder: function () {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = $('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\tgetCurrentPageNum: function () {\n\t\t\treturn $('input[name=\"currentPageNum\"]', this.content).val();\n\t\t},\n\t\tsetCurrentPageNumber: function (pageNumber) {\n\t\t\t$('input[name=\"currentPageNum\"]', this.content).val(pageNumber);\n\t\t},\n\t\tgetOrderBy: function () {\n\t\t\treturn $('#orderBy', this.content).val();\n\t\t},\n\t\tgetDefaultParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = Object.assign({}, this.defaultParams);\n\t\t\tparams['page'] = this.getCurrentPageNum();\n\t\t\tparams['orderby'] = this.getOrderBy();\n\t\t\tif (container.find('#relationId').val()) {\n\t\t\t\tparams['relationId'] = container.find('#relationId').val();\n\t\t\t}\n\t\t\tif (container.find('.js-relation-cv-id').val()) {\n\t\t\t\tparams['cvId'] = container.find('.js-relation-cv-id').val();\n\t\t\t}\n\t\t\tif (container.find('.pagination').length) {\n\t\t\t\tparams['totalCount'] = container.find('.pagination').data('totalCount');\n\t\t\t}\n\t\t\tif (container.find('.entityState').length) {\n\t\t\t\tparams['entityState'] = container.find('.entityState').val();\n\t\t\t}\n\t\t\tif (this.listSearchInstance) {\n\t\t\t\tparams.search_params = this.listSearchInstance.getListSearchParams();\n\t\t\t\tlet searchValue = this.listSearchInstance.getAlphabetSearchValue();\n\t\t\t\tif (typeof searchValue !== 'undefined' && searchValue.length > 0) {\n\t\t\t\t\tparams['search_key'] = this.listSearchInstance.getAlphabetSearchField();\n\t\t\t\t\tparams['search_value'] = searchValue;\n\t\t\t\t\tparams['operator'] = 's';\n\t\t\t\t}\n\t\t\t\tthis.listSearchInstance.parseConditions(params);\n\t\t\t\tparams.search_params = JSON.stringify(params.search_params);\n\t\t\t}\n\t\t\tif (this.moduleName == 'Calendar') {\n\t\t\t\tlet switchBtn = container.find('.js-switch--calendar');\n\t\t\t\tif (switchBtn.length) {\n\t\t\t\t\tparams.time = switchBtn.first().prop('checked') ? 'current' : 'history';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\tgetCompleteParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = {\n\t\t\t\tview: 'Detail',\n\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\trecord: this.getParentId(),\n\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\trelatedView: this.relatedView,\n\t\t\t\tmode: 'showRelatedList',\n\t\t\t\ttab_label: container.find('#tab_label').val()\n\t\t\t};\n\t\t\treturn $.extend(this.getDefaultParams(), params);\n\t\t},\n\t\tgetSelectedParams: function () {\n\t\t\treturn $.extend(this.getCompleteParams(), {\n\t\t\t\tselected_ids: this.readSelectedIds(true),\n\t\t\t\texcluded_ids: this.readExcludedIds(true),\n\t\t\t\tcvid: this.getCurrentCvId()\n\t\t\t});\n\t\t},\n\t\tparseUrlParams: function (url) {\n\t\t\tif (url) {\n\t\t\t\tthis.defaultParams = app.convertUrlToObject(url);\n\t\t\t} else {\n\t\t\t\tthis.defaultParams = {};\n\t\t\t}\n\t\t},\n\t\tloadRelatedList: function (params) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (typeof thisInstance.moduleName === 'undefined' || thisInstance.moduleName.length <= 0) {\n\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet completeParams = this.getCompleteParams();\n\t\t\tlet activeTabsReference = thisInstance.relatedTabsContainer.find('li.active').data('reference');\n\t\t\tAppConnector.request($.extend(completeParams, params))\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (activeTabsReference !== 'ProductsAndServices') {\n\t\t\t\t\t\tthisInstance.relatedTabsContainer.find('li').removeClass('active');\n\t\t\t\t\t\tthisInstance.selectedRelatedTabElement.addClass('active');\n\t\t\t\t\t\tthisInstance.content.html(responseData);\n\t\t\t\t\t\t$('.pageNumbers', thisInstance.content).tooltip();\n\t\t\t\t\t\tthisInstance.registerPostLoadEvents();\n\t\t\t\t\t\tthisInstance.registerListEvents();\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_ALLOWED_VALUE'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tshowSelectRelation: function (extendParams) {\n\t\t\tlet params = $.extend(this.getRecordsListParams(), extendParams);\n\t\t\tapp.showRecordsList(params, (_modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\tthis.addRelations(Object.keys(responseData)).done(() => {\n\t\t\t\t\t\tapp.event.trigger('RelatedListView.AfterSelectRelation', responseData, this, instance, params);\n\t\t\t\t\t\tlet detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tthis.loadRelatedList().done(function () {\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (this.getSelectedTabElement().data('link-key') === 'LBL_RECORD_SUMMARY') {\n\t\t\t\t\t\t\tdetail.loadWidgets();\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetRecordsListParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: this.moduleName,\n\t\t\t\tsrc_module: this.parentModuleName,\n\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t},\n\t\taddRelations: function (idList, params = {}) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(\n\t\t\t\t$.extend(\n\t\t\t\t\t{\n\t\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\tmode: 'addRelation',\n\t\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\t\trelated_record_list: $.isArray(idList) ? JSON.stringify(idList) : idList\n\t\t\t\t\t},\n\t\t\t\t\tparams\n\t\t\t\t)\n\t\t\t)\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tdeleteRelation(target) {\n\t\t\tlet params = {};\n\t\t\tif (target.data('url')) {\n\t\t\t\tparams = target.data('url');\n\t\t\t} else {\n\t\t\t\tlet id = target.data('id') ? target.data('id') : target.closest('tr').data('id');\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'deleteRelation',\n\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelated_record_list: JSON.stringify([id])\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: { enabled: true }\n\t\t\t});\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\tlet widget = target.closest('.widgetContentBlock');\n\t\t\t\t\t\tconst detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\tdetail.loadWidget(widget);\n\t\t\t\t\t\t\tlet updatesWidget = this.getContentHolder().find('[data-type=\"Updates\"]');\n\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\tdetail.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_CANNOT_REMOVE_RELATION'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (err, errThrow) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_CANNOT_REMOVE_RELATION'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tnextPageHandler: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet pageLimit = jQuery('#pageLimit', this.content).val();\n\t\t\tlet noOfEntries = jQuery('#noOfEntries', this.content).val();\n\t\t\tif (noOfEntries == pageLimit) {\n\t\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\t\tlet nextPage = parseInt(pageNumber) + 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: nextPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(nextPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tpreviousPageHandler: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\tif (pageNumber > 1) {\n\t\t\t\tlet previousPage = parseInt(pageNumber) - 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: previousPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(previousPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle select page jump in related list\n\t\t */\n\t\tselectPageHandler: function (pageNumber) {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tthis.loadRelatedList({\n\t\t\t\tpage: pageNumber\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tthisInstance.setCurrentPageNumber(pageNumber);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle page jump in related list\n\t\t */\n\t\tpageJumpHandler: function (e) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (e.which == 13) {\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\t\t\t\tlet response = Vtiger_WholeNumberGreaterThanZero_Validator_Js.invokeValidation(element);\n\t\t\t\tif (typeof response !== 'undefined') {\n\t\t\t\t\telement.validationEngine('showPrompt', response, '', 'topLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\telement.validationEngine('hideAll');\n\t\t\t\t\tlet jumpToPage = parseInt(element.val());\n\t\t\t\t\tlet totalPages = parseInt(jQuery('#totalPageCount', thisInstance.content).text());\n\t\t\t\t\tif (jumpToPage > totalPages) {\n\t\t\t\t\t\tlet error = app.vtranslate('JS_PAGE_NOT_EXIST');\n\t\t\t\t\t\telement.validationEngine('showPrompt', error, '', 'topLeft', true);\n\t\t\t\t\t}\n\t\t\t\t\tlet invalidFields = element.parent().find('.formError');\n\t\t\t\t\tif (invalidFields.length < 1) {\n\t\t\t\t\t\tlet currentPage = jQuery('input[name=\"currentPageNum\"]', thisInstance.content).val();\n\t\t\t\t\t\tif (jumpToPage == currentPage) {\n\t\t\t\t\t\t\tlet message = app.vtranslate('JS_YOU_ARE_IN_PAGE_NUMBER') + ' ' + jumpToPage;\n\t\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\t\t\tpage: jumpToPage\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\tthisInstance.setCurrentPageNumber(jumpToPage);\n\t\t\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to add related record for the module\n\t\t */\n\t\taddRelatedRecord: function (element, callback) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet referenceModuleName = this.moduleName;\n\t\t\tlet parentId = this.getParentId();\n\t\t\tlet parentModule = this.parentModuleName;\n\t\t\tlet quickCreateParams = {};\n\t\t\tlet relatedParams = {};\n\t\t\tlet relatedField = element.data('name');\n\t\t\tlet fullFormUrl = element.data('url');\n\t\t\tif (relatedField) {\n\t\t\t\trelatedParams[relatedField] = parentId;\n\t\t\t}\n\t\t\tlet eliminatedKeys = new Array('view', 'module', 'mode', 'action');\n\t\t\tlet preQuickCreateSave = function (data) {\n\t\t\t\tlet index, queryParam, queryParamComponents;\n\t\t\t\tlet queryParameters = [];\n\n\t\t\t\t//To handle switch to task tab when click on add task from related list of activities\n\t\t\t\t//As this is leading to events tab intially even clicked on add task\n\t\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\t\tqueryParameters = queryString.split('&');\n\t\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\t\tif (queryParamComponents[0] == 'mode' && queryParamComponents[1] == 'Calendar') {\n\t\t\t\t\t\t\tdata.find('a[data-tab-name=\"Task\"]').trigger('click');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceModule\" value=\"' + parentModule + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceRecord\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" />').appendTo(data);\n\n\t\t\t\tif (typeof relatedField !== 'undefined') {\n\t\t\t\t\tlet field = data.find('[name=\"' + relatedField + '\"]');\n\t\t\t\t\t//If their is no element with the relatedField name,we are adding hidden element with\n\t\t\t\t\t//name as relatedField name,for saving of record with relation to parent record\n\t\t\t\t\tif (field.length == 0) {\n\t\t\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + relatedField + '\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (\n\t\t\t\t\t\tjQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1' &&\n\t\t\t\t\t\tdata.find('[name=\"' + queryParamComponents[0] + '\"]').length == 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tjQuery(\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"' + queryParamComponents[0] + '\" value=\"' + queryParamComponents[1] + '\" />'\n\t\t\t\t\t\t).appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof callback !== 'undefined') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\t//If url contains params then seperate them and make them as relatedParams\n\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\tlet queryParameters = queryString.split('&');\n\t\t\t\tfor (let index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParam = queryParameters[index];\n\t\t\t\t\tlet queryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (jQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1') {\n\t\t\t\t\t\trelatedParams[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\tquickCreateParams['callbackFunction'] = function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t};\n\t\t\tquickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\tquickCreateParams['noCache'] = true;\n\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, quickCreateParams);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelatedPageCount: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet element = this.content.find('#totalPageCount');\n\t\t\tlet totalCountElem = this.content.find('#totalCount');\n\t\t\tlet totalPageNumber = element.text();\n\t\t\tif (totalPageNumber == '') {\n\t\t\t\telement.progressIndicator({});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelatedModule: this.moduleName\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tlet pageCount = data['result']['page'];\n\t\t\t\t\t\tlet numberOfRecords = data['result']['numberOfRecords'];\n\t\t\t\t\t\ttotalCountElem.val(numberOfRecords);\n\t\t\t\t\t\telement.text(pageCount);\n\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tfavoritesRelation: function (relcrmId, state) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tif (relcrmId) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'updateFavoriteForRecord',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelcrmid: relcrmId,\n\t\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\tactionMode: state ? 'delete' : 'add'\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data.result) aDeferred.resolve(true);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.reject(false);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePreview: function (url) {\n\t\t\tlet frame = this.content.find('.listPreviewframe');\n\t\t\tthis.frameProgress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tmessage: app.vtranslate('JS_FRAME_IN_PROGRESS'),\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet defaultView = '';\n\t\t\tif (app.getMainParams('defaultDetailViewName')) {\n\t\t\t\tdefaultView =\n\t\t\t\t\tdefaultView + '&mode=showDetailViewByMode&requestMode=' + app.getMainParams('defaultDetailViewName'); // full, summary\n\t\t\t}\n\t\t\tframe.attr('src', url.replace('view=Detail', 'view=DetailPreview') + defaultView);\n\t\t},\n\t\tregisterUnreviewedCountEvent: function () {\n\t\t\tlet ids = [];\n\t\t\tlet relatedContent = this.content;\n\t\t\tlet isUnreviewedActive = relatedContent.find('.unreviewed').length;\n\t\t\trelatedContent.find('tr.listViewEntries').each(function () {\n\t\t\t\tlet id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isUnreviewedActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'ChangesReviewedOn',\n\t\t\t\tmode: 'getUnreviewed',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: this.moduleName,\n\t\t\t\trecordsId: ids\n\t\t\t}).done(function (appData) {\n\t\t\t\tlet data = appData.result;\n\t\t\t\t$.each(data, function (id, value) {\n\t\t\t\t\tif (value.a > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.all')\n\t\t\t\t\t\t\t.text(value.a)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tif (value.m > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.mail')\n\t\t\t\t\t\t\t.text(value.m)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterChangeEntityStateEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\trelatedContent.on('click', '.dropdownEntityState a', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\trelatedContent.find('.entityState').val(element.data('value'));\n\t\t\t\trelatedContent.find('.pagination').data('totalCount', 0);\n\t\t\t\trelatedContent\n\t\t\t\t\t.find('.dropdownEntityState button')\n\t\t\t\t\t.find('span')\n\t\t\t\t\t.attr('class', element.find('span').attr('class'));\n\t\t\t\tthisInstance.loadRelatedList({ page: 1 });\n\t\t\t});\n\t\t},\n\t\tregisterRowsEvent: function () {\n\t\t\tconst self = this;\n\t\t\tif (this.relatedView === 'List' || this.relatedView === 'Detail') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tif ($(e.target).hasClass('js-no-link')) return;\n\t\t\t\t\tif ($(e.target).closest('div').hasClass('actions')) return;\n\t\t\t\t\tif ($(e.target).is('button') || $(e.target).parent().is('button') || $(e.target).is('a')) return;\n\t\t\t\t\tif ($(e.target).closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target).is('a')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif ($(e.target).is('input')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), e.target)) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), e.target)) return;\n\t\t\t\t\tlet recordUrl = $(e.target).closest('tr').data('recordurl');\n\t\t\t\t\tif (!recordUrl) return;\n\t\t\t\t\tif (app.getViewName() === 'DetailPreview') {\n\t\t\t\t\t\ttop.document.location.href = recordUrl;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.location.href = recordUrl;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.content.find('.js-toggle-hidden-row').on('click', function (e) {\n\t\t\t\t\tlet target = $(this);\n\t\t\t\t\tlet row = target.closest('tr');\n\t\t\t\t\tlet inventoryRow = row.next('.js-hidden-row');\n\t\t\t\t\tif (inventoryRow.length) {\n\t\t\t\t\t\tlet block = inventoryRow.find('.js-hidden-row__block[data-element=\"' + target.data('element') + '\"]');\n\t\t\t\t\t\tif (block.is(':visible') || !inventoryRow.is(':visible')) {\n\t\t\t\t\t\t\tinventoryRow.toggleClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinventoryRow.find('.js-hidden-row__block').addClass('d-none');\n\t\t\t\t\t\tblock.removeClass('d-none');\n\t\t\t\t\t\tif (block.is(':visible')) {\n\t\t\t\t\t\t\tself.registerWidgets(block);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tlet target = $(e.target);\n\t\t\t\t\tif (target.closest('div').hasClass('actions')) return;\n\t\t\t\t\tif (target.is('button') || target.parent().is('button')) return;\n\t\t\t\t\tif (target.closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif (target.is('input[type=\"checkbox\"]')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), target[0])) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), target[0])) return;\n\t\t\t\t\tlet recordUrl = $(this).data('recordurl');\n\t\t\t\t\tself.content.find('.listViewEntriesTable .listViewEntries').removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t\tself.updatePreview(recordUrl);\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet widgetsContainer = this.content.find('.js-hidden-row .js-hidden-row__block[data-element=\"widgets\"]');\n\t\t\tif (widgetsContainer.length) {\n\t\t\t\tself.registerWidgets(widgetsContainer);\n\t\t\t}\n\t\t},\n\t\tregisterWidgets: function (content) {\n\t\t\tlet widgetList = $('[class^=\"widgetContainer_\"]', content);\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\twidgetList.each(function (index, widget) {\n\t\t\t\twidget = $(widget);\n\t\t\t\tif (widget.is(':visible')) {\n\t\t\t\t\tdetailInstance.loadWidget(widget);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterSummationEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.on('click', '.listViewSummation button', function () {\n\t\t\t\tlet button = $(this);\n\t\t\t\tlet calculateValue = button.closest('td').find('.calculateValue');\n\t\t\t\tlet params = thisInstance.getCompleteParams();\n\t\t\t\tparams['action'] = 'RelationAjax';\n\t\t\t\tparams['mode'] = 'calculate';\n\t\t\t\tparams['fieldName'] = button.data('field');\n\t\t\t\tparams['calculateType'] = button.data('operator');\n\t\t\t\tdelete params['view'];\n\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_CALCULATING_IN_PROGRESS'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.hidePopover(button);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tcalculateValue.html(response.result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalculateValue.html('');\n\t\t\t\t\t}\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterPreviewEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet contentHeight = this.content.find('.js-detail-preview,.js-list-preview');\n\t\t\tcontentHeight.height(app.getScreenHeight() - (this.content.offset().top + $('.js-footer').height()));\n\t\t\tthis.content.find('.listPreviewframe').on('load', function () {\n\t\t\t\tif (thisInstance.frameProgress) {\n\t\t\t\t\tthisInstance.frameProgress.progressIndicator({ mode: 'hide' });\n\t\t\t\t}\n\t\t\t\tcontentHeight.height($(this).contents().find('.bodyContents').height() + 2);\n\t\t\t});\n\t\t\tthis.content.find('.listViewEntriesTable .listViewEntries').first().trigger('click');\n\t\t},\n\t\tregisterPaginationEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\tthis.content.on('click', '#relatedViewNextPageButton', function (e) {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.nextPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedViewPreviousPageButton', function () {\n\t\t\t\tthisInstance.previousPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedListPageJump', function (e) {\n\t\t\t\tthisInstance.getRelatedPageCount();\n\t\t\t});\n\t\t\tthis.content\n\t\t\t\t.on('click', '#relatedListPageJumpDropDown > li', function (e) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t})\n\t\t\t\t.on('keypress', '#pageToJump', function (e) {\n\t\t\t\t\tthisInstance.pageJumpHandler(e);\n\t\t\t\t});\n\t\t\tthis.content.on('click', '.pageNumber', function () {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthisInstance.selectPageHandler($(this).data('id'));\n\t\t\t});\n\t\t\tthis.content.on('click', '#totalCountBtn', function () {\n\t\t\t\tapp.hidePopover($(this));\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: thisInstance.parentModuleName,\n\t\t\t\t\tview: 'Pagination',\n\t\t\t\t\tmode: 'getRelationPagination',\n\t\t\t\t\trecord: thisInstance.getParentId(),\n\t\t\t\t\trelatedModule: thisInstance.moduleName,\n\t\t\t\t\tnoOfEntries: $('#noOfEntries', relatedContent).val(),\n\t\t\t\t\tpage: relatedContent.find('[name=\"currentPageNum\"]').val()\n\t\t\t\t};\n\t\t\t\tif (relatedContent.find('.entityState').length) {\n\t\t\t\t\tparams['entityState'] = relatedContent.find('.entityState').val();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\trelatedContent.find('.paginationDiv').html(response);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterListEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.find('a.favorites').on('click', function () {\n\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet row = element.closest('tr');\n\t\t\t\tthisInstance.favoritesRelation(row.data('id'), element.data('state')).done(function (response) {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tlet state = element.data('state') ? 0 : 1;\n\t\t\t\t\t\telement.data('state', state);\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\telement.find('.far').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.fas').removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telement.find('.fas').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.far').removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet text = app.vtranslate('JS_REMOVED_FROM_FAVORITES');\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\ttext = app.vtranslate('JS_ADDED_TO_FAVORITES');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNotify({ text: text, type: 'success' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.content.find('[name=\"addButton\"]').on('click', function () {\n\t\t\t\tconst element = $(this);\n\t\t\t\tif (element.hasClass('quickCreateSupported') !== true) {\n\t\t\t\t\tapp.openUrl(element.data('url'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.addRelatedRecord(element);\n\t\t\t});\n\t\t\tthis.content.find('.relatedHeader button.selectRelation').on('click', function () {\n\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\tlet params = {\n\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t};\n\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tsearch_key: restrictionsField.key,\n\t\t\t\t\t\tsearch_value: restrictionsField.name,\n\t\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthisInstance.showSelectRelation(params);\n\t\t\t});\n\t\t\tthis.content.find('button.relationDelete').on('click', function (e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tlet target = $(e.currentTarget);\n\t\t\t\tlet params = {\n\t\t\t\t\ticon: false,\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteRelation(target);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\tparams.text = target.data('confirm');\n\t\t\t\t\tparams.title = target.html() + ' ' + target.data('content');\n\t\t\t\t} else if (target.data('content')) {\n\t\t\t\t\tparams.text = target.data('content');\n\t\t\t\t} else {\n\t\t\t\t\tparams.text = app.vtranslate('JS_DELETE_CONFIRMATION');\n\t\t\t\t}\n\t\t\t\tapp.showConfirmModal(params);\n\t\t\t});\n\t\t\tthis.content.find('.js-switch--calendar,select.js-relation-cv-id').on('change', function () {\n\t\t\t\tthisInstance.listSearchInstance.reloadList({\n\t\t\t\t\tsearch_params: [],\n\t\t\t\t\tsearch_key: '',\n\t\t\t\t\tsearch_value: '',\n\t\t\t\t\toperator: '',\n\t\t\t\t\tlockedEmptyFields: [],\n\t\t\t\t\tpage: 1,\n\t\t\t\t\ttotalCount: 0\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterPostLoadEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.registerRowsEvent();\n\t\t\tthis.registerListScroll();\n\t\t\tif (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.registerPreviewEvent();\n\t\t\t\tif (!this.content.find('.gutter').length) {\n\t\t\t\t\tif (!this.content.find('.js-list-preview').length) return;\n\t\t\t\t\tthis.setDomParams(this.content);\n\t\t\t\t\tthis.toggleSplit(this.content);\n\t\t\t\t\tthis.registerListPreviewEvents();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.content.find('.listViewSearchTd [data-trigger=\"listSearch\"]').length) {\n\t\t\t\tthis.listSearchInstance = YetiForce_ListSearch_Js.getInstance(this.content, false, this);\n\t\t\t} else {\n\t\t\t\tthis.listSearchInstance = false;\n\t\t\t}\n\t\t\tapp.event.trigger('RelatedList.AfterLoad', thisInstance);\n\t\t},\n\t\tgetListColumnWidth: function () {\n\t\t\tlet width = 300;\n\t\t\tlet column = this.container.find('.listViewEntriesDiv .listViewHeaders th:eq(1)');\n\t\t\tif (column.length) {\n\t\t\t\twidth = column.offset().left + column.width();\n\t\t\t}\n\t\t\treturn width;\n\t\t},\n\t\tsetDomParams: function (container) {\n\t\t\tthis.container = container;\n\t\t\tthis.listColumnWidth = this.getListColumnWidth();\n\t\t\tthis.windowW = $(window).width();\n\t\t\tthis.mainBody = container.closest('.mainBody');\n\t\t\tthis.windowMinWidth = (15 / this.windowW) * 100;\n\t\t\tthis.windowMaxWidth = 100 - this.minWidth;\n\t\t\tthis.sideBlocks = container.find('.js-side-block');\n\t\t\tthis.sideBlockLeft = this.sideBlocks.first();\n\t\t\tthis.sideBlockRight = this.sideBlocks.last();\n\t\t\tthis.list = container.find('.js-list-preview');\n\t\t\tthis.preview = container.find('.js-detail-preview');\n\t\t\tthis.rotatedText = container.find('.u-rotate-90');\n\t\t\tthis.footerH = $('.js-footer').outerHeight();\n\t\t\tthis.headerH = $('.js-header').outerHeight();\n\t\t},\n\t\tgetDefaultSplitSizes: function () {\n\t\t\tlet thWidth = (this.listColumnWidth / this.windowW) * 100;\n\t\t\treturn [thWidth, 100 - thWidth];\n\t\t},\n\t\tgetSplitSizes() {\n\t\t\tconst cachedParams = app.moduleCacheGet('userRelatedSplitSet');\n\t\t\tif (cachedParams !== undefined) {\n\t\t\t\treturn cachedParams;\n\t\t\t} else {\n\t\t\t\treturn this.getDefaultSplitSizes();\n\t\t\t}\n\t\t},\n\t\tregisterListPreviewEvents() {\n\t\t\tapp.showNewScrollbarTopBottom(this.content.find('.js-list-preview--scroll'));\n\t\t\tapp.showNewScrollbarLeft(this.list);\n\t\t\tthis.list.on('click', '.listViewEntries', () => {\n\t\t\t\tif (this.split.getSizes()[1] < 10) {\n\t\t\t\t\tconst defaultGutterPosition = this.getDefaultSplitSizes();\n\t\t\t\t\tthis.split.setSizes(defaultGutterPosition);\n\t\t\t\t\tthis.preview.show();\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', defaultGutterPosition);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.registerScrollEvent();\n\t\t\t}\n\t\t},\n\t\tregisterScrollEvent() {\n\t\t\tthis.gutter.addClass('js-fixed-scroll');\n\t\t\tlet scrollContainer = App.Components.Scrollbar.page.element;\n\t\t\tlet listOffsetTop = this.list.offset().top - this.headerH;\n\t\t\tlet initialH = this.sideBlocks.height();\n\t\t\tlet mainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\tlet mainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\tlet fixedElements = this.mainBody.find('.js-fixed-scroll');\n\t\t\tif (!this.mainBody.length) {\n\t\t\t\tthis.mainBody = $(top.document).find('.mainBody');\n\t\t\t\tthis.headerH = $(top.document).find('.js-header').outerHeight();\n\t\t\t\tscrollContainer = top.window.App.Components.Scrollbar.page.element;\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tlistOffsetTop = this.list.offset().top + iframe.offset().top - this.headerH + 1;\n\t\t\t\tmainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\t\tmainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\t}\n\t\t\tconst onScroll = () => {\n\t\t\t\tif (scrollContainer.scrollTop() >= listOffsetTop) {\n\t\t\t\t\tfixedElements.css({ top: scrollContainer.scrollTop() - listOffsetTop });\n\t\t\t\t\tthis.sideBlocks.css({ top: scrollContainer.scrollTop() - listOffsetTop + 56 });\n\t\t\t\t\tfixedElements.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortWidthCss);\n\t\t\t\t} else {\n\t\t\t\t\tfixedElements.css({ top: 'initial' });\n\t\t\t\t\tfixedElements.css({ height: initialH + scrollContainer.scrollTop() });\n\t\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\t\twidth: initialH + scrollContainer.scrollTop(),\n\t\t\t\t\t\theight: initialH + scrollContainer.scrollTop()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tscrollContainer.on('scroll', onScroll);\n\t\t},\n\t\t/**\n\t\t * Registers split's events.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t * @param {Split} split - a split object.\n\t\t */\n\t\tregisterSplitEvents: function (container, split) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tlet minWindowWidth = (23 / this.windowW) * 100;\n\t\t\tlet maxWindowWidth = 100 - minWindowWidth;\n\t\t\tlet listPreview = container.find('.js-detail-preview');\n\t\t\tthis.gutter.on('dblclick', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (isNaN(this.split.getSizes()[0])) {\n\t\t\t\t\tthis.split.setSizes(gutterRelatedMidPosition);\n\t\t\t\t}\n\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t} else if (split.getSizes()[1] < 20) {\n\t\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tlistPreview.show();\n\t\t\t\t} else if (split.getSizes()[0] > 7 && split.getSizes()[0] < 50) {\n\t\t\t\t\tsplit.setSizes([minWindowWidth, maxWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t} else if (split.getSizes()[1] > 10 && split.getSizes()[1] < 50) {\n\t\t\t\t\tsplit.setSizes([maxWindowWidth, minWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\tlistPreview.hide();\n\t\t\t\t\t//this.list.width(this.list.width() - 10);\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockLeft.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockRight.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\tlistPreview.show();\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t},\n\t\tregisterSplit: function (container) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tconst splitSizes = this.getSplitSizes();\n\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', splitSizes);\n\t\t\tlet split = Split([this.list[0], this.preview[0]], {\n\t\t\t\tsizes: splitSizes,\n\t\t\t\tminSize: 10,\n\t\t\t\tgutterSize: 24,\n\t\t\t\tsnapOffset: 100,\n\t\t\t\tonDrag: () => {\n\t\t\t\t\tif (split.getSizes()[1] < rightSplitMaxWidth) {\n\t\t\t\t\t\tsplit.collapse(1);\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[1] < 10) {\n\t\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\t\tthis.preview.hide();\n\t\t\t\t\t\tthis.list.width(this.list.width() - 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.preview.show();\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] > 10 && split.getSizes()[1] > rightSplitMaxWidth) {\n\t\t\t\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', split.getSizes());\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (splitSizes[0] < 10) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t} else if (splitSizes[1] < rightSplitMaxWidth) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\tthis.preview.hide();\n\t\t\t}\n\t\t\tthis.gutter = container.find('.gutter');\n\t\t\tlet mainWindowHeightCss = {\n\t\t\t\theight: $(window).height() - this.list.offset().top - this.footerH\n\t\t\t};\n\t\t\tif (!container.closest('.mainBody').length) {\n\t\t\t\tlet mainBody = $(top.document).find('.mainBody').height();\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tmainWindowHeightCss = {\n\t\t\t\t\theight: mainBody - this.list.offset().top - iframe.offset().top + 50\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.gutter.css(mainWindowHeightCss);\n\t\t\t\tthis.list.css(mainWindowHeightCss);\n\t\t\t\tthis.sideBlocks.css(mainWindowHeightCss);\n\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\twidth: this.sideBlockLeft.height(),\n\t\t\t\t\theight: this.sideBlockLeft.height()\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.registerSplitEvents(container, split);\n\t\t\treturn split;\n\t\t},\n\t\ttoggleSplit: function (container) {\n\t\t\tlet commactHeight = container.closest('.commonActionsContainer').height();\n\t\t\tlet splitsArray = [];\n\t\t\tthis.split = this.registerSplit(container);\n\t\t\tsplitsArray.push(this.split);\n\t\t\t$(window).on('resize', () => {\n\t\t\t\tif (this.windowW < 993) {\n\t\t\t\t\tif (container.find('.gutter').length) {\n\t\t\t\t\t\tsplitsArray[splitsArray.length - 1].destroy();\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (container.find('.gutter').length !== 1) {\n\t\t\t\t\t\tthis.split = this.registerSplit(container);\n\t\t\t\t\t\tlet gutter = container.find('.gutter');\n\t\t\t\t\t\tif (this.mainBody.scrollTop() >= this.list.offset().top + commactHeight) {\n\t\t\t\t\t\t\tgutter.addClass('gutterOnScroll');\n\t\t\t\t\t\t\tgutter.css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\tgutter.on('mousedown', function () {\n\t\t\t\t\t\t\t\t$(this).on('mousemove', function (e) {\n\t\t\t\t\t\t\t\t\t$(this).css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsplitsArray.push(this.split);\n\t\t\t\t\t}\n\t\t\t\t\tlet currentSplit = splitsArray[splitsArray.length - 1];\n\t\t\t\t\tlet minWidth = (15 / this.windowW) * 100;\n\t\t\t\t\tlet maxWidth = 100 - minWidth;\n\t\t\t\t\tif (typeof currentSplit === 'undefined') return;\n\t\t\t\t\tif (currentSplit.getSizes()[0] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([minWidth, maxWidth]);\n\t\t\t\t\t} else if (currentSplit.getSizes()[1] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([maxWidth, minWidth]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterListScroll: function () {\n\t\t\tlet container = $('.listViewEntriesDiv');\n\t\t\tif (this.relatedView !== 'ListPreview' && Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tcontainer.each((index, element) => {\n\t\t\t\t\tif (container.closest('.js-detail-widget-content').length) {\n\t\t\t\t\t\telement = container.closest('.js-detail-widget-content');\n\t\t\t\t\t\telement.each((i, el) => {\n\t\t\t\t\t\t\tApp.Components.Scrollbar.xy($(el));\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tApp.Components.Scrollbar.xy($(element));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetRecordsCount: function () {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\trecordCountVal = $('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tlet params = this.getCompleteParams();\n\t\t\t\tdelete params.view;\n\t\t\t\tparams.action = 'DetailAjax';\n\t\t\t\tparams.mode = 'getRecordsCount';\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t$('#recordsCount').val(data['result']['count']);\n\t\t\t\t\taDeferred.resolve(data['result']['count']);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tnoRecordSelectedAlert: function (text = 'JS_PLEASE_SELECT_ONE_RECORD') {\n\t\t\tapp.showNotify({\n\t\t\t\ttext: app.vtranslate(text),\n\t\t\t\ttype: 'error'\n\t\t\t});\n\t\t},\n\t\tgetCurrentCvId: function () {\n\t\t\treturn $('#customFilter').find('option:selected').data('id');\n\t\t},\n\t\tcheckListRecordSelected: function (minNumberOfRecords = 1) {\n\t\t\tlet selectedIds = this.readSelectedIds();\n\t\t\treturn typeof selectedIds === 'object' && selectedIds.length < minNumberOfRecords;\n\t\t},\n\t\treadSelectedIds: function (decode) {\n\t\t\tlet selectedIdsDataAttr = this.getCurrentCvId() + 'selectedIds',\n\t\t\t\tselectedIdsElementDataAttributes = $('#selectedIds').data(),\n\t\t\t\tselectedIds = [];\n\t\t\tif (!(selectedIdsDataAttr in selectedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeSelectedIds(selectedIds);\n\t\t\t} else {\n\t\t\t\tselectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof selectedIds == 'object') {\n\t\t\t\treturn JSON.stringify(selectedIds);\n\t\t\t}\n\t\t\treturn selectedIds;\n\t\t},\n\t\twriteSelectedIds: function (selectedIds) {\n\t\t\tif (!Array.isArray(selectedIds)) {\n\t\t\t\tselectedIds = [selectedIds];\n\t\t\t}\n\t\t\t$('#selectedIds').data(this.getCurrentCvId() + 'selectedIds', selectedIds);\n\t\t},\n\t\treadExcludedIds: function (decode) {\n\t\t\tlet excludedIdsDataAttr = this.getCurrentCvId() + 'Excludedids',\n\t\t\t\texcludedIdsElementDataAttributes = $('#excludedIds').data(),\n\t\t\t\texcludedIds = [];\n\t\t\tif (!(excludedIdsDataAttr in excludedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeExcludedIds(excludedIds);\n\t\t\t} else {\n\t\t\t\texcludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof excludedIds == 'object') {\n\t\t\t\treturn JSON.stringify(excludedIds);\n\t\t\t}\n\t\t\treturn excludedIds;\n\t\t},\n\t\twriteExcludedIds: function (excludedIds) {\n\t\t\t$('#excludedIds').data(this.getCurrentCvId() + 'Excludedids', excludedIds);\n\t\t},\n\t\tcheckSelectAll: function () {\n\t\t\tlet state = true;\n\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\tif ($(element).is(':checked')) {\n\t\t\t\t\tstate = true;\n\t\t\t\t} else {\n\t\t\t\t\tstate = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', state);\n\t\t\treturn state;\n\t\t},\n\t\tregisterCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '.relatedListViewEntriesCheckBox', function (e) {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds(),\n\t\t\t\t\telem = $(e.currentTarget);\n\t\t\t\tif (elem.is(':checked')) {\n\t\t\t\t\telem.closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.splice($.inArray(elem.val(), excludedIds), 1);\n\t\t\t\t\t} else if ($.inArray(elem.val(), selectedIds) == -1) {\n\t\t\t\t\t\tselectedIds.push(elem.val());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.push(elem.val());\n\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectedIds.splice($.inArray(elem.val(), selectedIds), 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself.checkSelectAll();\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterMainCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '#relatedListViewEntriesMainCheckBox', function () {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds();\n\t\t\t\tif ($('#relatedListViewEntriesMainCheckBox').is(':checked')) {\n\t\t\t\t\tlet progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\t\tlet recordCountObj = self.getRecordsCount();\n\t\t\t\t\trecordCountObj\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t$('#totalRecordsCount').text(data);\n\t\t\t\t\t\t\tif ($('#deSelectAllMsgDiv').css('display') == 'none') {\n\t\t\t\t\t\t\t\t$('#selectAllMsgDiv').show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all' && $.inArray($(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\texcludedIds.splice($.inArray($(element).val(), excludedIds), 1);\n\t\t\t\t\t\t} else if ($.inArray($(element).val(), selectedIds) == -1) {\n\t\t\t\t\t\t\tselectedIds.push($(element).val());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\texcludedIds.push($(element).val());\n\t\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselectedIds.splice($.inArray($(element).val(), selectedIds), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterSelectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#selectAllMsg', function () {\n\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t$('#deSelectAllMsgDiv').show();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds('all');\n\t\t\t});\n\t\t},\n\t\tregisterDeselectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#deSelectAllMsg', function () {\n\t\t\t\t$('#deSelectAllMsgDiv').hide();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds([]);\n\t\t\t\tself.writeExcludedIds([]);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register quick edit save event description.\n\t\t */\n\t\tregisterQuickEditSaveEvent() {\n\t\t\tapp.event.on('QuickEdit.AfterSaveFinal', (e, data, instance, element) => {\n\t\t\t\tif (this.moduleName === instance.data('moduleName')) {\n\t\t\t\t\tif (element.closest('.js-detail-widget').length) {\n\t\t\t\t\t\tVtiger_Detail_Js.getInstance().postSummaryWidgetAddRecord(data, element);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register change related view.\n\t\t */\n\t\tregisterChangeViewEvent() {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '.js-change-related-view', function () {\n\t\t\t\tself.relatedView = this.dataset.view;\n\t\t\t\tself.loadRelatedList();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register mass records events.\n\t\t */\n\t\tregisterMassRecordsEvents: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '.js-mass-record-event', function () {\n\t\t\t\tlet target = $(this);\n\t\t\t\tif (self.checkListRecordSelected() !== true) {\n\t\t\t\t\tif (target.data('type') === 'modal') {\n\t\t\t\t\t\tlet params = self.getSelectedParams();\n\t\t\t\t\t\ttarget.data('url').replace(/[?&]+([^=&]+)=([^&]*)/gi, function (_m, key, value) {\n\t\t\t\t\t\t\tparams[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\tdata: params\n\t\t\t\t\t\t}).done(function (modal) {\n\t\t\t\t\t\t\tapp.showModalWindow(modal);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\ticon: false,\n\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\t\t\t\t\tdataParams = self.getSearchParams();\n\t\t\t\t\t\t\t\tdelete dataParams.view;\n\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\t\t\tdata: dataParams\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tif (data && data.result && data.result.notify) {\n\t\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(data.result.notify);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tself.getListViewRecords();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\t\t\tparams.text = target.data('confirm');\n\t\t\t\t\t\t\tparams.title = target.html();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams.text = target.html();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showConfirmModal(params);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register related events\n\t\t */\n\t\tregisterRelatedEvents: function () {\n\t\t\tthis.registerUnreviewedCountEvent();\n\t\t\tthis.registerChangeEntityStateEvent();\n\t\t\tthis.registerPaginationEvents();\n\t\t\tthis.registerListEvents();\n\t\t\tthis.registerPostLoadEvents();\n\t\t\tthis.registerSummationEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t\tthis.registerQuickEditSaveEvent();\n\t\t\tthis.registerChangeViewEvent();\n\t\t\tthis.registerMassRecordsEvents();\n\t\t\tYetiForce_ListSearch_Js.registerSearch(this.content, (data) => {\n\t\t\t\tthis.loadRelatedList(data);\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","relatedListInstance","getInstance","parentId","parentModule","selectedRelatedTabElement","relatedModuleName","url","Vtiger_RelatedList_Js","moduleName","instance","moduleClassName","app","getModuleName","fallbackClassName","window","parentRecordId","parentModuleName","relatedTabsContainer","closest","content","$","relatedView","find","val","parseUrlParams","setSelectedTabElement","getInstanceByUrl","params","convertUrlToObject","defaultParams","triggerMassAction","massActionUrl","type","validationResult","self","checkListRecordSelected","progressIndicator","selectedIds","readSelectedIds","excludedIds","readExcludedIds","cvId","getCurrentCvId","postData","getCompleteParams","mode","view","viewname","selected_ids","excluded_ids","AppConnector","requestForm","progressIndicatorElement","request","data","done","responseData","result","notify","Vtiger_Helper_Js","showMessage","reloadList","Vtiger_Detail_Js","reloadRelatedList","processStop","fail","noRecordSelectedAlert","verifyFileExist","aDeferred","Deferred","action","resolve","promise","triggerMassDownload","thisInstance","substring","indexOf","triggerMassQuickCreate","getSelectedParams","progress","blockInfo","enabled","callbackFunction","loadRelatedList","noCache","extend","sourceView","sourceModule","listParams","relatedModule","entityState","search_params","relationId","relatedRecord","record","module","App","Components","QuickCreate","getForm","showModal","registerEventForClockPicker","triggerSendEmail","getDefaultParams","Vtiger_List_Js","relatedLoad","sourceRecord","getRecordId","triggerSendEmailByRow","row","listSearchInstance","detailViewContentHolder","frameProgress","noEventsListSearch","listViewContainer","tabElement","getSelectedTabElement","getParentId","getRelatedContainer","setRelatedContainer","container","getContentHolder","getCurrentPageNum","setCurrentPageNumber","pageNumber","getOrderBy","Object","assign","length","getListSearchParams","getAlphabetSearchValue","searchValue","getAlphabetSearchField","parseConditions","JSON","stringify","switchBtn","time","first","prop","tab_label","cvid","loadWidgets","position","completeParams","activeTabsReference","currentInstance","progressInstance","removeClass","addClass","html","tooltip","registerPostLoadEvents","registerListEvents","textStatus","errorThrown","reject","showNotify","text","vtranslate","showSelectRelation","extendParams","getRecordsListParams","showRecordsList","_modal","setSelectEvent","addRelations","keys","event","trigger","detail","registerRelatedModulesRecordCount","src_module","src_record","multi_select","idList","related_module","related_record_list","isArray","deleteRelation","target","id","response","widget","loadWidget","updatesWidget","nextPageHandler","pageLimit","noOfEntries","nextPage","parseInt","page","previousPageHandler","previousPage","selectPageHandler","pageJumpHandler","e","which","element","currentTarget","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","validationEngine","preventDefault","jumpToPage","totalPages","error","parent","invalidFields","currentPage","message","addRelatedRecord","callback","referenceModuleName","quickCreateParams","relatedParams","relatedField","fullFormUrl","eliminatedKeys","Array","split","queryString","urlSplit","queryParameters","index","queryParamComponents","queryParam","inArray","appendTo","field","createRecord","getRelatedPageCount","totalCountElem","totalPageNumber","numberOfRecords","pageCount","err","favoritesRelation","relcrmId","state","relcrmid","actionMode","updatePreview","defaultView","getMainParams","frame","attr","replace","registerUnreviewedCountEvent","ids","relatedContent","isUnreviewedActive","each","push","recordsId","appData","value","a","m","registerChangeEntityStateEvent","on","registerRowsEvent","hasClass","is","contains","get","recordUrl","getViewName","top","document","location","href","inventoryRow","next","block","toggleClass","registerWidgets","widgetsContainer","detailInstance","widgetList","registerSummationEvent","calculateValue","button","hidePopover","success","registerPreviewEvent","contentHeight","height","getScreenHeight","offset","contents","registerPaginationEvents","stopImmediatePropagation","openUrl","restrictionsField","search_key","key","search_value","name","icon","confirmedCallback","title","showConfirmModal","operator","lockedEmptyFields","totalCount","registerListScroll","setDomParams","toggleSplit","registerListPreviewEvents","YetiForce_ListSearch_Js","getListColumnWidth","width","column","left","listColumnWidth","windowW","mainBody","windowMinWidth","windowMaxWidth","minWidth","sideBlocks","sideBlockLeft","sideBlockRight","last","list","preview","rotatedText","footerH","outerHeight","headerH","getDefaultSplitSizes","thWidth","getSplitSizes","cachedParams","moduleCacheGet","showNewScrollbarTopBottom","showNewScrollbarLeft","getSizes","setSizes","defaultGutterPosition","show","moduleCacheSet","parents","registerScrollEvent","gutter","scrollContainer","Scrollbar","listOffsetTop","initialH","mainViewPortHeightCss","mainViewPortWidthCss","fixedElements","iframe","scrollTop","css","onScroll","registerSplitEvents","rightSplitMaxWidth","minWindowWidth","maxWindowWidth","listPreview","isNaN","gutterRelatedMidPosition","hide","registerSplit","splitSizes","Split","sizes","minSize","gutterSize","snapOffset","onDrag","collapse","mainWindowHeightCss","commactHeight","splitsArray","destroy","maxWidth","currentSplit","Quasar","plugins","Platform","desktop","i","el","xy","getRecordsCount","recordCountVal","minNumberOfRecords","decode","selectedIdsElementDataAttributes","selectedIdsDataAttr","writeSelectedIds","excludedIdsElementDataAttributes","excludedIdsDataAttr","writeExcludedIds","checkSelectAll","registerCheckBoxClickEvent","elem","splice","registerMainCheckBoxClickEvent","recordCountObj","registerSelectAllClickEvent","registerDeselectAllClickEvent","registerQuickEditSaveEvent","postSummaryWidgetAddRecord","registerChangeViewEvent","dataset","registerMassRecordsEvents","_m","modal","showModalWindow","dataParams","getSearchParams","getListViewRecords","registerRelatedEvents","registerSearch"],"mappings":"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"}