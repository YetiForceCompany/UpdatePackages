{"version":3,"file":"SwitchUsers.min.js","sources":["SwitchUsers.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Vtiger_SwitchUsers_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Modal container\n\t\t */\n\t\tcontainer: false,\n\t\t/**\n\t\t * Register change user\n\t\t */\n\t\tregisterChangeUser: function () {\n\t\t\tthis.container.find('.js-switch-user').on('change', (e) => {\n\t\t\t\tlet showElement = $(e.currentTarget).find('option:selected').data('admin');\n\t\t\t\tlet subContainer = this.container.find('.js-sub-container');\n\t\t\t\tif (showElement) {\n\t\t\t\t\tsubContainer.removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tsubContainer.addClass('d-none');\n\t\t\t\t}\n\t\t\t\tsubContainer.find('.js-text-element').attr('disabled', !showElement);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register save\n\t\t */\n\t\tregisterSave: function () {\n\t\t\tlet form = this.container.find('form');\n\t\t\tthis.container.find('.js-switch-btn').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tdocument.progressLoader = jQuery.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_LOADING_PLEASE_WAIT'),\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar userId = form.find('[name=\"user\"]').val();\n\t\t\t\t\tform.find('[name=\"id\"]').val(userId);\n\t\t\t\t\tform.submit();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.container.find('.js-switch-to-yourself').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tdocument.progressLoader = jQuery.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_LOADING_PLEASE_WAIT'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.container.find('.js-text-element').attr('disabled', true);\n\t\t\t\tform.submit();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register Events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.container = jQuery('.switchUsersContainer');\n\t\t\tthis.registerSave();\n\t\t\tthis.registerChangeUser();\n\t\t}\n\t}\n);\n\njQuery(document).ready(function (e) {\n\tvar instance = new Vtiger_SwitchUsers_Js();\n\tinstance.registerEvents();\n});\n"],"names":["jQuery","Class","container","registerChangeUser","find","on","e","$","currentTarget","data","subContainer","showElement","removeClass","addClass","attr","registerSave","form","preventDefault","validationEngine","document","progressLoader","progressIndicator","message","app","vtranslate","position","blockInfo","enabled","userId","val","submit","registerEvents","ready","instance"],"mappings":";;AAAA,kKACA,YAAA,CAEAA,MAAM,CAACC,KAAP,CACC,uBADD,CAEC,EAFD,CAGC;AAED;AACA,KACEC,SAAS,GAJV;AAMD;AACA,KACEC,kBAAkB,CAAE,SAAA,kBAAA,EAAY,CAC/B,IAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAKD,SAAL,CAAeE,IAAf,CAAoB,iBAApB,EAAuCC,EAAvC,CAA0C,QAA1C,CAAoD,SAACC,CAAD,CAAO,CAAA,IAC3C,WAAA,CAAGC,CAAC,CAACD,CAAC,CAACE,aAAH,CAAD,CAAmBJ,IAAnB,CAAwB,iBAAxB,EAA2CK,IAA3C,CAAgD,OAAhD,CADwC,CAEtDC,YAAY,CAAG,KAAI,CAACR,SAAL,CAAeE,IAAf,CAAoB,mBAApB,CAFuC,CAGtDO,WAHsD,CAIzDD,YAAY,CAACE,WAAb,CAAyB,QAAzB,CAJyD,CAMzDF,YAAY,CAACG,QAAb,CAAsB,QAAtB,CANyD,CAQ1DH,YAAY,CAACN,IAAb,CAAkB,kBAAlB,CAAsCU,CAAAA,IAAtC,CAA2C,UAA3C,CAAuD,CAACH,WAAxD,EACA,CATD,EAUA,CAnBF;AAqBD;AACA,KACEI,YAAY,CAAE,SAAA,YAAA,EAAY,iBACrBC,IAAI,CAAG,KAAKd,SAAL,CAAeE,IAAf,CAAoB,MAApB,CADc,CAEzB,KAAKF,SAAL,CAAeE,IAAf,CAAoB,gBAApB,CAAsCC,CAAAA,EAAtC,CAAyC,OAAzC,CAAkD,SAACC,CAAD,CAAO,CAExD,GADAA,CAAC,CAACW,cAAF,EACA,CAAID,IAAI,CAACE,gBAAL,CAAsB,UAAtB,CAAJ,CAAuC,CACtCC,QAAQ,CAACC,cAAT,CAA0BpB,MAAM,CAACqB,iBAAP,CAAyB,CAClDC,OAAO,CAAEC,GAAG,CAACC,UAAJ,CAAe,wBAAf,CADyC,CAElDC,QAAQ,CAAE,MAFwC,CAGlDC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CADG,CAHuC,CAAzB,CADY,CAQtC,IAAIC,MAAM,CAAGZ,IAAI,CAACZ,IAAL,CAAU,iBAAV,EAA2ByB,GAA3B,EAAb,CACAb,IAAI,CAACZ,IAAL,CAAU,eAAV,CAAyByB,CAAAA,GAAzB,CAA6BD,MAA7B,CATsC,CAUtCZ,IAAI,CAACc,MAAL,GACA,CACD,CAdD,CAFyB,CAiBzB,IAAK5B,CAAAA,SAAL,CAAeE,IAAf,CAAoB,wBAApB,CAAA,CAA8CC,EAA9C,CAAiD,OAAjD,CAA0D,SAACC,CAAD,CAAO,CAChEA,CAAC,CAACW,cAAF,EADgE,CAEhEE,QAAQ,CAACC,cAAT,CAA0BpB,MAAM,CAACqB,iBAAP,CAAyB,CAClDC,OAAO,CAAEC,GAAG,CAACC,UAAJ,CAAe,wBAAf,CADyC,CAElDC,QAAQ,CAAE,MAFwC,CAGlDC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CADG,CAHuC,CAAzB,CAFsC,CAShE,MAAI,CAACzB,SAAL,CAAeE,IAAf,CAAoB,kBAApB,EAAwCU,IAAxC,CAA6C,UAA7C,CATgE,CAAA,CAAA,CAAA,CAUhEE,IAAI,CAACc,MAAL,GACA,CAXD,EAYA,CApDF;AAsDD;AACA,KACEC,cAAc,CAAE,SAAA,cAAA,EAAY,CAC3B,IAAK7B,CAAAA,SAAL,CAAiBF,MAAM,CAAC,uBAAD,CADI,CAE3B,KAAKe,YAAL,EAF2B,CAG3B,IAAKZ,CAAAA,kBAAL,GACA,CA5DF,CAHD,EAmEAH,MAAM,CAACmB,QAAD,CAAN,CAAiBa,KAAjB,CAAuB,UAAa,CACnC,YAAY,CAAG,yBAAf,CACAC,QAAQ,CAACF,cAAT,GACA,CAHD;;"}