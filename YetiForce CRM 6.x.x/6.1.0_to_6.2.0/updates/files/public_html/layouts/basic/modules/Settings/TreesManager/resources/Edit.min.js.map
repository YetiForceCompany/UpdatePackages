{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_TreesManager_Edit_Js',\n\t{},\n\t{\n\t\tjstreeInstance: false,\n\t\tjstreeLastID: 0,\n\t\tregisterEvents: function () {\n\t\t\tconst self = this,\n\t\t\t\teditContainer = $('#EditView'),\n\t\t\t\tjstreeInstance = self.createTree();\n\t\t\teditContainer.validationEngine();\n\t\t\t$('.addNewElementBtn').on('click', () => {\n\t\t\t\tconst newElement = $('input.addNewElement'),\n\t\t\t\t\tref = jstreeInstance.jstree(true);\n\t\t\t\tif (newElement.val() === '') {\n\t\t\t\t\tconst message = app.vtranslate('JS_FIELD_CAN_NOT_BE_EMPTY');\n\t\t\t\t\tnewElement.validationEngine('showPrompt', message, 'error', 'bottomLeft', true);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tself.jstreeLastID += 1;\n\t\t\t\tref.create_node(\n\t\t\t\t\t'#',\n\t\t\t\t\t{\n\t\t\t\t\t\tid: self.jstreeLastID,\n\t\t\t\t\t\ttext: newElement.val(),\n\t\t\t\t\t\ticon: false\n\t\t\t\t\t},\n\t\t\t\t\t'last'\n\t\t\t\t);\n\t\t\t\tnewElement.val('');\n\t\t\t});\n\t\t\t$('.saveTree').on('click', () => {\n\t\t\t\tjstreeInstance.jstree('deselect_all', true);\n\t\t\t\tconst json = jstreeInstance.jstree('get_json');\n\t\t\t\tlet forSave = [];\n\t\t\t\t$.each(json, function (index, value) {\n\t\t\t\t\tif (value.text == value.li_attr.text) {\n\t\t\t\t\t\tvalue.text = value.li_attr.key;\n\t\t\t\t\t}\n\t\t\t\t\tforSave[index] = value;\n\t\t\t\t});\n\t\t\t\t$('#treeValues').val(JSON.stringify(forSave));\n\t\t\t\teditContainer.submit();\n\t\t\t});\n\t\t\t$('.addNewElement').on('keydown', (event) => {\n\t\t\t\tif (event.keyCode == 13) {\n\t\t\t\t\t$('.addNewElementBtn').trigger('click');\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcreateTree: function () {\n\t\t\tconst self = this;\n\t\t\tif (this.jstreeInstance == false) {\n\t\t\t\tself.jstreeLastID = parseInt($('#treeLastID').val());\n\t\t\t\tlet treeValues = $('#treeValues').val(),\n\t\t\t\t\tdata = JSON.parse(treeValues);\n\t\t\t\tself.jstreeInstance = $('#treeContents');\n\t\t\t\tself.jstreeInstance.jstree({\n\t\t\t\t\tcore: {\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\tresponsive: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcheck_callback: true\n\t\t\t\t\t},\n\t\t\t\t\tcontextmenu: {\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\tcreate: {\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CREATE'),\n\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\tselectedNode = treeInstance.get_node(data.reference);\n\t\t\t\t\t\t\t\t\tself.jstreeLastID = self.jstreeLastID + 1;\n\t\t\t\t\t\t\t\t\ttreeInstance.create_node(\n\t\t\t\t\t\t\t\t\t\tselectedNode,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tid: self.jstreeLastID,\n\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_NEW_ITEM')\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t'last',\n\t\t\t\t\t\t\t\t\t\tfunction (new_node) {\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t\t\ttreeInstance.edit(new_node);\n\t\t\t\t\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\trename: {\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_RENAME'),\n\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\tselectedNode = treeInstance.get_node(data.reference);\n\t\t\t\t\t\t\t\t\ttreeInstance.edit(selectedNode);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchangeIcon: {\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CHANGE_ICON'),\n\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\tselectedNode = treeInstance.get_node(data.reference);\n\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.selectIcon().done(function (data) {\n\t\t\t\t\t\t\t\t\t\tif (data['name'] == '-') {\n\t\t\t\t\t\t\t\t\t\t\tself.jstreeInstance.jstree(true).set_icon(selectedNode.id, false);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tself.jstreeInstance.jstree(true).set_icon(selectedNode.id, data['name']);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tremove: {\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_REMOVE'),\n\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\tid = treeInstance.get_selected(),\n\t\t\t\t\t\t\t\t\t\tstatus = true;\n\t\t\t\t\t\t\t\t\t$.each(id, function (index, value) {\n\t\t\t\t\t\t\t\t\t\tlet menu = treeInstance.get_node(value);\n\t\t\t\t\t\t\t\t\t\tif (menu.children.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_YOU_CANNOT_DELETE_PERENT_ITEM'),\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tstatus = false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (status) {\n\t\t\t\t\t\t\t\t\t\tself.deleteItemEvent(id, treeInstance).done(function (e) {\n\t\t\t\t\t\t\t\t\t\t\tif (e.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t$.each(id, function (index, value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttreeInstance.delete_node(value);\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tccp: {\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CCP'),\n\t\t\t\t\t\t\t\tsubmenu: {\n\t\t\t\t\t\t\t\t\tcut: {\n\t\t\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CUT'),\n\t\t\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\t\t\tselectedNode = treeInstance.get_node(data.reference);\n\t\t\t\t\t\t\t\t\t\t\tif (treeInstance.is_selected(selectedNode)) {\n\t\t\t\t\t\t\t\t\t\t\t\ttreeInstance.cut(treeInstance.get_top_selected());\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\ttreeInstance.cut(selectedNode);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tpaste: {\n\t\t\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_PASTE'),\n\t\t\t\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\t\t\t\tlet treeInstance = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\t\t\tselectedNode = treeInstance.get_node(data.reference);\n\t\t\t\t\t\t\t\t\t\t\ttreeInstance.paste(selectedNode);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: ['contextmenu', 'dnd']\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this.jstreeInstance;\n\t\t},\n\t\tdeleteItemEvent: function (id, inst) {\n\t\t\tlet self = this,\n\t\t\t\taDeferred = jQuery.Deferred(),\n\t\t\t\tdata = inst.get_json();\n\t\t\t$.each(id, function (index, id) {\n\t\t\t\tdata = self.checkChildren(id, data);\n\t\t\t});\n\t\t\tif (data.length == 0) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_YOU_CANNOT_DELETE_ALL_THE_ITEMS'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\taDeferred.resolve();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tapp.showModalWindow(null, 'index.php?module=TreesManager&parent=Settings&view=ReplaceTreeItem', function (\n\t\t\t\twizardContainer\n\t\t\t) {\n\t\t\t\tlet jstreeInstanceReplace = wizardContainer.find('#treePopupContents');\n\t\t\t\tjstreeInstanceReplace\n\t\t\t\t\t.jstree({\n\t\t\t\t\t\tcore: {\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\t\tresponsive: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.on('loaded.jstree', function (event, data) {\n\t\t\t\t\t\t$(this).jstree('open_all');\n\t\t\t\t\t});\n\t\t\t\twizardContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\tlet selected = jstreeInstanceReplace.jstree('get_selected'),\n\t\t\t\t\t\treplaceIdsElement = $('#replaceIds'),\n\t\t\t\t\t\treplaceIds = replaceIdsElement.val(),\n\t\t\t\t\t\tdata = [];\n\t\t\t\t\tif (replaceIds !== '') {\n\t\t\t\t\t\tdata = JSON.parse(replaceIds);\n\t\t\t\t\t}\n\t\t\t\t\tif (!selected.length || selected.length > 1) {\n\t\t\t\t\t\tlet message = 'JS_ONLY_ONE_ITEM_SELECTED';\n\t\t\t\t\t\tif (!selected.length) {\n\t\t\t\t\t\t\tmessage = 'JS_NO_ITEM_SELECTED';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: app.vtranslate(message)\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tdata = $.merge(data, [{ old: id, new: selected }]);\n\t\t\t\t\treplaceIdsElement.val(JSON.stringify(data));\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\taDeferred.resolve(selected);\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tcheckChildren: function (id, data) {\n\t\t\tlet self = this,\n\t\t\t\tdataNew = [];\n\t\t\tfor (var key in data) {\n\t\t\t\tif (data[key].id != id) {\n\t\t\t\t\tif (data[key].children.length) {\n\t\t\t\t\t\tdata[key].children = self.checkChildren(id, data[key].children);\n\t\t\t\t\t}\n\t\t\t\t\tdataNew.push(data[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dataNew;\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","jstreeInstance","jstreeLastID","registerEvents","editContainer","$","self","createTree","validationEngine","on","ref","jstree","val","app","vtranslate","message","create_node","id","text","newElement","icon","forSave","each","json","index","value","li_attr","key","JSON","stringify","submit","event","keyCode","trigger","preventDefault","parseInt","data","parse","treeValues","core","themes","name","responsive","check_callback","contextmenu","items","create","label","action","reference","selectedNode","treeInstance","get_node","new_node","setTimeout","edit","rename","changeIcon","Settings_Vtiger_Index_Js","selectIcon","done","set_icon","remove","get_selected","status","children","length","showMessage","type","deleteItemEvent","e","delete_node","ccp","submenu","cut","is_selected","get_top_selected","paste","plugins","inst","aDeferred","Deferred","get_json","checkChildren","resolve","promise","showModalWindow","wizardContainer","find","jstreeInstanceReplace","replaceIdsElement","replaceIds","selected","merge","old","new","hideModalWindow","dataNew","push"],"mappings":"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"}