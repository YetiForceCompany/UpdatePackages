{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\n\t'Settings_TreesManager_List_Js',\n\t{\n\t\ttriggerCreate: function (url) {\n\t\t\tvar selectedModule = jQuery('#moduleFilter').val();\n\t\t\tif (selectedModule.length > 0) {\n\t\t\t\turl += '&source_module=' + selectedModule;\n\t\t\t}\n\t\t\twindow.location.href = url;\n\t\t}\n\t},\n\t{\n\t\t/*\n\t\t * function to trigger delete record action\n\t\t * @params: delete record url.\n\t\t */\n\t\tDeleteRecord: function (deleteRecordActionUrl) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar message = app.vtranslate('LBL_DELETE_CONFIRMATION');\n\t\t\tVtiger_Helper_Js.showConfirmationBox({ message: message }).done(function (data) {\n\t\t\t\tAppConnector.request(deleteRecordActionUrl).done(function (data) {\n\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_TREE_DELETED_SUCCESSFULLY')\n\t\t\t\t\t\t};\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\t\t\tthisInstance.getListViewRecords().done(function () {\n\t\t\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: data.error.message,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tregisterFilterChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('#moduleFilter').on('change', function (e) {\n\t\t\t\tjQuery('#pageNumber').val('1');\n\t\t\t\tjQuery('#pageToJump').val('1');\n\t\t\t\tjQuery('#orderBy').val('');\n\t\t\t\tjQuery('#sortOrder').val('');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tsourceModule: jQuery(e.currentTarget).val()\n\t\t\t\t};\n\t\t\t\t//Make the select all count as empty\n\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t//Make total number of pages as empty\n\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * function to load the contents from the url through pjax\n\t\t */\n\t\tloadContents: function (url) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.requestPjax(url)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.registerFilterChangeEvent();\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","triggerCreate","url","jQuery","val","length","selectedModule","window","location","href","DeleteRecord","deleteRecordActionUrl","message","app","vtranslate","Vtiger_Helper_Js","showConfirmationBox","done","AppConnector","request","data","success","text","Settings_Vtiger_Index_Js","showMessage","params","thisInstance","getListViewRecords","updatePagination","showNotify","error","type","registerFilterChangeEvent","on","e","module","getModuleName","parent","getParentModuleName","sourceModule","currentTarget","loadContents","Deferred","requestPjax","html","aDeferred","resolve","fail","err","reject","promise","registerEvents","_super"],"mappings":";;AAGAA,wBACC,+BADD,CAEC,CACCC,cAAe,uBAAUC,GAAV,CAAe,CAC7B,mBAAqBC,OAAO,eAAP,EAAwBC,GAAxB,EAArB,CAC4B,CAAxB,gBAAeC,MAFU,GAG5BH,KAAO,kBAAoBI,cAHC,EAK7BC,OAAOC,QAAP,CAAgBC,IAAhB,CAAuBP,IACvB,CAPF,CAFD,CAWC;;;KAKCQ,aAAc,sBAAUC,qBAAV,CAAiC,kBAC3B,IAD2B,CAE1CC,QAAUC,IAAIC,UAAJ,CAAe,yBAAf,CAFgC,CAG9CC,iBAAiBC,mBAAjB,CAAqC,CAAEJ,QAASA,OAAX,CAArC,EAA2DK,IAA3D,CAAgE,UAAgB,CAC/EC,aAAaC,OAAb,CAAqBR,qBAArB,EAA4CM,IAA5C,CAAiD,SAAUG,IAAV,CAAgB,CAChE,GAAI,SAAKC,OAAT,CAA0B,CACzB,WAAa,CACZC,KAAMT,IAAIC,UAAJ,CAAe,8BAAf,CADM,CAAb,CAGAS,yBAAyBC,WAAzB,CAAqCC,MAArC,CAJyB,CAKzBtB,OAAO,eAAP,EAAwBC,GAAxB,CAA4B,EAA5B,CALyB,CAMzBD,OAAO,iBAAP,EAA0BmB,IAA1B,CAA+B,EAA/B,CANyB,CAOzBI,aAAaC,kBAAb,GAAkCV,IAAlC,CAAuC,UAAY,CAClDS,aAAaE,gBAAb,GACA,CAFD,EAGA,CAVD,SAWKC,UAAJ,CAAe,CACdP,KAAMF,KAAKU,KAAL,CAAWlB,OADH,CAEdmB,KAAM,OAFQ,CAAf,EAKD,CAjBD,EAkBA,CAnBD,EAoBA,CA5BF,CA8BCC,0BAA2B,oCAAY,CACtC,iBAAmB,IAAnB,CACA7B,OAAO,eAAP,EAAwB8B,EAAxB,CAA2B,QAA3B,CAAqC,SAAUC,CAAV,CAAa,CACjD/B,OAAO,aAAP,EAAsBC,GAAtB,CAA0B,GAA1B,CADiD,CAEjDD,OAAO,aAAP,EAAsBC,GAAtB,CAA0B,GAA1B,CAFiD,CAGjDD,OAAO,UAAP,EAAmBC,GAAnB,CAAuB,EAAvB,CAHiD,CAIjDD,OAAO,YAAP,EAAqBC,GAArB,CAAyB,EAAzB,CAJiD,CAKjD,WAAa,CACZ+B,OAAQtB,IAAIuB,aAAJ,EADI,CAEZC,OAAQxB,IAAIyB,mBAAJ,EAFI,CAGZC,aAAcpC,OAAO+B,EAAEM,aAAT,EAAwBpC,GAAxB,EAHF,CAAb,CAKA;AAEA;AADAD,OAAO,eAAP,EAAwBC,GAAxB,CAA4B,EAA5B,CAXiD,CAajDD,OAAO,iBAAP,EAA0BmB,IAA1B,CAA+B,EAA/B,CAbiD,CAcjDI,aAAaC,kBAAb,CAAgCF,MAAhC,EAAwCR,IAAxC,CAA6C,UAAgB,CAC5DS,aAAaE,gBAAb,GACA,CAFD,EAGA,CAjBD,EAkBA,CAlDF;;KAuDCa,aAAc,sBAAUvC,GAAV,CAAe,CAC5B,cAAgBC,OAAOuC,QAAP,EAAhB,CASA,oBARaC,WAAb,CAAyBzC,GAAzB,EACEe,IADF,CACO,SAAUG,IAAV,CAAgB,CACrBjB,OAAO,cAAP,EAAuByC,IAAvB,CAA4BxB,IAA5B,CADqB,CAErByB,UAAUC,OAAV,CAAkB1B,IAAlB,EACA,CAJF,EAKE2B,IALF,CAKO,SAAUjB,KAAV,CAAiBkB,GAAjB,CAAsB,CAC3BH,UAAUI,MAAV,CAAiBnB,KAAjB,CAAwBkB,GAAxB,EACA,CAPF,CAQA,CAAOH,UAAUK,OAAV,EACP,CAlEF;;KAuECC,eAAgB,yBAAY,CAC3B,KAAKC,MAAL,EAD2B,CAE3B,KAAKpB,yBAAL,GACA,CA1EF,CAXD"}