{"version":3,"file":"Config.min.js","sources":["Config.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Settings_Inventory_Config_Js',\n\t{},\n\t{\n\t\tregisterChangeVal: function ($container) {\n\t\t\t$container.on('change', 'select', (e) => {\n\t\t\t\tlet $target = $(e.currentTarget);\n\t\t\t\tlet isMultiple = $target.attr('multiple');\n\t\t\t\tif ($target.validationEngine('validate')) {\n\t\t\t\t\tlet prevValue = $target.data('prevvalue').toString();\n\t\t\t\t\tprevValue = isMultiple ? prevValue.split() : prevValue;\n\t\t\t\t\t$target.val(prevValue);\n\t\t\t\t\t$target.change();\n\t\t\t\t} else {\n\t\t\t\t\tlet value = $target.val();\n\t\t\t\t\tvalue = isMultiple ? value.join() : value.toString();\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tparam: {\n\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\tparam: $target.attr('name')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tview: app.getViewName()\n\t\t\t\t\t};\n\t\t\t\t\tapp.saveAjax('saveConfig', params).done((data) => {\n\t\t\t\t\t\t$target.data('prevvalue', value);\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tregisterValidationsFields: function ($container) {\n\t\t\tlet params = app.validationEngineOptionsForRecord;\n\t\t\t$container.validationEngine(params);\n\t\t},\n\n\t\tregisterEvents: function () {\n\t\t\tlet $container = $('#configForm');\n\t\t\tthis.registerValidationsFields($container);\n\t\t\tthis.registerChangeVal($container);\n\t\t}\n\t}\n);\n\n$(document).ready((e) => {\n\tlet instance = new Settings_Inventory_Config_Js();\n\tinstance.registerEvents();\n});\n"],"names":["$","Class","registerChangeVal","$container","on","e","currentTarget","isMultiple","$target","attr","validationEngine","data","toString","prevValue","split","val","change","value","join","param","view","app","getViewName","saveAjax","params","done","Settings_Vtiger_Index_Js","showMessage","type","text","vtranslate","registerValidationsFields","validationEngineOptionsForRecord","registerEvents","document","ready","instance"],"mappings":";;AAGAA,EAAEC,KAAF,CACC,8BADD,CAEC,EAFD,CAGC,CACCC,kBAAmB,2BAAUC,UAAV,CAAsB,CACxCA,WAAWC,EAAX,CAAc,QAAd,CAAwB,QAAxB,CAAkC,SAACC,CAAD,CAAO,aAC1BL,EAAEK,EAAEC,aAAJ,CAD0B,CAEpCC,WAAaC,QAAQC,IAAR,CAAa,UAAb,CAFuB,CAGxC,GAAID,QAAQE,gBAAR,CAAyB,UAAzB,CAAJ,CAA0C,CACzC,cAAgBF,QAAQG,IAAR,CAAa,WAAb,EAA0BC,QAA1B,EAAhB,CACAC,UAAYN,WAAaM,UAAUC,KAAV,EAAb,CAAiCD,SAFJ,CAGzCL,QAAQO,GAAR,CAAYF,SAAZ,CAHyC,CAIzCL,QAAQQ,MAAR,GACA,CALD,KAKO,CACN,UAAYR,QAAQO,GAAR,EAAZ,CACAE,MAAQV,WAAaU,MAAMC,IAAN,EAAb,CAA4BD,MAAML,QAAN,EAF9B,CAGN,WAAa,CACZO,MAAO,CACNF,MAAOA,KADD,CAENE,MAAOX,QAAQC,IAAR,CAAa,MAAb,CAFD,CADK,CAKZW,KAAMC,IAAIC,WAAJ,EALM,CAAb,CAOAD,IAAIE,QAAJ,CAAa,YAAb,CAA2BC,MAA3B,EAAmCC,IAAnC,CAAwC,UAAU,CACjDjB,QAAQG,IAAR,CAAa,WAAb,CAA0BM,KAA1B,CADiD,CAEjDS,yBAAyBC,WAAzB,CAAqC,CACpCC,KAAM,SAD8B,CAEpCC,KAAMR,IAAIS,UAAJ,CAAe,iBAAf,CAF8B,CAArC,EAIA,CAND,EAOA,CACD,CA1BD,EA2BA,CA7BF,CA+BCC,0BAA2B,mCAAU5B,UAAV,CAAsB,CAChD,WAAakB,IAAIW,gCAAjB,CACA7B,WAAWO,gBAAX,CAA4Bc,MAA5B,EACA,CAlCF,CAoCCS,eAAgB,yBAAY,CAC3B,eAAiBjC,EAAE,aAAF,CAAjB,CACA,KAAK+B,yBAAL,CAA+B5B,UAA/B,CAF2B,CAG3B,KAAKD,iBAAL,CAAuBC,UAAvB,EACA,CAxCF,CAHD,EA+CAH,EAAEkC,QAAF,EAAYC,KAAZ,CAAkB,UAAO,CACxB,aAAe,gCAAf,CACAC,SAASH,cAAT,GACA,CAHD"}