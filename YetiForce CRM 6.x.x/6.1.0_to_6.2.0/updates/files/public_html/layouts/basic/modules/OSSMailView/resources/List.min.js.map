{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_List_Js(\n\t'OSSMailView_List_Js',\n\t{\n\t\tbindMails: function (url) {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tapp.showConfirmModal(app.vtranslate('JS_BIND_CONFIRM'), function (a) {\n\t\t\t\t\tif (!a) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar params = {};\n\t\t\t\tparams.data = { module: 'OSSMailView', action: 'BindMails' };\n\t\t\t\t$.extend(params.data, Vtiger_List_Js.getSelectedRecordsParams());\n\t\t\t\tparams.async = false;\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\tdelay: '4000',\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttriggerChangeTypeForm: function () {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar selectedIds = listInstance.readSelectedIds(true);\n\t\t\t$('#ChangeType').on('submit', function (event) {\n\t\t\t\tvar mail_type = jQuery('#mail_type').val();\n\t\t\t\tvar save_params = {};\n\t\t\t\tsave_params.data = {\n\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\taction: 'ChangeType',\n\t\t\t\t\tdata: selectedIds,\n\t\t\t\t\tmail_type: mail_type\n\t\t\t\t};\n\t\t\t\tsave_params.async = false;\n\t\t\t\tAppConnector.request(save_params).done(function (data) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t\t},\n\t\ttriggerChangeType: function (url) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\t\tvar actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: url,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\t\tthisInstance.triggerChangeTypeForm();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t}\n\t},\n\t{}\n);\n"],"names":["Vtiger_List_Js","bindMails","getInstance","validationResult","listInstance","checkListRecordSelected","app","showConfirmModal","vtranslate","a","params","data","module","action","$","extend","getSelectedRecordsParams","async","AppConnector","request","done","showNotify","text","result","delay","type","noRecordSelectedAlert","triggerChangeTypeForm","selectedIds","readSelectedIds","on","event","jQuery","val","save_params","mail_type","title","clearList","getListViewRecords","hideModalWindow","preventDefault","triggerChangeType","url","thisInstance","getRelatedModulesContainer","dataType","showModalWindow"],"mappings":";;AAGAA,eACC,qBADD,CAEC,CACCC,UAAW,oBAAe,kBACND,eAAeE,WAAf,EADM,CAErBC,iBAAmBC,aAAaC,uBAAb,EAFE,CAGzB,GAAI,oBAAJ,CAA8B,CAC7BC,IAAIC,gBAAJ,CAAqBD,IAAIE,UAAJ,CAAe,iBAAf,CAArB,CAAwD,SAAUC,CAAV,CAAa,CACpE,GAAI,CAACA,CAAL,CACC,SAED,CAJD,CAD6B,CAM7B,WAAa,EAAb,CACAC,OAAOC,IAAP,CAAc,CAAEC,OAAQ,aAAV,CAAyBC,OAAQ,WAAjC,CAPe,CAQ7BC,EAAEC,MAAF,CAASL,OAAOC,IAAhB,CAAsBX,eAAegB,wBAAf,EAAtB,CAR6B,CAS7BN,OAAOO,KAAP,GAT6B,CAU7BC,aAAaC,OAAb,CAAqBT,MAArB,EAA6BU,IAA7B,CAAkC,SAAUT,IAAV,CAAgB,CACjDL,IAAIe,UAAJ,CAAe,CACdC,KAAMX,KAAKY,MADG,CAEdC,MAAO,MAFO,CAGdC,KAAM,SAHQ,CAAf,EAKA,CAND,EAOA,CAjBD,kBAkBcC,qBAAb,GAED,CAxBF,CAyBCC,sBAAuB,gCAAY,kBACf3B,eAAeE,WAAf,EADe,CAE9B0B,YAAcxB,aAAayB,eAAb,IAFgB,CAGlCf,EAAE,aAAF,EAAiBgB,EAAjB,CAAoB,QAApB,CAA8B,SAAUC,KAAV,CAAiB,eAC9BC,OAAO,YAAP,EAAqBC,GAArB,EAD8B,CAE1CC,YAAc,EAF4B,CAG9CA,YAAYvB,IAAZ,CAAmB,CAClBC,OAAQ,aADU,CAElBC,OAAQ,YAFU,CAGlBF,KAAMiB,WAHY,CAIlBO,UAAWA,SAJO,CAH2B,CAS9CD,YAAYjB,KAAZ,GAT8C,CAU9CC,aAAaC,OAAb,CAAqBe,WAArB,EAAkCd,IAAlC,CAAuC,SAAUT,IAAV,CAAgB,CACtD,WAAa,CACZyB,MAAO9B,IAAIE,UAAJ,CAAe,YAAf,CADK,CAEZc,KAAMX,KAAKY,MAFC,CAGZE,KAAM,MAHM,CAAb,CAKAnB,IAAIe,UAAJ,CAAeX,MAAf,CANsD,CAOtDV,eAAeqC,SAAf,EAPsD,CAQtDjC,aAAakC,kBAAb,EARsD,CAStDhC,IAAIiC,eAAJ,GACA,CAVD,CAV8C,CAqB9CR,MAAMS,cAAN,GACA,CAtBD,EAuBA,CAnDF,CAoDCC,kBAAmB,2BAAUC,GAAV,CAAe,kBACd,IADc,CAE7BtC,aAAeJ,eAAeE,WAAf,EAFc,CAG7BC,iBAAmBC,aAAaC,uBAAb,EAHU,CAIjC,GAAI,oBAAJ,CAA8B,CAC7BsC,aAAaC,0BAAb,GAD6B,CAQ7B1B,aAAaC,OAAb,CANmB,CAClBM,KAAM,MADY,CAElBiB,IAAKA,GAFa,CAGlBG,SAAU,MAHQ,CAIlBlC,KAAM,EAJY,CAMnB,EAAmCS,IAAnC,CAAwC,SAAUT,IAAV,CAAgB,CACnDA,IADmD,EAEtDL,IAAIwC,eAAJ,CAAoBnC,IAApB,CAA0B,UAAgB,CACzCgC,aAAahB,qBAAb,GACA,CAFD,EAID,CAND,EAOA,CAfD,kBAgBcD,qBAAb,GAED,CA1EF,CAFD,CA8EC,EA9ED"}