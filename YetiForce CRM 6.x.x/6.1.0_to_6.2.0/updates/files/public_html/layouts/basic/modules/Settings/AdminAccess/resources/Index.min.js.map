{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_AdminAccess_Index_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Register DataTable\n\t\t */\n\t\tregisterDataTable: function (container) {\n\t\t\tlet table = container.find('.js-data-table');\n\t\t\tlet form = container.find('.js-filter-form');\n\t\t\tlet dataTable = app.registerDataTables(table, {\n\t\t\t\torder: [],\n\t\t\t\tcolumnDefs: [{ targets: -1, orderable: false }],\n\t\t\t\tprocessing: true,\n\t\t\t\tserverSide: true,\n\t\t\t\tsearching: false,\n\t\t\t\torderCellsTop: true,\n\t\t\t\tfixedHeader: true,\n\t\t\t\tdom: \"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'p>>\" + \"<'row'<'col-sm-12'tr>>\",\n\t\t\t\tajax: {\n\t\t\t\t\turl: table.data('url'),\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: function (data) {\n\t\t\t\t\t\t$.extend(data, form.serializeFormData());\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tinitComplete: function () {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('select.select2,select.select2noactive'));\n\t\t\t\t\tApp.Fields.DateTime.register(form);\n\t\t\t\t}\n\t\t\t});\n\t\t\ttable.find('thead input,thead select').each(function (i) {\n\t\t\t\t$(this)\n\t\t\t\t\t.on('change', function () {\n\t\t\t\t\t\tdataTable.column(i).search(this.value).draw();\n\t\t\t\t\t})\n\t\t\t\t\t.on('apply.daterangepicker', function () {\n\t\t\t\t\t\tsetTimeout((_) => {\n\t\t\t\t\t\t\tdataTable.column(i).search(this.value).draw();\n\t\t\t\t\t\t}, 10);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register tab events\n\t\t * @param {jQuery} contentContainer\n\t\t */\n\t\tregisterTabEvents: function (contentContainer) {\n\t\t\tthis.registerDataTable(contentContainer);\n\t\t},\n\t\t/**\n\t\t * Load tab content\n\t\t * @param {jQuery} contentContainer\n\t\t */\n\t\tloadTabContent: function (contentContainer = $('.js-tab.active')) {\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'Index',\n\t\t\t\tmode: contentContainer.attr('id')\n\t\t\t};\n\t\t\tlet progress = jQuery.progressIndicator();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((data) => {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tcontentContainer.html(data);\n\t\t\t\t\tthis.registerTabEvents(contentContainer);\n\t\t\t\t\tapp.registerFormsEvents(contentContainer);\n\t\t\t\t})\n\t\t\t\t.fail((_) => {\n\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_ERROR'), type: 'error' });\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register events\n\t\t */\n\t\tregisterEvents: function (e) {\n\t\t\tthis.loadTabContent();\n\t\t\t$('#tabs a[data-toggle=\"tab\"]').on('shown.bs.tab', (_) => {\n\t\t\t\tthis.loadTabContent();\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","registerDataTable","container","find","form","dataTable","app","registerDataTables","table","order","columnDefs","targets","orderable","processing","serverSide","searching","orderCellsTop","fixedHeader","dom","ajax","url","data","type","$","extend","serializeFormData","initComplete","App","Fields","Picklist","showSelect2ElementView","DateTime","register","each","i","on","column","search","value","draw","setTimeout","registerTabEvents","contentContainer","loadTabContent","params","module","getModuleName","parent","getParentModuleName","view","mode","attr","progress","progressIndicator","AppConnector","request","done","html","registerFormsEvents","fail","showNotify","text","vtranslate","registerEvents"],"mappings":";;AAGAA,OAAOC,KAAP,CACC,+BADD,CAEC,EAFD,CAGC;;KAICC,kBAAmB,2BAAUC,SAAV,CAAqB,WAC3BA,UAAUC,IAAV,CAAe,gBAAf,CAD2B,CAEnCC,KAAOF,UAAUC,IAAV,CAAe,iBAAf,CAF4B,CAGnCE,UAAYC,IAAIC,kBAAJ,CAAuBC,KAAvB,CAA8B,CAC7CC,MAAO,EADsC,CAE7CC,WAAY,CAAC,CAAEC,QAAS,CAAC,CAAZ,CAAeC,YAAf,CAAD,CAFiC,CAG7CC,aAH6C,CAI7CC,aAJ6C,CAK7CC,YAL6C,CAM7CC,gBAN6C,CAO7CC,cAP6C,CAQ7CC,2FAR6C,CAS7CC,KAAM,CACLC,IAAKZ,MAAMa,IAAN,CAAW,KAAX,CADA,CAELC,KAAM,MAFD,CAGLD,KAAM,cAAUA,KAAV,CAAgB,CACrBE,EAAEC,MAAF,CAASH,KAAT,CAAejB,KAAKqB,iBAAL,EAAf,EACA,CALI,CATuC,CAgB7CC,aAAc,uBAAY,CACzBC,IAAIC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2C1B,KAAKD,IAAL,CAAU,uCAAV,CAA3C,CADyB,CAEzBwB,IAAIC,MAAJ,CAAWG,QAAX,CAAoBC,QAApB,CAA6B5B,IAA7B,EACA,CAnB4C,CAA9B,CAHuB,CAwBvCI,MAAML,IAAN,CAAW,0BAAX,EAAuC8B,IAAvC,CAA4C,SAAUC,CAAV,CAAa,CACxDX,EAAE,IAAF,EACEY,EADF,CACK,QADL,CACe,UAAY,CACzB9B,UAAU+B,MAAV,CAAiBF,CAAjB,EAAoBG,MAApB,CAA2B,KAAKC,KAAhC,EAAuCC,IAAvC,GACA,CAHF,EAIEJ,EAJF,CAIK,uBAJL,CAI8B,UAAY,gBACxCK,WAAW,UAAO,CACjBnC,UAAU+B,MAAV,CAAiBF,CAAjB,EAAoBG,MAApB,CAA2B,MAAKC,KAAhC,EAAuCC,IAAvC,GACA,CAFD,CAEG,EAFH,EAGA,CARF,EASA,CAVD,EAWA,CAvCF;;;KA4CCE,kBAAmB,2BAAUC,gBAAV,CAA4B,CAC9C,KAAKzC,iBAAL,CAAuByC,gBAAvB,EACA,CA9CF;;;KAmDCC,eAAgB,yBAAkD,iBAAxCD,gBAAwC,wDAArBnB,EAAE,gBAAF,CAAqB,CAC7DqB,OAAS,CACZC,OAAQvC,IAAIwC,aAAJ,EADI,CAEZC,OAAQzC,IAAI0C,mBAAJ,EAFI,CAGZC,KAAM,OAHM,CAIZC,KAAMR,iBAAiBS,IAAjB,CAAsB,IAAtB,CAJM,CADoD,CAO7DC,SAAWrD,OAAOsD,iBAAP,EAPkD,CAQjEC,aAAaC,OAAb,CAAqBX,MAArB,EACEY,IADF,CACO,SAACnC,IAAD,CAAU,CACf+B,SAASC,iBAAT,CAA2B,CAAEH,KAAM,MAAR,CAA3B,CADe,CAEfR,iBAAiBe,IAAjB,CAAsBpC,IAAtB,CAFe,CAGf,OAAKoB,iBAAL,CAAuBC,gBAAvB,CAHe,CAIfpC,IAAIoD,mBAAJ,CAAwBhB,gBAAxB,EACA,CANF,EAOEiB,IAPF,CAOO,UAAO,CACZrD,IAAIsD,UAAJ,CAAe,CAAEC,KAAMvD,IAAIwD,UAAJ,CAAe,UAAf,CAAR,CAAoCxC,KAAM,OAA1C,CAAf,CADY,CAEZ8B,SAASC,iBAAT,CAA2B,CAAEH,KAAM,MAAR,CAA3B,EACA,CAVF,EAWA,CAtEF;;KA2ECa,eAAgB,yBAAa,iBAC5B,KAAKpB,cAAL,EAD4B,CAE5BpB,EAAE,4BAAF,EAAgCY,EAAhC,CAAmC,cAAnC,CAAmD,UAAO,CACzD,OAAKQ,cAAL,GACA,CAFD,EAGA,CAhFF,CAHD"}