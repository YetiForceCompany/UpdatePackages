{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Logs_Index_Js', {\n\tgetWarningsList: function () {\n\t\tconst thisInstance = this;\n\t\tconst container = $('.js-warnings-content');\n\t\tconst progressIndicator = $.progressIndicator({\n\t\t\tmessage: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\tblockInfo: { enabled: true }\n\t\t});\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName(),\n\t\t\tmode: 'getWarningsList',\n\t\t\tactive: $('.js-warnings-index-page .js-switch--warnings').first().is(':checked'),\n\t\t\tfolder: thisInstance.getSelectedFolders()\n\t\t})\n\t\t\t.done((data) => {\n\t\t\t\tcontainer.html(data);\n\t\t\t\tthisInstance.registerWarningsList(container);\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t},\n\tregisterWarningsList: function (container) {\n\t\tcontainer.find('table').dataTable({\n\t\t\torder: [\n\t\t\t\t[2, 'desc'],\n\t\t\t\t[1, 'asc']\n\t\t\t],\n\t\t\tlengthMenu: [20, 40, 60, 80, 100],\n\t\t\tpageLength: 20\n\t\t});\n\t\tcontainer.find('.showDescription').on('click', (e) => {\n\t\t\tapp.showModalWindow($(e.currentTarget).closest('td').find('.showDescriptionContent').html());\n\t\t});\n\t\tcontainer.find('.setIgnore').on('click', (e) => {\n\t\t\tcontainer.find('.js-popover-tooltip').popover('hide');\n\t\t\tconst data = $(e.currentTarget).closest('tr').data();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SystemWarnings',\n\t\t\t\tmode: 'update',\n\t\t\t\tid: data.id,\n\t\t\t\tparams: data.status\n\t\t\t}).done(() => {\n\t\t\t\tthis.getWarningsList(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterWarningsFolders: function (container) {\n\t\tconst thisInstance = this;\n\t\tlet data = [];\n\t\tconst treeValues = container.find('.js-tree-values').val();\n\t\tif (treeValues) {\n\t\t\tdata = JSON.parse(treeValues);\n\t\t}\n\t\tcontainer\n\t\t\t.find('#jstreeContainer')\n\t\t\t.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\ticons: false\n\t\t\t\t\t},\n\t\t\t\t\tcheck_callback: true\n\t\t\t\t},\n\t\t\t\tplugins: ['checkbox']\n\t\t\t})\n\t\t\t.on('loaded.jstree', function (event, data) {\n\t\t\t\t$(this).jstree('open_all');\n\t\t\t})\n\t\t\t.on('changed.jstree', function (e, data) {\n\t\t\t\tif (data.action != 'model') {\n\t\t\t\t\tthisInstance.getWarningsList();\n\t\t\t\t}\n\t\t\t});\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-switch--warnings').on('change', () => {\n\t\t\tthisInstance.getWarningsList();\n\t\t});\n\t},\n\tregisterEventsLoadContent: function (thisInstance, mode, container) {\n\t\tthisInstance.registerWarningsFolders(container);\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","getWarningsList","container","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","AppConnector","request","module","getModuleName","parent","getParentModuleName","view","getViewName","mode","active","first","is","folder","thisInstance","getSelectedFolders","done","data","html","registerWarningsList","fail","find","dataTable","order","lengthMenu","pageLength","on","e","showModalWindow","currentTarget","closest","popover","action","id","params","status","registerWarningsFolders","treeValues","val","JSON","parse","jstree","core","themes","name","responsive","icons","check_callback","plugins","extend","fn","defaults","language","sLengthMenu","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","registerEventsLoadContent"],"mappings":"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"}