{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_OSSMail_Index_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Container (Form)\n\t\t */\n\t\tcontainer: null,\n\t\t/**\n\t\t * Set container (Form)\n\t\t * @param {Object} element\n\t\t */\n\t\tsetContainer: function (element) {\n\t\t\tthis.container = element;\n\t\t},\n\t\t/**\n\t\t * Get Container (Form)\n\t\t * @returns {Object}\n\t\t */\n\t\tgetContainer: function () {\n\t\t\treturn this.container;\n\t\t},\n\t\t/**\n\t\t * Register the field with hosts\n\t\t */\n\t\tregisterDefaultHost: function () {\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.getContainer().find('[name=\"default_host\"]'), {\n\t\t\t\tdelimiter: ',',\n\t\t\t\tpersist: false,\n\t\t\t\ttags: true,\n\t\t\t\tplaceholder: app.vtranslate('JS_SELECT_OR_WRITE_AND_PRESS_ENTER'),\n\t\t\t\tcreate: function (input) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: input,\n\t\t\t\t\t\ttext: input\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register events for form\n\t\t * @returns {undefined}\n\t\t */\n\t\tregisterForm: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getContainer();\n\t\t\tcontainer.on('submit', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\t\tAppConnector.request(container.serializeFormData()).done(function (data) {\n\t\t\t\t\t\tvar response = data['result'],\n\t\t\t\t\t\t\tparams;\n\t\t\t\t\t\tif (response['success']) {\n\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Main function\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.setContainer($('.roundcubeConfig'));\n\t\t\tthis.registerDefaultHost();\n\t\t\tthis.registerForm();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","setContainer","element","getContainer","registerDefaultHost","App","Fields","Picklist","showSelect2ElementView","find","delimiter","persist","tags","placeholder","app","vtranslate","create","input","value","text","registerForm","thisInstance","on","event","preventDefault","validationEngine","validationEngineOptions","AppConnector","request","serializeFormData","done","data","response","params","type","showNotify","registerEvents","$"],"mappings":";;AAGAA,OAAOC,KAAP,CACC,2BADD,CAEC,EAFD,CAGC;;KAICC,UAAW,IAJZ;;;KASCC,aAAc,sBAAUC,OAAV,CAAmB,CAChC,KAAKF,SAAL,CAAiBE,QACjB,CAXF;;;KAgBCC,aAAc,uBAAY,CACzB,YAAYH,SACZ,CAlBF;;KAsBCI,oBAAqB,8BAAY,CAChCC,IAAIC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2C,KAAKL,YAAL,GAAoBM,IAApB,CAAyB,uBAAzB,CAA3C,CAA8F,CAC7FC,UAAW,GADkF,CAE7FC,UAF6F,CAG7FC,OAH6F,CAI7FC,YAAaC,IAAIC,UAAJ,CAAe,oCAAf,CAJgF,CAK7FC,OAAQ,gBAAUC,KAAV,CAAiB,CACxB,OAAO,CACNC,MAAOD,KADD,CAENE,KAAMF,KAFA,CAIP,CAV4F,CAA9F,EAYA,CAnCF;;;KAyCCG,aAAc,uBAAY,kBACN,IADM,CAErBpB,UAAYqB,aAAalB,YAAb,EAFS,CAGzBH,UAAUsB,EAAV,CAAa,QAAb,CAAuB,SAAUC,KAAV,CAAiB,CACvCA,MAAMC,cAAN,EADuC,CAEvCxB,UAAUyB,gBAAV,CAA2BX,IAAIY,uBAA/B,CAFuC,CAGnC1B,UAAUyB,gBAAV,CAA2B,UAA3B,CAHmC,EAItCE,aAAaC,OAAb,CAAqB5B,UAAU6B,iBAAV,EAArB,EAAoDC,IAApD,CAAyD,SAAUC,IAAV,CAAgB,CACxE,UAAA,CAAIC,SAAWD,WAAf,CAEIC,gBAHoE,EAIvEC,OAAS,CACRd,KAAMa,aADE,CAERE,KAAM,MAFE,CAJ8D,CAQvEpB,IAAIqB,UAAJ,CAAeF,MAAf,CARuE,GAUvEA,OAAS,CACRd,KAAMa,aADE,CAERE,KAAM,OAFE,CAV8D,CAcvEpB,IAAIqB,UAAJ,CAAeF,MAAf,CAduE,EAgBxE,CAhBD,EAkBD,CAtBD,EAuBA,CAnEF;;KAuECG,eAAgB,yBAAY,CAC3B,KAAKnC,YAAL,CAAkBoC,EAAE,kBAAF,CAAlB,CAD2B,CAE3B,KAAKjC,mBAAL,EAF2B,CAG3B,KAAKgB,YAAL,GACA,CA3EF,CAHD"}