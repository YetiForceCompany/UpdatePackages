{"version":3,"file":"Login.min.js","sources":["Login.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n\n'use strict';\n$(document).ready(() => {\n\t$('input:visible').first().focus();\n\t$('#fingerPrint').val(new DeviceUUID().get());\n\t$('button.close').on('click', () => {\n\t\t$('.visible-phone').css('visibility', 'hidden');\n\t});\n\t$('a#forgotpass').on('click', () => {\n\t\t$('#loginDiv').hide();\n\t\t$('#forgotPasswordDiv').removeClass('d-none');\n\t\t$('#forgotPasswordDiv').show();\n\t});\n\t$('a#backButton').on('click', () => {\n\t\t$('#loginDiv').removeClass('d-none');\n\t\t$('#loginDiv').show();\n\t\t$('#forgotPasswordDiv').hide();\n\t});\n\n\tlet formForgot = $('.js-forgot-password');\n\tformForgot.on('submit', (event) => {\n\t\tevent.preventDefault();\n\t\t$.post('index.php?module=Users&action=LoginForgotPassword', {\n\t\t\temail: formForgot.find('[name=\"email\"]').val()\n\t\t})\n\t\t\t.done((data) => {\n\t\t\t\tformForgot.find('.js-email-content').addClass('d-none');\n\t\t\t\tformForgot.find('#retrievePassword').attr('disabled', 'disabled');\n\t\t\t\t$('.js-alert-password').removeClass('d-none alert-danger').addClass('alert-success');\n\t\t\t\t$('.js-alert-text').html(data.result);\n\t\t\t})\n\t\t\t.fail((error) => {\n\t\t\t\t$('.js-alert-password').removeClass('d-none').addClass('alert-danger');\n\t\t\t\t$('.js-alert-text').html(JSON.parse(error.responseText).error.message);\n\t\t\t});\n\t});\n\n\tlet formChange = $('.js-change-password');\n\tformChange.on('submit', (event) => {\n\t\tevent.preventDefault();\n\t\tlet password = formChange.find('[name=\"password\"]').val();\n\t\tlet confirmPassword = formChange.find('[name=\"confirm_password\"]').val();\n\t\tif (password !== confirmPassword) {\n\t\t\t$('.js-alert-confirm-password').removeClass('d-none');\n\t\t} else {\n\t\t\t$.post('index.php?module=Users&action=LoginPassChange', {\n\t\t\t\tpassword: password,\n\t\t\t\tconfirm_password: confirmPassword,\n\t\t\t\ttoken: formChange.find('[name=\"token\"]').val()\n\t\t\t})\n\t\t\t\t.done(() => {\n\t\t\t\t\twindow.location.href = 'index.php';\n\t\t\t\t})\n\t\t\t\t.fail((error) => {\n\t\t\t\t\t$('.js-alert-confirm-password').addClass('d-none');\n\t\t\t\t\t$('.js-alert-password').removeClass('d-none').addClass('alert-danger');\n\t\t\t\t\t$('.js-alert-text').html(JSON.parse(error.responseText).error.message);\n\t\t\t\t});\n\t\t}\n\t});\n});\n"],"names":["$","document","ready","first","focus","val","get","on","css","hide","removeClass","show","formForgot","event","preventDefault","post","email","find","done","data","addClass","attr","html","result","fail","error","JSON","parse","responseText","message","formChange","confirmPassword","password","confirm_password","token","window","location","href"],"mappings":"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"}