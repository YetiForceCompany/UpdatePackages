{"version":3,"file":"ListPreview.min.js","sources":["ListPreview.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_ListPreview_Js(\n\t'Accounts_ListPreview_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Sets account hierarchy\n\t\t */\n\t\tregisterHierarchyRecordCount: function () {\n\t\t\tconst iframe = $('.listPreviewframe');\n\t\t\tiframe.on('load', function () {\n\t\t\t\tvar contents = iframe.contents();\n\t\t\t\tvar hierarchyButton = contents.find('.detailViewTitle .hierarchy');\n\t\t\t\tif (hierarchyButton) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\trecord: contents.find('#recordId').val(),\n\t\t\t\t\t\tmode: 'getHierarchyCount'\n\t\t\t\t\t}).done(function (response) {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tcontents.find('.detailViewTitle .hierarchy .badge').html(response.result);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Executes event listener.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t */\n\t\tpostLoadListViewRecordsEvents: function (container) {\n\t\t\tthis._super(container);\n\t\t\tthis.registerHierarchyRecordCount();\n\t\t},\n\t\t/**\n\t\t * Registers ListPreview's events.\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.registerHierarchyRecordCount();\n\t\t}\n\t}\n);\n"],"names":["Vtiger_ListPreview_Js","registerHierarchyRecordCount","$","iframe","on","contents","hierarchyButton","find","AppConnector","request","module","app","getModuleName","action","record","val","mode","done","response","success","html","result","postLoadListViewRecordsEvents","container","_super","registerEvents"],"mappings":";;AAGAA,sBACC,yBADD,CAEC,EAFD,CAGC;;KAICC,6BAA8B,uCAAY,CACzC,WAAeC,EAAE,mBAAF,CAAf,CACAC,OAAOC,EAAP,CAAU,MAAV,CAAkB,UAAY,cACdD,OAAOE,QAAP,EADc,CAEzBC,gBAAkBD,SAASE,IAAT,CAAc,6BAAd,CAFO,CAGzBD,eAHyB,EAI5BE,aAAaC,OAAb,CAAqB,CACpBC,OAAQC,IAAIC,aAAJ,EADY,CAEpBC,OAAQ,cAFY,CAGpBC,OAAQT,SAASE,IAAT,CAAc,WAAd,EAA2BQ,GAA3B,EAHY,CAIpBC,KAAM,mBAJc,CAArB,EAKGC,IALH,CAKQ,SAAUC,QAAV,CAAoB,CACvBA,SAASC,OADc,EAE1Bd,SAASE,IAAT,CAAc,oCAAd,EAAoDa,IAApD,CAAyDF,SAASG,MAAlE,EAED,CATD,EAWD,CAfD,EAgBA,CAtBF;;;KA2BCC,8BAA+B,uCAAUC,SAAV,CAAqB,CACnD,KAAKC,MAAL,CAAYD,SAAZ,CADmD,CAEnD,KAAKtB,4BAAL,GACA,CA9BF;;KAkCCwB,eAAgB,yBAAY,CAC3B,KAAKD,MAAL,EAD2B,CAE3B,KAAKvB,4BAAL,GACA,CArCF,CAHD"}