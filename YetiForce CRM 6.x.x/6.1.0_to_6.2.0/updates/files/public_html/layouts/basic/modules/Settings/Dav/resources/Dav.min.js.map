{"version":3,"file":"Dav.min.js","sources":["Dav.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Dav_Keys_Js',\n\t{},\n\t{\n\t\t//This will store the MenuEditor Container\n\t\tmobileContainer: false,\n\t\t/**\n\t\t * Function to get the MenuEditor container\n\t\t */\n\t\tgetContainer: function () {\n\t\t\tif (this.mobileContainer == false) {\n\t\t\t\tthis.mobileContainer = jQuery('#DavKeysContainer');\n\t\t\t}\n\t\t\treturn this.mobileContainer;\n\t\t},\n\t\taddKey: function (e) {\n\t\t\tvar container = jQuery('#DavKeysContainer');\n\t\t\tvar editColorModal = container.find('.addKeyContainer');\n\t\t\tvar clonedContainer = editColorModal.clone(true, true);\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tdata.find('.addKeyContainer').removeClass('d-none').show();\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('.select'));\n\t\t\t\tdata.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\t\t\tvar form = data.find('form');\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('Adding a Key'),\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\t\t\tsettingMobileInstance.registerSaveEvent('addKey', formData, true);\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t};\n\t\t\tapp.showModalWindow(\n\t\t\t\tclonedContainer,\n\t\t\t\tfunction (data) {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{ width: '1000px' }\n\t\t\t);\n\t\t},\n\t\tdeleteKey: function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tvar closestTrElement = target.closest('.js-tr-row');\n\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\tsettingMobileInstance.registerSaveEvent('deleteKey', {\n\t\t\t\tuser: closestTrElement.data('user')\n\t\t\t});\n\t\t\tclosestTrElement.remove();\n\t\t},\n\t\tregisterSaveEvent: function (mode, data, reload) {\n\t\t\tvar params = {};\n\t\t\tparams.data = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: mode\n\t\t\t};\n\t\t\tif (typeof data !== 'undefined') {\n\t\t\t\tfor (var i in data) {\n\t\t\t\t\tparams.data[i] = data[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tparams.async = false;\n\t\t\tparams.dataType = 'json';\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tvar response = data['result'];\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: response['message']\n\t\t\t\t\t};\n\t\t\t\t\tif (response.success == true) {\n\t\t\t\t\t\tparams.type = 'success';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.type = 'error';\n\t\t\t\t\t}\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tif (reload == true && response.success == true) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (data, err) {});\n\t\t},\n\t\tregisterEvents: function (e) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getContainer();\n\t\t\tcontainer.find('.js-add-key').on('click', thisInstance.addKey);\n\t\t\tcontainer.find('.js-delete-key').on('click', thisInstance.deleteKey);\n\t\t\tApp.Fields.Text.registerCopyClipboard(container);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","mobileContainer","getContainer","addKey","editColorModal","container","find","clonedContainer","clone","callBackFunction","data","removeClass","show","App","Fields","Picklist","showSelect2ElementView","on","formData","form","serializeFormData","progress","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","settingMobileInstance","registerSaveEvent","mode","showModalWindow","width","deleteKey","e","currentTarget","closestTrElement","target","closest","user","remove","reload","module","getModuleName","parent","getParentModuleName","action","params","i","async","dataType","AppConnector","request","done","text","response","type","success","showNotify","window","location","fail","registerEvents","thisInstance","Text","registerCopyClipboard"],"mappings":"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"}