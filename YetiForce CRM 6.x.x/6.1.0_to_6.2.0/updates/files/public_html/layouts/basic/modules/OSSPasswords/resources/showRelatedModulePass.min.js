'use strict';

/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */// show/hide password
var clipBoardInstances=[];$('.show_pass').on('click',function(){var btn=$(this),record=btn.data('id'),iconElement=btn.find('span'),text=btn.data('title-copy'),copyKey='.copy_pass'+record,copyBtn=$('<button type="button" id="copybtn_'+record+'" data-id="pass_'+record+'"\n\t\tclass="copy_pass'+record+' btn btn-light btn-sm mr-2 js-popover-tooltip" data-content="'+text+'" data-js="popover"><span class="fas fa-download"></span></button>'),element=$('[id="pass_'+record+'"]'),passVal=element.html(),showPassText=btn.data('titleShow')?btn.data('titleShow'):app.vtranslate('LBL_ShowPassword'),hidePassText=btn.data('titleHide')?btn.data('titleHide'):app.vtranslate('LBL_HidePassword');if(clipBoardInstances[copyKey]===void 0){var clipboard=new ClipboardJS(copyKey,{text:function(trigger){return app.showNotify({text:app.vtranslate('JS_NOTIFY_COPY_TEXT'),type:'success'}),$('#'+trigger.getAttribute('data-id')).text()}});clipBoardInstances[copyKey]=clipboard;}if('**********'==passVal){var progressIndicatorElement=jQuery.progressIndicator({position:'html',blockInfo:{enabled:!0}});AppConnector.request({module:'OSSPasswords',action:'GetPass',record:record}).done(function(data){var response=data.result;response.success&&(element.text(response.password),btn.on('show.bs.popover',function(){this.dataset.content=hidePassText;}),iconElement.removeClass('adminIcon-passwords-encryption').addClass('fas fa-lock'),copyBtn.insertBefore(btn)),progressIndicatorElement.progressIndicator({mode:'hide'});});}else// change button title to 'Show Password'
// hide copy to clipboard button
element.html('**********'),btn.on('show.bs.popover',function(){this.dataset.content=showPassText;}),app.showPopoverElementView(element),iconElement.removeClass('fas fa-lock').addClass('adminIcon-passwords-encryption'),$(copyKey).remove(),clipBoardInstances[copyKey].destroy(),delete clipBoardInstances[copyKey];return !1});
//# sourceMappingURL=showRelatedModulePass.min.js.map
