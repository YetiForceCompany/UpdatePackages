{"version":3,"file":"ChartFilter.min.js","sources":["ChartFilter.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_ChartFilter_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Widget type name\n\t\t */\n\t\twidgetName: 'ChartFilter',\n\t\tregisterContainers() {\n\t\t\tthis.step1 = $('.step1', this.container);\n\t\t\tthis.step2 = $('.step2', this.container);\n\t\t\tthis.step3 = $('.step3', this.container);\n\t\t\tthis.step4 = $('.step4', this.container);\n\t\t\tthis.footer = $('.js-chart-footer', this.container);\n\t\t\tthis.form = $('form', this.container);\n\t\t\tthis.stepNumber = $('#widgetStep', this.container);\n\t\t},\n\t\t/**\n\t\t * Register first step elements\n\t\t */\n\t\tregisterStep1() {\n\t\t\tlet chartType = $('select[name=\"chartType\"]', this.container);\n\t\t\tlet moduleElement = $('select[name=\"module\"]', this.container);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(moduleElement, {\n\t\t\t\tplaceholder: app.vtranslate('JS_SELECT_MODULE')\n\t\t\t});\n\n\t\t\tthis.moduleName = moduleElement.val();\n\t\t\tthis.chartTypeValue = chartType.val();\n\n\t\t\tchartType.on('change', (e) => {\n\t\t\t\tthis.chartTypeValue = e.currentTarget.value;\n\t\t\t\tmoduleElement.trigger('change');\n\t\t\t});\n\t\t\tmoduleElement.on('change', (e) => {\n\t\t\t\tthis.moduleName = e.currentTarget.value;\n\t\t\t\tif (!this.moduleName) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.footer.hide();\n\t\t\t\tthis.step2.empty();\n\t\t\t\tthis.step3.empty();\n\t\t\t\tthis.step4.empty();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step2',\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\tselectedModule: this.moduleName\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep2(data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register second step elements\n\t\t */\n\t\tregisterStep2(stepContainer) {\n\t\t\tthis.step2.append(stepContainer);\n\t\t\tthis.stepNumber.val(2);\n\t\t\tthis.footer.hide();\n\t\t\tlet filtersIdElement = this.step2.find('.filtersId');\n\t\t\tlet valueTypeElement = this.step2.find('.valueType');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(filtersIdElement);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(valueTypeElement);\n\t\t\tthis.step2.find('.filtersId, .valueType').on('change', (e) => {\n\t\t\t\tthis.step3.empty();\n\t\t\t\tthis.step4.empty();\n\t\t\t\tthis.footer.hide();\n\t\t\t\tlet filterId = filtersIdElement.val(),\n\t\t\t\t\ttype = valueTypeElement.val();\n\t\t\t\tif (!filterId || Object.keys(filterId).length === 0 || !type || Object.keys(type).length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step3',\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\tfiltersId: filterId,\n\t\t\t\t\tvalueType: type\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep3(data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register third step elements\n\t\t */\n\t\tregisterStep3(stepContainer) {\n\t\t\tthis.step3.append(stepContainer);\n\t\t\tthis.stepNumber.val(3);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step3.find('select'));\n\t\t\tthis.footer.hide();\n\t\t\tthis.step3.find('.groupField').on('change', (e) => {\n\t\t\t\tthis.step4.empty();\n\t\t\t\tlet groupField = $(e.currentTarget);\n\t\t\t\tif (!groupField.val()) return;\n\t\t\t\tthis.footer.show();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step4',\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\tfiltersId: this.step2.find('.filtersId').val(),\n\t\t\t\t\tgroupField: groupField.val(),\n\t\t\t\t\tchartType: this.chartTypeValue\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep4(data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register fourth step elements\n\t\t */\n\t\tregisterStep4(stepContainer) {\n\t\t\tthis.step4.append(stepContainer);\n\t\t\tthis.stepNumber.val(4);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step4.find('select'));\n\t\t\tthis.step4.find('[name=\"dividingField\"]').on('change', (e) => {\n\t\t\t\tlet type = e.currentTarget.selectedOptions[0].dataset.fieldType;\n\t\t\t\tlet selector = this.step4.find('.js-sector-container');\n\t\t\t\tif (type === 'datetime' || type === 'date') {\n\t\t\t\t\tselector.removeClass('d-none');\n\t\t\t\t\tselector.find('select').attr('disabled', false);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(selector.find('select'));\n\t\t\t\t} else {\n\t\t\t\t\tselector.addClass('d-none');\n\t\t\t\t\tselector.find('select').attr('disabled', true);\n\t\t\t\t}\n\t\t\t});\n\t\t\tapp.registerModalEvents(this.container);\n\t\t},\n\t\t/**\n\t\t * Register submit\n\t\t */\n\t\tregisterSubmit() {\n\t\t\tlet form = this.form;\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.on('submit', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.data('jqv').InvalidFields.length === 0) {\n\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\t\tlet params = this.getParams();\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tthis.postSave(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t * @param {object} response\n\t\t */\n\t\tpostSave(response) {\n\t\t\tlet result = response['result'];\n\t\t\tVtiger_Helper_Js.showMessage({ type: 'success', text: result['text'] });\n\t\t\tif (this.isDashboard()) {\n\t\t\t\tlet linkElement = this.source.clone();\n\t\t\t\tlinkElement.data('name', this.widgetName);\n\t\t\t\tlinkElement.data('id', result['wid']);\n\t\t\t\tnew Vtiger_DashBoard_Js().addWidget(\n\t\t\t\t\tlinkElement,\n\t\t\t\t\t'index.php?module=Home&view=ShowWidget&name=ChartFilter&linkid=' +\n\t\t\t\t\t\tthis.source.data('linkid') +\n\t\t\t\t\t\t'&widgetid=' +\n\t\t\t\t\t\tresult['wid'] +\n\t\t\t\t\t\t'&active=0'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Gets params for save\n\t\t * @returns {object}\n\t\t */\n\t\tgetParams() {\n\t\t\tlet data = {};\n\t\t\tlet paramsForm = this.form.serializeFormData();\n\t\t\tthis.form.find('.saveParam').each(function (_, element) {\n\t\t\t\tif (typeof paramsForm[element.name] !== 'undefined') {\n\t\t\t\t\tdata[element.name] = paramsForm[element.name];\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet filtersId = this.step2.find('.filtersId').val();\n\t\t\tif (Array.isArray(filtersId)) {\n\t\t\t\tfiltersId = filtersId.join(',');\n\t\t\t}\n\t\t\tconst formData = {\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tblockid: this.source.data('block-id'),\n\t\t\t\tlinkid: this.source.data('linkid'),\n\t\t\t\tname: this.widgetName,\n\t\t\t\ttitle: paramsForm['widgetTitle'],\n\t\t\t\tfilterid: filtersId,\n\t\t\t\tisdefault: 0,\n\t\t\t\theight: 4,\n\t\t\t\twidth: 4,\n\t\t\t\towners_all: ['mine', 'all', 'users', 'groups'],\n\t\t\t\tdefault_owner: 'mine',\n\t\t\t\tdashboardId: this.getCurrentDashboard()\n\t\t\t};\n\t\t\treturn {\n\t\t\t\tform: formData,\n\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\tsourceModule: this.sourceModuleName || app.getModuleName(),\n\t\t\t\taction: 'Widget',\n\t\t\t\tmode: 'add',\n\t\t\t\taddToUser: this.isDashboard(),\n\t\t\t\tlinkid: this.source.data('linkid'),\n\t\t\t\tname: this.widgetName\n\t\t\t};\n\t\t},\n\t\t/**\n\t\t * Gets dashboard ID\n\t\t * @returns {int}\n\t\t */\n\t\tgetCurrentDashboard() {\n\t\t\treturn $('.selectDashboard li a.active').closest('li').data('id') || 1;\n\t\t},\n\t\t/**\n\t\t * Check if the widget is added on the dashboard\n\t\t * @returns {boolean}\n\t\t */\n\t\tisDashboard() {\n\t\t\treturn $('.dashboardViewContainer').length > 0 && typeof Vtiger_DashBoard_Js !== 'undefined';\n\t\t},\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function (modalContainer) {\n\t\t\tthis.container = $(modalContainer);\n\t\t\tlet id = this.container.closest('.js-modal-container').attr('id');\n\t\t\tthis.source = $(`[data-modalid=\"${id}\"]`);\n\t\t\tthis.sourceModuleName = this.source.data('module');\n\t\t\tthis.registerContainers();\n\t\t\tthis.registerStep1();\n\t\t\tthis.registerSubmit();\n\t\t}\n\t}\n);\n"],"names":["$","Class","widgetName","registerContainers","step1","container","step2","step3","step4","footer","form","stepNumber","registerStep1","chartType","moduleElement","App","Fields","Picklist","showSelect2ElementView","placeholder","app","vtranslate","moduleName","val","chartTypeValue","on","e","currentTarget","value","trigger","hide","empty","AppConnector","request","module","sourceModuleName","view","step","selectedModule","done","data","registerStep2","stepContainer","append","find","valueTypeElement","filtersIdElement","type","filterId","keys","length","filtersId","valueType","registerStep3","groupField","show","registerStep4","selectedOptions","dataset","fieldType","selector","removeClass","attr","addClass","registerModalEvents","registerSubmit","validationEngine","validationEngineOptions","preventDefault","InvalidFields","progressIndicator","position","blockInfo","enabled","params","getParams","success","hideModalWindow","progressIndicatorElement","mode","postSave","fail","formAlignmentAfterValidation","response","Vtiger_Helper_Js","showMessage","text","result","isDashboard","source","clone","linkElement","addWidget","location","reload","paramsForm","serializeFormData","each","_","element","name","Array","isArray","join","JSON","stringify","blockid","linkid","title","filterid","isdefault","height","width","owners_all","default_owner","dashboardId","getCurrentDashboard","formData","sourceModule","getModuleName","action","addToUser","closest","registerEvents","modalContainer","id"],"mappings":"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"}