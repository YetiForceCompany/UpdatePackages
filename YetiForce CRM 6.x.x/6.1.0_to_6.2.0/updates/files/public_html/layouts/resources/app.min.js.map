{"version":3,"file":"app.min.js","sources":["app.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\nvar App = (window.App = {\n\tComponents: {\n\t\tTree: {\n\t\t\tBasic: class {\n\t\t\t\tconstructor(container = $('.js-tree-container')) {\n\t\t\t\t\tthis.treeInstance = false;\n\t\t\t\t\tthis.treeData = false;\n\t\t\t\t\tthis.generateTree(container);\n\t\t\t\t}\n\n\t\t\t\tgenerateTree(container) {\n\t\t\t\t\tconst slef = this;\n\t\t\t\t\tif (slef.treeInstance === false) {\n\t\t\t\t\t\tslef.treeInstance = container;\n\t\t\t\t\t\tslef.treeInstance\n\t\t\t\t\t\t\t.on('select_node.jstree', function (e, data) {\n\t\t\t\t\t\t\t\tif (data.event !== undefined && $(data.event.target).hasClass('jstree-checkbox')) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata.instance.select_node(data.node.children_d);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('deselect_node.jstree', function (e, data) {\n\t\t\t\t\t\t\t\tif (data.event !== undefined && $(data.event.target).hasClass('jstree-checkbox')) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata.instance.deselect_node(data.node.children_d);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.jstree({\n\t\t\t\t\t\t\t\tcore: {\n\t\t\t\t\t\t\t\t\tdata: slef.getRecords(container),\n\t\t\t\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\t\t\t\tresponsive: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tplugins: ['search', 'checkbox']\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.registerSearchEvent();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tregisterSearchEvent() {\n\t\t\t\t\tconst self = this;\n\t\t\t\t\tlet searchTimeout = false,\n\t\t\t\t\t\ttreeSearch = $('.js-tree-search');\n\t\t\t\t\ttreeSearch.on('keyup', () => {\n\t\t\t\t\t\tif (searchTimeout) {\n\t\t\t\t\t\t\tclearTimeout(searchTimeout);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsearchTimeout = setTimeout(function () {\n\t\t\t\t\t\t\tvar searchValue = treeSearch.val();\n\t\t\t\t\t\t\tself.treeInstance.jstree(true).search(searchValue);\n\t\t\t\t\t\t}, 250);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tgetRecords(container) {\n\t\t\t\t\tif (this.treeData === false && container !== 'undefined') {\n\t\t\t\t\t\tthis.treeData = JSON.parse(container.find('.js-tree-data').val());\n\t\t\t\t\t}\n\t\t\t\t\treturn this.treeData;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Quick create object used by Header.js and yf plugins\n\t\t *\n\t\t */\n\t\tQuickCreate: {\n\t\t\t/**\n\t\t\t * module quick create data cache\n\t\t\t */\n\t\t\tmoduleCache: {},\n\t\t\t/**\n\t\t\t * Register function\n\t\t\t * @param {jQuery} container\n\t\t\t */\n\t\t\tregister(container) {\n\t\t\t\tif (typeof container === 'undefined') {\n\t\t\t\t\tcontainer = $('body');\n\t\t\t\t} else {\n\t\t\t\t\tcontainer = $(container);\n\t\t\t\t}\n\t\t\t\tcontainer.on('click', '.js-quick-create-modal', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tif (element.data('module')) {\n\t\t\t\t\t\tApp.Components.QuickCreate.createRecord(element.data('module'));\n\t\t\t\t\t}\n\t\t\t\t\tif (element.data('url')) {\n\t\t\t\t\t\tlet url = element.data('url');\n\t\t\t\t\t\tlet urlObject = app.convertUrlToObject(url);\n\t\t\t\t\t\tlet params = { callbackFunction: function () {} };\n\t\t\t\t\t\tconst progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\t\t\tApp.Components.QuickCreate.getForm(url, urlObject.module, params).done((data) => {\n\t\t\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tApp.Components.QuickCreate.showModal(data, params);\n\t\t\t\t\t\t\tapp.registerEventForClockPicker();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * createRecord\n\t\t\t *\n\t\t\t * @param   {string}  moduleName\n\t\t\t * @param   {object}  params\n\t\t\t */\n\t\t\tcreateRecord(moduleName, params = {}) {\n\t\t\t\tif ('parentIframe' === CONFIG.modalTarget) {\n\t\t\t\t\twindow.parent.App.Components.QuickCreate.createRecord(moduleName, params);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet url = 'index.php?module=' + moduleName + '&view=QuickCreateAjax';\n\t\t\t\tif (undefined === params.callbackFunction) {\n\t\t\t\t\tparams.callbackFunction = function () {};\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t(app.getViewName() === 'Detail' || (app.getViewName() === 'Edit' && app.getRecordId() !== undefined)) &&\n\t\t\t\t\tapp.getParentModuleName() != 'Settings'\n\t\t\t\t) {\n\t\t\t\t\turl += '&sourceModule=' + app.getModuleName();\n\t\t\t\t\turl += '&sourceRecord=' + app.getRecordId();\n\t\t\t\t}\n\t\t\t\tconst progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tthis.getForm(url, moduleName, params).done((data) => {\n\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tthis.showModal(data, params);\n\t\t\t\t\tapp.registerEventForClockPicker();\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Get quick create form\n\t\t\t *\n\t\t\t * @param   {string}  url\n\t\t\t * @param   {string}  moduleName\n\t\t\t * @param   {object}  params\n\t\t\t *\n\t\t\t * @return  {Promise} aDeferred\n\t\t\t */\n\t\t\tgetForm(url, moduleName, params = {}) {\n\t\t\t\tconst aDeferred = $.Deferred();\n\t\t\t\tlet requestParams;\n\t\t\t\tlet isCacheActive = !params.noCache || undefined === params.noCache;\n\t\t\t\tif (isCacheActive) {\n\t\t\t\t\tif (App.Components.QuickCreate.moduleCache[moduleName]) {\n\t\t\t\t\t\taDeferred.resolve(App.Components.QuickCreate.moduleCache[moduleName]);\n\t\t\t\t\t\treturn aDeferred.promise();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trequestParams = url;\n\t\t\t\tif (typeof params.data !== 'undefined') {\n\t\t\t\t\trequestParams = {};\n\t\t\t\t\trequestParams['data'] = params.data;\n\t\t\t\t\trequestParams['url'] = url;\n\t\t\t\t}\n\t\t\t\tAppConnector.request(requestParams).done(function (data) {\n\t\t\t\t\tif (isCacheActive) {\n\t\t\t\t\t\tApp.Components.QuickCreate.moduleCache[moduleName] = data;\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t});\n\t\t\t\treturn aDeferred.promise();\n\t\t\t},\n\t\t\t/**\n\t\t\t * Show modal\n\t\t\t *\n\t\t\t * @param   {string}  html\n\t\t\t * @param   {object}  params\n\t\t\t */\n\t\t\tshowModal(html, params = {}) {\n\t\t\t\tapp.showModalWindow(html, (container) => {\n\t\t\t\t\tconst quickCreateForm = container.find('form.js-form');\n\t\t\t\t\tconst moduleName = quickCreateForm.find('[name=\"module\"]').val();\n\t\t\t\t\tconst editViewInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\tconst moduleClassName = moduleName + '_QuickCreate_Js';\n\t\t\t\t\teditViewInstance.setForm(quickCreateForm);\n\t\t\t\t\teditViewInstance.registerBasicEvents(quickCreateForm);\n\t\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\t\tnew window[moduleClassName]().registerEvents(container);\n\t\t\t\t\t}\n\t\t\t\t\tquickCreateForm.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t\tif (typeof params.callbackPostShown !== 'undefined') {\n\t\t\t\t\t\tparams.callbackPostShown(quickCreateForm);\n\t\t\t\t\t}\n\t\t\t\t\tthis.registerPostLoadEvents(quickCreateForm, params);\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register post load events\n\t\t\t *\n\t\t\t * @param   {object}  form jQuery\n\t\t\t * @param   {object}  params\n\t\t\t *\n\t\t\t * @return  {boolean}\n\t\t\t */\n\t\t\tregisterPostLoadEvents(form, params) {\n\t\t\t\tconst submitSuccessCallback = params.callbackFunction || function () {};\n\t\t\t\tconst goToFullFormCallBack = params.goToFullFormcallback || function () {};\n\t\t\t\tform.on('submit', (e) => {\n\t\t\t\t\tconst form = $(e.currentTarget);\n\t\t\t\t\tif (form.hasClass('not_validation')) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tconst moduleName = form.find('[name=\"module\"]').val();\n\t\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\t\tif (typeof form.data('submit') !== 'undefined') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\t\tform.data('submit', 'true');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\tform.trigger(recordPreSaveEvent, {\n\t\t\t\t\t\t\tvalue: 'edit',\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\tconst moduleInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\t\t\tconst saveHandler = !!moduleInstance.quickCreateSave ? moduleInstance.quickCreateSave : this.save;\n\t\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsaveHandler(form)\n\t\t\t\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\t\t\t\tlet modalContainer = form.closest('.modalContainer');\n\t\t\t\t\t\t\t\t\tif (modalContainer.length) {\n\t\t\t\t\t\t\t\t\t\tapp.hideModalWindow(false, modalContainer[0].id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsubmitSuccessCallback(data);\n\t\t\t\t\t\t\t\t\tapp.event.trigger('QuickCreate.AfterSaveFinal', data, form);\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_SUCCESS'),\n\t\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif ('List' === app.getViewName()) {\n\t\t\t\t\t\t\t\t\t\t\tlet listInstance = new Vtiger_List_Js();\n\t\t\t\t\t\t\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\t\t\t\t\t\t} else if ('Detail' === app.getViewName()) {\n\t\t\t\t\t\t\t\t\t\t\tif (app.getUrlVar('mode') === 'showRelatedList') {\n\t\t\t\t\t\t\t\t\t\t\t\tVtiger_Detail_Js.getInstance().loadRelatedList();\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: errorThrown,\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//If validation fails in recordPreSaveEvent, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tform.find('.js-full-editlink').on('click', (e) => {\n\t\t\t\t\tconst form = $(e.currentTarget).closest('form');\n\t\t\t\t\tconst editViewUrl = $(e.currentTarget).data('url');\n\t\t\t\t\tgoToFullFormCallBack(form);\n\t\t\t\t\tthis.goToFullForm(form, editViewUrl);\n\t\t\t\t});\n\n\t\t\t\tthis.registerTabEvents(form);\n\t\t\t},\n\t\t\t/**\n\t\t\t * Function to navigate from quick create to edit iew full form\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t */\n\t\t\tgoToFullForm(form) {\n\t\t\t\t//As formData contains information about both view and action removed action and directed to view\n\t\t\t\tform.find('input[name=\"action\"]').remove();\n\t\t\t\tform.append('<input type=\"hidden\" name=\"view\" value=\"Edit\" />');\n\t\t\t\t$.each(form.find('[data-validation-engine]'), function (key, data) {\n\t\t\t\t\t$(data).removeAttr('data-validation-engine');\n\t\t\t\t});\n\t\t\t\tform.addClass('not_validation');\n\t\t\t\tform.submit();\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register tab events\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t */\n\t\t\tregisterTabEvents(form) {\n\t\t\t\tconst tabElements = form.find('.nav.nav-pills , .nav.nav-tabs').find('a');\n\t\t\t\t//This will remove the name attributes and assign it to data-element-name . We are doing this to avoid\n\t\t\t\t//Multiple element to send as in calendar\n\t\t\t\tconst quickCreateTabOnHide = function (target) {\n\t\t\t\t\t$(target)\n\t\t\t\t\t\t.find('[name]')\n\t\t\t\t\t\t.each(function (index, element) {\n\t\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\t\telement.attr('data-element-name', element.attr('name')).removeAttr('name');\n\t\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\t//This will add the name attributes and get value from data-element-name . We are doing this to avoid\n\t\t\t\t//Multiple element to send as in calendar\n\t\t\t\tconst quickCreateTabOnShow = function (target) {\n\t\t\t\t\t$(target)\n\t\t\t\t\t\t.find('[data-element-name]')\n\t\t\t\t\t\t.each(function (index, element) {\n\t\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\t\telement.attr('name', element.attr('data-element-name')).removeAttr('data-element-name');\n\t\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\ttabElements.on('click', function (e) {\n\t\t\t\t\tquickCreateTabOnHide(tabElements.not('[aria-expanded=\"false\"]').attr('data-target'));\n\t\t\t\t\tquickCreateTabOnShow($(this).attr('data-target'));\n\t\t\t\t\t//while switching tabs we have to clear the invalid fields list\n\t\t\t\t\tform.data('jqv').InvalidFields = [];\n\t\t\t\t});\n\t\t\t\t//To show aleady non active element , this we are doing so that on load we can remove name attributes for other fields\n\t\t\t\ttabElements.filter('a:not(.active)').each(function (e) {\n\t\t\t\t\tquickCreateTabOnHide($(this).attr('data-target'));\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Save quick create form\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t *\n\t\t\t * @return  {Promise}        aDeferred\n\t\t\t */\n\t\t\tsave(form) {\n\t\t\t\tlet aDeferred = $.Deferred();\n\t\t\t\tAppConnector.request(form.serializeFormData())\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t},\n\t\tQuickEdit: {\n\t\t\t/**\n\t\t\t * Show modal\n\t\t\t *\n\t\t\t * @param   {string}  html\n\t\t\t * @param   {object}  params\n\t\t\t */\n\t\t\tshowModal(params = {}, element) {\n\t\t\t\tconst self = this;\n\t\t\t\tparams['view'] = 'QuickEditModal';\n\t\t\t\tAppConnector.request(params).done(function (html) {\n\t\t\t\t\tapp.showModalWindow(html, (container) => {\n\t\t\t\t\t\tlet form = container.find('form[name=\"QuickEdit\"]');\n\t\t\t\t\t\tlet moduleName = form.find('[name=\"module\"]').val();\n\t\t\t\t\t\tlet editViewInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\t\tlet moduleClassName = moduleName + '_QuickEdit_Js';\n\t\t\t\t\t\teditViewInstance.setForm(form);\n\t\t\t\t\t\teditViewInstance.registerBasicEvents(form);\n\t\t\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\t\t\tnew window[moduleClassName]().registerEvents(container);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tform.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t\t\tif (typeof params.callbackPostShown !== 'undefined') {\n\t\t\t\t\t\t\tparams.callbackPostShown(form, params);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.registerPostLoadEvents(form, params, element);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register post load events\n\t\t\t *\n\t\t\t * @param   {object}  form jQuery\n\t\t\t * @param   {object}  params\n\t\t\t *\n\t\t\t * @return  {boolean}\n\t\t\t */\n\t\t\tregisterPostLoadEvents(form, params, element) {\n\t\t\t\tconst submitSuccessCallback = params.callbackFunction || function () {};\n\t\t\t\tconst goToFullFormCallBack = params.goToFullFormcallback || function () {};\n\t\t\t\tform.on('submit', (e) => {\n\t\t\t\t\tconst form = $(e.currentTarget);\n\t\t\t\t\tif (form.hasClass('not_validation')) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tconst moduleName = form.find('[name=\"module\"]').val();\n\t\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\t\tif (typeof form.data('submit') !== 'undefined') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\t\tform.data('submit', 'true');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\tform.trigger(recordPreSaveEvent, {\n\t\t\t\t\t\t\tvalue: 'edit',\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\tconst moduleInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\t\t\tconst saveHandler = !!moduleInstance.quickEditSave ? moduleInstance.quickEditSave : this.save;\n\t\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsaveHandler(form).done((data) => {\n\t\t\t\t\t\t\t\tconst modalContainer = form.closest('.modalContainer');\n\t\t\t\t\t\t\t\tconst parentModuleName = app.getModuleName();\n\t\t\t\t\t\t\t\tconst viewName = app.getViewName();\n\t\t\t\t\t\t\t\tif (modalContainer.length) {\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow(false, modalContainer[0].id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (moduleName === parentModuleName && 'List' === viewName) {\n\t\t\t\t\t\t\t\t\tconst listInstance = new Vtiger_List_Js();\n\t\t\t\t\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubmitSuccessCallback(data);\n\t\t\t\t\t\t\t\tapp.event.trigger('QuickEdit.AfterSaveFinal', data, form, element);\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_SUCCESS'),\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ('Detail' === viewName && app.getRecordId() === form.find('[name=\"record\"]').val()) {\n\t\t\t\t\t\t\t\t\tif (data.result._isViewable == false) {\n\t\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\t\twindow.parent.location.href = 'index.php?module=' + moduleName + '&view=ListPreview';\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\twindow.location.href = 'index.php?module=' + moduleName + '&view=List';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else if (params.removeFromUrl) {\n\t\t\t\t\t\t\t\t\t\tlet searchParams = new URLSearchParams(window.location.search);\n\t\t\t\t\t\t\t\t\t\tsearchParams.delete('step');\n\t\t\t\t\t\t\t\t\t\twindow.location.href = 'index.php?' + searchParams.toString();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//If validation fails in recordPreSaveEvent, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tform.find('.js-full-editlink').on('click', (e) => {\n\t\t\t\t\tconst form = $(e.currentTarget).closest('form');\n\t\t\t\t\tconst editViewUrl = $(e.currentTarget).data('url');\n\t\t\t\t\tgoToFullFormCallBack(form);\n\t\t\t\t\tthis.goToFullForm(form, editViewUrl);\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Function to navigate from quick create to edit iew full form\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t */\n\t\t\tgoToFullForm(form) {\n\t\t\t\tform.find('input[name=\"action\"]').remove();\n\t\t\t\tform.append('<input type=\"hidden\" name=\"view\" value=\"Edit\" />');\n\t\t\t\t$.each(form.find('[data-validation-engine]'), function (key, data) {\n\t\t\t\t\t$(data).removeAttr('data-validation-engine');\n\t\t\t\t});\n\t\t\t\tform.addClass('not_validation');\n\t\t\t\tform.submit();\n\t\t\t},\n\t\t\t/**\n\t\t\t * Save quick create form\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t *\n\t\t\t * @return  {Promise}        aDeferred\n\t\t\t */\n\t\t\tsave(form) {\n\t\t\t\tconst aDeferred = $.Deferred();\n\t\t\t\tform.serializeFormData();\n\t\t\t\tlet formData = new FormData(form[0]);\n\t\t\t\tAppConnector.request({\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tcontentType: false\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t},\n\t\tScrollbar: {\n\t\t\tactive: true,\n\t\t\tdefaults: {\n\t\t\t\tscrollbars: {\n\t\t\t\t\tautoHide: 'leave'\n\t\t\t\t}\n\t\t\t},\n\t\t\tpage: {\n\t\t\t\tinstance: {},\n\t\t\t\telement: null\n\t\t\t},\n\t\t\tinitPage() {\n\t\t\t\tlet scrollbarContainer = $('.mainBody');\n\t\t\t\tif (!scrollbarContainer.length) {\n\t\t\t\t\tscrollbarContainer = $('#page');\n\t\t\t\t}\n\t\t\t\tif (!scrollbarContainer.length) {\n\t\t\t\t\tscrollbarContainer = $('body');\n\t\t\t\t}\n\t\t\t\tif (this.active) {\n\t\t\t\t\tthis.page.instance = this.y(scrollbarContainer);\n\t\t\t\t\tthis.page.element = $(this.page.instance.getElements().viewport);\n\t\t\t\t}\n\t\t\t},\n\t\t\txy(element, options = {}) {\n\t\t\t\treturn element.overlayScrollbars(options).overlayScrollbars();\n\t\t\t},\n\t\t\ty(element, options) {\n\t\t\t\tconst yOptions = {\n\t\t\t\t\toverflowBehavior: {\n\t\t\t\t\t\tx: 'h'\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst mergedOptions = Object.assign(this.defaults, options, yOptions);\n\t\t\t\treturn element.overlayScrollbars(mergedOptions).overlayScrollbars();\n\t\t\t}\n\t\t},\n\t\tDropFile: class {\n\t\t\tconstructor(container, params) {\n\t\t\t\tthis.container = container;\n\t\t\t\tthis.init(params);\n\t\t\t}\n\t\t\t/**\n\t\t\t * Register function\n\t\t\t * @param {jQuery} container\n\t\t\t * @param {Object} params\n\t\t\t */\n\t\t\tstatic register(container, params = {}) {\n\t\t\t\tif (typeof container === 'undefined') {\n\t\t\t\t\tcontainer = $('body');\n\t\t\t\t}\n\t\t\t\tif (container.hasClass('js-drop-container') && !container.prop('disabled')) {\n\t\t\t\t\treturn new App.Components.DropFile(container, params);\n\t\t\t\t}\n\t\t\t\tconst instances = [];\n\t\t\t\tcontainer.find('.js-drop-container').each((_, e) => {\n\t\t\t\t\tinstances.push(new App.Components.DropFile($(e), params));\n\t\t\t\t});\n\t\t\t\treturn instances;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Initiation\n\t\t\t * @param {Object} params\n\t\t\t */\n\t\t\tinit(params) {\n\t\t\t\tlet css = {\n\t\t\t\t\tborder: this.container.css('border'),\n\t\t\t\t\topacity: 'unset'\n\t\t\t\t};\n\t\t\t\tthis.container.bind('dragenter dragover', (e) => {\n\t\t\t\t\t$(e.currentTarget).css({\n\t\t\t\t\t\tborder: '2px dashed #4aa1f3',\n\t\t\t\t\t\topacity: 0.4\n\t\t\t\t\t});\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t\tthis.container.bind('dragleave', (e) => {\n\t\t\t\t\t$(e.currentTarget).css(css);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t\tthis.container.bind('drop', (e) => {\n\t\t\t\t\tlet element = $(e.currentTarget).css(css);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tconst files = e.originalEvent.dataTransfer.files;\n\t\t\t\t\tif (files.length < 1) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tparams.callback =\n\t\t\t\t\t\tparams.callback ||\n\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet formData = new FormData();\n\t\t\t\t\t\t\tfor (let file of files) {\n\t\t\t\t\t\t\t\tformData.append(element.data('field-name'), file, file.name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tformData.append('action', 'SaveAjax');\n\t\t\t\t\t\t\tformData.append('record', element.data('id'));\n\t\t\t\t\t\t\tformData.append('module', element.data('module'));\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tdata: formData,\n\t\t\t\t\t\t\t\tprocessData: false,\n\t\t\t\t\t\t\t\tcontentType: false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_SAVE_NOTIFY_SUCCESS'), type: 'success' });\n\t\t\t\t\t\t\t\t\t\tif (element.closest('.js-detail-widget').length) {\n\t\t\t\t\t\t\t\t\t\t\tVtiger_Detail_Js.getInstance().getFiltersDataAndLoad(e);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_UNEXPECTED_ERROR'), type: 'error' });\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_ERROR'), type: 'error' });\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\tapp.showConfirmModal(app.vtranslate('JS_CHANGE_CONFIRMATION'), (result) => {\n\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\tparams.callback(e, this);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\tNotify: {\n\t\t/**\n\t\t * Check if notifications are allowed\n\t\t */\n\t\tisDesktopPermitted: function () {\n\t\t\treturn typeof Notification !== 'undefined' && Notification.permission === 'granted';\n\t\t},\n\t\t/**\n\t\t * Show desktop notification\n\t\t * @param {Object} params\n\t\t */\n\t\tdesktop: function (params) {\n\t\t\tlet type = 'error';\n\t\t\tparams.modules = new Map([\n\t\t\t\t...PNotify.defaultModules,\n\t\t\t\t[\n\t\t\t\t\tPNotifyDesktop,\n\t\t\t\t\t{\n\t\t\t\t\t\tfallback: false,\n\t\t\t\t\t\ticon: params.icon\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t]);\n\t\t\tif (typeof params.type !== 'undefined') {\n\t\t\t\ttype = params.type;\n\t\t\t\tif (params.type != 'error') {\n\t\t\t\t\tparams.hide = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn PNotify[type](params);\n\t\t}\n\t}\n});\n\nvar app = (window.app = {\n\t/**\n\t * variable stores client side language strings\n\t */\n\tlanguageString: [],\n\tbreakpoints: {\n\t\txs: 0,\n\t\tsm: 576,\n\t\tmd: 768,\n\t\tlg: 992,\n\t\txl: 1200,\n\t\txxl: 1300,\n\t\txxxl: 1700\n\t},\n\tcacheParams: [],\n\tmodalEvents: [],\n\tmousePosition: { x: 0, y: 0 },\n\tchildFrame: false,\n\ttouchDevice: false,\n\tevent: new (function () {\n\t\tthis.el = $({});\n\t\tthis.trigger = function () {\n\t\t\tthis.el.trigger(arguments[0], Array.prototype.slice.call(arguments, 1));\n\t\t};\n\t\tthis.on = function () {\n\t\t\tthis.el.on.apply(this.el, arguments);\n\t\t};\n\t\tthis.one = function () {\n\t\t\tthis.el.one.apply(this.el, arguments);\n\t\t};\n\t\tthis.off = function () {\n\t\t\tthis.el.off.apply(this.el, arguments);\n\t\t};\n\t})(),\n\t/**\n\t * Function to get the module name. This function will get the value from element which has id module\n\t * @return : string - module name\n\t */\n\tgetModuleName: function () {\n\t\treturn this.getMainParams('module');\n\t},\n\t/**\n\t * Function to get the module name. This function will get the value from element which has id module\n\t * @return : string - module name\n\t */\n\tgetParentModuleName: function () {\n\t\treturn this.getMainParams('parent');\n\t},\n\t/**\n\t * Function returns the current view name\n\t */\n\tgetViewName: function () {\n\t\treturn this.getMainParams('view');\n\t},\n\t/**\n\t * Function returns the record id\n\t */\n\tgetRecordId: function () {\n\t\tvar view = this.getViewName();\n\t\tvar recordId;\n\t\tif ($.inArray(view, ['Edit', 'PreferenceEdit', 'Detail', 'PreferenceDetail', 'DetailPreview']) !== -1) {\n\t\t\trecordId = this.getMainParams('recordId');\n\t\t}\n\t\treturn recordId;\n\t},\n\t/**\n\t * Function which will give you all details of the selected record\n\t * @params {object} params - an object of values like {'record' : recordId, 'module' : searchModule, 'fieldType' : 'email'}\n\t */\n\tgetRecordDetails: function (params) {\n\t\tlet aDeferred = $.Deferred();\n\t\tif (app.getParentModuleName() === 'Settings') {\n\t\t\tparams.parent = 'Settings';\n\t\t}\n\t\tAppConnector.request(Object.assign(params, { action: 'GetData' }))\n\t\t\t.done(function (data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.reject(data.message);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.fail(function (error) {\n\t\t\t\taDeferred.reject();\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to get language\n\t */\n\tgetLanguage: function () {\n\t\treturn $('body').data('language');\n\t},\n\t/**\n\t * Function to get page title\n\t */\n\tgetPageTitle: function () {\n\t\treturn document.title;\n\t},\n\t/**\n\t * Function gets current window parent\n\t * @returns {object}\n\t */\n\tgetWindowParent() {\n\t\tif (\n\t\t\ttypeof window.frames[0] !== 'undefined' &&\n\t\t\ttypeof window.frames[0].app !== 'undefined' &&\n\t\t\twindow.frames[0].app.childFrame\n\t\t) {\n\t\t\treturn window.frames[0];\n\t\t} else {\n\t\t\treturn window;\n\t\t}\n\t},\n\t/**\n\t * Check if current window is window top\n\t */\n\tisWindowTop() {\n\t\treturn window.top === window.self;\n\t},\n\t/**\n\t * Function gets current window parent\n\t * @returns {boolean}\n\t */\n\tisTouchDevice() {\n\t\tlet supportsTouch = false;\n\t\tif ('ontouchstart' in window) {\n\t\t\t// iOS & android\n\t\t\tsupportsTouch = true;\n\t\t} else if (window.navigator.msPointerEnabled) {\n\t\t\t// Win8\n\t\t\tsupportsTouch = true;\n\t\t} else if ('ontouchstart' in document.documentElement) {\n\t\t\t//additional check\n\t\t\tsupportsTouch = true;\n\t\t}\n\t\tif (supportsTouch) {\n\t\t\t//remove browser scrollbar visibility (doesn't work in firefox, edge and ie)\n\t\t\t$(\"<style type='text/css'> ::-webkit-scrollbar { display: none;} </style>\").appendTo('head');\n\t\t}\n\t\treturn supportsTouch;\n\t},\n\t/**\n\t * Check if string is json\n\t * @param {string} str\n\t * @returns {boolean}\n\t */\n\tisJsonString(str) {\n\t\ttry {\n\t\t\tJSON.parse(str);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\t/**\n\t * Function to set page title\n\t */\n\tsetPageTitle: function (title) {\n\t\tdocument.title = title;\n\t},\n\t/**\n\t * Function to get the contents container\n\t * @returns jQuery object\n\t */\n\tgetContentsContainer: function () {\n\t\treturn $('.bodyContents');\n\t},\n\thidePopover: function (element) {\n\t\tif (typeof element === 'undefined') {\n\t\t\telement = $('body .js-popover-tooltip');\n\t\t}\n\t\telement.popover('hide');\n\t},\n\thidePopoversAfterClick(popoverParent) {\n\t\tpopoverParent.on('mousedown', (e) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tpopoverParent.popover('hide');\n\t\t\t}, 100);\n\t\t});\n\t},\n\tregisterPopoverManualTrigger(element, manualTriggerDelay) {\n\t\tconst hideDelay = 500;\n\t\telement.on('mouseleave', (e) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet currentPopover = this.getBindedPopover(element);\n\t\t\t\tif (\n\t\t\t\t\t!$(':hover').filter(currentPopover).length &&\n\t\t\t\t\t!currentPopover.find('.js-popover-tooltip--record[aria-describedby]').length\n\t\t\t\t) {\n\t\t\t\t\tcurrentPopover.popover('hide');\n\t\t\t\t}\n\t\t\t}, hideDelay);\n\t\t});\n\n\t\telement.on('mouseenter', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (element.is(':hover')) {\n\t\t\t\t\telement.popover('show');\n\t\t\t\t\tlet currentPopover = this.getBindedPopover(element);\n\t\t\t\t\tcurrentPopover.on('mouseleave', () => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!$(':hover').filter(currentPopover).length &&\n\t\t\t\t\t\t\t\t!currentPopover.find('.js-popover-tooltip--record[aria-describedby]').length\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tcurrentPopover.popover('hide'); //close current popover\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!$(':hover').filter($('.popover')).length) {\n\t\t\t\t\t\t\t\t$('.popover').popover('hide'); //close all popovers\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, hideDelay);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, manualTriggerDelay);\n\t\t});\n\n\t\tapp.hidePopoversAfterClick(element);\n\t},\n\tisEllipsisActive(element) {\n\t\tlet clone = element\n\t\t\t.clone()\n\t\t\t.addClass('u-text-ellipsis--not-active')\n\t\t\t.css(element.css(['font-size', 'font-weight', 'font-family']))\n\t\t\t.appendTo('body');\n\t\tclone.find('.u-text-ellipsis').removeClass('u-text-ellipsis').addClass('u-text-ellipsis--not-active');\n\t\tif (clone.width() - 1 > element.width()) {\n\t\t\tclone.remove();\n\t\t\treturn true;\n\t\t}\n\t\tclone.remove();\n\t\treturn false;\n\t},\n\tshowPopoverElementView: function (selectElement = $('.js-popover-tooltip'), params = {}) {\n\t\tlet defaultParams = {\n\t\t\ttrigger: 'manual',\n\t\t\tmanualTriggerDelay: 500,\n\t\t\tplacement: 'auto',\n\t\t\thtml: true,\n\t\t\ttemplate:\n\t\t\t\t'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n\t\t\tcontainer: 'body',\n\t\t\tboundary: 'viewport',\n\t\t\tdelay: { show: 300, hide: 100 }\n\t\t};\n\t\tselectElement.each(function (index, domElement) {\n\t\t\tlet element = $(domElement);\n\t\t\tlet elementParams = $.extend(true, defaultParams, params, element.data());\n\t\t\tif (element.data('class')) {\n\t\t\t\telementParams.template =\n\t\t\t\t\t'<div class=\"popover ' +\n\t\t\t\t\telement.data('class') +\n\t\t\t\t\t'\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>';\n\t\t\t}\n\t\t\tif (element.hasClass('delay0')) {\n\t\t\t\telementParams.delay = { show: 0, hide: 0 };\n\t\t\t}\n\t\t\telement.popover(elementParams);\n\t\t\tif (elementParams.trigger === 'manual' || typeof elementParams.trigger === 'undefined') {\n\t\t\t\tapp.registerPopoverManualTrigger(element, elementParams.manualTriggerDelay);\n\t\t\t}\n\t\t\tif (elementParams.callbackShown) {\n\t\t\t\telement.on('shown.bs.popover', function (e) {\n\t\t\t\t\telementParams.callbackShown(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\telement.addClass('popover-triggered');\n\t\t});\n\t\treturn selectElement;\n\t},\n\tregisterPopoverEllipsis({\n\t\telement = $('.js-popover-tooltip--ellipsis'),\n\t\tparams = { trigger: 'hover focus' },\n\t\tcontainer = $(window)\n\t} = {}) {\n\t\tconst self = this;\n\t\tparams = {\n\t\t\tcallbackShown: () => {\n\t\t\t\tself.setPopoverPosition(element, container);\n\t\t\t},\n\t\t\ttrigger: 'manual',\n\t\t\tplacement: 'right',\n\t\t\ttemplate:\n\t\t\t\t'<div class=\"popover js-popover--before-positioned\" role=\"tooltip\"><div class=\"popover-body\"></div></div>'\n\t\t};\n\t\tlet popoverText = element.find('.js-popover-text').length ? element.find('.js-popover-text') : element;\n\t\tif (!app.isEllipsisActive(popoverText)) {\n\t\t\telement.addClass('popover-triggered');\n\t\t\treturn;\n\t\t}\n\t\tapp.showPopoverElementView(element, params);\n\t},\n\tregisterPopoverEllipsisIcon(\n\t\tselectElement = $('.js-popover-tooltip--ellipsis-icon'),\n\t\tparams = { trigger: 'hover focus' }\n\t) {\n\t\tselectElement.each(function (index, domElement) {\n\t\t\tlet element = $(domElement);\n\t\t\tlet popoverText = element.find('.js-popover-text').length ? element.find('.js-popover-text') : element;\n\t\t\tif (!app.isEllipsisActive(popoverText)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet iconElement = element.find('.js-popover-icon');\n\t\t\tif (iconElement.length) {\n\t\t\t\telement.find('.js-popover-icon').removeClass('d-none');\n\t\t\t\tparams.selector = '.js-popover-icon';\n\t\t\t}\n\t\t\tapp.showPopoverElementView(element, params);\n\t\t});\n\t},\n\t/**\n\t * Register popover record\n\t * @param {jQuery} selectElement\n\t * @param {object} customParams\n\t */\n\tregisterPopoverRecord: function (\n\t\tselectElement = $('a.js-popover-tooltip--record'),\n\t\tcustomParams = {},\n\t\tcontainer = $(document)\n\t) {\n\t\tconst self = this;\n\t\tapp.showPopoverElementView(selectElement, {\n\t\t\ttemplate:\n\t\t\t\t'<div class=\"popover c-popover--link js-popover--before-positioned\" role=\"tooltip\"><div class=\"popover-body\"></div></div>',\n\t\t\tcontent: '<div class=\"d-none\"></div>',\n\t\t\tmanualTriggerDelay: app.getMainParams('recordPopoverDelay'),\n\t\t\tplacement: 'right',\n\t\t\tcallbackShown: () => {\n\t\t\t\tif (!selectElement.attr('href')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet link = new URL(selectElement.eq(0).attr('href'), window.location.origin);\n\t\t\t\tif (!link.searchParams.get('record') || !link.searchParams.get('view')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet url = link.href;\n\t\t\t\turl = url.replace('view=', 'xview=') + '&view=RecordPopover';\n\t\t\t\tlet currentPopover = self.getBindedPopover(selectElement);\n\t\t\t\tlet popoverBody = currentPopover.find('.popover-body');\n\t\t\t\tpopoverBody.progressIndicator({});\n\t\t\t\tlet appendPopoverData = (data) => {\n\t\t\t\t\tpopoverBody.progressIndicator({ mode: 'hide' }).html(data);\n\t\t\t\t\tif (typeof customParams.callback === 'function') {\n\t\t\t\t\t\tcustomParams.callback(popoverBody);\n\t\t\t\t\t}\n\t\t\t\t\tself.setPopoverPosition(selectElement, container);\n\t\t\t\t};\n\t\t\t\tlet cacheData = window.popoverCache[url];\n\t\t\t\tif (typeof cacheData !== 'undefined') {\n\t\t\t\t\tappendPopoverData(cacheData);\n\t\t\t\t} else {\n\t\t\t\t\tAppConnector.request(url).done((data) => {\n\t\t\t\t\t\twindow.popoverCache[url] = data;\n\t\t\t\t\t\tappendPopoverData(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Update popover record position (overwrite bootstrap positioning, failing on huge elements)\n\t * @param {jQuery} popover\n\t * @param {number} offsetLeft\n\t */\n\tsetPopoverPosition(popoverElement, container = $(window)) {\n\t\tlet popover = this.getBindedPopover(popoverElement);\n\t\tif (!popover.length) {\n\t\t\treturn;\n\t\t}\n\t\tconst iframeOffset = this.computePopoverIframeOffset(popoverElement);\n\t\tlet windowHeight = $(window).height(),\n\t\t\twindowWidth = $(window).width(),\n\t\t\tpopoverPadding = 10,\n\t\t\tpopoverBody = popover.find('.popover-body'),\n\t\t\tpopoverHeight = popoverBody.height(),\n\t\t\tpopoverWidth = popoverBody.width(),\n\t\t\toffsetTop = app.mousePosition.y + iframeOffset.top,\n\t\t\toffsetLeft = app.mousePosition.x + iframeOffset.left;\n\t\tif (popoverHeight + offsetTop + popoverPadding > windowHeight) {\n\t\t\toffsetTop = offsetTop - popoverHeight - popoverPadding;\n\t\t}\n\t\tif (popoverWidth + offsetLeft + popoverPadding > windowWidth) {\n\t\t\toffsetLeft = windowWidth - popoverWidth;\n\t\t}\n\t\tpopover.css({\n\t\t\ttransform: `translate3d(${offsetLeft}px, ${offsetTop}px, 0)`\n\t\t});\n\t\tpopover.removeClass('js-popover--before-positioned');\n\t\tpopoverElement.one('hide.bs.popover', () => {\n\t\t\tpopover.addClass('js-popover--before-positioned');\n\t\t});\n\t},\n\t/**\n\t * Compute popover iframe offset\n\t *\n\t * @param   {Object}  popoverElement  jquery\n\t *\n\t * @return  {Object}                  offset top and left\n\t */\n\tcomputePopoverIframeOffset(popoverElement) {\n\t\tlet iframeOffsetTop = 0;\n\t\tlet iframeOffsetLeft = 0;\n\t\tif (!$(document).find(popoverElement).length) {\n\t\t\tlet iframe = $(document).find('iframe');\n\t\t\tconst iframeOffset = iframe.offset();\n\t\t\tiframeOffsetTop += iframeOffset.top;\n\t\t\tiframeOffsetLeft += iframeOffset.left;\n\t\t\tif (!iframe.contents().find(popoverElement).length) {\n\t\t\t\tlet iframe2 = iframe.contents().find('iframe');\n\t\t\t\tconst iframeOffset2 = iframe2.offset();\n\t\t\t\tiframeOffsetTop += iframeOffset2.top;\n\t\t\t\tiframeOffsetLeft += iframeOffset2.left;\n\t\t\t}\n\t\t}\n\t\treturn { top: iframeOffsetTop, left: iframeOffsetLeft };\n\t},\n\t/**\n\t * Get binded popover\n\t * @param {jQuery} element\n\t * @returns {Mixed|jQuery|HTMLElement}\n\t */\n\tgetBindedPopover(element) {\n\t\treturn $(`#${element.attr('aria-describedby')}`);\n\t},\n\t/**\n\t * Function to check the maximum selection size of multiselect and update the results\n\t * @params <object> multiSelectElement\n\t * @params <object> select2 params\n\t */\n\tregisterChangeEventForMultiSelect: function (selectElement, params) {\n\t\tif (typeof selectElement === 'undefined') {\n\t\t\treturn;\n\t\t}\n\t\tvar instance = selectElement.data('select2');\n\t\tvar limit = params.maximumSelectionLength;\n\t\tselectElement.on('change', function (e) {\n\t\t\tvar data = instance.data();\n\t\t\tif ($.isArray(data) && data.length >= limit) {\n\t\t\t\tinstance.updateResults();\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function to get data of the child elements in serialized format\n\t * @params <object> parentElement - element in which the data should be serialized. Can be selector , domelement or jquery object\n\t * @params <String> returnFormat - optional which will indicate which format return value should be valid values \"object\" and \"string\"\n\t * @return <object> - encoded string or value map\n\t */\n\tgetSerializedData: function (parentElement, returnFormat) {\n\t\tif (typeof returnFormat === 'undefined') {\n\t\t\treturnFormat = 'string';\n\t\t}\n\n\t\tparentElement = $(parentElement);\n\n\t\tvar encodedString = parentElement.children().serialize();\n\t\tif (returnFormat == 'string') {\n\t\t\treturn encodedString;\n\t\t}\n\t\tvar keyValueMap = {};\n\t\tvar valueList = encodedString.split('&');\n\n\t\tfor (var index in valueList) {\n\t\t\tvar keyValueString = valueList[index];\n\t\t\tvar keyValueArr = keyValueString.split('=');\n\t\t\tvar nameOfElement = keyValueArr[0];\n\t\t\tvar valueOfElement = keyValueArr[1];\n\t\t\tkeyValueMap[nameOfElement] = decodeURIComponent(valueOfElement);\n\t\t}\n\t\treturn keyValueMap;\n\t},\n\tshowModalData(data, container, paramsObject, cb, url, sendByAjaxCb) {\n\t\tconst thisInstance = this;\n\t\tlet params = {\n\t\t\tshow: true\n\t\t};\n\t\tif (!app.getMainParams('backgroundClosingModal')) {\n\t\t\tparams.backdrop = 'static';\n\t\t\tparams.keyboard = false;\n\t\t}\n\t\tif (typeof paramsObject === 'object') {\n\t\t\tcontainer.css(paramsObject);\n\t\t\tparams = $.extend(params, paramsObject);\n\t\t}\n\t\tcontainer.html(data);\n\t\tif (container.find('.modal').hasClass('static')) {\n\t\t\tparams.backdrop = 'static';\n\t\t}\n\t\t// In a modal dialog elements can be specified which can receive focus even though they are not descendants of the modal dialog.\n\t\t$.fn.modal.Constructor.prototype.enforceFocus = function (e) {\n\t\t\t$(document)\n\t\t\t\t.off('focusin.bs.modal') // guard against infinite focus loop\n\t\t\t\t.on(\n\t\t\t\t\t'focusin.bs.modal',\n\t\t\t\t\t$.proxy(function (e) {\n\t\t\t\t\t\tif ($(e.target).hasClass('select2-search__field')) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this)\n\t\t\t\t);\n\t\t};\n\t\tconst modalContainer = container.find('.modal:first');\n\t\tmodalContainer.one('shown.bs.modal', function () {\n\t\t\tthisInstance.registerDataTables(modalContainer.find('.js-modal-data-table'));\n\t\t\tcb(modalContainer);\n\t\t\tApp.Fields.Picklist.changeSelectElementView(modalContainer);\n\t\t\tApp.Fields.Date.register(modalContainer);\n\t\t\tApp.Fields.Text.Editor.register(modalContainer.find('.js-editor'), {\n\t\t\t\theight: '5em',\n\t\t\t\ttoolbar: 'Min'\n\t\t\t});\n\t\t\tapp.registesterScrollbar(modalContainer);\n\t\t\tapp.registerIframeEvents(modalContainer);\n\t\t\tmodalContainer.find('.modal-dialog').draggable({\n\t\t\t\thandle: '.modal-title'\n\t\t\t});\n\t\t\tmodalContainer.find('.modal-title').css('cursor', 'move');\n\t\t});\n\t\t$('body').append(container);\n\t\tmodalContainer.modal(params);\n\t\tthisInstance.registerModalEvents(modalContainer, sendByAjaxCb);\n\t},\n\tshowModalWindow: function (data, url, cb, paramsObject = {}) {\n\t\tif (!app.isCurrentWindowTarget('app.showModalWindow', arguments)) {\n\t\t\treturn false;\n\t\t}\n\t\tconst thisInstance = this;\n\t\tlet sendByAjaxCb, modalId;\n\t\tmodalId = 'modal_' + Math.random().toString(36).substr(2, 9);\n\t\t//null is also an object\n\t\tif (typeof data === 'object' && data != null && !(data instanceof $)) {\n\t\t\tif (data.id != undefined) {\n\t\t\t\tmodalId = data.id;\n\t\t\t}\n\t\t\tparamsObject = data.css;\n\t\t\tcb = data.cb;\n\t\t\turl = data.url;\n\t\t\tif (data.sendByAjaxCb !== 'undefined') {\n\t\t\t\tsendByAjaxCb = data.sendByAjaxCb;\n\t\t\t}\n\t\t\tdata = data.data;\n\t\t} else if (typeof data === 'string') {\n\t\t\tlet modalData = $(data).last();\n\t\t\tif (modalData.data('modalid')) {\n\t\t\t\tmodalId = modalData.data('modalid');\n\t\t\t}\n\t\t}\n\t\tif (typeof url === 'function') {\n\t\t\tif (typeof cb === 'object') {\n\t\t\t\tparamsObject = cb;\n\t\t\t}\n\t\t\tcb = url;\n\t\t\turl = false;\n\t\t} else if (typeof url === 'object') {\n\t\t\tcb = function () {};\n\t\t\tparamsObject = url;\n\t\t\turl = false;\n\t\t}\n\t\tif (typeof cb !== 'function') {\n\t\t\tcb = function () {};\n\t\t}\n\t\tif (typeof sendByAjaxCb !== 'function') {\n\t\t\tsendByAjaxCb = function () {};\n\t\t}\n\t\tif (paramsObject !== undefined && paramsObject.modalId !== undefined) {\n\t\t\tmodalId = paramsObject.modalId;\n\t\t}\n\t\t// prevent duplicate hash generation\n\t\tlet container = $('#' + modalId);\n\t\tif (container.length) {\n\t\t\tcontainer.remove();\n\t\t}\n\t\tcontainer = $('<div></div>');\n\t\tcontainer.attr('id', modalId).addClass('modalContainer js-modal-container');\n\t\tcontainer.one('hidden.bs.modal', function () {\n\t\t\tcontainer.remove();\n\t\t\tlet backdrop = $('.modal-backdrop');\n\t\t\tif (!$('.modal.show').length) {\n\t\t\t\tbackdrop.remove();\n\t\t\t}\n\t\t\tif (backdrop.length > 0) {\n\t\t\t\t$('body').addClass('modal-open');\n\t\t\t}\n\t\t});\n\t\tWindow.lastModalId = modalId;\n\t\tif (data) {\n\t\t\tthisInstance.showModalData(data, container, paramsObject, cb, url, sendByAjaxCb);\n\t\t} else {\n\t\t\t$.get(url).done(function (response) {\n\t\t\t\tthisInstance.showModalData(response, container, paramsObject, cb, url, sendByAjaxCb);\n\t\t\t});\n\t\t}\n\t\treturn container;\n\t},\n\t/**\n\t * Check if current window is target for a modal and trigger in correct window if not\n\t *\n\t * @param   {String}  sourceFunction  source function name in dot prop notation object\n\t * @param   {Array}  args            source function arguments\n\t *\n\t * @return  {Boolean}                  isCurrentWindowTarget\n\t */\n\tisCurrentWindowTarget(sourceFunction, args) {\n\t\tlet isCurrentWindowTarget = true;\n\t\tif (CONFIG.modalTarget === 'parentIframe') {\n\t\t\tthis.childFrame = true;\n\t\t\tsourceFunction = sourceFunction.split('.');\n\t\t\tsourceFunction.unshift('parent');\n\t\t\tsourceFunction = sourceFunction.reduce((o, i) => o[i], window);\n\t\t\tsourceFunction.apply(window.parent.app, args);\n\t\t\tisCurrentWindowTarget = false;\n\t\t}\n\t\treturn isCurrentWindowTarget;\n\t},\n\t/**\n\t * Function which you can use to hide the modal\n\t * This api assumes that we are using block ui plugin and uses unblock api to unblock it\n\t */\n\thideModalWindow: function (callback, id) {\n\t\tif (!app.isCurrentWindowTarget('app.hideModalWindow', arguments)) {\n\t\t\treturn false;\n\t\t}\n\t\tlet container;\n\t\tif (callback && typeof callback === 'object') {\n\t\t\tcontainer = callback;\n\t\t} else if (id == undefined) {\n\t\t\tcontainer = $('.modalContainer');\n\t\t} else {\n\t\t\tcontainer = $('#' + id);\n\t\t}\n\t\tif (container.length <= 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof callback !== 'function') {\n\t\t\tcallback = function () {};\n\t\t}\n\t\tlet modalContainer = container.find('.modal');\n\t\tmodalContainer.modal('hide');\n\t\tlet backdrop = $('.modal-backdrop:last');\n\t\tif ($('.modalContainer').length == 0 && backdrop.length) {\n\t\t\tbackdrop.remove();\n\t\t}\n\t\tmodalContainer.one('hidden.bs.modal', callback);\n\t},\n\tregisterModalController: function (modalId, modalContainer, cb) {\n\t\tlet windowParent = this.childFrame ? window.parent : window;\n\t\tif (!modalId) {\n\t\t\tmodalId = Window.lastModalId;\n\t\t}\n\t\tif (!modalContainer) {\n\t\t\tmodalContainer = $('#' + modalId + ' .js-modal-data');\n\t\t}\n\t\tlet moduleName = modalContainer.data('module') || 'Base';\n\t\tlet modalClass = moduleName.replace(':', '_') + '_' + modalContainer.data('view') + '_JS';\n\t\tif (typeof windowParent[modalClass] === 'undefined') {\n\t\t\tmodalClass = 'Base_' + modalContainer.data('view') + '_JS';\n\t\t}\n\t\tif (typeof windowParent[modalClass] !== 'undefined') {\n\t\t\tlet instance = new windowParent[modalClass]();\n\t\t\tif (typeof cb === 'function') {\n\t\t\t\tcb(modalContainer, instance);\n\t\t\t}\n\t\t\tinstance.registerEvents(modalContainer);\n\t\t\tif (modalId && app.modalEvents[modalId]) {\n\t\t\t\tapp.modalEvents[modalId](modalContainer, instance);\n\t\t\t}\n\t\t}\n\t},\n\tregisterModalEvents: function (container, sendByAjaxCb) {\n\t\tlet form = container.find('form');\n\t\tlet validationForm = false;\n\t\tif (form.hasClass('validateForm') || form.hasClass('js-validate-form')) {\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tvalidationForm = true;\n\t\t}\n\t\tif (container.data('view') === 'QuickDetailModal') {\n\t\t\tthis.registerBlockAnimationEvent(container);\n\t\t}\n\t\tif (form.hasClass('sendByAjax') || form.hasClass('js-send-by-ajax')) {\n\t\t\tform.on('submit', function (e) {\n\t\t\t\tlet save = true;\n\t\t\t\te.preventDefault();\n\t\t\t\tif (validationForm && form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t\tsave = false;\n\t\t\t\t}\n\t\t\t\tif (save) {\n\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t});\n\t\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\t\tAppConnector.request(formData)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\tsendByAjaxCb(formData, responseData);\n\t\t\t\t\t\t\tif (responseData.success && responseData.result) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.procesStop) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tregisterFormsEvents: function (container) {\n\t\tlet forms = container.find('form.js-form-ajax-submit,form.js-form-single-save');\n\t\tforms.each((i, form) => {\n\t\t\tform = $(form);\n\t\t\tlet validationForm = false;\n\t\t\tif (form.hasClass('js-validate-form')) {\n\t\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\t\tvalidationForm = true;\n\t\t\t}\n\t\t\tif (form.hasClass('js-form-single-save')) {\n\t\t\t\tform.find('select,input').on('change', function () {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tif (validationForm && element.validationEngine('validate')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t});\n\t\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\t\tlet name = element.attr('name').replace('[]', '');\n\t\t\t\t\tformData['updateField'] = name;\n\t\t\t\t\tformData['updateValue'] = formData[name];\n\t\t\t\t\tAppConnector.request(formData)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\tif (responseData.success && responseData.result) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tapp.showNotify(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\t\t\t\ttext: error,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (form.hasClass('js-form-ajax-submit')) {\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\tlet save = true;\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (validationForm && form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t\t\tsave = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (save) {\n\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request(form.serializeFormData())\n\t\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\t\tif (responseData.success && responseData.result) {\n\t\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tisHidden: function (element) {\n\t\tif (element.css('display') == 'none') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tisInvisible: function (element) {\n\t\tif (element.css('visibility') == 'hidden') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Default validation eninge options\n\t */\n\tvalidationEngineOptions: {\n\t\t// Avoid scroll decision and let it scroll up page when form is too big\n\t\t// Reference: http://www.position-absolute.com/articles/jquery-form-validator-because-form-validation-is-a-mess/\n\t\tscroll: false,\n\t\tpromptPosition: 'topLeft',\n\t\t//to support validation for select2 select box\n\t\tprettySelect: true,\n\t\tusePrefix: 's2id_'\n\t},\n\tvalidationEngineOptionsForRecord: {\n\t\tscroll: false,\n\t\tpromptPosition: 'topLeft',\n\t\t//to support validation for select2 select box\n\t\tprettySelect: true,\n\t\tusePrefix: 's2id_',\n\t\tonBeforePromptType: function (field) {\n\t\t\tvar block = field.closest('.js-toggle-panel');\n\t\t\tif (block.find('.blockContent').is(':hidden')) {\n\t\t\t\tblock.find('.blockHeader').click();\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Default scroll options\n\t */\n\tscrollOptions: {\n\t\twheelSpeed: 0.1\n\t},\n\t/**\n\t * Function to push down the error message size when validation is invoked\n\t * @params : form Element\n\t */\n\tformAlignmentAfterValidation: function (form) {\n\t\t// to avoid hiding of error message under the fixed nav bar\n\t\tvar formError = form.find(\".formError:not('.greenPopup'):first\");\n\t\tif (formError.length > 0) {\n\t\t\tvar destination = formError.offset().top;\n\t\t\tvar resizedDestnation = destination - 105;\n\t\t\t$('html').animate(\n\t\t\t\t{\n\t\t\t\t\tscrollTop: resizedDestnation\n\t\t\t\t},\n\t\t\t\t'slow'\n\t\t\t);\n\t\t}\n\t},\n\tconvertToDatePickerFormat: function (dateFormat) {\n\t\tswitch (dateFormat) {\n\t\t\tcase 'yyyy-mm-dd':\n\t\t\t\treturn 'Y-m-d';\n\t\t\tcase 'mm-dd-yyyy':\n\t\t\t\treturn 'm-d-Y';\n\t\t\tcase 'dd-mm-yyyy':\n\t\t\t\treturn 'd-m-Y';\n\t\t\tcase 'yyyy.mm.dd':\n\t\t\t\treturn 'Y.m.d';\n\t\t\tcase 'mm.dd.yyyy':\n\t\t\t\treturn 'm.d.Y';\n\t\t\tcase 'dd.mm.yyyy':\n\t\t\t\treturn 'd.m.Y';\n\t\t\tcase 'yyyy/mm/dd':\n\t\t\t\treturn 'Y/m/d';\n\t\t\tcase 'mm/dd/yyyy':\n\t\t\t\treturn 'm/d/Y';\n\t\t\tcase 'dd/mm/yyyy':\n\t\t\t\treturn 'd/m/Y';\n\t\t}\n\t},\n\tconvertTojQueryDatePickerFormat: function (dateFormat) {\n\t\tlet i,\n\t\t\tdotMode = '-';\n\t\tif (dateFormat.indexOf('-') !== -1) {\n\t\t\tdotMode = '-';\n\t\t}\n\t\tif (dateFormat.indexOf('.') !== -1) {\n\t\t\tdotMode = '.';\n\t\t}\n\t\tif (dateFormat.indexOf('/') !== -1) {\n\t\t\tdotMode = '/';\n\t\t}\n\t\tlet splitDateFormat = dateFormat.split(dotMode);\n\t\tfor (i in splitDateFormat) {\n\t\t\tlet sectionDate = splitDateFormat[i];\n\t\t\tif (sectionDate.length === 4) {\n\t\t\t\tsplitDateFormat[i] = sectionDate.substring(0, 2);\n\t\t\t}\n\t\t}\n\t\treturn splitDateFormat.join(dotMode);\n\t},\n\t/*\n\t * Converts user formated date to database format yyyy-mm-dd\n\t */\n\tgetDateInDBInsertFormat: function (dateFormat, dateString) {\n\t\tvar i = 0;\n\t\tvar dotMode = '-';\n\t\tif (dateFormat.indexOf('-') !== -1) {\n\t\t\tdotMode = '-';\n\t\t} else if (dateFormat.indexOf('.') !== -1) {\n\t\t\tdotMode = '.';\n\t\t} else if (dateFormat.indexOf('/') !== -1) {\n\t\t\tdotMode = '/';\n\t\t}\n\t\tvar dateFormatParts = dateFormat.split(dotMode);\n\t\tvar day = '',\n\t\t\tmonth = '',\n\t\t\tyear = '';\n\t\tvar dateParts = dateString.split(dotMode);\n\t\tfor (i in dateFormatParts) {\n\t\t\tvar sectionDate = dateFormatParts[i];\n\t\t\tswitch (sectionDate) {\n\t\t\t\tcase 'dd':\n\t\t\t\t\tday = dateParts[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mm':\n\t\t\t\t\tmonth = dateParts[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'yyyy':\n\t\t\t\t\tyear = dateParts[i];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn year + '-' + month + '-' + day;\n\t},\n\n\tregisterBlockAnimationEvent: function (container = false) {\n\t\tlet detailViewContentHolder = $('div.details div.contents');\n\t\tlet blockHeader = detailViewContentHolder.find('.blockHeader');\n\t\tif (container !== false) {\n\t\t\tblockHeader = container.find('.blockHeader');\n\t\t}\n\t\tblockHeader.on('click', function (e) {\n\t\t\tconst target = $(e.target);\n\t\t\tif (\n\t\t\t\ttarget.is('input') ||\n\t\t\t\ttarget.is('button') ||\n\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet currentTarget = $(this).find('.js-block-toggle').not('.d-none');\n\t\t\tlet blockId = currentTarget.data('id');\n\t\t\tlet closestBlock = currentTarget.closest('.js-toggle-panel');\n\t\t\tlet bodyContents = closestBlock.find('.blockContent');\n\t\t\tlet data = currentTarget.data();\n\t\t\tlet module = app.getModuleName();\n\t\t\tif (data.mode === 'show') {\n\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\tapp.cacheSet(module + '.' + blockId, 0);\n\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\tclosestBlock.find('[data-mode=\"hide\"]').removeClass('d-none');\n\t\t\t} else {\n\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\tapp.cacheSet(module + '.' + blockId, 1);\n\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\tclosestBlock.find('[data-mode=\"show\"]').removeClass('d-none');\n\t\t\t}\n\t\t});\n\t},\n\n\tregisterEventForDateFields: function (parentElement) {\n\t\tif (typeof parentElement === 'undefined') {\n\t\t\tparentElement = $('body');\n\t\t}\n\n\t\tparentElement = $(parentElement);\n\t\tlet element;\n\t\tif (parentElement.hasClass('dateField')) {\n\t\t\telement = parentElement;\n\t\t} else {\n\t\t\telement = $('.dateField', parentElement);\n\t\t}\n\t\telement.datepicker({ autoclose: true }).on('changeDate', function (ev) {\n\t\t\tlet currentElement = $(ev.currentTarget),\n\t\t\t\tdateFormat = currentElement.data('dateFormat').toUpperCase(),\n\t\t\t\tdate = $.datepicker.formatDate(moment(ev.date).format(dateFormat), ev.date);\n\t\t\tcurrentElement.val(date);\n\t\t});\n\t\tApp.Fields.Utils.hideMobileKeyboard(element);\n\t},\n\tregisterEventForClockPicker: function (timeInputs = $('.clockPicker')) {\n\t\tif (!timeInputs.hasClass('clockPicker')) {\n\t\t\ttimeInputs = timeInputs.find('.clockPicker');\n\t\t}\n\t\tif (!timeInputs.length) {\n\t\t\treturn;\n\t\t}\n\t\tlet params = {\n\t\t\tplacement: 'bottom',\n\t\t\tautoclose: true,\n\t\t\tminutestep: 5\n\t\t};\n\n\t\t$('.js-clock__btn').on('click', (e) => {\n\t\t\te.stopPropagation();\n\t\t\tlet tempElement = $(e.currentTarget).closest('.time').find('input.clockPicker');\n\t\t\tif (tempElement.attr('disabled') !== 'disabled' && tempElement.attr('readonly') !== 'readonly') {\n\t\t\t\ttempElement.clockpicker('show');\n\t\t\t}\n\t\t});\n\n\t\tlet formatTimeString = (timeInput) => {\n\t\t\tif (params.twelvehour) {\n\t\t\t\tlet meridiemTime = '';\n\t\t\t\tparams.afterDone = () => {\n\t\t\t\t\t//format time string after picking a value\n\t\t\t\t\tlet timeString = timeInput.val(),\n\t\t\t\t\t\ttimeStringFormatted = timeString.slice(0, timeString.length - 2) + ' ' + meridiemTime;\n\t\t\t\t\ttimeInput.val(timeStringFormatted);\n\t\t\t\t\tapp.event.trigger('Clockpicker.changed', timeInput);\n\t\t\t\t};\n\t\t\t\tparams.beforeHide = () => {\n\t\t\t\t\tmeridiemTime = $('.clockpicker-buttons-am-pm:visible').find('a:not(.text-white-50)').text();\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tparams.afterDone = () => {\n\t\t\t\t\tapp.event.trigger('Clockpicker.changed', timeInput);\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\ttimeInputs.each((i, e) => {\n\t\t\tlet timeInput = $(e);\n\t\t\tlet formatTime = timeInputs.data('format') || CONFIG.hourFormat;\n\t\t\tparams.twelvehour = parseInt(formatTime) === 12 ? true : false;\n\t\t\tformatTimeString(timeInput);\n\t\t\ttimeInput.clockpicker(params);\n\t\t});\n\t\tApp.Fields.Utils.hideMobileKeyboard(timeInputs);\n\t},\n\tregisterDataTables: function (table, options = {}) {\n\t\tif ($.fn.dataTable == undefined) {\n\t\t\treturn false;\n\t\t}\n\t\tif (table.length == 0) {\n\t\t\treturn false;\n\t\t}\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn table.DataTable(options);\n\t},\n\t/**\n\t * Function to get the select2 element from the raw select element\n\t * @params: select element\n\t * @return : select2Element - corresponding select2 element\n\t */\n\tgetSelect2ElementFromSelect: function (selectElement) {\n\t\tvar selectId = selectElement.attr('id');\n\t\t//since select2 will add s2id_ to the id of select element\n\t\tvar select2EleId = 'select2-' + selectId + '-container';\n\t\treturn $('#' + select2EleId).closest('.select2-container');\n\t},\n\t/**\n\t * Function to set with of the element to parent width\n\t * @params : jQuery element for which the action to take place\n\t */\n\tsetInheritWidth: function (elements) {\n\t\t$(elements).each(function (index, element) {\n\t\t\tvar parentWidth = $(element).parent().width();\n\t\t\t$(element).width(parentWidth);\n\t\t});\n\t},\n\tshowNewScrollbar: function (element, options = { wheelPropagation: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\treturn new PerfectScrollbar(element[0], Object.assign(this.scrollOptions, options));\n\t},\n\tshowNewScrollbarTopBottomRight: function (element, options = {}) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tlet scrollbarTopLeftInit = new PerfectScrollbar(element[0], options);\n\t\tlet scrollbarTopElement = element.find('.ps__rail-x').first();\n\t\tscrollbarTopElement.css({\n\t\t\ttop: 0,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tscrollbarTopElement.find('.ps__thumb-x').css({\n\t\t\ttop: 2,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tlet scrollbarBottomRightInit = new PerfectScrollbar(element[0], options);\n\t\treturn [scrollbarTopLeftInit, scrollbarBottomRightInit];\n\t},\n\tshowNewScrollbarTopBottom: function (element, options = { wheelPropagation: true, suppressScrollY: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tvar scrollbarTopElement = element.find('.ps__rail-x').first();\n\t\tscrollbarTopElement.css({\n\t\t\ttop: 0,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tscrollbarTopElement.find('.ps__thumb-x').css({\n\t\t\ttop: 2,\n\t\t\tbottom: 'auto'\n\t\t});\n\t},\n\tshowNewScrollbarTop: function (element, options = { wheelPropagation: true, suppressScrollY: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tvar scrollbarTopElement = element.find('.ps__rail-x').first();\n\t\tscrollbarTopElement.css({\n\t\t\ttop: 0,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tscrollbarTopElement.find('.ps__thumb-x').css({\n\t\t\ttop: 2,\n\t\t\tbottom: 'auto'\n\t\t});\n\t},\n\tshowNewScrollbarLeft: function (element, options = { wheelPropagation: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tvar scrollbarLeftElement = element.children('.ps__rail-y').first();\n\t\tscrollbarLeftElement.css({\n\t\t\tleft: 0,\n\t\t\tright: 'auto'\n\t\t});\n\t\tscrollbarLeftElement.find('.ps__thumb-y').css({\n\t\t\tleft: 2,\n\t\t\tright: 'auto'\n\t\t});\n\t},\n\tshowScrollBar: function (element, options = {}) {\n\t\tif (typeof options.height === 'undefined') options.height = element.css('height');\n\t\treturn element.slimScroll(options);\n\t},\n\t/**\n\t * Register middle scroll hack for scrollbar libraries\n\t * @param {jQuery} container\n\t */\n\tregisterMiddleClickScroll(container) {\n\t\tlet middleScroll = false;\n\t\tcontainer.on('mousedown', (e) => {\n\t\t\tlet clickedMouseButton = e.which; // get clicked button id\n\t\t\tif (clickedMouseButton == 2 && middleScroll == false) {\n\t\t\t\tmiddleScroll = true;\n\t\t\t\tlet mouseY = e.pageY,\n\t\t\t\t\tmouseX = e.pageX;\n\t\t\t\t$(document).on('mousemove', (e) => {\n\t\t\t\t\tif (middleScroll == true) {\n\t\t\t\t\t\t$('body').addClass('u-cursor-scroll-all');\n\t\t\t\t\t\tlet mouseMoveY = mouseY - e.pageY,\n\t\t\t\t\t\t\tscrollSlowerRate = 100, // higher number = slower scroll\n\t\t\t\t\t\t\tcontentScrollY = container.scrollTop(),\n\t\t\t\t\t\t\tscrollerY = contentScrollY - mouseMoveY - scrollSlowerRate,\n\t\t\t\t\t\t\tmouseMoveX = mouseX - e.pageX,\n\t\t\t\t\t\t\tcontentScrollX = container.scrollLeft(),\n\t\t\t\t\t\t\tscrollerX = contentScrollX - mouseMoveX - scrollSlowerRate;\n\t\t\t\t\t\tcontainer.scrollTop(scrollerY);\n\t\t\t\t\t\tcontainer.scrollLeft(scrollerX);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tcontainer.on('mouseup', () => {\n\t\t\t$('body').removeClass('u-cursor-scroll-all');\n\t\t\tmiddleScroll = false;\n\t\t});\n\t},\n\t/**\n\t * Function returns translated string\n\t */\n\tvtranslate: function (key) {\n\t\tif (key in LANG) {\n\t\t\treturn LANG[key];\n\t\t}\n\t\treturn key;\n\t},\n\t/*\n\t * Cache API on client-side\n\t */\n\tcacheNSKey: function (key) {\n\t\t// Namespace in client-storage\n\t\treturn 'yf.' + key;\n\t},\n\tcacheGet: function (key) {\n\t\tkey = this.cacheNSKey(key);\n\t\treturn store.get(key);\n\t},\n\tcacheSet: function (key, value) {\n\t\tkey = this.cacheNSKey(key);\n\t\tstore.set(key, value);\n\t},\n\tcacheClear: function (key) {\n\t\tkey = this.cacheNSKey(key);\n\t\treturn store.remove(key);\n\t},\n\tmoduleCacheSet: function (key, value) {\n\t\tvar orgKey = key;\n\t\tkey = this.getModuleName() + '_' + key;\n\t\tthis.cacheSet(key, value);\n\n\t\tvar cacheKey = 'mCache' + this.getModuleName();\n\t\tvar moduleCache = this.cacheGet(cacheKey);\n\t\tif (moduleCache == null) {\n\t\t\tmoduleCache = [];\n\t\t} else {\n\t\t\tmoduleCache = moduleCache.split(',');\n\t\t}\n\t\tmoduleCache.push(orgKey);\n\t\tthis.cacheSet(cacheKey, Vtiger_Helper_Js.unique(moduleCache).join(','));\n\t},\n\tmoduleCacheGet: function (key) {\n\t\treturn this.cacheGet(this.getModuleName() + '_' + key);\n\t},\n\tmoduleCacheKeys: function () {\n\t\tvar cacheKey = 'mCache' + this.getModuleName();\n\t\tvar modules = this.cacheGet(cacheKey);\n\t\tif (modules) {\n\t\t\treturn modules.split(',');\n\t\t}\n\t\treturn [];\n\t},\n\tmoduleCacheClear: function (key) {\n\t\tvar thisInstance = this;\n\t\tvar moduleName = this.getModuleName();\n\t\tvar cacheKey = 'mCache' + moduleName;\n\t\tvar moduleCache = this.cacheGet(cacheKey);\n\t\tif (moduleCache == null) {\n\t\t\tmoduleCache = [];\n\t\t} else {\n\t\t\tmoduleCache = moduleCache.split(',');\n\t\t}\n\t\t$.each(moduleCache, function (index, value) {\n\t\t\tthisInstance.cacheClear(moduleName + '_' + value);\n\t\t});\n\t\tthisInstance.cacheClear(cacheKey);\n\t},\n\thtmlEncode: function (value) {\n\t\tif (value) {\n\t\t\treturn $('<div />').text(value).html();\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t},\n\thtmlDecode: function (value) {\n\t\tif (value) {\n\t\t\treturn $('<div />').html(value).text();\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t},\n\t/**\n\t * Function places an element at the center of the page\n\t * @param <jQuery Element> element\n\t */\n\tplaceAtCenter: function (element) {\n\t\telement.css('position', 'absolute');\n\t\telement.css('top', ($(window).height() - element.outerHeight()) / 2 + $(window).scrollTop() + 'px');\n\t\telement.css('left', ($(window).width() - element.outerWidth()) / 2 + $(window).scrollLeft() + 'px');\n\t},\n\tgetvalidationEngineOptions: function (select2Status) {\n\t\treturn Object.assign({}, app.validationEngineOptions);\n\t},\n\t/**\n\t * Function to notify UI page ready after AJAX changes.\n\t * This can help in re-registering the event handlers (which was done during ready event).\n\t */\n\tnotifyPostAjaxReady: function () {\n\t\t$(document).trigger('postajaxready');\n\t},\n\t/**\n\t * Listen to xready notiications.\n\t */\n\tlistenPostAjaxReady: function (callback) {\n\t\t$(document).on('postajaxready', callback);\n\t},\n\t/**\n\t * Form function handlers\n\t */\n\tsetFormValues: function (kv) {\n\t\tfor (var k in kv) {\n\t\t\t$(k).val(kv[k]);\n\t\t}\n\t},\n\tsetRTEValues: function (kv) {\n\t\tfor (var k in kv) {\n\t\t\tvar rte = CKEDITOR.instances[k];\n\t\t\tif (rte) rte.setData(kv[k]);\n\t\t}\n\t},\n\t/**\n\t * Function returns the javascript controller based on the current view\n\t */\n\tgetPageController: function () {\n\t\tif (window.pageController) {\n\t\t\treturn window.pageController;\n\t\t}\n\t\tconst moduleName = app.getModuleName();\n\t\tconst view = app.getViewName();\n\t\tconst parentModule = app.getParentModuleName();\n\t\tlet moduleClassName = parentModule + '_' + moduleName + '_' + view + '_Js';\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = parentModule + '_Vtiger_' + view + '_Js';\n\t\t}\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = moduleName + '_' + view + '_Js';\n\t\t}\n\t\tvar extendModules = $('#extendModules').val();\n\t\tif (typeof window[moduleClassName] === 'undefined' && extendModules != undefined) {\n\t\t\tmoduleClassName = extendModules + '_' + view + '_Js';\n\t\t}\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = 'Vtiger_' + view + '_Js';\n\t\t}\n\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\tif (typeof window[moduleClassName] === 'function') {\n\t\t\t\treturn (window.pageController = new window[moduleClassName]());\n\t\t\t}\n\t\t\tif (typeof window[moduleClassName] === 'object') {\n\t\t\t\treturn (window.pageController = window[moduleClassName]);\n\t\t\t}\n\t\t}\n\t\tlet moduleBaseClassName = parentModule + '_' + moduleName + '_' + 'Index_Js';\n\t\tif (typeof window[moduleBaseClassName] !== 'undefined') {\n\t\t\tif (typeof window[moduleBaseClassName] === 'function') {\n\t\t\t\treturn (window.pageController = new window[moduleBaseClassName]());\n\t\t\t}\n\t\t\tif (typeof window[moduleBaseClassName] === 'object') {\n\t\t\t\treturn (window.pageController = window[moduleBaseClassName]);\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Function to decode the encoded htmlentities values\n\t */\n\tgetDecodedValue: function (value) {\n\t\treturn $('<div></div>').html(value).text();\n\t},\n\tgetCookie: function (c_name) {\n\t\tvar c_value = document.cookie;\n\t\tvar c_start = c_value.indexOf(' ' + c_name + '=');\n\t\tif (c_start === -1) {\n\t\t\tc_start = c_value.indexOf(c_name + '=');\n\t\t}\n\t\tif (c_start === -1) {\n\t\t\tc_value = null;\n\t\t} else {\n\t\t\tc_start = c_value.indexOf('=', c_start) + 1;\n\t\t\tvar c_end = c_value.indexOf(';', c_start);\n\t\t\tif (c_end === -1) {\n\t\t\t\tc_end = c_value.length;\n\t\t\t}\n\t\t\tc_value = unescape(c_value.substring(c_start, c_end));\n\t\t}\n\t\treturn c_value;\n\t},\n\tsetCookie: function (c_name, value, exdays) {\n\t\tvar exdate = new Date();\n\t\texdate.setDate(exdate.getDate() + exdays);\n\t\tvar c_value = escape(value) + (exdays == null ? '' : '; expires=' + exdate.toUTCString());\n\t\tdocument.cookie = c_name + '=' + c_value;\n\t},\n\tgetUrlVar: function (varName) {\n\t\tvar getVar = function () {\n\t\t\tvar vars = {};\n\t\t\twindow.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n\t\t\t\tvars[key] = value;\n\t\t\t});\n\t\t\treturn vars;\n\t\t};\n\n\t\treturn getVar()[varName];\n\t},\n\tgetStringDate: function (date) {\n\t\tvar d = date.getDate();\n\t\tvar m = date.getMonth() + 1;\n\t\tvar y = date.getFullYear();\n\n\t\td = d <= 9 ? '0' + d : d;\n\t\tm = m <= 9 ? '0' + m : m;\n\t\treturn y + '-' + m + '-' + d;\n\t},\n\tformatDate: function (date) {\n\t\tvar y = date.getFullYear(),\n\t\t\tm = date.getMonth() + 1,\n\t\t\td = date.getDate(),\n\t\t\th = date.getHours(),\n\t\t\ti = date.getMinutes(),\n\t\t\ts = date.getSeconds();\n\t\treturn (\n\t\t\ty +\n\t\t\t'-' +\n\t\t\tthis.formatDateZ(m) +\n\t\t\t'-' +\n\t\t\tthis.formatDateZ(d) +\n\t\t\t' ' +\n\t\t\tthis.formatDateZ(h) +\n\t\t\t':' +\n\t\t\tthis.formatDateZ(i) +\n\t\t\t':' +\n\t\t\tthis.formatDateZ(s)\n\t\t);\n\t},\n\tformatDateZ: function (i) {\n\t\treturn i <= 9 ? '0' + i : i;\n\t},\n\thowManyDaysFromDate: function (time) {\n\t\tvar fromTime = time.getTime();\n\t\tvar today = new Date();\n\t\tvar toTime = new Date(today.getFullYear(), today.getMonth(), today.getDate()).getTime();\n\t\treturn Math.floor((toTime - fromTime) / (1000 * 60 * 60 * 24)) + 1;\n\t},\n\tsaveAjax: function (mode, param, addToParams) {\n\t\tvar aDeferred = $.Deferred();\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['action'] = 'SaveAjax';\n\t\tif (mode) {\n\t\t\tparams['mode'] = mode;\n\t\t}\n\t\tparams['param'] = param;\n\t\tif (addToParams != undefined) {\n\t\t\tfor (var i in addToParams) {\n\t\t\t\tparams[i] = addToParams[i];\n\t\t\t}\n\t\t}\n\t\tAppConnector.request(params)\n\t\t\t.done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Hack for Safari breaking down, when sending empty file input\n\t * @param html\n\t */\n\tremoveEmptyFilesInput(form) {\n\t\tfor (let i = 0; i < form.elements.length; i++) {\n\t\t\tif (form.elements[i].type === 'file') {\n\t\t\t\tif (form.elements[i].value === '') {\n\t\t\t\t\tform.elements[i].parentNode.removeChild(form.elements[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetMainParams: function (param, json) {\n\t\tif (param in CONFIG) {\n\t\t\treturn CONFIG[param];\n\t\t}\n\t\tif (app.cacheParams[param] === undefined) {\n\t\t\tapp.cacheParams[param] = $('#' + param).val();\n\t\t}\n\t\tlet value = app.cacheParams[param];\n\t\tif (json) {\n\t\t\tif (value) {\n\t\t\t\tvalue = JSON.parse(value);\n\t\t\t} else {\n\t\t\t\tvalue = [];\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\tsetMainParams: function (param, value) {\n\t\tapp.cacheParams[param] = value;\n\t\t$('#' + param).val(value);\n\t},\n\terrorLog: function (error, err, errorThrown) {\n\t\tif (!CONFIG.debug) {\n\t\t\treturn;\n\t\t}\n\t\tconsole.warn(\n\t\t\t'%cYetiForce debug mode!!!',\n\t\t\t'color: red; font-family: sans-serif; font-size: 1.5em; font-weight: bolder; text-shadow: #000 1px 1px;'\n\t\t);\n\t\tif (typeof error === 'object' && error.responseText) {\n\t\t\terror = error.responseText;\n\t\t}\n\t\tif (typeof error === 'object' && error.statusText) {\n\t\t\terror = error.statusText;\n\t\t}\n\t\tif (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t\tif (err && err !== 'error') {\n\t\t\tconsole.error(err);\n\t\t}\n\t\tif (errorThrown) {\n\t\t\tconsole.error(errorThrown);\n\t\t}\n\t},\n\tregisterQuickEditModal: function (container) {\n\t\tif (typeof container === 'undefined') {\n\t\t\tcontainer = $('body');\n\t\t}\n\t\tcontainer.on('click', '.js-quick-edit-modal', function (e) {\n\t\t\te.preventDefault();\n\t\t\tlet element = $(this);\n\t\t\tlet data = {\n\t\t\t\tmodule: element.data('module'),\n\t\t\t\trecord: element.data('record'),\n\t\t\t\tremoveFromUrl: 'step'\n\t\t\t};\n\t\t\tif (element.data('values')) {\n\t\t\t\t$.extend(data, element.data('values'));\n\t\t\t}\n\t\t\tif (element.data('mandatoryFields')) {\n\t\t\t\tdata.mandatoryFields = element.data('mandatoryFields');\n\t\t\t}\n\t\t\tif (element.data('showLayout')) {\n\t\t\t\tdata.showLayout = element.data('showLayout');\n\t\t\t}\n\t\t\tif (element.data('editFields')) {\n\t\t\t\tdata.editFields = element.data('editFields');\n\t\t\t}\n\t\t\tif (element.data('picklistValues')) {\n\t\t\t\tdata.picklistValues = element.data('picklistValues');\n\t\t\t}\n\t\t\tApp.Components.QuickEdit.showModal(data, element);\n\t\t});\n\t},\n\tregisterModal: function (container) {\n\t\tif (typeof container === 'undefined') {\n\t\t\tcontainer = $('body');\n\t\t}\n\t\tcontainer\n\t\t\t.off('click', 'button.showModal, a.showModal, .js-show-modal')\n\t\t\t.on('click', 'button.showModal, a.showModal, .js-show-modal', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\tvar url = currentElement.data('url');\n\n\t\t\t\tif (typeof url !== 'undefined') {\n\t\t\t\t\tif (currentElement.hasClass('js-popover-tooltip')) {\n\t\t\t\t\t\tcurrentElement.popover('hide');\n\t\t\t\t\t}\n\t\t\t\t\tif (currentElement.hasClass('disabledOnClick')) {\n\t\t\t\t\t\tcurrentElement.attr('disabled', true);\n\t\t\t\t\t}\n\t\t\t\t\tvar modalWindowParams = {\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tcb: function (container) {\n\t\t\t\t\t\t\tvar call = currentElement.data('cb');\n\t\t\t\t\t\t\tif (typeof call !== 'undefined') {\n\t\t\t\t\t\t\t\tif (call.indexOf('.') !== -1) {\n\t\t\t\t\t\t\t\t\tvar callerArray = call.split('.');\n\t\t\t\t\t\t\t\t\tif (typeof window[callerArray[0]] === 'object' || typeof window[callerArray[0]] === 'function') {\n\t\t\t\t\t\t\t\t\t\twindow[callerArray[0]][callerArray[1]](container);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (typeof window[call] === 'function') {\n\t\t\t\t\t\t\t\t\t\twindow[call](container);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurrentElement.removeAttr('disabled');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (currentElement.data('modalid')) {\n\t\t\t\t\t\tmodalWindowParams['id'] = currentElement.data('modalid');\n\t\t\t\t\t}\n\t\t\t\t\tapp.showModalWindow(modalWindowParams);\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\tcontainer.off('click', '.js-show-modal-content').on('click', '.js-show-modal-content', function (e) {\n\t\t\te.preventDefault();\n\t\t\tlet currentElement = $(e.currentTarget);\n\t\t\tlet content = currentElement.data('content');\n\t\t\tlet title = '',\n\t\t\t\tmodalClass = '';\n\t\t\tif (currentElement.data('title')) {\n\t\t\t\ttitle = currentElement.data('title');\n\t\t\t}\n\t\t\tif (currentElement.data('class')) {\n\t\t\t\tmodalClass = currentElement.data('class');\n\t\t\t}\n\t\t\tapp.showModalWindow(`<div class=\"modal\" tabindex=\"-1\" role=\"dialog\"><div class=\"modal-dialog ${modalClass}\" role=\"document\"><div class=\"modal-content\">\n\t\t\t<div class=\"modal-header\"> <h5 class=\"modal-title\">${title}</h5>\n\t\t\t  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n\t\t\t</div><div class=\"modal-body text-break\">${content}</div></div></div></div>`);\n\t\t\te.stopPropagation();\n\t\t});\n\t},\n\tplaySound: function (action) {\n\t\tvar soundsConfig = app.getMainParams('sounds');\n\t\tif (soundsConfig['IS_ENABLED']) {\n\t\t\tvar audio = new Audio(app.getMainParams('soundFilesPath') + soundsConfig[action]);\n\t\t\taudio.play();\n\t\t}\n\t},\n\tregisterIframeAndMoreContent(container = $(document)) {\n\t\tlet showMoreModal = (e) => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tconst btn = $(e.currentTarget);\n\t\t\tconst message = btn.data('iframe')\n\t\t\t\t? btn.siblings('iframe').clone().show()\n\t\t\t\t: btn.closest('.js-more-content').find('.fullContent').html();\n\t\t\tbootbox.dialog({\n\t\t\t\tmessage,\n\t\t\t\ttitle: '<span class=\"mdi mdi-overscan\"></span>  ' + app.vtranslate('JS_FULL_TEXT'),\n\t\t\t\tclassName: 'u-word-break modal-fullscreen',\n\t\t\t\tbuttons: {\n\t\t\t\t\tdanger: {\n\t\t\t\t\t\tlabel: '<span class=\"fas fa-times mr-1\"></span>' + app.vtranslate('JS_CLOSE'),\n\t\t\t\t\t\tclassName: 'btn-danger',\n\t\t\t\t\t\tcallback: function () {}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tcontainer.on('click', '.js-more', showMoreModal);\n\t},\n\tregisterIframeEvents(content) {\n\t\tcontent.find('.js-iframe-full-height').each(function () {\n\t\t\tlet iframe = $(this);\n\t\t\tiframe.on('load', (e) => {\n\t\t\t\tiframe.height(iframe.contents().find('body').height() + 50);\n\t\t\t});\n\t\t});\n\t\tcontent.find('.js-modal-iframe').each(function () {\n\t\t\tlet iframe = $(this);\n\t\t\tiframe.on('load', (e) => {\n\t\t\t\tlet height = iframe.contents().find('body').height();\n\t\t\t\tif (height && height < iframe.height()) {\n\t\t\t\t\tiframe.height(height + 50);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tregisterMenu: function () {\n\t\tconst self = this;\n\t\tself.keyboard = { DOWN: 40, ESCAPE: 27, LEFT: 37, RIGHT: 39, SPACE: 32, UP: 38 };\n\t\tself.sidebarBtn = $('.js-sidebar-btn').first();\n\t\tself.sidebar = $('.js-sidebar').first();\n\t\tself.sidebarBtn.on('click', self.toggleSidebar.bind(self));\n\t\t$(`a.nav-link,[tabindex],input,select,textarea,button`).on('focus', (e) => {\n\t\t\tif (self.sidebarBtn[0] == e.target || self.sidebar.find(e.target).length) return;\n\t\t\tif (self.sidebar.find(':focus').length) {\n\t\t\t\tself.openSidebar();\n\t\t\t} else if (self.sidebar.hasClass('js-expand')) {\n\t\t\t\tself.closeSidebar();\n\t\t\t}\n\t\t});\n\t\tself.sidebar.on('mouseenter', self.openSidebar.bind(self)).on('mouseleave', self.closeSidebar.bind(self));\n\t\tself.sidebar.find('.js-menu__content').on('keydown', self.sidebarKeyboard.bind(self));\n\t\tself.sidebar.on('keydown', (e) => {\n\t\t\tif (e.which == self.keyboard.ESCAPE) {\n\t\t\t\tself.closeSidebar();\n\t\t\t\tif (self.sidebarBtn.is(':tabbable')) self.sidebarBtn.focus();\n\t\t\t\telse\n\t\t\t\t\t$(':tabbable')\n\t\t\t\t\t\t.eq(parseInt($(':tabbable').index(self.sidebar.find(':tabbable').last())) + 1)\n\t\t\t\t\t\t.focus();\n\t\t\t}\n\t\t});\n\t\t$('.js-submenu-toggler').on('click', (e) => {\n\t\t\tif (!$(e.currentTarget).hasClass('collapsed') && !$(e.target).closest('.toggler').length) {\n\t\t\t\twindow.location = $(e.currentTarget).attr('href');\n\t\t\t}\n\t\t});\n\t\tself.registerPinEvent();\n\t},\n\topenSidebar: function () {\n\t\tthis.sidebar.addClass('js-expand');\n\t\tthis.sidebarBtn.attr('aria-expanded', true);\n\t},\n\tcloseSidebar: function () {\n\t\tthis.sidebar.removeClass('js-expand');\n\t\tthis.sidebarBtn.attr('aria-expanded', false);\n\t},\n\ttoggleSidebar: function () {\n\t\tif (this.sidebar.hasClass('js-expand')) {\n\t\t\tthis.closeSidebar();\n\t\t} else {\n\t\t\tthis.openSidebar();\n\t\t\tthis.sidebar.find('.js-menu__content :tabbable').first().focus();\n\t\t}\n\t},\n\tregisterPinEvent: function () {\n\t\tconst self = this;\n\t\tlet pinButton = self.sidebar.find('.js-menu--pin');\n\t\tlet baseContainer = self.sidebar.closest('.js-base-container');\n\t\tpinButton.on('click', () => {\n\t\t\tlet hideMenu = 0;\n\t\t\tbaseContainer.removeClass('c-menu--animation');\n\t\t\tif (pinButton.attr('data-show') === '0') {\n\t\t\t\thideMenu = 'on';\n\t\t\t\tpinButton.removeClass('u-opacity-muted');\n\t\t\t\tbaseContainer.addClass('c-menu--open');\n\t\t\t\tself.sidebar.off('mouseleave mouseenter');\n\t\t\t} else {\n\t\t\t\tpinButton.addClass('u-opacity-muted');\n\t\t\t\tbaseContainer.removeClass('c-menu--open');\n\t\t\t\tself.sidebar.on('mouseenter', self.openSidebar.bind(self)).on('mouseleave', self.closeSidebar.bind(self));\n\t\t\t\tself.closeSidebar.bind(self);\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'Users',\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tfield: 'leftpanelhide',\n\t\t\t\trecord: CONFIG.userId,\n\t\t\t\tvalue: hideMenu\n\t\t\t}).done(function (responseData) {\n\t\t\t\tif (responseData.success && responseData.result) {\n\t\t\t\t\tpinButton.attr('data-show', hideMenu);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetTimeout(() => {\n\t\t\t\tbaseContainer.addClass('c-menu--animation');\n\t\t\t}, 300);\n\t\t});\n\t},\n\tsidebarKeyboard: function (e) {\n\t\tlet target = $(e.target);\n\t\tif (e.which == this.keyboard.LEFT) {\n\t\t\tif (target.hasClass('js-submenu-toggler') && !target.hasClass('collapsed')) {\n\t\t\t\ttarget.click();\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tlet toggler = $(e.target).closest('.js-submenu').prev('.js-submenu-toggler');\n\t\t\t\tif (toggler.length && !toggler.hasClass('collapsed')) {\n\t\t\t\t\ttoggler.click().focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (\n\t\t\t(target.hasClass('js-submenu-toggler') && e.which == this.keyboard.RIGHT && target.hasClass('collapsed')) ||\n\t\t\t(target.hasClass('js-submenu-toggler') && e.which == this.keyboard.SPACE)\n\t\t) {\n\t\t\ttarget.click();\n\t\t\treturn false;\n\t\t} else if (e.which == this.keyboard.UP) {\n\t\t\tthis.sidebar\n\t\t\t\t.find('.js-menu__content :tabbable')\n\t\t\t\t.eq(parseInt(this.sidebar.find('.js-menu__content :tabbable').index(target)) - 1)\n\t\t\t\t.focus();\n\t\t\treturn false;\n\t\t} else if (e.which == this.keyboard.DOWN) {\n\t\t\tthis.sidebar\n\t\t\t\t.find('.js-menu__content :tabbable')\n\t\t\t\t.eq(parseInt(this.sidebar.find('.js-menu__content :tabbable').index(target)) + 1)\n\t\t\t\t.focus();\n\t\t\treturn false;\n\t\t}\n\t},\n\tregisterTabdrop: function () {\n\t\tlet tabs = $('.js-tabdrop');\n\t\tif (!tabs.length) return;\n\t\tlet tab = tabs.find('> li');\n\t\ttab.each(function () {\n\t\t\t$(this).removeClass('d-none');\n\t\t});\n\t\ttabs.tabdrop({\n\t\t\ttext: app.vtranslate('JS_MORE')\n\t\t});\n\t\t//change position to the last element (wcag keyboard navigation)\n\t\tlet dropdown = tabs.find('> li.dropdown');\n\t\tdropdown.appendTo(tabs);\n\t\t//fix for toggle button text not changing\n\t\ttab.on('click', function (e) {\n\t\t\tsetTimeout(function () {\n\t\t\t\t$(window).trigger('resize');\n\t\t\t}, 500);\n\t\t});\n\t\t$(window).trigger('resize');\n\t},\n\tgetScreenHeight: function (percantage) {\n\t\tif (typeof percantage === 'undefined') {\n\t\t\tpercantage = 100;\n\t\t}\n\t\treturn ($(window).height() * percantage) / 100;\n\t},\n\tclearBrowsingHistory: function () {\n\t\tAppConnector.request({\n\t\t\tmodule: 'Home',\n\t\t\taction: 'BrowsingHistory'\n\t\t}).done(function (response) {\n\t\t\t$('.historyList').html(\n\t\t\t\t`<a class=\"item dropdown-item\" href=\"#\" role=\"listitem\">${app.vtranslate('JS_NO_RECORDS')}</a>`\n\t\t\t);\n\t\t});\n\t},\n\t/**\n\t * Open url in top window\n\t * @param string url\n\t */\n\topenUrl(url) {\n\t\tif (CONFIG.openUrlTarget === 'parentIframe') {\n\t\t\twindow.parent.location.href = url;\n\t\t} else {\n\t\t\twindow.location.href = url;\n\t\t}\n\t},\n\topenUrlMethodPost(url, postData = {}, formAttr = {}) {\n\t\t$.extend(formAttr, {\n\t\t\tmethod: 'post',\n\t\t\taction: url,\n\t\t\tstyle: 'display:none;'\n\t\t});\n\t\tlet form = $('<form></form>', formAttr);\n\t\tif (typeof csrfMagicName !== 'undefined') {\n\t\t\tpostData[csrfMagicName] = csrfMagicToken;\n\t\t}\n\t\t$.each(postData, (index, value) => {\n\t\t\tlet input = $(document.createElement('input'));\n\t\t\tinput.attr('type', 'hidden');\n\t\t\tinput.attr('name', index);\n\t\t\tinput.val(value);\n\t\t\tform.append(input);\n\t\t});\n\t\t$('body').append(form);\n\t\tform.submit();\n\t\tform.remove();\n\t},\n\t/**\n\t * Convert url string to object\n\t *\n\t * @param   {string}  url  example: index.php?module=LayoutEditor&parent=Settings\n\t *\n\t * @return  {object}       urlObject\n\t */\n\tconvertUrlToObject(url) {\n\t\tlet urlObject = {};\n\t\tif (url.indexOf('index.php?') !== -1) {\n\t\t\turl = url.split('index.php?')[1];\n\t\t}\n\t\turl.split('&').forEach((el) => {\n\t\t\tif (el.includes('=')) {\n\t\t\t\tlet values = el.split('=');\n\t\t\t\turlObject[values[0]] = values[1];\n\t\t\t}\n\t\t});\n\t\treturn urlObject;\n\t},\n\t/**\n\t * Convert object to url string\n\t *\n\t * @param   {object}  urlData\n\t * @param   {string}  entryFile\n\t *\n\t * @return  {string}          url\n\t */\n\tconvertObjectToUrl(urlData = {}, entryFile = 'index.php?') {\n\t\tlet url = entryFile;\n\t\tObject.keys(urlData).forEach((key) => {\n\t\t\tlet value = urlData[key];\n\t\t\tif (typeof value === 'object' || (typeof value === 'string' && value.startsWith('<'))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\turl += key + '=' + value + '&';\n\t\t});\n\t\treturn url;\n\t},\n\tshowConfirmation: function (data, element) {\n\t\tvar params = {};\n\t\tif (data) {\n\t\t\tparams = $.extend(params, data);\n\t\t}\n\t\tif (element) {\n\t\t\telement = $(element);\n\t\t\tif (!params.title) {\n\t\t\t\tparams.title = element.html() + ' ' + (element.data('content') ? element.data('content') : '');\n\t\t\t}\n\t\t\tif (!params.message) {\n\t\t\t\tparams.message = element.data('confirm');\n\t\t\t}\n\t\t\tif (!params.url) {\n\t\t\t\tparams.url = element.data('url');\n\t\t\t}\n\t\t}\n\t\tVtiger_Helper_Js.showConfirmationBox(params).done(function () {\n\t\t\tif (params.type == 'href') {\n\t\t\t\tAppConnector.request(params.url).done(function (data) {\n\t\t\t\t\tapp.openUrl(data.result);\n\t\t\t\t});\n\t\t\t} else if (params.type == 'reloadTab') {\n\t\t\t\tAppConnector.request(params.url).done(function (data) {\n\t\t\t\t\tVtiger_Detail_Js.getInstance().reloadTabContent();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tformatToHourText: function (decTime, type = 'short', withSeconds = false, withMinutes = true) {\n\t\tconst short = type === 'short';\n\t\tconst hour = Math.floor(decTime);\n\t\tconst min = Math.floor((decTime - hour) * 60);\n\t\tconst sec = Math.round(((decTime - hour) * 60 - min) * 60);\n\t\tlet result = '';\n\t\tif (hour) {\n\t\t\tresult += short ? hour + app.vtranslate('JS_H') : `${hour} ` + app.vtranslate('JS_H_LONG');\n\t\t}\n\t\tif ((hour || min) && withMinutes) {\n\t\t\tresult += short ? ` ${min}` + app.vtranslate('JS_M') : ` ${min} ` + app.vtranslate('JS_M_LONG');\n\t\t}\n\t\tif (withSeconds !== false) {\n\t\t\tresult += short ? ` ${sec}` + app.vtranslate('JS_S') : ` ${sec} ` + app.vtranslate('JS_S_LONG');\n\t\t}\n\t\tif (!hour && !min && withSeconds === false && withMinutes) {\n\t\t\tresult += short ? '0' + app.vtranslate('JS_M') : '0 ' + app.vtranslate('JS_M_LONG');\n\t\t}\n\t\tif (!hour && !min && withSeconds === false && !withMinutes) {\n\t\t\tresult += short ? '0' + app.vtranslate('JS_H') : '0 ' + app.vtranslate('JS_H_LONG');\n\t\t}\n\t\treturn result.trim();\n\t},\n\tshowRecordsList: function (params, cb, afterShowModal) {\n\t\tif (typeof params === 'object' && !params.view) {\n\t\t\tparams.view = 'RecordsList';\n\t\t}\n\t\tthis.showRecordsListModal(params).done(function (modal) {\n\t\t\tif (typeof afterShowModal === 'function') {\n\t\t\t\tafterShowModal(modal);\n\t\t\t}\n\t\t\tapp.registerModalController(false, modal, cb);\n\t\t});\n\t},\n\t/**\n\t * Show records list modal\n\t * @param {object} params\n\t * @returns {Promise}\n\t */\n\tshowRecordsListModal: function (params) {\n\t\tconst aDeferred = $.Deferred();\n\t\tAppConnector.request(params)\n\t\t\t.done(function (requestData) {\n\t\t\t\tapp.showModalWindow(requestData, function (modal) {\n\t\t\t\t\taDeferred.resolve(modal);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Convert html content to base64 image\n\t * This function can be used in promise chain or with callback if specified\n\t *\n\t * @param {HTMLElement} element\n\t * @param {function} callback with imageString argument which contains an image in base64 string format\n\t * @param {object} options see: https://html2canvas.hertzen.com/configuration , imageType is our custom option\n\t * @return {Promise} with base64 string image as argument\n\t */\n\thtmlToImage(element, callback, options = { imageType: 'image/png', logging: false }) {\n\t\telement = $(element).get(0); // make sure we have HTMLElement not jQuery because it will not work\n\t\tconst imageType = options.imageType;\n\t\tdelete options.imageType;\n\t\treturn html2canvas(element, options).then((canvas) => {\n\t\t\tconst base64Image = canvas.toDataURL(imageType);\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\tcallback(base64Image);\n\t\t\t}\n\t\t\treturn base64Image;\n\t\t});\n\t},\n\tregisterHtmlToImageDownloader: function (container) {\n\t\tconst self = this;\n\t\tcontainer.on('click', '.js-download-html', function (e) {\n\t\t\tlet element = $(this);\n\t\t\tlet fileName = element.data('fileName');\n\t\t\tself.htmlToImage($(element.data('html'))).then((img) => {\n\t\t\t\t$(`<a href=\"${img}\" download=\"${fileName}.png\"></a>`).get(0).click();\n\t\t\t});\n\t\t});\n\t},\n\tdecodeHTML(html) {\n\t\tvar txt = document.createElement('textarea');\n\t\ttxt.innerHTML = html;\n\t\treturn txt.value;\n\t},\n\tshowAlert: function (text) {\n\t\treturn this.showNotify({\n\t\t\ttitle: text,\n\t\t\ttype: 'error',\n\t\t\tcloser: false,\n\t\t\tsticker: false,\n\t\t\tdestroy: false,\n\t\t\tmodules: new Map([\n\t\t\t\t...PNotify.defaultModules,\n\t\t\t\t[\n\t\t\t\t\tPNotifyConfirm,\n\t\t\t\t\t{\n\t\t\t\t\t\tconfirm: true,\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_OK'),\n\t\t\t\t\t\t\t\tprimary: true,\n\t\t\t\t\t\t\t\tclick: (notice) => notice.close()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t]),\n\t\t\tstack: new PNotify.Stack({\n\t\t\t\tdir1: 'down',\n\t\t\t\tmodal: true,\n\t\t\t\tfirstpos1: 25,\n\t\t\t\toverlayClose: false\n\t\t\t})\n\t\t});\n\t},\n\tshowNotify: function (customParams) {\n\t\tlet params = {\n\t\t\thide: false\n\t\t};\n\t\tlet userParams = customParams;\n\t\tlet type = 'info';\n\t\tif (typeof customParams === 'string') {\n\t\t\tuserParams = {\n\t\t\t\ttitle: customParams\n\t\t\t};\n\t\t}\n\t\tif (typeof customParams.type !== 'undefined') {\n\t\t\ttype = customParams.type;\n\t\t}\n\t\tif (type !== 'error') {\n\t\t\tparams.hide = true;\n\t\t}\n\t\treturn PNotify[type]($.extend(params, userParams));\n\t},\n\t/**\n\t * Set Pnotify defaults options\n\t */\n\tsetPnotifyDefaultOptions() {\n\t\tPNotify.defaults.textTrusted = true; // *Trusted option enables html as parameter's value\n\t\tPNotify.defaults.titleTrusted = true;\n\t\tPNotify.defaults.sticker = false;\n\t\tPNotify.defaults.styling = 'bootstrap4';\n\t\tPNotify.defaults.icons = 'fontawesome5';\n\t\tPNotify.defaults.delay = 3000;\n\t\tPNotify.defaults.stack.maxOpen = 10;\n\t\tPNotify.defaults.stack.spacing1 = 5;\n\t\tPNotify.defaults.stack.spacing2 = 5;\n\t\tPNotify.defaults.labels.close = app.vtranslate('JS_CLOSE');\n\t\tPNotify.defaultModules.set(PNotifyBootstrap4, {});\n\t\tPNotify.defaultModules.set(PNotifyFontAwesome5, {});\n\t\tPNotify.defaultModules.set(PNotifyMobile, {});\n\t},\n\tshowConfirmModal: function (text, callback) {\n\t\treturn this.showNotify({\n\t\t\ticon: 'fas fa-question-circle',\n\t\t\ttitle: text,\n\t\t\tcloser: false,\n\t\t\tsticker: false,\n\t\t\tdestroy: false,\n\t\t\tmodules: new Map([\n\t\t\t\t...PNotify.defaultModules,\n\t\t\t\t[\n\t\t\t\t\tPNotifyConfirm,\n\t\t\t\t\t{\n\t\t\t\t\t\tconfirm: true,\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_OK'),\n\t\t\t\t\t\t\t\tprimary: true,\n\t\t\t\t\t\t\t\tpromptTrigger: true,\n\t\t\t\t\t\t\t\tclick: function (notice) {\n\t\t\t\t\t\t\t\t\tnotice.close();\n\t\t\t\t\t\t\t\t\tcallback(true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_CANCEL'),\n\t\t\t\t\t\t\t\tclick: function (notice) {\n\t\t\t\t\t\t\t\t\tnotice.close();\n\t\t\t\t\t\t\t\t\tcallback(false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t]),\n\t\t\tstack: new PNotify.Stack({\n\t\t\t\tdir1: 'down',\n\t\t\t\tmodal: true,\n\t\t\t\tfirstpos1: 25,\n\t\t\t\toverlayClose: false\n\t\t\t})\n\t\t});\n\t},\n\tregistesterScrollbar(container) {\n\t\tcontainer.find('.js-scrollbar').each(function () {\n\t\t\tlet element = $(this),\n\t\t\t\tscrollbarFnName = element.data('scrollbarFnName');\n\n\t\t\tif (typeof app[scrollbarFnName] === 'function') {\n\t\t\t\tapp[scrollbarFnName](element);\n\t\t\t} else {\n\t\t\t\tapp.showNewScrollbar(element);\n\t\t\t}\n\t\t});\n\t},\n\tregisterPopover(container = $(document)) {\n\t\twindow.popoverCache = {};\n\t\tcontainer.on('mousemove', (e) => {\n\t\t\tapp.mousePosition = { x: e.pageX, y: e.pageY };\n\t\t});\n\t\tcontainer.on(\n\t\t\t'mouseenter',\n\t\t\t'.js-popover-tooltip, .js-popover-tooltip--record, .js-popover-tooltip--ellipsis, [data-field-type=\"reference\"], [data-field-type=\"multireference\"]',\n\t\t\t(e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.find('.js-popover-tooltip--record').length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!currentTarget.hasClass('popover-triggered')) {\n\t\t\t\t\tif (currentTarget.hasClass('js-popover-tooltip--record')) {\n\t\t\t\t\t\tapp.registerPopoverRecord(currentTarget, {}, container);\n\t\t\t\t\t\tcurrentTarget.trigger('mouseenter');\n\t\t\t\t\t} else if (!currentTarget.hasClass('js-popover-tooltip--record') && currentTarget.data('field-type')) {\n\t\t\t\t\t\tapp.registerPopoverRecord(currentTarget.children('a'), {}, container); //popoverRecord on children doesn't need triggering\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t!currentTarget.hasClass('js-popover-tooltip--record') &&\n\t\t\t\t\t\t!currentTarget.find('.js-popover-tooltip--record').length &&\n\t\t\t\t\t\t!currentTarget.data('field-type')\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (currentTarget.hasClass('js-popover-tooltip--ellipsis')) {\n\t\t\t\t\t\t\tapp.registerPopoverEllipsis({ element: currentTarget, container });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showPopoverElementView(currentTarget);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentTarget.trigger('mouseenter');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t},\n\t/**\n\t * Register auto format number value\n\t */\n\tregisterFormatNumber() {\n\t\t$(document).on('focusout', '.js-format-numer', (e) => {\n\t\t\t$(e.currentTarget).formatNumber();\n\t\t});\n\t},\n\t/**\n\t * Register toggle icon click event\n\t * @param container\n\t */\n\tregisterToggleIconClick(container) {\n\t\tcontainer.on('click', '.js-toggle-icon, .js-toggle-icon__container', (e) => {\n\t\t\tlet icon = $(e.target);\n\t\t\tif (icon.hasClass('js-toggle-icon__container')) {\n\t\t\t\ticon = icon.find('.js-toggle-icon');\n\t\t\t}\n\t\t\tlet iconData = icon.data();\n\t\t\ticon.toggleClass(`${iconData.active} ${iconData.inactive}`);\n\t\t\te.stopPropagation();\n\t\t});\n\t},\n\tstripHtml(html) {\n\t\tconst temporalDiv = document.createElement('div');\n\t\ttemporalDiv.innerHTML = html;\n\t\treturn temporalDiv.textContent || temporalDiv.innerText || '';\n\t},\n\tregisterShowHideBlock(container) {\n\t\tcontainer.on('click', '.js-hb__btn', (e) => {\n\t\t\t$(e.currentTarget).closest('.js-hb__container').toggleClass('u-hidden-block__opened');\n\t\t});\n\t\tcontainer.find('.js-fab__container').on('clickoutside', (e) => {\n\t\t\t$(e.currentTarget).removeClass('u-hidden-block__opened');\n\t\t});\n\t},\n\tprocessEvents: false,\n\tregisterAfterLoginEvents: function () {\n\t\tif (this.processEvents === false) {\n\t\t\tlet processEvents = $('#processEvents');\n\t\t\tif (processEvents.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.processEvents = JSON.parse(processEvents.val());\n\t\t}\n\t\tif (this.processEvents.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tlet event = this.processEvents.shift();\n\t\tswitch (event.type) {\n\t\t\tcase 'modal':\n\t\t\t\tAppConnector.request(event.url)\n\t\t\t\t\t.done(function (requestData) {\n\t\t\t\t\t\tapp.showModalWindow(requestData).one('hidden.bs.modal', function () {\n\t\t\t\t\t\t\tapp.registerAfterLoginEvents();\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttext: errorThrown,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'notify':\n\t\t\t\tapp.showNotify(event.notify);\n\t\t\t\tapp.registerAfterLoginEvents();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t}\n});\nCKEDITOR.disableAutoInline = true;\n$(function () {\n\tQuasar.iconSet.set(Quasar.iconSet.mdiV3);\n\tlet document = $(this);\n\tapp.registerToggleIconClick(document);\n\tapp.touchDevice = app.isTouchDevice();\n\tapp.setPnotifyDefaultOptions();\n\tApp.Fields.Picklist.changeSelectElementView();\n\tapp.registerPopoverEllipsisIcon();\n\tapp.registerPopover();\n\tapp.registerFormatNumber();\n\tapp.registerIframeAndMoreContent();\n\tapp.registerModal();\n\tapp.registerQuickEditModal(document);\n\tapp.registerMenu();\n\tapp.registerTabdrop();\n\tapp.registerIframeEvents(document);\n\tapp.registesterScrollbar(document);\n\tapp.registerHtmlToImageDownloader(document);\n\tapp.registerShowHideBlock(document);\n\tapp.registerAfterLoginEvents(document);\n\tapp.registerFormsEvents(document);\n\tApp.Components.QuickCreate.register(document);\n\tApp.Components.Scrollbar.initPage();\n\tString.prototype.toCamelCase = function () {\n\t\tlet value = this.valueOf();\n\t\treturn value.charAt(0).toUpperCase() + value.slice(1).toLowerCase();\n\t};\n\t// in IE resize option for textarea is not there, so we have to use .resizable() api\n\tif (/MSIE/.test(navigator.userAgent) || /Trident/.test(navigator.userAgent)) {\n\t\t$('textarea').resizable();\n\t}\n\t// Instantiate Page Controller\n\tlet pageController = app.getPageController();\n\tif (pageController) {\n\t\tpageController.registerEvents();\n\t}\n});\n(function ($) {\n\t$.fn.getNumberFromValue = function () {\n\t\treturn App.Fields.Double.formatToDb($(this).val());\n\t};\n\t$.fn.getNumberFromText = function () {\n\t\treturn App.Fields.Double.formatToDb($(this).text());\n\t};\n\t$.fn.setValue = function (value, type = 'value') {\n\t\treturn App.Fields.Utils.setValue($(this), value, type);\n\t};\n\t$.fn.formatNumber = function () {\n\t\tlet element = $(this);\n\t\telement.val(App.Fields.Double.formatToDisplay(App.Fields.Double.formatToDb(element.val()), false));\n\t};\n\t$.fn.disable = function () {\n\t\tthis.attr('disabled', 'disabled');\n\t};\n\t$.fn.enable = function () {\n\t\tthis.removeAttr('disabled');\n\t};\n\t$.fn.serializeFormData = function () {\n\t\tlet form = this;\n\t\tfor (var instance in CKEDITOR.instances) {\n\t\t\tCKEDITOR.instances[instance].updateElement();\n\t\t}\n\t\tlet values = form.serializeArray();\n\t\tlet data = {};\n\t\tif (values) {\n\t\t\t$(values).each(function (k, v) {\n\t\t\t\tlet element = form.find('[name=\"' + v.name + '\"]');\n\t\t\t\tif (element.is('select') && element.attr('multiple') != undefined) {\n\t\t\t\t\tif (data[v.name] == undefined) {\n\t\t\t\t\t\tdata[v.name] = [];\n\t\t\t\t\t}\n\t\t\t\t\tdata[v.name].push(v.value);\n\t\t\t\t} else {\n\t\t\t\t\tdata[v.name] = v.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// If data-type=\"autocomplete\", pickup data-value=\"...\" set\n\t\tlet autocompletes = $('[data-type=\"autocomplete\"]', $(this));\n\t\t$(autocompletes).each(function (i) {\n\t\t\tlet ac = $(autocompletes[i]);\n\t\t\tdata[ac.attr('name')] = ac.data('value');\n\t\t});\n\t\treturn data;\n\t};\n\t// Case-insensitive :icontains expression\n\t$.expr[':'].icontains = function (obj, index, meta, stack) {\n\t\treturn (\n\t\t\t(obj.textContent || obj.innerText || $(obj).text() || '').toLowerCase().indexOf(meta[3].toLowerCase()) !== -1\n\t\t);\n\t};\n\t$.fn.removeTextNode = function () {\n\t\t$(this)\n\t\t\t.contents()\n\t\t\t.filter(function () {\n\t\t\t\treturn this.nodeType == 3; //Node.TEXT_NODE\n\t\t\t})\n\t\t\t.remove();\n\t};\n\tbootbox.setLocale(CONFIG.langKey);\n})($);\n"],"names":["window","App","Components","Tree","Basic","$","treeInstance","treeData","generateTree","container","slef","on","e","data","event","target","hasClass","instance","select_node","node","children_d","deselect_node","jstree","core","getRecords","themes","name","responsive","plugins","registerSearchEvent","searchTimeout","treeSearch","clearTimeout","setTimeout","val","self","search","searchValue","JSON","parse","find","QuickCreate","moduleCache","register","preventDefault","element","createRecord","urlObject","app","convertUrlToObject","url","params","callbackFunction","progress","progressIndicator","blockInfo","enabled","getForm","module","done","mode","showModal","registerEventForClockPicker","moduleName","CONFIG","modalTarget","parent","getViewName","getRecordId","getParentModuleName","getModuleName","aDeferred","Deferred","requestParams","isCacheActive","noCache","resolve","promise","AppConnector","request","html","showModalWindow","quickCreateForm","editViewInstance","Vtiger_Edit_Js","getInstanceByModuleName","moduleClassName","setForm","registerBasicEvents","registerEvents","validationEngine","validationEngineOptionsForRecord","callbackPostShown","registerPostLoadEvents","form","submitSuccessCallback","goToFullFormCallBack","goToFullFormcallback","currentTarget","InvalidFields","length","removeData","Event","recordPreSave","trigger","recordPreSaveEvent","value","isDefaultPrevented","saveHandler","moduleInstance","quickCreateSave","save","message","vtranslate","position","closest","modalContainer","hideModalWindow","id","success","showNotify","text","type","listInstance","getListViewRecords","getUrlVar","Vtiger_Detail_Js","getInstance","loadRelatedList","location","reload","fail","textStatus","errorThrown","title","editViewUrl","goToFullForm","registerTabEvents","remove","append","each","key","removeAttr","addClass","submit","quickCreateTabOnHide","index","attr","quickCreateTabOnShow","tabElements","not","filter","serializeFormData","reject","QuickEdit","quickEditSave","parentModuleName","viewName","result","_isViewable","href","removeFromUrl","searchParams","delete","toString","formData","processData","contentType","Scrollbar","active","defaults","scrollbars","autoHide","page","initPage","scrollbarContainer","y","getElements","viewport","xy","overlayScrollbars","options","Object","assign","overflowBehavior","x","mergedOptions","DropFile","init","css","border","opacity","bind","originalEvent","dataTransfer","files","callback","file","method","progressIndicatorElement","getFiltersDataAndLoad","error","err","errorLog","showConfirmModal","prop","_","instances","push","Notify","isDesktopPermitted","permission","desktop","modules","PNotify","defaultModules","PNotifyDesktop","fallback","icon","hide","languageString","breakpoints","xs","sm","md","lg","xl","xxl","xxxl","cacheParams","modalEvents","mousePosition","childFrame","touchDevice","el","arguments","Array","prototype","slice","call","apply","one","off","getMainParams","view","inArray","recordId","getRecordDetails","action","getLanguage","getPageTitle","getWindowParent","frames","isWindowTop","top","isTouchDevice","supportsTouch","navigator","msPointerEnabled","documentElement","appendTo","isJsonString","str","setPageTitle","document","getContentsContainer","hidePopover","popover","hidePopoversAfterClick","popoverParent","registerPopoverManualTrigger","manualTriggerDelay","getBindedPopover","currentPopover","is","isEllipsisActive","clone","removeClass","width","showPopoverElementView","defaultParams","placement","template","boundary","delay","show","domElement","elementParams","extend","callbackShown","selectElement","registerPopoverEllipsis","setPopoverPosition","popoverText","registerPopoverEllipsisIcon","iconElement","selector","registerPopoverRecord","customParams","content","eq","origin","link","get","replace","popoverBody","cacheData","popoverCache","appendPopoverData","popoverElement","computePopoverIframeOffset","windowHeight","height","windowWidth","popoverHeight","popoverWidth","offsetTop","iframeOffset","offsetLeft","left","transform","iframeOffsetLeft","iframe","offset","iframeOffsetTop","contents","iframeOffset2","iframe2","registerChangeEventForMultiSelect","limit","maximumSelectionLength","isArray","updateResults","getSerializedData","parentElement","returnFormat","children","serialize","valueList","encodedString","split","keyValueArr","keyValueString","nameOfElement","valueOfElement","keyValueMap","decodeURIComponent","showModalData","paramsObject","cb","sendByAjaxCb","backdrop","keyboard","fn","modal","Constructor","enforceFocus","proxy","thisInstance","registerDataTables","Fields","Picklist","changeSelectElementView","Date","Text","Editor","toolbar","registesterScrollbar","registerIframeEvents","draggable","handle","registerModalEvents","isCurrentWindowTarget","modalId","Math","random","substr","last","modalData","Window","lastModalId","response","sourceFunction","args","unshift","reduce","o","i","registerModalController","modalClass","validationForm","validationEngineOptions","registerBlockAnimationEvent","formAlignmentAfterValidation","responseData","notify","Vtiger_Helper_Js","showMessage","procesStop","registerFormsEvents","forms","isHidden","isInvisible","scroll","promptPosition","prettySelect","usePrefix","onBeforePromptType","field","block","click","scrollOptions","wheelSpeed","formError","animate","scrollTop","destination","convertToDatePickerFormat","dateFormat","convertTojQueryDatePickerFormat","dotMode","indexOf","splitDateFormat","sectionDate","substring","join","getDateInDBInsertFormat","dateString","day","month","year","dateParts","dateFormatParts","detailViewContentHolder","blockHeader","parents","blockId","closestBlock","bodyContents","cacheSet","registerEventForDateFields","datepicker","autoclose","ev","currentElement","toUpperCase","date","formatDate","moment","format","Utils","hideMobileKeyboard","timeInputs","minutestep","stopPropagation","tempElement","clockpicker","timeInput","twelvehour","afterDone","timeStringFormatted","timeString","meridiemTime","beforeHide","formatTime","hourFormat","formatTimeString","table","dataTable","language","sLengthMenu","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","DataTable","getSelect2ElementFromSelect","selectId","setInheritWidth","elements","parentWidth","showNewScrollbar","wheelPropagation","showNewScrollbarTopBottomRight","scrollbarTopElement","first","bottom","scrollbarTopLeftInit","scrollbarBottomRightInit","showNewScrollbarTopBottom","suppressScrollY","showNewScrollbarTop","showNewScrollbarLeft","scrollbarLeftElement","right","showScrollBar","slimScroll","registerMiddleClickScroll","which","middleScroll","pageY","mouseX","pageX","mouseY","contentScrollY","mouseMoveX","contentScrollX","scrollLeft","mouseMoveY","LANG","cacheNSKey","cacheGet","store","set","cacheClear","moduleCacheSet","cacheKey","orgKey","unique","moduleCacheGet","moduleCacheKeys","moduleCacheClear","htmlEncode","htmlDecode","placeAtCenter","outerHeight","outerWidth","getvalidationEngineOptions","notifyPostAjaxReady","listenPostAjaxReady","setFormValues","kv","k","setRTEValues","CKEDITOR","rte","setData","getPageController","pageController","parentModule","extendModules","moduleBaseClassName","getDecodedValue","getCookie","c_name","cookie","c_start","c_value","c_end","unescape","setCookie","exdays","exdate","setDate","getDate","escape","toUTCString","varName","m","vars","getStringDate","getMonth","getFullYear","d","h","getHours","getMinutes","s","getSeconds","formatDateZ","howManyDaysFromDate","time","getTime","today","toTime","floor","fromTime","saveAjax","param","addToParams","removeEmptyFilesInput","parentNode","removeChild","json","setMainParams","debug","console","warn","responseText","statusText","registerQuickEditModal","record","mandatoryFields","showLayout","editFields","picklistValues","registerModal","callerArray","modalWindowParams","playSound","soundsConfig","audio","play","registerIframeAndMoreContent","btn","siblings","bootbox","dialog","className","buttons","danger","label","registerMenu","DOWN","ESCAPE","LEFT","RIGHT","SPACE","UP","sidebarBtn","sidebar","toggleSidebar","openSidebar","closeSidebar","sidebarKeyboard","focus","parseInt","registerPinEvent","pinButton","baseContainer","hideMenu","userId","prev","toggler","registerTabdrop","tabs","tab","tabdrop","dropdown","getScreenHeight","percantage","clearBrowsingHistory","openUrl","openUrlTarget","openUrlMethodPost","formAttr","style","postData","csrfMagicName","csrfMagicToken","createElement","input","forEach","includes","values","convertObjectToUrl","entryFile","keys","urlData","startsWith","showConfirmation","showConfirmationBox","reloadTabContent","formatToHourText","decTime","withSeconds","withMinutes","short","hour","min","sec","round","trim","showRecordsList","afterShowModal","showRecordsListModal","requestData","htmlToImage","imageType","logging","html2canvas","then","canvas","toDataURL","base64Image","registerHtmlToImageDownloader","fileName","img","decodeHTML","innerHTML","txt","showAlert","closer","sticker","destroy","PNotifyConfirm","confirm","primary","notice","close","stack","Stack","dir1","firstpos1","overlayClose","userParams","setPnotifyDefaultOptions","textTrusted","titleTrusted","styling","icons","maxOpen","spacing1","spacing2","labels","PNotifyBootstrap4","PNotifyFontAwesome5","PNotifyMobile","promptTrigger","scrollbarFnName","registerPopover","registerFormatNumber","formatNumber","registerToggleIconClick","toggleClass","iconData","inactive","stripHtml","temporalDiv","textContent","innerText","registerShowHideBlock","processEvents","registerAfterLoginEvents","shift","disableAutoInline","Quasar","iconSet","mdiV3","String","toCamelCase","valueOf","charAt","toLowerCase","test","userAgent","resizable","getNumberFromValue","Double","formatToDb","getNumberFromText","setValue","formatToDisplay","disable","enable","updateElement","serializeArray","v","autocompletes","ac","expr","icontains","obj","meta","removeTextNode","nodeType","setLocale","langKey"],"mappings":"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"}