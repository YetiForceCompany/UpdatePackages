{"version":3,"file":"Fields.min.js","sources":["Fields.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nwindow.App.Fields = {\n\tDate: {\n\t\tmonths: [\n\t\t\t'JS_JAN',\n\t\t\t'JS_FEB',\n\t\t\t'JS_MAR',\n\t\t\t'JS_APR',\n\t\t\t'JS_MAY_SHORT',\n\t\t\t'JS_JUN',\n\t\t\t'JS_JUL',\n\t\t\t'JS_AUG',\n\t\t\t'JS_SEP',\n\t\t\t'JS_OCT',\n\t\t\t'JS_NOV',\n\t\t\t'JS_DEC'\n\t\t],\n\t\tmonthsTranslated: [\n\t\t\t'JS_JAN',\n\t\t\t'JS_FEB',\n\t\t\t'JS_MAR',\n\t\t\t'JS_APR',\n\t\t\t'JS_MAY_SHORT',\n\t\t\t'JS_JUN',\n\t\t\t'JS_JUL',\n\t\t\t'JS_AUG',\n\t\t\t'JS_SEP',\n\t\t\t'JS_OCT',\n\t\t\t'JS_NOV',\n\t\t\t'JS_DEC'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\t\tfullMonths: [\n\t\t\t'JS_JANUARY',\n\t\t\t'JS_FEBRUARY',\n\t\t\t'JS_MARCH',\n\t\t\t'JS_APRIL',\n\t\t\t'JS_MAY',\n\t\t\t'JS_JUNE',\n\t\t\t'JS_JULY',\n\t\t\t'JS_AUGUST',\n\t\t\t'JS_SEPTEMBER',\n\t\t\t'JS_OCTOBER',\n\t\t\t'JS_NOVEMBER',\n\t\t\t'JS_DECEMBER'\n\t\t],\n\t\tfullMonthsTranslated: [\n\t\t\t'JS_JANUARY',\n\t\t\t'JS_FEBRUARY',\n\t\t\t'JS_MARCH',\n\t\t\t'JS_APRIL',\n\t\t\t'JS_MAY',\n\t\t\t'JS_JUNE',\n\t\t\t'JS_JULY',\n\t\t\t'JS_AUGUST',\n\t\t\t'JS_SEPTEMBER',\n\t\t\t'JS_OCTOBER',\n\t\t\t'JS_NOVEMBER',\n\t\t\t'JS_DECEMBER'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\t\tdays: ['JS_SUN', 'JS_MON', 'JS_TUE', 'JS_WED', 'JS_THU', 'JS_FRI', 'JS_SAT'],\n\t\tdaysTranslated: ['JS_SUN', 'JS_MON', 'JS_TUE', 'JS_WED', 'JS_THU', 'JS_FRI', 'JS_SAT'].map((monthName) =>\n\t\t\tapp.vtranslate(monthName)\n\t\t),\n\t\tfullDays: ['JS_SUNDAY', 'JS_MONDAY', 'JS_TUESDAY', 'JS_WEDNESDAY', 'JS_THURSDAY', 'JS_FRIDAY', 'JS_SATURDAY'],\n\t\tfullDaysTranslated: [\n\t\t\t'JS_SUNDAY',\n\t\t\t'JS_MONDAY',\n\t\t\t'JS_TUESDAY',\n\t\t\t'JS_WEDNESDAY',\n\t\t\t'JS_THURSDAY',\n\t\t\t'JS_FRIDAY',\n\t\t\t'JS_SATURDAY'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\n\t\t/**\n\t\t * Register DatePicker\n\t\t * @param {$} parentElement\n\t\t * @param {boolean} registerForAddon\n\t\t * @param {object} customParams\n\t\t */\n\t\tregister(parentElement, registerForAddon, customParams, className = 'dateField') {\n\t\t\tif (typeof parentElement === 'undefined') {\n\t\t\t\tparentElement = $('body');\n\t\t\t} else {\n\t\t\t\tparentElement = $(parentElement);\n\t\t\t}\n\t\t\tif (typeof registerForAddon === 'undefined') {\n\t\t\t\tregisterForAddon = true;\n\t\t\t}\n\t\t\tlet elements = $('.' + className, parentElement);\n\t\t\tif (parentElement.hasClass(className)) {\n\t\t\t\telements = parentElement;\n\t\t\t}\n\t\t\tif (elements.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (registerForAddon === true) {\n\t\t\t\tconst parentDateElem = elements.closest('.date');\n\t\t\t\t$('.js-date__btn', parentDateElem).on('click', function inputGroupAddonClickHandler(e) {\n\t\t\t\t\t// Using focus api of DOM instead of jQuery because show api of datePicker is calling e.preventDefault\n\t\t\t\t\t// which is stopping from getting focus to input element\n\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t.closest('.date')\n\t\t\t\t\t\t.find('input.' + className)\n\t\t\t\t\t\t.get(0)\n\t\t\t\t\t\t.focus();\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet format = CONFIG.dateFormat;\n\t\t\tconst elementDateFormat = elements.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tformat = elementDateFormat;\n\t\t\t}\n\t\t\tif (typeof $.fn.datepicker.dates[CONFIG.langKey] === 'undefined') {\n\t\t\t\t$.fn.datepicker.dates[CONFIG.langKey] = {\n\t\t\t\t\tdays: App.Fields.Date.fullDaysTranslated,\n\t\t\t\t\tdaysShort: App.Fields.Date.daysTranslated,\n\t\t\t\t\tdaysMin: App.Fields.Date.daysTranslated,\n\t\t\t\t\tmonths: App.Fields.Date.fullMonthsTranslated,\n\t\t\t\t\tmonthsShort: App.Fields.Date.monthsTranslated,\n\t\t\t\t\ttoday: app.vtranslate('JS_TODAY'),\n\t\t\t\t\tclear: app.vtranslate('JS_CLEAR'),\n\t\t\t\t\tformat: format,\n\t\t\t\t\ttitleFormat: 'MM yyyy' /* Leverages same syntax as 'format' */,\n\t\t\t\t\tweekStart: CONFIG.firstDayOfWeekNo\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet params = {\n\t\t\t\ttodayBtn: 'linked',\n\t\t\t\tclearBtn: true,\n\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\tweekStart: CONFIG.firstDayOfWeekNo,\n\t\t\t\tautoclose: true,\n\t\t\t\ttodayHighlight: true,\n\t\t\t\tformat: format\n\t\t\t};\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\telements.each((index, element) => {\n\t\t\t\t$(element).datepicker(\n\t\t\t\t\t$.extend(\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tObject.assign(params, { enableOnReadonly: !element.hasAttribute('readonly') }),\n\t\t\t\t\t\t$(element).data('params')\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t});\n\t\t\tApp.Fields.Utils.hideMobileKeyboard(elements);\n\t\t\treturn elements;\n\t\t},\n\n\t\t/**\n\t\t * Register dateRangePicker\n\t\t * @param {jQuery} parentElement\n\t\t * @param {object} customParams\n\t\t */\n\t\tregisterRange(parentElement, customParams = {}) {\n\t\t\tif (typeof parentElement === 'undefined') {\n\t\t\t\tparentElement = $('body');\n\t\t\t} else {\n\t\t\t\tparentElement = $(parentElement);\n\t\t\t}\n\t\t\tlet elements = $('.dateRangeField', parentElement);\n\t\t\tif (parentElement.hasClass('dateRangeField')) {\n\t\t\t\telements = parentElement;\n\t\t\t}\n\t\t\tif (elements.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet format = CONFIG.dateFormat.toUpperCase();\n\t\t\tconst elementDateFormat = elements.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tformat = elementDateFormat.toUpperCase();\n\t\t\t}\n\t\t\tlet ranges = {};\n\t\t\tranges[app.vtranslate('JS_TODAY')] = [moment(), moment()];\n\t\t\tranges[app.vtranslate('JS_TOMORROW')] = [moment().add(1, 'days'), moment().add(1, 'days')];\n\t\t\tranges[app.vtranslate('JS_YESTERDAY')] = [moment().subtract(1, 'days'), moment().subtract(1, 'days')];\n\t\t\tranges[app.vtranslate('JS_LAST_7_DAYS')] = [moment().subtract(6, 'days'), moment()];\n\t\t\tranges[app.vtranslate('JS_NEXT_7_DAYS')] = [moment(), moment().add(6, 'days')];\n\t\t\tranges[app.vtranslate('JS_CURRENT_MONTH')] = [moment().startOf('month'), moment().endOf('month')];\n\t\t\tranges[app.vtranslate('JS_NEXT_MONTH')] = [\n\t\t\t\tmoment().add(1, 'month').startOf('month'),\n\t\t\t\tmoment().add(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_LAST_MONTH')] = [\n\t\t\t\tmoment().subtract(1, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_MONTH')] = [\n\t\t\t\tmoment().add(1, 'month').startOf('month'),\n\t\t\t\tmoment().add(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_LAST_3_MONTHS')] = [\n\t\t\t\tmoment().subtract(3, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_3_MONTHS')] = [moment().startOf('month'), moment().add(3, 'month').endOf('month')];\n\t\t\tranges[app.vtranslate('JS_LAST_6_MONTHS')] = [\n\t\t\t\tmoment().subtract(6, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_6_MONTHS')] = [moment().startOf('month'), moment().add(6, 'month').endOf('month')];\n\t\t\tlet params = {\n\t\t\t\tautoUpdateInput: false,\n\t\t\t\tautoApply: true,\n\t\t\t\tranges: ranges,\n\t\t\t\tlocale: {\n\t\t\t\t\tformat: format,\n\t\t\t\t\tseparator: ',',\n\t\t\t\t\tapplyLabel: app.vtranslate('JS_APPLY'),\n\t\t\t\t\tcancelLabel: app.vtranslate('JS_CANCEL'),\n\t\t\t\t\tfromLabel: app.vtranslate('JS_FROM'),\n\t\t\t\t\ttoLabel: app.vtranslate('JS_TO'),\n\t\t\t\t\tcustomRangeLabel: app.vtranslate('JS_CUSTOM'),\n\t\t\t\t\tweekLabel: app.vtranslate('JS_WEEK').substr(0, 1),\n\t\t\t\t\tfirstDay: CONFIG.firstDayOfWeekNo,\n\t\t\t\t\tdaysOfWeek: App.Fields.Date.daysTranslated,\n\t\t\t\t\tmonthNames: App.Fields.Date.fullMonthsTranslated\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\tparentElement\n\t\t\t\t.find('.js-date__btn')\n\t\t\t\t.off()\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\t$(e.currentTarget).parent().next('.dateRangeField')[0].focus();\n\t\t\t\t});\n\t\t\telements.each((index, element) => {\n\t\t\t\tlet el = $(element);\n\t\t\t\tlet currentParams = $.extend(true, params, el.data('params'));\n\t\t\t\tel.daterangepicker(currentParams)\n\t\t\t\t\t.on('apply.daterangepicker', function (ev, picker) {\n\t\t\t\t\t\t$(this).val(\n\t\t\t\t\t\t\tpicker.startDate.format(currentParams.locale.format) +\n\t\t\t\t\t\t\t\t',' +\n\t\t\t\t\t\t\t\tpicker.endDate.format(currentParams.locale.format)\n\t\t\t\t\t\t);\n\t\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t\t})\n\t\t\t\t\t.on('show.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\t})\n\t\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t\t})\n\t\t\t\t\t.on('hide.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tpicker.container.removeClass('js-visible');\n\t\t\t\t\t});\n\t\t\t\tApp.Fields.Utils.registerMobileDateRangePicker(el);\n\t\t\t});\n\t\t}\n\t},\n\tDateTime: {\n\t\t/*\n\t\t * Initialization datetime fields\n\t\t * @param {jQuery} parentElement\n\t\t * @param {object} customParams\n\t\t */\n\t\tregister: function (parentElement, customParams) {\n\t\t\tif (typeof parentElement === 'undefined') {\n\t\t\t\tparentElement = $('body');\n\t\t\t} else {\n\t\t\t\tparentElement = $(parentElement);\n\t\t\t}\n\t\t\tlet elements = $('.dateTimePickerField', parentElement);\n\t\t\tif (parentElement.hasClass('dateTimePickerField')) {\n\t\t\t\telements = parentElement;\n\t\t\t}\n\t\t\tif (elements.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$('.input-group-text', elements.closest('.dateTime')).on('click', function (e) {\n\t\t\t\t$(e.currentTarget).closest('.dateTime').find('input.dateTimePickerField').get(0).focus();\n\t\t\t});\n\t\t\tlet dateFormat = CONFIG.dateFormat.toUpperCase();\n\t\t\tconst elementDateFormat = elements.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tdateFormat = elementDateFormat.toUpperCase();\n\t\t\t}\n\t\t\tlet hourFormat = CONFIG.hourFormat;\n\t\t\tconst elementHourFormat = elements.data('hourFormat');\n\t\t\tif (typeof elementHourFormat !== 'undefined') {\n\t\t\t\thourFormat = elementHourFormat;\n\t\t\t}\n\t\t\tlet timePicker24Hour = true;\n\t\t\tlet timeFormat = 'HH:mm';\n\t\t\tif (hourFormat != '24') {\n\t\t\t\ttimePicker24Hour = false;\n\t\t\t\ttimeFormat = 'hh:mm A';\n\t\t\t}\n\t\t\tconst format = dateFormat + ' ' + timeFormat;\n\t\t\tlet isDateRangePicker = elements.data('calendarType') !== 'range';\n\t\t\tlet params = {\n\t\t\t\tparentEl: parentElement,\n\t\t\t\tsingleDatePicker: isDateRangePicker,\n\t\t\t\tshowDropdowns: true,\n\t\t\t\ttimePicker: true,\n\t\t\t\tautoUpdateInput: false,\n\t\t\t\ttimePicker24Hour: timePicker24Hour,\n\t\t\t\ttimePickerIncrement: 1,\n\t\t\t\tautoApply: true,\n\t\t\t\topens: 'left',\n\t\t\t\tlocale: {\n\t\t\t\t\tformat: format,\n\t\t\t\t\tseparator: ',',\n\t\t\t\t\tapplyLabel: app.vtranslate('JS_APPLY'),\n\t\t\t\t\tcancelLabel: app.vtranslate('JS_CANCEL'),\n\t\t\t\t\tfromLabel: app.vtranslate('JS_FROM'),\n\t\t\t\t\ttoLabel: app.vtranslate('JS_TO'),\n\t\t\t\t\tcustomRangeLabel: app.vtranslate('JS_CUSTOM'),\n\t\t\t\t\tweekLabel: app.vtranslate('JS_WEEK').substr(0, 1),\n\t\t\t\t\tfirstDay: CONFIG.firstDayOfWeekNo,\n\t\t\t\t\tdaysOfWeek: App.Fields.Date.daysTranslated,\n\t\t\t\t\tmonthNames: App.Fields.Date.fullMonthsTranslated\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\telements\n\t\t\t\t.daterangepicker(params)\n\t\t\t\t.on('apply.daterangepicker', function applyDateRangePickerHandler(ev, picker) {\n\t\t\t\t\tif (isDateRangePicker) {\n\t\t\t\t\t\t$(this).val(picker.startDate.format(format));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(this).val(picker.startDate.format(format) + ',' + picker.endDate.format(format));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t});\n\t\t\telements.each((index, element) => {\n\t\t\t\tApp.Fields.Utils.registerMobileDateRangePicker($(element));\n\t\t\t});\n\t\t}\n\t},\n\tColors: {\n\t\t/**\n\t\t * Function to check whether the color is dark or light\n\t\t */\n\t\tgetColorContrast: function (hexcolor) {\n\t\t\tvar r = parseInt(hexcolor.substr(0, 2), 16);\n\t\t\tvar g = parseInt(hexcolor.substr(2, 2), 16);\n\t\t\tvar b = parseInt(hexcolor.substr(4, 2), 16);\n\t\t\tvar yiq = (r * 299 + g * 587 + b * 114) / 1000;\n\t\t\treturn yiq >= 128 ? 'light' : 'dark';\n\t\t},\n\t\tgetRandomColor: function () {\n\t\t\tvar letters = '0123456789ABCDEF'.split('');\n\t\t\tvar color = '#';\n\t\t\tfor (var i = 0; i < 6; i++) {\n\t\t\t\tcolor += letters[Math.floor(Math.random() * 16)];\n\t\t\t}\n\t\t\treturn color;\n\t\t},\n\t\tgetRandomColors: function (count) {\n\t\t\tconst colors = [];\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tcolors.push(this.getRandomColor());\n\t\t\t}\n\t\t\treturn colors;\n\t\t},\n\t\tshowPicker({ color, fieldToUpdate, bgToUpdate, cb }) {\n\t\t\tlet registerPickerEvents = (modalContainer) => {\n\t\t\t\tlet picker = window.ColorPicker.mount({\n\t\t\t\t\tel: modalContainer.find('.js-color-picker')[0],\n\t\t\t\t\tcurrentColor: color\n\t\t\t\t});\n\t\t\t\tmodalContainer.find('.js-modal__save').on('click', (_) => {\n\t\t\t\t\tlet newColor = picker.getColor().hex;\n\t\t\t\t\tcb && cb(newColor);\n\t\t\t\t\tbgToUpdate && bgToUpdate.css('background', newColor);\n\t\t\t\t\tfieldToUpdate && fieldToUpdate.val(newColor);\n\t\t\t\t\tapp.hideModalWindow(false, modalContainer.closest('.js-modal-container')[0].id);\n\t\t\t\t});\n\t\t\t};\n\t\t\tlet url = `index.php?module=AppComponents&view=ColorPickerModal${color ? '&color=' + color : ''}`;\n\t\t\tapp.showModalWindow({ url, cb: registerPickerEvents.bind(this) });\n\t\t}\n\t},\n\tText: {\n\t\t/**\n\t\t * Register clip\n\t\t * @param {HTMLElement|jQuery} container\n\t\t * @param {string} key\n\t\t * @returns {ClipboardJS|undefined}\n\t\t */\n\t\tregisterCopyClipboard: function (container, key = '.clipboard') {\n\t\t\tif (typeof container !== 'object') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontainer = $(container).get(0);\n\t\t\tlet elements = container.querySelectorAll(key);\n\t\t\tif (elements.length === 0) {\n\t\t\t\telements = key;\n\t\t\t\tcontainer = '';\n\t\t\t}\n\t\t\treturn new ClipboardJS(elements, {\n\t\t\t\tcontainer: container,\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\ttrigger = $(trigger);\n\t\t\t\t\tconst element = $(trigger.data('copyTarget'), container);\n\t\t\t\t\tlet val;\n\t\t\t\t\tif (typeof trigger.data('copyType') !== 'undefined') {\n\t\t\t\t\t\tif (element.is('select')) {\n\t\t\t\t\t\t\tval = element.find('option:selected').data(trigger.data('copyType'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tval = element.data(trigger.data('copyType'));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof trigger.data('copy-attribute') !== 'undefined') {\n\t\t\t\t\t\tval = trigger.data(trigger.data('copy-attribute'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = element.val();\n\t\t\t\t\t}\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tEditor: class {\n\t\t\tconstructor(container, params) {\n\t\t\t\tthis.container = container;\n\t\t\t\tthis.init(container, params);\n\t\t\t}\n\t\t\t/**\n\t\t\t * Register function\n\t\t\t * @param {jQuery} container\n\t\t\t * @param {Object} params\n\t\t\t */\n\t\t\tstatic register(container, params) {\n\t\t\t\tif (typeof container === 'undefined') {\n\t\t\t\t\tcontainer = $('body');\n\t\t\t\t}\n\t\t\t\tif (container.hasClass('js-editor') && !container.prop('disabled')) {\n\t\t\t\t\treturn new App.Fields.Text.Editor(container, $.extend(params, container.data()));\n\t\t\t\t}\n\t\t\t\tconst instances = [];\n\t\t\t\tcontainer.find('.js-editor:not([disabled])').each((_, e) => {\n\t\t\t\t\tlet element = $(e);\n\t\t\t\t\tinstances.push(new App.Fields.Text.Editor(element, $.extend(params, element.data())));\n\t\t\t\t});\n\t\t\t\treturn instances;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Initiation\n\t\t\t * @param {jQuery} element\n\t\t\t * @param {Object} params\n\t\t\t */\n\t\t\tinit(element, params) {\n\t\t\t\tlet config = {};\n\t\t\t\tif (element.hasClass('js-editor--basic')) {\n\t\t\t\t\tconfig.toolbar = 'Min';\n\t\t\t\t}\n\t\t\t\tif (element.data('height')) {\n\t\t\t\t\tconfig.height = element.data('height');\n\t\t\t\t}\n\t\t\t\tparams = $.extend(config, params);\n\t\t\t\tthis.isModal = element.closest('.js-modal-container').length;\n\t\t\t\tif (this.isModal) {\n\t\t\t\t\tlet self = this;\n\t\t\t\t\tthis.progressInstance = $.progressIndicator({\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\tonBlock: () => {\n\t\t\t\t\t\t\t\tself.loadEditor(element, params);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tApp.Fields.Text.destroyEditor(element);\n\t\t\t\t\tthis.loadEditor(element, params);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\t *Function to set the textArea element\n\t\t\t */\n\t\t\tsetElement(element) {\n\t\t\t\tthis.element = $(element);\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t *Function to get the textArea element\n\t\t\t */\n\t\t\tgetElement() {\n\t\t\t\treturn this.element;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to return Element's id atrribute value\n\t\t\t */\n\t\t\tgetElementId() {\n\t\t\t\treturn this.getElement().attr('id');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to get the instance of ckeditor\n\t\t\t */\n\t\t\tgetEditorInstanceFromName() {\n\t\t\t\treturn CKEDITOR.instances[this.getElementId()];\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to load CkEditor\n\t\t\t * @param {HTMLElement|jQuery} element on which CkEditor has to be loaded\n\t\t\t * @param {Object} customConfig custom configurations for ckeditor\n\t\t\t */\n\t\t\tloadEditor(element, customConfig) {\n\t\t\t\tthis.setElement(element);\n\t\t\t\tconst instance = this.getEditorInstanceFromName(),\n\t\t\t\t\tself = this;\n\t\t\t\tlet config = {\n\t\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\t\tallowedContent: true,\n\t\t\t\t\tdisableNativeSpellChecker: false,\n\t\t\t\t\textraAllowedContent: 'div{page-break-after*}',\n\t\t\t\t\tformat_tags: 'p;h1;h2;h3;h4;h5;h6;pre;address;div',\n\t\t\t\t\tremoveButtons: '',\n\t\t\t\t\tenterMode: CKEDITOR.ENTER_BR,\n\t\t\t\t\tshiftEnterMode: CKEDITOR.ENTER_P,\n\t\t\t\t\temojiEnabled: false,\n\t\t\t\t\tmentionsEnabled: false,\n\t\t\t\t\ton: {\n\t\t\t\t\t\tinstanceReady: function (evt) {\n\t\t\t\t\t\t\tevt.editor.on('blur', function () {\n\t\t\t\t\t\t\t\tevt.editor.updateElement();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (self.isModal) {\n\t\t\t\t\t\t\t\tself.progressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tremovePlugins: 'scayt',\n\t\t\t\t\textraPlugins:\n\t\t\t\t\t\t'colorbutton,pagebreak,colordialog,find,selectall,showblocks,div,print,font,justify,bidi,ckeditor-image-to-base',\n\t\t\t\t\ttoolbar: 'Full',\n\t\t\t\t\ttoolbar_Full: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll'] },\n\t\t\t\t\t\t{ name: 'links', items: ['Link', 'Unlink'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'insert',\n\t\t\t\t\t\t\titems: ['ckeditor-image-to-base', 'Table', 'HorizontalRule', 'SpecialChar', 'PageBreak']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize', 'ShowBlocks'] },\n\t\t\t\t\t\t{ name: 'paragraph', items: ['Outdent', 'Indent', '-', 'Blockquote', 'CreateDiv'] },\n\t\t\t\t\t\t{ name: 'document', items: ['Source', 'Print'] },\n\t\t\t\t\t\t'/',\n\t\t\t\t\t\t{ name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t'NumberedList',\n\t\t\t\t\t\t\t\t'BulletedList',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'JustifyLeft',\n\t\t\t\t\t\t\t\t'JustifyCenter',\n\t\t\t\t\t\t\t\t'JustifyRight',\n\t\t\t\t\t\t\t\t'JustifyBlock',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'BidiLtr',\n\t\t\t\t\t\t\t\t'BidiRtl'\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Min: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t'NumberedList',\n\t\t\t\t\t\t\t\t'BulletedList',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'JustifyLeft',\n\t\t\t\t\t\t\t\t'JustifyCenter',\n\t\t\t\t\t\t\t\t'JustifyRight',\n\t\t\t\t\t\t\t\t'JustifyBlock',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'BidiLtr',\n\t\t\t\t\t\t\t\t'BidiRtl'\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat', 'Source'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Micro: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: ['NumberedList', 'BulletedList', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Clipboard: [\n\t\t\t\t\t\t{ name: 'document', items: ['Print'] },\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_PDF: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll', '-'] },\n\t\t\t\t\t\t{ name: 'links', items: ['Link', 'Unlink'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'insert',\n\t\t\t\t\t\t\titems: ['ckeditor-image-to-base', 'Table', 'HorizontalRule', 'PageBreak']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize', 'ShowBlocks'] },\n\t\t\t\t\t\t{ name: 'document', items: ['Source'] },\n\t\t\t\t\t\t'/',\n\t\t\t\t\t\t{ name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: ['JustifyLeft', 'JustifyCenter', 'JustifyRight']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t\tif (typeof customConfig !== 'undefined') {\n\t\t\t\t\tconfig = $.extend(config, customConfig);\n\t\t\t\t}\n\t\t\t\tconfig = Object.assign(config, element.data());\n\t\t\t\tif (config.emojiEnabled) {\n\t\t\t\t\tlet emojiToolbar = { name: 'links', items: ['EmojiPanel'] };\n\t\t\t\t\tif (typeof config.toolbar === 'string') {\n\t\t\t\t\t\tconfig[`toolbar_${config.toolbar}`].push(emojiToolbar);\n\t\t\t\t\t} else if (Array.isArray(config.toolbar)) {\n\t\t\t\t\t\tconfig.toolbar.push(emojiToolbar);\n\t\t\t\t\t}\n\t\t\t\t\tconfig.extraPlugins = config.extraPlugins + ',emoji';\n\t\t\t\t\tconfig.outputTemplate = '{id}';\n\t\t\t\t}\n\t\t\t\tif (config.mentionsEnabled) {\n\t\t\t\t\tconfig.extraPlugins = config.extraPlugins + ',mentions';\n\t\t\t\t\tconfig.mentions = this.registerMentions();\n\t\t\t\t}\n\t\t\t\tif (instance) {\n\t\t\t\t\tCKEDITOR.remove(instance);\n\t\t\t\t}\n\t\t\t\telement.ckeditor(config);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register mentions\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tregisterMentions() {\n\t\t\t\tlet minSerchTextLength = app.getMainParams('gsMinLength');\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tfeed: this.getMentionUsersData.bind(this),\n\t\t\t\t\t\titemTemplate: `<li data-id=\"{id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-2 c-img__completion__container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"{icon} m-auto u-w-fit u-fs-14px\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"{image}\" class=\"c-img__completion mr-2\" alt=\"{label}\" title=\"{label}\">\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col row-10 no-gutters u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">{label}</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">{category}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>`,\n\t\t\t\t\t\toutputTemplate: '<a href=\"#\" data-id=\"@{id}\" data-module=\"{module}\">{label}</a>',\n\t\t\t\t\t\tminChars: minSerchTextLength\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfeed: App.Fields.Text.getMentionData,\n\t\t\t\t\t\tmarker: '#',\n\t\t\t\t\t\tpattern: /#[wа-я]{1,}|#\\w{3,}$/,\n\t\t\t\t\t\titemTemplate: `<li data-id=\"{id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-2 c-circle-icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"yfm-{module}\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-10 row no-gutters pl-1 u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">{label}</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">{category}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>`,\n\t\t\t\t\t\toutputTemplate: '<a href=\"#\" data-id=\"#{id}\" data-module=\"{module}\">{label}</a>',\n\t\t\t\t\t\tminChars: minSerchTextLength\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Get mention Users data (invoked by ck editor mentions plugin)\n\t\t\t * @param {object} opts\n\t\t\t * @param {function} callback\n\t\t\t */\n\t\t\tgetMentionUsersData(opts, callback) {\n\t\t\t\tApp.Fields.Text.getMentionData(opts, callback, 'owners');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Completions class for contenteditable html element for records, users and emojis. Params can be passed in data-completions- of contenteditable element or as argument. Default params:\n\t\t * {\n\t\t \t\tcompletionsCollection: {\n\t\t\t\t\t\trecords: true,\n\t\t\t\t\t\tusers: true,\n\t\t\t\t\t\temojis: true\n\t\t\t\t\t}\n\t\t\t}\n\t\t */\n\t\tCompletions: class {\n\t\t\t/**\n\t\t\t * Constructor\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t * @param params\n\t\t\t */\n\t\t\tconstructor(inputDiv = $('.js-completions').eq(0), params = { emojiPanel: true }) {\n\t\t\t\tif (typeof inputDiv === 'undefined' || inputDiv.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (inputDiv.length === undefined) {\n\t\t\t\t\tinputDiv = $(inputDiv);\n\t\t\t\t}\n\t\t\t\tlet basicParams = {\n\t\t\t\t\tcompletionsCollection: {\n\t\t\t\t\t\trecords: true,\n\t\t\t\t\t\tusers: true,\n\t\t\t\t\t\temojis: true\n\t\t\t\t\t},\n\t\t\t\t\tautolink: true\n\t\t\t\t};\n\t\t\t\tthis.params = Object.assign(basicParams, inputDiv.data(), params);\n\t\t\t\tthis.inputDiv = inputDiv;\n\t\t\t\tthis.collection = [];\n\t\t\t\tif (this.params.completionsCollection.records) {\n\t\t\t\t\tthis.collection.push(this.registerMentionCollection('#'));\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsCollection.users) {\n\t\t\t\t\tthis.collection.push(this.registerMentionCollection('@', 'owners'));\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsCollection.emojis) {\n\t\t\t\t\tthis.collection.push(this.registerEmojiCollection());\n\t\t\t\t}\n\t\t\t\tthis.register(inputDiv);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register mention collection for tribute.js\n\t\t\t * @param {string} symbol\n\t\t\t * @param {string} searchModule\n\t\t\t * @returns {{trigger: *, selectTemplate: selectTemplate, values: values, menuItemTemplate: (function(*): string), lookup: string, fillAttr: string}}\n\t\t\t */\n\t\t\tregisterMentionCollection(symbol, searchModule = '-') {\n\t\t\t\tlet self = this;\n\t\t\t\treturn {\n\t\t\t\t\ttrigger: symbol,\n\t\t\t\t\tselectTemplate: function (item) {\n\t\t\t\t\t\tif (this.range.isContentEditable(this.current.element)) {\n\t\t\t\t\t\t\treturn `<a href=\"#\" data-id=\"${symbol + item.original.id}\" data-module=\"${\n\t\t\t\t\t\t\t\titem.original.module\n\t\t\t\t\t\t\t}\">${item.original.label.split('(')[0].trim()}</a>`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn symbol + item.original.label;\n\t\t\t\t\t},\n\t\t\t\t\tvalues: (text, cb) => {\n\t\t\t\t\t\tif (text.length >= CONFIG.globalSearchAutocompleteMinLength) {\n\t\t\t\t\t\t\tApp.Fields.Text.getMentionData(text, (users) => cb(users), searchModule);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmenuItemTemplate: function (item) {\n\t\t\t\t\t\treturn self.mentionTemplate({\n\t\t\t\t\t\t\tid: item.original.id,\n\t\t\t\t\t\t\tmodule: item.original.module,\n\t\t\t\t\t\t\tcategory: item.original.category,\n\t\t\t\t\t\t\timage: item.original.image,\n\t\t\t\t\t\t\tlabel: item.original.label,\n\t\t\t\t\t\t\ticon: item.original.icon\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlookup: 'label',\n\t\t\t\t\tfillAttr: 'label'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register emoji collection for tribute.js\n\t\t\t * @returns {{trigger: string, selectTemplate: selectTemplate, menuItemTemplate: (function(*): string), lookup: string, fillAttr: string, values: Array}}\n\t\t\t */\n\t\t\tregisterEmojiCollection() {\n\t\t\t\treturn {\n\t\t\t\t\ttrigger: ':',\n\t\t\t\t\tselectTemplate: function (item) {\n\t\t\t\t\t\tif (this.range.isContentEditable(this.current.element)) {\n\t\t\t\t\t\t\treturn `<span data-id=\"${item.original.id}\">${item.original.symbol}</span>`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn item.original.symbol;\n\t\t\t\t\t},\n\t\t\t\t\tmenuItemTemplate: function (item) {\n\t\t\t\t\t\treturn `<span data-id=\"${item.original.id}\">${item.original.symbol} ${item.original.id}</span>`;\n\t\t\t\t\t},\n\t\t\t\t\tlookup: 'id',\n\t\t\t\t\tfillAttr: 'keywords',\n\t\t\t\t\tvalues: (text, cb) => {\n\t\t\t\t\t\tif (text.length >= 2) {\n\t\t\t\t\t\t\tcb(App.emoji);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\t/*\n\t\t\t * Mention template\n\t\t\t */\n\t\t\tmentionTemplate(params) {\n\t\t\t\tlet icon = '';\n\t\t\t\tif (params.module !== undefined) {\n\t\t\t\t\ticon = `yfm-${params.module}`;\n\t\t\t\t}\n\t\t\t\tif (params.icon !== undefined && params.icon !== '') {\n\t\t\t\t\ticon = params.icon;\n\t\t\t\t}\n\t\t\t\tlet avatar = `<div class=\"col-2 c-circle-icon\">\n\t\t\t\t\t\t\t\t<span class=\"${icon}\"></span>\n\t\t\t\t\t\t\t</div>`;\n\t\t\t\tif (params.image !== undefined && params.image !== '') {\n\t\t\t\t\tavatar = `<div class=\"col-2 c-img__completion__container m-0\"><img src=\"${params.image}\" class=\"c-img__completion\" alt=${params.label}\" title=\"${params.label}\"></div>`;\n\t\t\t\t}\n\t\t\t\treturn `<div data-id=\"${params.id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t${avatar}\n\t\t\t\t\t\t\t<div class=\"col-10 row no-gutters pl-1 u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">${params.label}</strong>\n\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">${params.category}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>`;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Auto link\n\t\t\t */\n\t\t\tautoLink() {\n\t\t\t\tlet fillChar = '\\u200B';\n\t\t\t\tlet sel = window.getSelection(),\n\t\t\t\t\trange = sel.getRangeAt(0).cloneRange(),\n\t\t\t\t\toffset,\n\t\t\t\t\tcharCode,\n\t\t\t\t\tgetParentByTagName = function (node, tags) {\n\t\t\t\t\t\tif (node && !isBody(node)) {\n\t\t\t\t\t\t\twhile (node) {\n\t\t\t\t\t\t\t\tif (tags[node.tagName] || isBody(node)) {\n\t\t\t\t\t\t\t\t\treturn !tags[node.tagName] && isBody(node) ? null : node;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tnode = node.parentNode;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t},\n\t\t\t\t\tisBody = function (node) {\n\t\t\t\t\t\treturn node && node.nodeType == 1 && node.tagName.toLowerCase() == 'body';\n\t\t\t\t\t},\n\t\t\t\t\thtml = function (str) {\n\t\t\t\t\t\treturn str.replace(/&((g|l|quo)t|amp|#39);/g, function (m) {\n\t\t\t\t\t\t\treturn { '&lt;': '<', '&amp;': '&', '&quot;': '\"', '&gt;': '>', '&#39;': \"'\" }[m];\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tisFillChar = function (node) {\n\t\t\t\t\t\treturn node.nodeType == 3 && !node.nodeValue.replace(new RegExp('' + fillChar), '').length;\n\t\t\t\t\t};\n\n\t\t\t\tlet start = range.startContainer;\n\t\t\t\twhile (start.nodeType == 1 && range.startOffset > 0) {\n\t\t\t\t\tstart = range.startContainer.childNodes[range.startOffset - 1];\n\t\t\t\t\tif (!start) break;\n\t\t\t\t\trange.setStart(start, start.nodeType == 1 ? start.childNodes.length : start.nodeValue.length);\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\tstart = range.startContainer;\n\t\t\t\t}\n\t\t\t\tdo {\n\t\t\t\t\tif (range.startOffset == 0) {\n\t\t\t\t\t\tstart = range.startContainer.previousSibling;\n\t\t\t\t\t\twhile (start && start.nodeType == 1) {\n\t\t\t\t\t\t\tstart = start.lastChild;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!start || isFillChar(start)) break;\n\t\t\t\t\t\toffset = start.nodeValue.length;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstart = range.startContainer;\n\t\t\t\t\t\toffset = range.startOffset;\n\t\t\t\t\t}\n\t\t\t\t\trange.setStart(start, offset - 1);\n\t\t\t\t\tcharCode = range.toString().charCodeAt(0);\n\t\t\t\t} while (charCode != 160 && charCode != 32);\n\t\t\t\tif (\n\t\t\t\t\trange\n\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t.replace(new RegExp(fillChar, 'g'), '')\n\t\t\t\t\t\t.match(/(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i)\n\t\t\t\t) {\n\t\t\t\t\twhile (range.toString().length) {\n\t\t\t\t\t\tif (/^(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i.test(range.toString())) break;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\trange.setStart(range.startContainer, range.startOffset + 1);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlet startCont = range.startContainer,\n\t\t\t\t\t\t\t\tnext;\n\t\t\t\t\t\t\twhile (!(next = startCont.nextSibling)) {\n\t\t\t\t\t\t\t\tif (isBody(startCont)) return;\n\t\t\t\t\t\t\t\tstartCont = startCont.parentNode;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trange.setStart(next, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (getParentByTagName(range.startContainer, { a: 1, A: 1 })) return;\n\t\t\t\t\tlet href = range\n\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t.replace(/<[^>]+>/g, '')\n\t\t\t\t\t\t\t.replace(new RegExp(fillChar, 'g'), ''),\n\t\t\t\t\t\threfFull = /^(?:https?:\\/\\/)/gi.test(href) ? href : 'http://' + href,\n\t\t\t\t\t\turl = new URL(hrefFull);\n\t\t\t\t\tlet allowedHosts = CONFIG.purifierAllowedDomains;\n\t\t\t\t\tif (allowedHosts !== false && allowedHosts.indexOf(url.host) === -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet a = document.createElement('a'),\n\t\t\t\t\t\ttext = document.createTextNode(' ');\n\t\t\t\t\ta.appendChild(range.extractContents());\n\t\t\t\t\ta.innerHTML = href;\n\t\t\t\t\ta.href = hrefFull ? html(hrefFull) : '';\n\t\t\t\t\ta.setAttribute('rel', 'noopener noreferrer');\n\t\t\t\t\ta.setAttribute('target', '_blank');\n\n\t\t\t\t\trange.insertNode(a);\n\t\t\t\t\ta.parentNode.insertBefore(text, a.nextSibling);\n\t\t\t\t\trange.setStart(text.nextSibling, 0);\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t\t/**\n\t\t\t * Register\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregister(inputDiv) {\n\t\t\t\tconst self = this;\n\t\t\t\tthis.completionsCollection = new Tribute({\n\t\t\t\t\tcollection: self.collection,\n\t\t\t\t\tallowSpaces: true,\n\t\t\t\t\treplaceTextSuffix: ''\n\t\t\t\t});\n\t\t\t\tthis.completionsCollection.attach(inputDiv[0]);\n\t\t\t\tif (this.params.completionsTextarea !== undefined) {\n\t\t\t\t\tthis.registerCompletionsTextArea(inputDiv);\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsButtons !== undefined) {\n\t\t\t\t\tthis.registerCompletionsButtons();\n\t\t\t\t}\n\t\t\t\tif (this.params.autolink) {\n\t\t\t\t\tthis.registerAutoLinker(inputDiv);\n\t\t\t\t}\n\t\t\t\tif (this.params.emojiPanel) {\n\t\t\t\t\tthis.registerEmojiPanel(this.inputDiv, this.inputDiv.parents().eq(3).find('.js-completions__emojis'));\n\t\t\t\t}\n\t\t\t\tif (App.emoji === undefined) {\n\t\t\t\t\tfetch(`${CONFIG.siteUrl}/vendor/ckeditor/ckeditor/plugins/emoji/emoji.json`)\n\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\tApp.emoji = response;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => console.error('Error:', error));\n\t\t\t\t}\n\t\t\t\tthis.registerTagClick(inputDiv);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register autolink\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregisterAutoLinker(inputDiv) {\n\t\t\t\tinputDiv.on('keypress', (e) => {\n\t\t\t\t\tif (e.keyCode === 32 || e.keyCode === 13) {\n\t\t\t\t\t\tthis.autoLink();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register completons hidden textarea - useful with forms\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregisterCompletionsTextArea(inputDiv) {\n\t\t\t\tlet textarea = inputDiv.siblings(`[name=${inputDiv.attr('id')}]`);\n\t\t\t\tinputDiv\n\t\t\t\t\t.on('focus', function () {\n\t\t\t\t\t\ttextarea.val(inputDiv.html());\n\t\t\t\t\t})\n\t\t\t\t\t.on('blur keyup paste input', function () {\n\t\t\t\t\t\ttextarea.val(inputDiv.html());\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register tag click\n\t\t\t * @param inputDiv\n\t\t\t */\n\t\t\tregisterTagClick(inputDiv) {\n\t\t\t\tinputDiv\n\t\t\t\t\t.closest('.js-completions__container')\n\t\t\t\t\t.find('.js-completions__messages')\n\t\t\t\t\t.on('click', '.js-completions__tag', (e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tinputDiv.append($(e.target).clone());\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register completions buttons\n\t\t\t */\n\t\t\tregisterCompletionsButtons() {\n\t\t\t\tlet completionsContainer = this.inputDiv.parents().eq(3);\n\t\t\t\tcompletionsContainer.find('.js-completions__users').on('click', (e) => {\n\t\t\t\t\tthis.completionsCollection.showMenuForCollection(this.inputDiv[0], 1);\n\t\t\t\t});\n\t\t\t\tcompletionsContainer.find('.js-completions__records').on('click', (e) => {\n\t\t\t\t\tthis.completionsCollection.showMenuForCollection(this.inputDiv[0], 0);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register emojipanel library\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t * @param {jQuery} emojisContainer\n\t\t\t */\n\t\t\tregisterEmojiPanel(inputDiv, emojisContainer) {\n\t\t\t\tnew EmojiPanel({\n\t\t\t\t\tcontainer: '.js-completions__emojis',\n\t\t\t\t\tjson_url: CONFIG.siteUrl + 'libraries/emojipanel/dist/emojis.json'\n\t\t\t\t});\n\t\t\t\temojisContainer.on('click', (e) => {\n\t\t\t\t\tlet element = $(e.target);\n\t\t\t\t\telement.toggleClass('active');\n\t\t\t\t});\n\t\t\t\temojisContainer.on('click', '.emoji', (e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tif ($(e.currentTarget).data('char') !== undefined) {\n\t\t\t\t\t\tinputDiv.append(`${$(e.currentTarget).data('char')}`);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\temojisContainer.on('mouseenter', '.emoji', (e) => {\n\t\t\t\t\tif ($(e.currentTarget).data('name') !== undefined) {\n\t\t\t\t\t\temojisContainer.find('.emoji-hovered').remove();\n\t\t\t\t\t\temojisContainer\n\t\t\t\t\t\t\t.find('footer')\n\t\t\t\t\t\t\t.prepend(\n\t\t\t\t\t\t\t\t`<div class=\"emoji-hovered\">${\n\t\t\t\t\t\t\t\t\t$(e.currentTarget).data('char') + ' ' + $(e.currentTarget).data('name')\n\t\t\t\t\t\t\t\t}</div>`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\temojisContainer.on('clickoutside', () => {\n\t\t\t\t\temojisContainer.removeClass('active');\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get mention data (invoked by ck editor mentions plugin and tribute.js)\n\t\t * @param {object} opts\n\t\t * @param {function} callback\n\t\t * @param {string} searchModule\n\t\t */\n\t\tgetMentionData(text, callback, searchModule = '-') {\n\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\tbasicSearch.reduceNumberResults = app.getMainParams('gsAmountResponse');\n\t\t\tbasicSearch.returnHtml = false;\n\t\t\tbasicSearch.searchModule = searchModule;\n\t\t\tif (typeof text === 'object') {\n\t\t\t\ttext = text.query.toLowerCase();\n\t\t\t}\n\t\t\tif (searchModule === 'owners') {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\taction: 'Search',\n\t\t\t\t\tmode: 'owners',\n\t\t\t\t\tvalue: text\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tcallback(data.result);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tbasicSearch.search(text).done(function (data) {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\tlet serverDataFormat = data.result,\n\t\t\t\t\t\treponseDataList = [];\n\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t}\n\t\t\t\t\tcallback(reponseDataList);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Destroy ckEditor\n\t\t * @param {jQuery} element\n\t\t */\n\t\tdestroyEditor(element) {\n\t\t\tif (typeof CKEDITOR !== 'undefined' && CKEDITOR.instances && element.attr('id') in CKEDITOR.instances) {\n\t\t\t\tCKEDITOR.instances[element.attr('id')].destroy();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Generate random character\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateRandomChar() {\n\t\t\tconst chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ';\n\t\t\tconst rand = Math.floor(Math.random() * chars.length);\n\t\t\treturn chars.substring(rand, rand + 1);\n\t\t},\n\n\t\t/**\n\t\t * generate random hash\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateRandomHash(prefix = '') {\n\t\t\tprefix = prefix.toString();\n\t\t\tconst hash =\n\t\t\t\tMath.random().toString(36).substr(2, 10) +\n\t\t\t\tMath.random().toString(36).substr(2, 10) +\n\t\t\t\tnew Date().valueOf() +\n\t\t\t\tMath.random().toString(36).substr(2, 6);\n\t\t\treturn prefix ? prefix + hash : hash;\n\t\t}\n\t},\n\tPicklist: {\n\t\t/**\n\t\t * Function which will convert ui of select boxes.\n\t\t * @params parent - select element\n\t\t * @params view - select2\n\t\t * @params viewParams - select2 params\n\t\t * @returns jquery object list which represents changed select elements\n\t\t */\n\t\tchangeSelectElementView: function (parent, view, viewParams) {\n\t\t\tif (typeof parent === 'undefined') {\n\t\t\t\tparent = $('body');\n\t\t\t}\n\t\t\tif (typeof view === 'undefined') {\n\t\t\t\tconst select2Elements = $('select.select2', parent).toArray();\n\t\t\t\tselect2Elements.forEach((elem) => {\n\t\t\t\t\tthis.changeSelectElementView($(elem), 'select2', viewParams);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//If view is select2, This will convert the ui of select boxes to select2 elements.\n\t\t\tif (view === 'select2') {\n\t\t\t\treturn App.Fields.Picklist.showSelect2ElementView(parent, viewParams);\n\t\t\t} else {\n\t\t\t\tapp.errorLog(new Error(`Unknown select type [${view}]`));\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will show the select2 element for select boxes . This will use select2 library\n\t\t */\n\t\tshowSelect2ElementView(selectElement, params) {\n\t\t\tlet self = this;\n\t\t\tselectElement = $(selectElement);\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tif ($(selectElement).length > 1) {\n\t\t\t\treturn $(selectElement).each((index, element) => {\n\t\t\t\t\tthis.showSelect2ElementView($(element).eq(0), params);\n\t\t\t\t});\n\t\t\t}\n\t\t\tparams = this.registerParams(selectElement, params);\n\t\t\tif (params.selectLazy && !selectElement.hasClass('js-lazy-select-active')) {\n\t\t\t\treturn App.Fields.Picklist.showLazySelect(selectElement, {\n\t\t\t\t\tlazyElements: app.getMainParams('picklistLimit'),\n\t\t\t\t\tdata: this.registerLazySelectOptions(selectElement),\n\t\t\t\t\tselectParams: params\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst computeDropdownHeight = (e, dropdownContainer) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (!dropdownContainer.find('.select2-dropdown--above').length) {\n\t\t\t\t\t\tconst dropdownList = dropdownContainer.find('.select2-results > .select2-results__options');\n\t\t\t\t\t\tconst marginBottom = 35;\n\t\t\t\t\t\tconst selectOffsetTop = $(e.currentTarget).offset().top;\n\t\t\t\t\t\tdropdownList.css({\n\t\t\t\t\t\t\t'max-height':\n\t\t\t\t\t\t\t\t$(window).height() - selectOffsetTop - marginBottom - (dropdownList.offset().top - selectOffsetTop)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}, 100);\n\t\t\t};\n\t\t\tselectElement.each(function () {\n\t\t\t\tlet select = $(this);\n\t\t\t\tlet htmlBoolParams = select.data('select');\n\t\t\t\tif (htmlBoolParams === 'tags') {\n\t\t\t\t\tparams.tags = true;\n\t\t\t\t\tparams.tokenSeparators = [','];\n\t\t\t\t} else {\n\t\t\t\t\tparams[htmlBoolParams] = true;\n\t\t\t\t}\n\t\t\t\tselect\n\t\t\t\t\t.select2(params)\n\t\t\t\t\t.on('select2:open', (e) => {\n\t\t\t\t\t\tcomputeDropdownHeight(e, $('.select2-container--open:not(.select2-container--below)'));\n\t\t\t\t\t\tif (select.data('unselecting')) {\n\t\t\t\t\t\t\tselect.removeData('unselecting');\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tselect.each(function () {\n\t\t\t\t\t\t\t\t\t$(this).select2('close');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet instance = $(e.currentTarget).data('select2');\n\t\t\t\t\t\tinstance.$dropdown.css('z-index', 1000002);\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * Fix auto focusing in select2 with jQuery 3.6.0\n\t\t\t\t\t\t * see: https://github.com/select2/select2/issues/5993\n\t\t\t\t\t\t */\n\t\t\t\t\t\tif (instance.dropdown.$search) {\n\t\t\t\t\t\t\tinstance.dropdown.$search.get(0).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.on('select2:unselect', () => {\n\t\t\t\t\t\tselect.data('unselecting', true);\n\t\t\t\t\t});\n\t\t\t\tif (typeof self[params.selectCb] === 'function') {\n\t\t\t\t\tself[params.selectCb](select, params);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn selectElement;\n\t\t},\n\t\t/**\n\t\t * Register params\n\t\t * @param selectElement\n\t\t * @param params\n\t\t * @returns {*}\n\t\t */\n\t\tregisterParams(selectElement, params) {\n\t\t\tif (typeof params.dropdownParent === 'undefined') {\n\t\t\t\tconst modalParent = $(selectElement).closest('.modal-body');\n\t\t\t\tif (modalParent.length) {\n\t\t\t\t\tparams.dropdownParent = modalParent;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = selectElement.data();\n\t\t\tif (data != null) {\n\t\t\t\tparams = $.extend(data, params);\n\t\t\t}\n\t\t\tparams.language = {};\n\t\t\tparams.theme = 'bootstrap';\n\t\t\tconst width = $(selectElement).data('width');\n\t\t\tif (typeof width !== 'undefined') {\n\t\t\t\tparams.width = width;\n\t\t\t} else {\n\t\t\t\tparams.width = '100%';\n\t\t\t}\n\t\t\tparams.containerCssClass = 'form-control w-100';\n\t\t\tconst containerCssClass = selectElement.data('containerCssClass');\n\t\t\tif (typeof containerCssClass !== 'undefined') {\n\t\t\t\tparams.containerCssClass += ' ' + containerCssClass;\n\t\t\t}\n\t\t\tparams.language.noResults = function (msn) {\n\t\t\t\treturn app.vtranslate('JS_NO_RESULTS_FOUND');\n\t\t\t};\n\n\t\t\t// Sort DOM nodes alphabetically in select box.\n\t\t\tif (typeof params['customSortOptGroup'] !== 'undefined' && params['customSortOptGroup']) {\n\t\t\t\t$('optgroup', selectElement).each(function () {\n\t\t\t\t\tvar optgroup = $(this);\n\t\t\t\t\tvar options = optgroup\n\t\t\t\t\t\t.children()\n\t\t\t\t\t\t.toArray()\n\t\t\t\t\t\t.sort(function (a, b) {\n\t\t\t\t\t\t\tvar aText = $(a).text();\n\t\t\t\t\t\t\tvar bText = $(b).text();\n\t\t\t\t\t\t\treturn aText < bText ? 1 : -1;\n\t\t\t\t\t\t});\n\t\t\t\t\t$.each(options, function (i, v) {\n\t\t\t\t\t\toptgroup.prepend(v);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tdelete params['customSortOptGroup'];\n\t\t\t}\n\n\t\t\t//formatSelectionTooBig param is not defined even it has the maximumSelectionLength,\n\t\t\t//then we should send our custom function for formatSelectionTooBig\n\t\t\tif (typeof params.maximumSelectionLength !== 'undefined' && typeof params.formatSelectionTooBig === 'undefined') {\n\t\t\t\t//custom function which will return the maximum selection size exceeds message.\n\t\t\t\tvar formatSelectionExceeds = function (limit) {\n\t\t\t\t\treturn app.vtranslate('JS_YOU_CAN_SELECT_ONLY') + ' ' + limit.maximum + ' ' + app.vtranslate('JS_ITEMS');\n\t\t\t\t};\n\t\t\t\tparams.language.maximumSelected = formatSelectionExceeds;\n\t\t\t}\n\t\t\tif (typeof selectElement.attr('multiple') !== 'undefined' && !params.placeholder) {\n\t\t\t\tparams.placeholder = app.vtranslate('JS_SELECT_SOME_OPTIONS');\n\t\t\t} else if (!params.placeholder) {\n\t\t\t\tparams.placeholder = app.vtranslate('JS_SELECT_AN_OPTION');\n\t\t\t}\n\t\t\tif (typeof params.templateResult === 'undefined') {\n\t\t\t\tparams.templateResult = function (data, container) {\n\t\t\t\t\tif (data.element && data.element.className) {\n\t\t\t\t\t\t$(container).addClass(data.element.className);\n\t\t\t\t\t}\n\t\t\t\t\tlet actualElement = $(data.element);\n\t\t\t\t\tif (typeof selectElement.data('showAdditionalIcons') !== 'undefined' && actualElement.is('option')) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t'<div class=\"js-element__title d-flex justify-content-between\" data-js=\"appendTo\"><div class=\"u-text-ellipsis--no-hover\">' +\n\t\t\t\t\t\t\tactualElement.text() +\n\t\t\t\t\t\t\t'</div></div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof data.name === 'undefined') {\n\t\t\t\t\t\treturn data.text;\n\t\t\t\t\t}\n\t\t\t\t\tif (data.type == 'optgroup') {\n\t\t\t\t\t\treturn '<strong>' + data.name + '</strong>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '<span>' + data.name + '</span>';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tparams.escapeMarkup = function (markup) {\n\t\t\t\t\treturn markup;\n\t\t\t\t};\n\t\t\t} else if (typeof this[params.templateResult] === 'function') {\n\t\t\t\tparams.templateResult = this[params.templateResult];\n\t\t\t}\n\t\t\tif (typeof params.templateSelection === 'undefined') {\n\t\t\t\tparams.templateSelection = function (data, container) {\n\t\t\t\t\tif (data.element && data.element.className) {\n\t\t\t\t\t\t$(container).addClass(data.element.className);\n\t\t\t\t\t}\n\t\t\t\t\tif (data.text === '') {\n\t\t\t\t\t\treturn data.name;\n\t\t\t\t\t}\n\t\t\t\t\treturn data.text;\n\t\t\t\t};\n\t\t\t} else if (typeof this[params.templateSelection] === 'function') {\n\t\t\t\tparams.templateSelection = this[params.templateSelection];\n\t\t\t}\n\t\t\tif (selectElement.data('ajaxSearch') === 1) {\n\t\t\t\tparams = this.registerAjaxParams(selectElement, params);\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Register ajax params\n\t\t * @param selectElement\n\t\t * @param params\n\t\t * @returns {*}\n\t\t */\n\t\tregisterAjaxParams(selectElement, params) {\n\t\t\tparams.tags = false;\n\t\t\tparams.language.searching = function () {\n\t\t\t\treturn app.vtranslate('JS_SEARCHING');\n\t\t\t};\n\t\t\tparams.language.inputTooShort = function (args) {\n\t\t\t\tvar remainingChars = args.minimum - args.input.length;\n\t\t\t\treturn app.vtranslate('JS_INPUT_TOO_SHORT').replace('_LENGTH_', remainingChars);\n\t\t\t};\n\t\t\tparams.language.errorLoading = function () {\n\t\t\t\treturn app.vtranslate('JS_NO_RESULTS_FOUND');\n\t\t\t};\n\t\t\tparams.placeholder = '';\n\t\t\tparams.ajax = {\n\t\t\t\turl: selectElement.data('ajaxUrl'),\n\t\t\t\tdataType: 'json',\n\t\t\t\tdelay: 250,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: function (params) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: params.term, // search term\n\t\t\t\t\t\tpage: params.page\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tprocessResults: function (data, params) {\n\t\t\t\t\tvar items = new Array();\n\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\tselectElement.find('option').each(function () {\n\t\t\t\t\t\t\tvar currentTarget = $(this);\n\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\tlabel: currentTarget.html(),\n\t\t\t\t\t\t\t\tvalue: currentTarget.val()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\titems = items.concat(data.result.items);\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tresults: items,\n\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\tmore: false\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tcache: false\n\t\t\t};\n\t\t\tparams.escapeMarkup = function (markup) {\n\t\t\t\tif (markup !== 'undefined') return markup;\n\t\t\t};\n\t\t\tvar minimumInputLength = 3;\n\t\t\tif (selectElement.data('minimumInput') !== 'undefined') {\n\t\t\t\tminimumInputLength = selectElement.data('minimumInput');\n\t\t\t}\n\t\t\tparams.minimumInputLength = minimumInputLength;\n\t\t\tparams.templateResult = function (data) {\n\t\t\t\tif (typeof data.name === 'undefined') {\n\t\t\t\t\treturn data.text;\n\t\t\t\t}\n\t\t\t\tif (data.type == 'optgroup') {\n\t\t\t\t\treturn '<strong>' + data.name + '</strong>';\n\t\t\t\t} else {\n\t\t\t\t\treturn '<span>' + data.name + '</span>';\n\t\t\t\t}\n\t\t\t};\n\t\t\tparams.templateSelection = function (data, container) {\n\t\t\t\tif (data.text === '') {\n\t\t\t\t\treturn data.name;\n\t\t\t\t}\n\t\t\t\treturn data.text;\n\t\t\t};\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Prepend template with a flag, function is called select2\n\t\t * @param optionData\n\t\t * @returns {Mixed|jQuery|HTMLElement}\n\t\t */\n\t\tprependDataTemplate(optionData) {\n\t\t\tlet template = optionData.text;\n\t\t\tif (optionData.id !== undefined && optionData.id !== '') {\n\t\t\t\ttemplate = $(optionData.element.dataset.template);\n\t\t\t\tif (optionData.element.dataset.state !== undefined) {\n\t\t\t\t\t//check if element has icons with different states\n\t\t\t\t\tif (optionData.element.dataset.state === 'active') {\n\t\t\t\t\t\ttemplate\n\t\t\t\t\t\t\t.find('.js-select-option-event')\n\t\t\t\t\t\t\t.removeClass(optionData.element.dataset.iconInactive)\n\t\t\t\t\t\t\t.addClass(optionData.element.dataset.iconActive);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttemplate\n\t\t\t\t\t\t\t.find('.js-select-option-event')\n\t\t\t\t\t\t\t.removeClass(optionData.element.dataset.iconActive)\n\t\t\t\t\t\t\t.addClass(optionData.element.dataset.iconInactive);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn template;\n\t\t},\n\t\t/**\n\t\t * Register select sortable\n\t\t * @param select\n\t\t * @param params\n\t\t */\n\t\tregisterSelectSortable(select, params) {\n\t\t\tthis.sortSelectOptions(select);\n\t\t\tthis.registerSortEvent(select, params.sortableCb);\n\t\t},\n\t\t/**\n\t\t * Sort elements (options) in select by data-sort-index\n\t\t * @param {jQuery} select2 element\n\t\t */\n\t\tsortSelectOptions(select) {\n\t\t\tselect\n\t\t\t\t.find('option[data-sort-index]')\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\treturn $(b).data('sort-index') < $(a).data('sort-index') ? 1 : -1;\n\t\t\t\t})\n\t\t\t\t.appendTo(select);\n\t\t},\n\t\t/**\n\t\t * Register select drag and drop sorting\n\t\t * @param {jQuery} select2 element\n\t\t * @param {function} callback function\n\t\t */\n\t\tregisterSortEvent(select, cb = () => {}) {\n\t\t\tlet ul = select.next('.select2-container').first('ul.select2-selection__rendered');\n\t\t\tul.sortable({\n\t\t\t\titems: 'li:not(.select2-search__field)',\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tstop: function () {\n\t\t\t\t\t$(ul.find('.select2-selection__choice').get().reverse()).each(function () {\n\t\t\t\t\t\tlet optionTitle = $(this).attr('title');\n\t\t\t\t\t\tselect.find('option').each(function () {\n\t\t\t\t\t\t\tif ($(this).text() === optionTitle) {\n\t\t\t\t\t\t\t\tselect.prepend($(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tcb(select);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register icons events in select2 options\n\t\t * @param selectElement\n\t\t */\n\t\tregisterIconsEvents(selectElement) {\n\t\t\tselectElement.on('select2:selecting', (event) => {\n\t\t\t\tlet currentTarget = $(event.params.args.originalEvent.target);\n\t\t\t\tif (!currentTarget.hasClass('js-select-option-event') && !currentTarget.is('path')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (currentTarget.is('path')) {\n\t\t\t\t\t//svg target fix\n\t\t\t\t\tcurrentTarget = currentTarget.closest('.js-select-option-event');\n\t\t\t\t}\n\t\t\t\tlet currentElementData = $(event.params.args.data.element).data(),\n\t\t\t\t\toptionElement = $(event.params.args.data.element),\n\t\t\t\t\tprogressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request(currentElementData.url)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tif (response && response.result) {\n\t\t\t\t\t\t\tif (optionElement.attr('data-state') === 'active') {\n\t\t\t\t\t\t\t\toptionElement.attr('data-state', 'inactive');\n\t\t\t\t\t\t\t\tcurrentTarget.toggleClass(currentElementData.iconActive + ' ' + currentElementData.iconInactive);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\toptionElement.attr('data-state', 'active');\n\t\t\t\t\t\t\t\tcurrentTarget.toggleClass(currentElementData.iconInactive + ' ' + currentElementData.iconActive);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (response.message) {\n\t\t\t\t\t\t\t\tapp.showNotify({ text: response.message, type: 'success' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (response && response.message) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: response.message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show lazy select based on data passed in js.\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t * @param   {object}  params         contains selectParams object, lazyElements number, data array\n\t\t */\n\t\tshowLazySelect(selectElement, params) {\n\t\t\t$.fn.select2.amd.require(['select2/data/array', 'select2/utils'], (ArrayData, Utils) => {\n\t\t\t\tfunction CustomData($element, params) {\n\t\t\t\t\tCustomData.__super__.constructor.call(this, $element, params);\n\t\t\t\t}\n\t\t\t\tUtils.Extend(CustomData, ArrayData);\n\t\t\t\tCustomData.prototype.query = (options, callback) => {\n\t\t\t\t\tlet results = [];\n\t\t\t\t\tif (options.term && options.term !== '') {\n\t\t\t\t\t\tresults = params.data.filter((e) => {\n\t\t\t\t\t\t\treturn e.text.toUpperCase().indexOf(options.term.toUpperCase()) >= 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresults = params.data;\n\t\t\t\t\t}\n\t\t\t\t\tif (!('page' in options)) {\n\t\t\t\t\t\toptions.page = 1;\n\t\t\t\t\t}\n\t\t\t\t\tlet data = {};\n\t\t\t\t\tdata.results = results.slice((options.page - 1) * params.lazyElements, options.page * params.lazyElements);\n\t\t\t\t\tdata.pagination = {};\n\t\t\t\t\tdata.pagination.more = options.page * params.lazyElements < results.length;\n\t\t\t\t\tcallback(data);\n\t\t\t\t};\n\t\t\t\tparams.selectParams = Object.assign(params.selectParams, {\n\t\t\t\t\tajax: {},\n\t\t\t\t\tdataAdapter: CustomData\n\t\t\t\t});\n\t\t\t\tselectElement.addClass('js-lazy-select-active');\n\t\t\t\tthis.showSelect2ElementView(selectElement, params.selectParams);\n\t\t\t\tlet selectedOption = selectElement.data('selected-value');\n\t\t\t\tif (selectedOption) {\n\t\t\t\t\tlet text = selectedOption;\n\t\t\t\t\tif (\n\t\t\t\t\t\tselectElement.data('fieldinfo').picklistvalues.hasOwnProperty(selectedOption) &&\n\t\t\t\t\t\t!selectElement.get(0).dataset.templateResult\n\t\t\t\t\t) {\n\t\t\t\t\t\ttext = selectElement.data('fieldinfo').picklistvalues[selectedOption];\n\t\t\t\t\t}\n\t\t\t\t\tthis.createSelectedOption(selectElement, text, selectedOption);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register lazy select options\n\t\t *\n\t\t * @param   {object}  selectElement  [selectElement description]\n\t\t *\n\t\t * @return  {object}                 [return description]\n\t\t */\n\t\tregisterLazySelectOptions(selectElement) {\n\t\t\tlet options = [];\n\t\t\tif (\n\t\t\t\tselectElement.data('fieldinfo') &&\n\t\t\t\tselectElement.data('fieldinfo').picklistvalues &&\n\t\t\t\t!selectElement.get(0).dataset.templateResult\n\t\t\t) {\n\t\t\t\toptions = $.map(selectElement.data('fieldinfo').picklistvalues, function (val, key) {\n\t\t\t\t\treturn { id: key, text: val };\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toptions = $.map(selectElement.find('option'), (item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: item.value,\n\t\t\t\t\t\telement: item,\n\t\t\t\t\t\ttext: item.text,\n\t\t\t\t\t\tselected: item.selected,\n\t\t\t\t\t\tdisabled: item.disabled\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn options;\n\t\t},\n\t\t/**\n\t\t * Set value.\n\t\t *\n\t\t * @param   {object}  selectElement  [selectElement description]\n\t\t * @param   {string}  searchValue\n\t\t * @param   {string}  type           value|text|all\n\t\t *\n\t\t * @return  {boolean|string}         false or set value\n\t\t */\n\t\tsetValue(selectElement, searchValue, type = 'value') {\n\t\t\tconst option = this.findOption(selectElement, searchValue, type);\n\t\t\tif (!option) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (selectElement.hasClass('js-lazy-select-active')) {\n\t\t\t\tthis.createSelectedOption(selectElement, option.text, option.value);\n\t\t\t} else {\n\t\t\t\tselectElement.val(option.value).trigger('change');\n\t\t\t}\n\t\t\treturn option.value;\n\t\t},\n\t\t/**\n\t\t * Find option.\n\t\t *\n\t\t * @param   {object}  selectElement  [selectElement description]\n\t\t * @param   {string}  searchValue\n\t\t * @param   {string}  type           value|text|all\n\t\t *\n\t\t * @return  {boolean|object}         false or option object\n\t\t */\n\t\tfindOption(selectElement, searchValue, type = 'value') {\n\t\t\tlet foundOption = false;\n\t\t\tconst selectValues = this.getSelectOptions(selectElement);\n\t\t\tconst getFieldValueFromText = () => Object.keys(selectValues).find((key) => selectValues[key] === searchValue);\n\t\t\tconst valueExists = () => selectValues.hasOwnProperty(searchValue);\n\t\t\tconst createOption = () => {\n\t\t\t\treturn { text: selectValues[foundOption], value: foundOption };\n\t\t\t};\n\t\t\tswitch (type) {\n\t\t\t\tcase 'value':\n\t\t\t\t\tif (valueExists()) {\n\t\t\t\t\t\tfoundOption = searchValue;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tfoundOption = getFieldValueFromText();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\t\tif (valueExists()) {\n\t\t\t\t\t\tfoundOption = searchValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfoundOption = getFieldValueFromText();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn foundOption ? createOption() : false;\n\t\t},\n\t\t/**\n\t\t * Get select options\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t *\n\t\t * @return  {object}                 [return description]\n\t\t */\n\t\tgetSelectOptions(selectElement) {\n\t\t\tif (selectElement.data('fieldinfo') && selectElement.data('fieldinfo').picklistvalues) {\n\t\t\t\treturn selectElement.data('fieldinfo').picklistvalues;\n\t\t\t} else {\n\t\t\t\tlet optionsObject = {};\n\t\t\t\tselectElement.find('option').each((i, element) => {\n\t\t\t\t\toptionsObject[element.value] = element.text;\n\t\t\t\t});\n\t\t\t\treturn optionsObject;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Create selected option\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t * @param   {string}  text\n\t\t * @param   {string}  value\n\t\t */\n\t\tcreateSelectedOption(selectElement, text, value) {\n\t\t\tconst newOption = new Option(text, value, true, true);\n\t\t\tselectElement.append(newOption).trigger('change');\n\t\t}\n\t},\n\tMultiImage: {\n\t\tcurrentFileUploads: 0,\n\t\tregister(container) {\n\t\t\t$('.js-multi-image', container).each(function () {\n\t\t\t\tnew MultiImage($(this));\n\t\t\t});\n\t\t}\n\t},\n\tMultiEmail: {\n\t\tregister($container) {\n\t\t\t$('.js-multi-email', $container).each((idx, multiEmailField) => {\n\t\t\t\tlet $multiEmailField = $(multiEmailField);\n\t\t\t\t$multiEmailField.on('change', '.js-multi-email', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-consenticon', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.toggleConsent($(e.target));\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-add', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.addItem($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-remove', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.removeItem($(e.target));\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Converts data to json and set MultiEmail field value\n\t\t * @param $multiEmailField\n\t\t */\n\t\tparseToJSON($multiEmailField) {\n\t\t\tlet value = [];\n\t\t\t$('.js-multi-email-item', $multiEmailField).each((idx, item) => {\n\t\t\t\tlet $item = $(item);\n\t\t\t\tlet email = $('.js-multi-email', $item).val();\n\t\t\t\tlet consent = $('.js-multi-email-consent', $item).is(':visible') ? 1 : 0;\n\t\t\t\tif (email) {\n\t\t\t\t\tvalue.push({\n\t\t\t\t\t\te: email,\n\t\t\t\t\t\to: consent\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-multi-email-value', $multiEmailField).val(JSON.stringify(value));\n\t\t},\n\t\t/**\n\t\t * Adds a new item: email box and consent checkbox\n\t\t * @param $multiEmailField\n\t\t */\n\t\taddItem($multiEmailField) {\n\t\t\tlet $newItem = $('.js-multi-email-item', $multiEmailField).first().clone(false, false);\n\t\t\tif ($newItem) {\n\t\t\t\t$('.js-multi-email', $newItem).attr('value', '').val('');\n\t\t\t\t$('.js-multi-email-consent', $newItem).val('');\n\t\t\t\t$('.js-multi-email-consenticon', $newItem).hide();\n\t\t\t\t$('.js-multi-email-consenticon', $newItem).first().show();\n\t\t\t\t$('.js-multi-email-items', $multiEmailField).append($newItem);\n\t\t\t\t$('.js-multi-email-remove', $multiEmailField).show();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Removes an item: email box and consent checkbox\n\t\t * @param $deleteBtn\n\t\t */\n\t\tremoveItem($deleteBtn) {\n\t\t\tlet $multiEmailField = $deleteBtn.closest('.js-multi-email');\n\t\t\tif (1 < $('.js-multi-email-item', $multiEmailField).length) {\n\t\t\t\t$deleteBtn.closest('.js-multi-email-item').remove();\n\t\t\t}\n\t\t\tif (1 == $('.js-multi-email-item', $multiEmailField).length) {\n\t\t\t\t$('.js-multi-email-remove', $multiEmailField).hide();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Toggle consent boxes\n\t\t * @param $consentBox\n\t\t */\n\t\ttoggleConsent($consentBox) {\n\t\t\tlet $item = $consentBox.closest('.js-multi-email-item');\n\t\t\t$('.js-multi-email-consenticon', $item).toggle();\n\t\t}\n\t},\n\tMultiDependField: {\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregister(container) {\n\t\t\tcontainer.find('.js-multi-field').each((index, element) => {\n\t\t\t\tconst inputElement = $(element);\n\t\t\t\tconst fields = inputElement.find('.js-multi-field-val').data('fields');\n\t\t\t\tinputElement.find('.js-multi-field-add-item').on('click', (e) => {\n\t\t\t\t\tApp.Fields.MultiDependField.addRow(inputElement, fields);\n\t\t\t\t});\n\t\t\t\tApp.Fields.MultiDependField.registerRow(inputElement, fields);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register row\n\t\t * @param {jQuery} inputElement\n\t\t * @param {Object} fields\n\t\t */\n\t\tregisterRow(inputElement, fields) {\n\t\t\tfor (let i in fields) {\n\t\t\t\tinputElement.find('[name=\"' + fields[i] + '\"]').on('change', (e) => {\n\t\t\t\t\tApp.Fields.MultiDependField.parseToJson(inputElement, fields);\n\t\t\t\t});\n\t\t\t}\n\t\t\tinputElement.find('.js-remove-item').on('click', (e) => {\n\t\t\t\tApp.Fields.MultiDependField.removeRow($(e.target), inputElement);\n\t\t\t\tApp.Fields.MultiDependField.parseToJson(inputElement.closest('.js-multi-field'), fields);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Invoked after clicking the remove button\n\t\t * @param {jQuery} element\n\t\t * @param {jQuery} container\n\t\t */\n\t\tremoveRow(element, container) {\n\t\t\tif (container.find('.js-multi-field-row').length > 1) {\n\t\t\t\telement.closest('.js-multi-field-row').remove();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Convert data to json\n\t\t * @param {jQuery} element\n\t\t * @param {Object} fields\n\t\t */\n\t\tparseToJson(element, fields) {\n\t\t\tlet arr = [];\n\t\t\tlet allFields = $(element).find('.js-multi-field-row');\n\t\t\tlet arrayLength = allFields.length;\n\t\t\tfor (let i = 0; i < arrayLength; ++i) {\n\t\t\t\tlet partData = {},\n\t\t\t\t\tskip = false;\n\t\t\t\tfor (let k in fields) {\n\t\t\t\t\tpartData[fields[k]] = $(allFields[i])\n\t\t\t\t\t\t.find('[name=\"' + fields[k] + '\"]')\n\t\t\t\t\t\t.val();\n\t\t\t\t\tif (k == 0 && partData[fields[k]] === '') {\n\t\t\t\t\t\tskip = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!skip) {\n\t\t\t\t\tarr.push(partData);\n\t\t\t\t}\n\t\t\t}\n\t\t\t$(element).find('input.js-multi-field-val').val(JSON.stringify(arr));\n\t\t},\n\t\t/**\n\t\t * Invoked after clicking the add button\n\t\t * @param {jQuery} container\n\t\t * @param {Object} fields\n\t\t */\n\t\taddRow(container, fields) {\n\t\t\tlet newField;\n\t\t\tlet lastField = container.find('.js-multi-field-row').last();\n\t\t\tlet selectFields = lastField.find('select.select2');\n\t\t\tif (selectFields.length) {\n\t\t\t\tselectFields.select2('destroy').removeAttr('data-select2-id').find('option').removeAttr('data-select2-id');\n\t\t\t\tnewField = lastField.clone(false, false);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(lastField.find('select.select2'));\n\t\t\t} else {\n\t\t\t\tnewField = lastField.clone(false, false);\n\t\t\t}\n\t\t\tfor (let i in fields) {\n\t\t\t\tnewField.find('[name=\"' + fields[i] + '\"]').val('');\n\t\t\t}\n\t\t\tnewField.insertAfter(container.find('.js-multi-field-row').last());\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(newField.find('select.select2'));\n\t\t\tApp.Fields.Date.register(newField);\n\t\t\tApp.Fields.MultiDependField.registerRow(container, fields);\n\t\t}\n\t},\n\tDependentSelect: {\n\t\t/**\n\t\t * Get options for select from array of items (exclude children)\n\t\t * @param {Array} data {value,text,selected, children => data[]}\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateOptionsFromData(data) {\n\t\t\tlet html = '';\n\t\t\tfor (let item of data) {\n\t\t\t\tlet selected = false;\n\t\t\t\tif (typeof item.selected !== 'undefined' && item.selected) {\n\t\t\t\t\tselected = true;\n\t\t\t\t}\n\t\t\t\thtml += `<option value=${item.value}${selected ? ' selected' : ''}>${item.text}</option>`;\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\t\t/**\n\t\t * Register dependent selects\n\t\t *\n\t\t * @param {jQuery} container with data- options:\n\t\t * data-slave: selector for slave element\n\t\t * data-data: array of options with children elements for slave select (see getOptions for data format)\n\t\t * data-sort: do we want to sort slave options by text when master has two items selected? if not - just append options to slave\n\t\t */\n\t\tregister(container) {\n\t\t\tif (typeof container === 'undefined' || typeof container.length === 'undefined' || !container.length) {\n\t\t\t\treturn app.errorLog('Dependend select field container is missing.');\n\t\t\t}\n\t\t\tcontainer.each(function () {\n\t\t\t\tconst masterSelect = $(this),\n\t\t\t\t\tslaveSelect = $(masterSelect.data('slave')),\n\t\t\t\t\tdata = masterSelect.data('data');\n\t\t\t\tif (!slaveSelect.length) {\n\t\t\t\t\treturn app.errorLog('Could not find slave select element (data-slave attribute)');\n\t\t\t\t}\n\t\t\t\tif (!data) {\n\t\t\t\t\treturn app.errorLog('Could not load data (data-data attribute)');\n\t\t\t\t}\n\t\t\t\tmasterSelect.on('change', (e) => {\n\t\t\t\t\tlet values = $(e.target).val();\n\t\t\t\t\tif (!Array.isArray(values)) {\n\t\t\t\t\t\tvalues = [values];\n\t\t\t\t\t}\n\t\t\t\t\tlet children = [];\n\t\t\t\t\tfor (let value of values) {\n\t\t\t\t\t\tfor (let item of data) {\n\t\t\t\t\t\t\tif (item.value === value) {\n\t\t\t\t\t\t\t\tif (typeof item.children !== 'undefined') {\n\t\t\t\t\t\t\t\t\titem.children.forEach((child) => {\n\t\t\t\t\t\t\t\t\t\tchildren.push(child);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (masterSelect.data('sort')) {\n\t\t\t\t\t\tchildren.sort((a, b) => {\n\t\t\t\t\t\t\treturn a.text.localeCompare(b.text);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tslaveSelect.html(App.Fields.DependentSelect.generateOptionsFromData(children));\n\t\t\t\t});\n\t\t\t\tmasterSelect.html(App.Fields.DependentSelect.generateOptionsFromData(data));\n\t\t\t});\n\t\t}\n\t},\n\tGantt: {\n\t\tregister(container, data) {\n\t\t\treturn new GanttField(container, data);\n\t\t}\n\t},\n\tInteger: {\n\t\t/**\n\t\t * Function returns the integer in user specified format.\n\t\t * @param {number} value\n\t\t * @param {int} numberOfDecimal\n\t\t * @returns {string}\n\t\t */\n\t\tformatToDisplay(value) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tlet groupSeparator = CONFIG.currencyGroupingSeparator;\n\t\t\tlet groupingPattern = CONFIG.currencyGroupingPattern;\n\t\t\tvalue = parseFloat(value).toFixed(1);\n\t\t\tlet integer = value.toString().split('.')[0];\n\t\t\tif (integer.length > 3) {\n\t\t\t\tif (groupingPattern === '123,456,789') {\n\t\t\t\t\tinteger = integer.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1' + groupSeparator);\n\t\t\t\t} else if (groupingPattern === '123456,789') {\n\t\t\t\t\tinteger = integer.slice(0, -3) + groupSeparator + integer.slice(-3);\n\t\t\t\t} else if (groupingPattern === '12,34,56,789') {\n\t\t\t\t\tinteger =\n\t\t\t\t\t\tinteger.slice(0, -3).replace(/(\\d)(?=(\\d\\d)+(?!\\d))/g, '$1' + groupSeparator) +\n\t\t\t\t\t\tgroupSeparator +\n\t\t\t\t\t\tinteger.slice(-3);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn integer;\n\t\t}\n\t},\n\tDouble: {\n\t\t/**\n\t\t * Function returns the currency in user specified format.\n\t\t * @param {number} value\n\t\t * @param {boolean} numberOfDecimal\n\t\t * @param {int} numberOfDecimal\n\t\t * @returns {string}\n\t\t */\n\t\tformatToDisplay(value, fixed = true, numberOfDecimal = CONFIG.noOfCurrencyDecimals) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tlet strDecimal = value.toString().split('.')[1];\n\t\t\tlet numberOfZerosAtTheEnd = 0;\n\t\t\tif (typeof strDecimal !== 'undefined') {\n\t\t\t\tfor (let i = strDecimal.length - 1; i > 0; --i) {\n\t\t\t\t\tif (strDecimal[i] == '0') {\n\t\t\t\t\t\tnumberOfZerosAtTheEnd++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = parseFloat(value);\n\t\t\tif (fixed) {\n\t\t\t\tlet base = 10 ** numberOfDecimal;\n\t\t\t\tvalue =\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tvalue * base + Math.sign(value) * 0.1 ** (17 - 2 - (Math.round(value * base) / base).toString().length)\n\t\t\t\t\t) / base;\n\t\t\t}\n\t\t\tlet splittedFloat = value.toString().split('.');\n\t\t\tlet integer = splittedFloat[0];\n\t\t\tif (integer !== '-0' && integer !== '0') {\n\t\t\t\tinteger = App.Fields.Integer.formatToDisplay(integer);\n\t\t\t}\n\t\t\tlet decimal = splittedFloat[1];\n\t\t\tif (numberOfDecimal) {\n\t\t\t\tif (!CONFIG.truncateTrailingZeros && decimal) {\n\t\t\t\t\tfor (let i = 0; i < numberOfZerosAtTheEnd && decimal.length < numberOfDecimal; ++i) {\n\t\t\t\t\t\tdecimal += '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (decimal) {\n\t\t\t\t\treturn integer + CONFIG.currencyDecimalSeparator + decimal;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn integer;\n\t\t},\n\t\t/**\n\t\t * Function to get value for db format.\n\t\t * @param {string} value\n\t\t * @returns {number}\n\t\t */\n\t\tformatToDb(value) {\n\t\t\tif (value == undefined || value == '') {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tvalue = value.toString();\n\t\t\tvalue = value.split(CONFIG.currencyGroupingSeparator).join('');\n\t\t\tvalue = value.replace(/\\s/g, '').replace(CONFIG.currencyDecimalSeparator, '.');\n\t\t\treturn parseFloat(value);\n\t\t}\n\t},\n\t/**\n\t * Tree\n\t */\n\tTree: class Tree {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-tree-container')) {\n\t\t\t\treturn new Tree(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-tree-container').each((n, e) => {\n\t\t\t\tinstances.push(new Tree($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tthis.modalEvent();\n\t\t\tthis.autoCompleteEvent();\n\t\t\tthis.clearSelectionEvent();\n\t\t}\n\t\t/**\n\t\t * Function which will handle modal view with tree\n\t\t */\n\t\tmodalEvent() {\n\t\t\t$('.js-tree-modal', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (_) => {\n\t\t\t\t\tlet sourceFieldElement = this.container.find('input.sourceField'),\n\t\t\t\t\t\tfieldDisplayElement = this.container.find('input[name=\"' + sourceFieldElement.attr('name') + '_display\"]');\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: sourceFieldElement.data('modulename'),\n\t\t\t\t\t\tview: 'TreeModal',\n\t\t\t\t\t\ttemplate: sourceFieldElement.data('treetemplate'),\n\t\t\t\t\t\tfieldName: sourceFieldElement.attr('name'),\n\t\t\t\t\t\tmultiple: sourceFieldElement.data('multiple'),\n\t\t\t\t\t\tvalue: sourceFieldElement.val()\n\t\t\t\t\t}).done(function (requestData) {\n\t\t\t\t\t\tapp.modalEvents['treeModal'] = function (modal, instance) {\n\t\t\t\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\t\t\t\tsourceFieldElement.val(responseData.id);\n\t\t\t\t\t\t\t\tfieldDisplayElement.val(responseData.name).attr('readonly', true);\n\t\t\t\t\t\t\t\tsourceFieldElement.trigger('change');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\tapp.showModalWindow(requestData, { modalId: 'treeModal' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t */\n\t\tautoCompleteEvent() {\n\t\t\tlet autoCompleteElement = $('input.treeAutoComplete', this.container);\n\t\t\tif (autoCompleteElement.hasClass('ui-autocomplete-input')) {\n\t\t\t\tautoCompleteElement.autocomplete('destroy');\n\t\t\t}\n\t\t\tautoCompleteElement.autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term.toLowerCase();\n\t\t\t\t\tlet parentElem = inputElement.closest('.js-tree-container');\n\t\t\t\t\tlet sourceFieldElement = $('input.sourceField', parentElem);\n\t\t\t\t\tlet fieldInfo = sourceFieldElement.data('fieldinfo');\n\t\t\t\t\tlet allValues = fieldInfo.picklistvalues;\n\t\t\t\t\tlet responseDataList = [];\n\t\t\t\t\tfor (let id in allValues) {\n\t\t\t\t\t\tif (allValues[id].toLowerCase().indexOf(searchValue) >= 0) {\n\t\t\t\t\t\t\tresponseDataList.push({ label: allValues[id], value: id, id: id });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (responseDataList.length <= 0) {\n\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\tresponseDataList.push({\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tresponse(responseDataList);\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\tif (typeof selectedItemData.type !== 'undefined' && selectedItemData.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedItemData.name = selectedItemData.value;\n\t\t\t\t\tthis.value = selectedItemData.label;\n\t\t\t\t\tlet element = $(this).attr('readonly', true);\n\t\t\t\t\telement.closest('.js-tree-container').find('input.sourceField').val(selectedItemData.id).trigger('change');\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t//To Make the menu come up in the case of quick create\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Function which will register reference field clear event\n\t\t */\n\t\tclearSelectionEvent() {\n\t\t\t$('.clearTreeSelection', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tlet fieldElement = this.container.find('.sourceField');\n\t\t\t\t\t$('input[name=\"' + fieldElement.attr('name') + '_display\"]', this.container)\n\t\t\t\t\t\t.removeAttr('readonly')\n\t\t\t\t\t\t.val('');\n\t\t\t\t\tfieldElement.val('').trigger('change');\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * TimePeriod class\n\t *\n\t * Save value as time period in 00:m format where '0' is a number of units\n\t * ':' is just separator\n\t * and 'm' is time scale/period in php date format - available formats are [m, d, H, i, s]\n\t * @example 10:i = 10 minutes, 2:m = 2 months, 20:H = 20 hours and so on...\n\t */\n\tTimePeriod: class TimePeriod {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.value = container.val();\n\t\t\tif (this.value) {\n\t\t\t\tconst split = this.value.split(':');\n\t\t\t\tthis.time = Number(split[0]);\n\t\t\t\tthis.period = split[1];\n\t\t\t} else {\n\t\t\t\tthis.time = 0;\n\t\t\t\tthis.period = 'H';\n\t\t\t\tthis.value = '0:H';\n\t\t\t\tcontainer.val(this.value);\n\t\t\t}\n\t\t\tthis.injectContent();\n\t\t}\n\n\t\t/**\n\t\t * Register time period field/s\n\t\t *\n\t\t * @param {jQuery} container it could be input type hidden with js-time-period class\n\t\t *                           or container that contains multiple js-time-period inputs\n\t\t *\n\t\t * @example <input type=\"hidden\" name=\"field_name\" class=\"js-time-period\">\n\t\t *\n\t\t * @returns {TimePeriod|TimePeriod[]} instance/s\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('c-time-period')) {\n\t\t\t\treturn new TimePeriod(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.c-time-period').each((index, value) => {\n\t\t\t\tinstances.push(new TimePeriod($(value)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\n\t\t/**\n\t\t * Inject content next to container\n\t\t *\n\t\t * @returns  {jQuery}  created element with input and select\n\t\t */\n\t\tinjectContent() {\n\t\t\tlet content = `<div class=\"input-group c-time-period\" data-js=\"container\">\n\t\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t\t<a href class=\"btn btn-default c-time-period-input-modifier c-time-period-input-modifier--minus-1\"><span class=\"fas fa-minus\"></span></a>\n\t\t\t\t</div>\n\t\t\t\t<input type=\"number\" class=\"form-control c-time-period-input\" min=\"0\" value=\"${this.time}\"\n\t\t\t\t\tdata-validation-engine=\"validate[required,funcCall[Vtiger_Integer_Validator_Js.invokeValidation]]\">\n\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t<a href class=\"btn btn-default c-time-period-input-modifier c-time-period-input-modifier--plus-1\"><span class=\"fas fa-plus\"></span></a>\n\t\t\t\t\t<select class=\"select2 js-time-period-select time-period-${this.container.attr('name')}\">\n\t\t\t\t\t\t<option value=\"d\"${this.period === 'd' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_DAYS_FULL')}</option>\n\t\t\t\t\t\t<option value=\"H\"${this.period === 'H' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_HOURS_FULL')}</option>\n\t\t\t\t\t\t<option value=\"i\"${this.period === 'i' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_MINUTES_FULL')}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t\t\tthis.element = this.container.parent().append(content);\n\t\t\tthis.input = this.element.find('.c-time-period-input').eq(0);\n\t\t\tthis.select = this.element.find('.select2').eq(0);\n\t\t\tthis.plus1btn = this.element.find('.c-time-period-input-modifier--plus-1').eq(0);\n\t\t\tthis.minus1btn = this.element.find('.c-time-period-input-modifier--minus-1').eq(0);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.select, { width: '100px' });\n\t\t\tthis.registerEvents();\n\t\t\treturn this.element;\n\t\t}\n\n\t\t/**\n\t\t * Register events\n\t\t */\n\t\tregisterEvents() {\n\t\t\tthis.input.on('input', this.onChange.bind(this));\n\t\t\tthis.select.on('change', this.onChange.bind(this));\n\t\t\tthis.plus1btn.on('click', this.onPlus1Click.bind(this));\n\t\t\tthis.minus1btn.on('click', this.onMinus1Click.bind(this));\n\t\t}\n\n\t\t/**\n\t\t * On change event\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonChange(event) {\n\t\t\tthis.time = this.input.val();\n\t\t\tthis.period = this.select.val();\n\t\t\tthis.value = this.input.val() + ':' + this.select.val();\n\t\t\tthis.container.val(this.value);\n\t\t}\n\n\t\t/**\n\t\t * Plus 1 button click event handler\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonPlus1Click(event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tthis.input.val(Number(this.input.val()) + 1);\n\t\t\tthis.onChange();\n\t\t}\n\n\t\t/**\n\t\t * Minus 1 button click event handler\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonMinus1Click(event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tif (Number(this.input.val()) > 0) {\n\t\t\t\tthis.input.val(Number(this.input.val()) - 1);\n\t\t\t\tthis.onChange();\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Multi currency\n\t */\n\tMultiCurrency: class MultiCurrency {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-multicurrency-container')) {\n\t\t\t\treturn new MultiCurrency(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-multicurrency-container').each((n, e) => {\n\t\t\t\tinstances.push(new MultiCurrency($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-multicurrency-event', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tlet modal = $('<form>').append(this.container.find('.js-currencies-container .js-currencies-modal').clone());\n\t\t\t\t\tthis.registerEnableCurrencyEvent(modal);\n\t\t\t\t\tthis.registerResetCurrencyEvent(modal);\n\t\t\t\t\tthis.loadData(modal);\n\t\t\t\t\tthis.calculateConversionRate(modal);\n\t\t\t\t\tapp.showModalWindow({\n\t\t\t\t\t\tdata: modal,\n\t\t\t\t\t\tcss: {},\n\t\t\t\t\t\tcb: (data) => {\n\t\t\t\t\t\t\tlet form = data.parent();\n\t\t\t\t\t\t\tform.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t\t\t\tform.on('submit', (e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (form.validationEngine('validate') && this.saveCurrencies(form)) {\n\t\t\t\t\t\t\t\t\tlet id = form.closest('.js-modal-container').attr('id');\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow(null, id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tthis.getField().on('focusout', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\telement.formatNumber();\n\t\t\t\tthis.setPrice(element.val());\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Loading data\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tloadData(modalContainer) {\n\t\t\tlet values = JSON.parse(this.getFieldToSave().val());\n\t\t\tlet baseCurrencyId = values['currencyId'] || CONFIG.currencyId;\n\t\t\tif (values['currencies'] === undefined) {\n\t\t\t\tvalues['currencies'] = [];\n\t\t\t\tvalues['currencies'][baseCurrencyId] = { price: 0 };\n\t\t\t}\n\t\t\tfor (let i in values['currencies']) {\n\t\t\t\tlet row = modalContainer.find('[data-currency-id=\"' + i + '\"]');\n\t\t\t\tif (row.length) {\n\t\t\t\t\trow.find('.js-enable-currency').prop('checked', true);\n\t\t\t\t\trow.find('.js-currency-reset,.js-base-currency,[name^=\"currencies[\"]').prop('disabled', false);\n\t\t\t\t\trow.find('.js-converted-price').val(values['currencies'][i]['price']);\n\t\t\t\t\tif (i == baseCurrencyId) {\n\t\t\t\t\t\trow.find('.js-base-currency').prop('checked', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Set value\n\t\t * @param {number} value\n\t\t */\n\t\tsetPrice(value) {\n\t\t\tlet values = JSON.parse(this.getFieldToSave().val());\n\t\t\tlet baseCurrencyId = values['currencyId'] || CONFIG.currencyId;\n\t\t\tvalues['currencies'] = values['currencies'] || {};\n\t\t\tvalues['currencies'][baseCurrencyId] = { price: value };\n\t\t\tvalues['currencyId'] = baseCurrencyId;\n\t\t\tvalues = $.extend({}, values);\n\t\t\tthis.getFieldToSave().val(JSON.stringify($.extend({}, values)));\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-multicurrency-field');\n\t\t}\n\t\t/**\n\t\t * Gets field to save\n\t\t */\n\t\tgetFieldToSave() {\n\t\t\treturn this.container.find('.js-multicurrency-field-to-save');\n\t\t}\n\t\t/**\n\t\t * Save\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tsaveCurrencies(modalContainer) {\n\t\t\tlet enabledBaseCurrency = modalContainer.find('.js-enable-currency').filter(':checked');\n\t\t\tif (enabledBaseCurrency.length < 1) {\n\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_SELECT_BASE_CURRENCY_FOR_PRODUCT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet selectedBaseCurrency = modalContainer.find('.js-base-currency').filter(':checked');\n\t\t\tif (selectedBaseCurrency.length < 1) {\n\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_ENABLE_BASE_CURRENCY_FOR_PRODUCT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet selectedRow = selectedBaseCurrency.closest('tr');\n\t\t\tlet symbol = selectedRow.data('currency-symbol');\n\t\t\tthis.container.find('.js-currency').text(symbol);\n\t\t\tlet data = {};\n\t\t\tdata['currencies'] = {};\n\t\t\tenabledBaseCurrency.closest('tr').each((n, e) => {\n\t\t\t\tlet row = $(e),\n\t\t\t\t\tcurrencyId = row.data('currencyId');\n\t\t\t\tdata['currencies'][currencyId] = {};\n\t\t\t\tdata['currencies'][currencyId]['price'] = row.find('.js-converted-price').val();\n\t\t\t\tif (row.find('.js-base-currency:checked').length) {\n\t\t\t\t\tdata['currencyId'] = currencyId;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.getFieldToSave().val(JSON.stringify(data));\n\t\t\tthis.getField().val(selectedRow.find('.js-converted-price').val());\n\t\t\tselectedBaseCurrency.prop('checked', false);\n\t\t\treturn true;\n\t\t}\n\t\t/**\n\t\t * Calculate\n\t\t * @param {jQuery} container\n\t\t */\n\t\tcalculateConversionRate(container) {\n\t\t\tlet baseCurrencyConversionRate = container\n\t\t\t\t.find('.js-base-currency')\n\t\t\t\t.filter(':checked')\n\t\t\t\t.closest('tr')\n\t\t\t\t.find('.js-conversion-rate');\n\t\t\tif (baseCurrencyConversionRate.val() == '1') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet baseCurrencyRatePrevValue = baseCurrencyConversionRate.getNumberFromValue();\n\t\t\tcontainer.find('.js-conversion-rate').each(function (key, domElement) {\n\t\t\t\tlet element = $(domElement);\n\t\t\t\tif (!element.is(baseCurrencyConversionRate)) {\n\t\t\t\t\telement.val(\n\t\t\t\t\t\tApp.Fields.Double.formatToDisplay(element.getNumberFromValue() / baseCurrencyRatePrevValue, false)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tbaseCurrencyConversionRate.val('1');\n\t\t}\n\t\t/**\n\t\t * Function to register event for enabling currency on checkbox checked\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterEnableCurrencyEvent(container) {\n\t\t\tcontainer.on('change', '.js-enable-currency', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentRow = element.closest('tr');\n\t\t\t\tif (element.is(':checked')) {\n\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\tlet price = this.getField().getNumberFromValue() * parentRow.find('.js-conversion-rate').getNumberFromValue();\n\t\t\t\t\t$('input', parentRow).removeAttr('disabled');\n\t\t\t\t\tparentRow.find('.js-currency-reset').removeAttr('disabled');\n\t\t\t\t\tparentRow.find('.js-converted-price').val(App.Fields.Double.formatToDisplay(price));\n\t\t\t\t} else {\n\t\t\t\t\tif (parentRow.find('.js-base-currency').is(':checked')) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t'\"' +\n\t\t\t\t\t\t\t\tparentRow.find('.js-currency-name').text() +\n\t\t\t\t\t\t\t\t'\" ' +\n\t\t\t\t\t\t\t\tapp.vtranslate('JS_BASE_CURRENCY_CHANGED_TO_DISABLE_CURRENCY')\n\t\t\t\t\t\t});\n\t\t\t\t\t\telement.prop('checked', true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tparentRow.find('input').attr('disabled', 'disabled');\n\t\t\t\t\tparentRow.find('.js-currency-reset').attr('disabled', 'disabled');\n\t\t\t\t\telement.removeAttr('disabled checked');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Function to register event for reseting the currencies\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterResetCurrencyEvent(container) {\n\t\t\tcontainer.on('click', '.js-currency-reset', (e) => {\n\t\t\t\tlet parentElem = $(e.currentTarget).closest('tr');\n\t\t\t\tlet price = this.getField().getNumberFromValue() * parentElem.find('.js-conversion-rate').getNumberFromValue();\n\t\t\t\t$('.js-converted-price', parentElem).val(App.Fields.Double.formatToDisplay(price));\n\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * Meeting URL\n\t */\n\tMeetingUrl: class MeetingUrl {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-meeting-container')) {\n\t\t\t\treturn new MeetingUrl(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-meeting-container').each((n, e) => {\n\t\t\t\tinstances.push(new MeetingUrl($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tlet addButton = $('.js-meeting-add', this.container);\n\t\t\tif (!addButton.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet valElement = $('.js-meeting-val', this.container);\n\t\t\taddButton.off('click').on('click', (e) => {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request(this.getUrl(e))\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tlet result = data.result;\n\t\t\t\t\t\tif (result && result.success && result.url) {\n\t\t\t\t\t\t\tvalElement.attr('readonly', true).val(result.url);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t})\n\t\t\t\t\t.fail((_) => {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t\t$('.js-meeting-clear', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tvalElement.attr('readonly', false).val('');\n\t\t\t\t});\n\t\t\tthis.addEventsForDependentFields();\n\t\t}\n\t\t/**\n\t\t * Gets URL\n\t\t */\n\t\tgetUrl(e) {\n\t\t\tlet url = e.currentTarget.dataset.url;\n\t\t\tlet formData = $(e.currentTarget).closest('form').serializeFormData();\n\t\t\tlet expField = e.currentTarget.dataset.expField;\n\t\t\tif (expField && formData && formData[expField]) {\n\t\t\t\tlet date = formData[expField].split(' ');\n\t\t\t\turl += '&exp=' + encodeURIComponent(date[0]);\n\t\t\t}\n\t\t\tlet roomName = e.currentTarget.dataset.roomName;\n\t\t\tif (roomName && formData && formData[roomName]) {\n\t\t\t\turl += '&roomName=' + encodeURIComponent(formData[roomName]);\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\t\t/**\n\t\t * Add events for dependent fields\n\t\t */\n\t\taddEventsForDependentFields() {\n\t\t\tlet addButton = $('.js-meeting-add', this.container);\n\t\t\tlet valElement = $('.js-meeting-val', this.container);\n\t\t\tlet data = addButton.data();\n\t\t\tlet formElement = this.container.closest('form');\n\t\t\tfor (let name of ['expField', 'roomName']) {\n\t\t\t\tlet fieldName = data[name];\n\t\t\t\tif (!fieldName) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tformElement.on('change', `[name=${fieldName}]`, (_) => {\n\t\t\t\t\tif (data['domain'] && valElement.val().indexOf(data['domain']) === 0) {\n\t\t\t\t\t\taddButton.trigger('click');\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_MEETING_URL_CHANGED')\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Changes Json\n\t */\n\tChangesJson: class ChangesJson {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-changesjson-container')) {\n\t\t\t\treturn new ChangesJson(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-changesjson-container').each((_, e) => {\n\t\t\t\tinstances.push(new ChangesJson($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-changesjson-edit', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tlet field = this.getField();\n\t\t\t\t\tlet value = field.val() ? JSON.parse(field.val()) : { record: 0, module: '', changes: [] };\n\t\t\t\t\tlet relatedField = this.getRelatedField();\n\t\t\t\t\tif (relatedField.length) {\n\t\t\t\t\t\tvalue.record = relatedField.val();\n\t\t\t\t\t\tvalue.module = $('input[name=\"popupReferenceModule\"]', relatedField.closest('.fieldValue')).val();\n\t\t\t\t\t}\n\t\t\t\t\tif (!value.record || value.record == 0) {\n\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_LACK_INFORMATION_ABOUT_RECORD') });\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: value.module,\n\t\t\t\t\t\trecord: value.record,\n\t\t\t\t\t\tchanges: value.changes,\n\t\t\t\t\t\tsourceModule: field.data('module'),\n\t\t\t\t\t\tsourceField: field.attr('name'),\n\t\t\t\t\t\tview: 'ChangesJsonModal'\n\t\t\t\t\t})\n\t\t\t\t\t\t.done((requestData) => {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.showModalWindow({\n\t\t\t\t\t\t\t\tdata: requestData,\n\t\t\t\t\t\t\t\tcss: {},\n\t\t\t\t\t\t\t\tcb: (data) => {\n\t\t\t\t\t\t\t\t\tthis.saveData(data, value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail((_) => {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Save data to field\n\t\t */\n\t\tsaveData(container, data) {\n\t\t\tlet form = container.find('form');\n\t\t\tcontainer.on('click', '.js-modal__save', (e) => {\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (!form.find('input[id^=\"selectRow\"]:checked').length) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('NONE_OF_THE_FIELD_VALUES_ARE_CHANGED_IN_MASS_EDIT'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet invalidFields = form.data('jqv').InvalidFields;\n\t\t\t\t\tif (invalidFields.length !== 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tform.find('[id^=\"selectRow\"]').each(function (_, checkbox) {\n\t\t\t\t\t\tcheckbox = $(checkbox);\n\t\t\t\t\t\tif (!checkbox.prop('checked')) {\n\t\t\t\t\t\t\tcheckbox\n\t\t\t\t\t\t\t\t.closest('.js-form-row-container')\n\t\t\t\t\t\t\t\t.find('.fieldValue [name]')\n\t\t\t\t\t\t\t\t.each(function (_, element) {\n\t\t\t\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\t\t\t\telement.attr('data-element-name', element.attr('name')).removeAttr('name');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet changeData = form.serializeFormData();\n\t\t\t\t\tdelete changeData['_csrf'];\n\t\t\t\t\tfor (let fieldName in changeData) {\n\t\t\t\t\t\tif (fieldName.substr(-2) === '[]') {\n\t\t\t\t\t\t\tlet fieldNameShort = fieldName.substr(0, fieldName.length - 2);\n\t\t\t\t\t\t\tchangeData[fieldNameShort] = changeData[fieldName];\n\t\t\t\t\t\t\tdelete changeData[fieldName];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata.changes = changeData;\n\t\t\t\t\tthis.getField().val(JSON.stringify(data));\n\t\t\t\t\tapp.hideModalWindow(null, form.closest('.js-modal-container').attr('id'));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-changesjson-value');\n\t\t}\n\t\t/**\n\t\t * Gets related field\n\t\t */\n\t\tgetRelatedField() {\n\t\t\tlet relatedFieldName = this.getField().data('related-field');\n\t\t\treturn this.container.closest('form').find(`[name=${relatedFieldName}]`);\n\t\t}\n\t},\n\t/**\n\t * MultiReference\n\t */\n\tMultiReference: class MultiReference {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-multiReference-container')) {\n\t\t\t\treturn new MultiReference(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-multiReference-container').each((_, e) => {\n\t\t\t\tinstances.push(new MultiReference($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-clear-selection', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.clear();\n\t\t\t\t});\n\t\t\t$('.js-related-popup', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tlet field = this.getField();\n\t\t\t\t\tlet url = field.data('url');\n\t\t\t\t\tif (url) {\n\t\t\t\t\t\tparams = this.convertUrl(url);\n\t\t\t\t\t}\n\t\t\t\t\tapp.showRecordsList($.extend(params, this.getParams()), (modal, instance) => {\n\t\t\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\t\t\tthis.setReferenceFieldValue(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tthis.registerAutoComplete();\n\t\t}\n\t\t/**\n\t\t * Clear selection\n\t\t */\n\t\tclear() {\n\t\t\tlet element = this.getField();\n\t\t\tlet fieldName = element.attr('name');\n\t\t\telement.val('');\n\t\t\tthis.container.find(`#${fieldName}_display`).removeAttr('readonly').val('');\n\t\t}\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t */\n\t\tregisterAutoComplete() {\n\t\t\tlet thisInstance = this;\n\t\t\tlet formElement = this.container.closest('form');\n\t\t\tthis.container.find('.js-auto-complete').autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term;\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams.search_module = $('.js-popup-reference-module', thisInstance.container).val();\n\t\t\t\t\tparams.search_value = searchValue;\n\t\t\t\t\tparams.module = thisInstance.getField().data('module');\n\t\t\t\t\tparams.action = 'BasicAjax';\n\t\t\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\t\t\tif (sourceRecordElement.length > 0 && sourceRecordElement.val()) {\n\t\t\t\t\t\tparams.src_record = sourceRecordElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tlet responseDataList = [];\n\t\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\t\tif (serverDataFormat.length <= 0) {\n\t\t\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\t\t\tserverDataFormat = new Array({\n\t\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\t\tresponseDataList.push(responseData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresponse(responseDataList);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tif (typeof ui.item.type !== 'undefined' && ui.item.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tlet selectedItemData = [];\n\t\t\t\t\tselectedItemData[ui.item.id] = ui.item.value;\n\t\t\t\t\tthisInstance.setReferenceFieldValue(selectedItemData);\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tif (element.attr('readonly') == undefined) {\n\t\t\t\t\t\tthisInstance.clear();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Set reference field value\n\t\t * @param {object} data\n\t\t */\n\t\tsetReferenceFieldValue(data) {\n\t\t\tlet sourceField = this.getField(),\n\t\t\t\tfieldName = sourceField.attr('name'),\n\t\t\t\tselectedNames = [],\n\t\t\t\tids = [];\n\t\t\tfor (let index in data) {\n\t\t\t\tids.push(index);\n\t\t\t\tselectedNames.push(data[index]);\n\t\t\t}\n\t\t\tthis.clear();\n\t\t\tsourceField.val(ids.join(','));\n\t\t\tthis.container\n\t\t\t\t.find(`#${fieldName}_display`)\n\t\t\t\t.val(app.decodeHTML(selectedNames.join(', ')))\n\t\t\t\t.attr('readonly', true);\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-source-field');\n\t\t}\n\t\t/**\n\t\t * Convert URL to Object\n\t\t * @param {string} data\n\t\t */\n\t\tconvertUrl(url) {\n\t\t\tlet vars = {};\n\t\t\turl.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (_, key, value) {\n\t\t\t\tvars[key] = value;\n\t\t\t});\n\t\t\treturn vars;\n\t\t}\n\t\t/**\n\t\t * Gets params\n\t\t */\n\t\tgetParams() {\n\t\t\tlet form = this.container.closest('form');\n\t\t\tlet sourceModule = $('input[name=\"module\"]', form).val();\n\t\t\tlet popupReferenceModule = $('.js-popup-reference-module', this.container).val();\n\t\t\tlet sourceField = this.getField();\n\t\t\tlet sourceFieldName = sourceField.attr('name');\n\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', form);\n\t\t\tlet sourceRecordId = '';\n\t\t\tif (sourceRecordElement.length > 0) {\n\t\t\t\tsourceRecordId = sourceRecordElement.val();\n\t\t\t}\n\n\t\t\tlet filterFields = {};\n\t\t\tlet listFilterFieldsJson = form.find('input[name=\"listFilterFields\"]').val();\n\t\t\tlet listFilterFields = listFilterFieldsJson ? JSON.parse(listFilterFieldsJson) : [];\n\t\t\tif (\n\t\t\t\tlistFilterFields[sourceFieldName] != undefined &&\n\t\t\t\tlistFilterFields[sourceFieldName][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(listFilterFields[sourceFieldName][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = form.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\tsrc_module: sourceModule,\n\t\t\t\tsrc_field: sourceFieldName,\n\t\t\t\tsrc_record: sourceRecordId,\n\t\t\t\tfilterFields: filterFields,\n\t\t\t\tmulti_select: sourceField.data('multiple')\n\t\t\t};\n\t\t}\n\t},\n\tUtils: {\n\t\tregisterMobileDateRangePicker(element) {\n\t\t\tthis.hideMobileKeyboard(element);\n\t\t\tif (!Quasar.plugins.Platform.is.desktop) {\n\t\t\t\telement\n\t\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t\t})\n\t\t\t\t\t.on('hide.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tpicker.container.removeClass('js-visible');\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\thideMobileKeyboard(element) {\n\t\t\tif (!Quasar.plugins.Platform.is.desktop) {\n\t\t\t\telement.attr('readonly', 'true').addClass('bg-white');\n\t\t\t}\n\t\t},\n\t\tpositionPicker(ev, picker) {\n\t\t\tlet offset = picker.element.offset();\n\t\t\tlet $window = $(window);\n\t\t\tif (offset.left - $window.scrollLeft() + picker.container.outerWidth() > $window.width()) {\n\t\t\t\tpicker.opens = 'left';\n\t\t\t} else {\n\t\t\t\tpicker.opens = 'right';\n\t\t\t}\n\t\t\tpicker.move();\n\t\t\tif (offset.top - $window.scrollTop() + picker.container.outerHeight() > $window.height()) {\n\t\t\t\tpicker.drops = 'up';\n\t\t\t} else {\n\t\t\t\tpicker.drops = 'down';\n\t\t\t}\n\t\t\tpicker.move();\n\t\t},\n\t\t/**\n\t\t * Set value\n\t\t *\n\t\t * @param   {object}  fieldElement  jQuery\n\t\t * @param   {string|boolean}  value\n\t\t */\n\t\tsetValue(fieldElement, value) {\n\t\t\tif (fieldElement.is('select')) {\n\t\t\t\tApp.Fields.Picklist.setValue(fieldElement, value);\n\t\t\t} else {\n\t\t\t\tfieldElement.val(value);\n\t\t\t}\n\t\t\tfieldElement.trigger('change');\n\t\t\tlet fieldValue = fieldElement.closest('.fieldValue');\n\t\t\tfieldValue.addClass('border border-info');\n\t\t\tsetTimeout(function () {\n\t\t\t\tfieldValue.removeClass('border border-info');\n\t\t\t}, 5000);\n\t\t}\n\t}\n};\n"],"names":["window","App","Fields","Date","months","monthsTranslated","map","monthName","vtranslate","fullMonths","fullMonthsTranslated","days","daysTranslated","fullDays","fullDaysTranslated","register","parentElement","registerForAddon","customParams","$","className","hasClass","elements","length","closest","parentDateElem","on","e","currentTarget","find","get","focus","CONFIG","dateFormat","elementDateFormat","data","format","fn","datepicker","dates","langKey","daysShort","daysMin","monthsShort","today","app","clear","titleFormat","weekStart","firstDayOfWeekNo","todayBtn","clearBtn","language","autoclose","todayHighlight","params","extend","each","index","element","Object","assign","enableOnReadonly","hasAttribute","Utils","hideMobileKeyboard","registerRange","toUpperCase","ranges","moment","add","subtract","startOf","endOf","autoUpdateInput","autoApply","locale","separator","applyLabel","cancelLabel","fromLabel","toLabel","customRangeLabel","weekLabel","substr","firstDay","daysOfWeek","monthNames","off","parent","next","currentParams","el","daterangepicker","ev","picker","val","startDate","endDate","trigger","positionPicker","container","addClass","removeClass","registerMobileDateRangePicker","DateTime","hourFormat","elementHourFormat","timeFormat","timePicker24Hour","isDateRangePicker","parentEl","singleDatePicker","showDropdowns","timePicker","timePickerIncrement","opens","Colors","getColorContrast","hexcolor","parseInt","g","b","getRandomColor","color","i","letters","Math","floor","random","getRandomColors","count","colors","push","showPicker","fieldToUpdate","bgToUpdate","cb","url","showModalWindow","modalContainer","ColorPicker","mount","currentColor","getColor","hex","newColor","css","hideModalWindow","id","bind","Text","registerCopyClipboard","querySelectorAll","key","text","showNotify","type","is","Editor","init","config","toolbar","height","isModal","progressInstance","progressIndicator","blockInfo","enabled","onBlock","self","loadEditor","destroyEditor","getElement","attr","instances","getElementId","customConfig","setElement","getEditorInstanceFromName","allowedContent","disableNativeSpellChecker","extraAllowedContent","format_tags","removeButtons","enterMode","CKEDITOR","ENTER_BR","shiftEnterMode","ENTER_P","emojiEnabled","mentionsEnabled","instanceReady","evt","editor","updateElement","mode","removePlugins","extraPlugins","toolbar_Full","name","items","toolbar_Min","toolbar_Micro","toolbar_Clipboard","toolbar_PDF","emojiToolbar","Array","isArray","outputTemplate","mentions","registerMentions","instance","remove","ckeditor","getMainParams","feed","getMentionUsersData","itemTemplate","minChars","minSerchTextLength","getMentionData","marker","pattern","opts","callback","prop","_","Completions","eq","emojiPanel","inputDiv","completionsCollection","records","users","emojis","autolink","collection","registerMentionCollection","registerEmojiCollection","symbol","selectTemplate","item","range","isContentEditable","current","original","module","label","split","trim","values","globalSearchAutocompleteMinLength","searchModule","menuItemTemplate","mentionTemplate","category","image","icon","lookup","fillAttr","emoji","avatar","getSelection","sel","getRangeAt","cloneRange","offset","charCode","getParentByTagName","node","tags","isBody","tagName","parentNode","nodeType","toLowerCase","html","str","replace","m","isFillChar","nodeValue","start","startContainer","startOffset","childNodes","setStart","collapse","previousSibling","lastChild","toString","charCodeAt","match","test","startCont","nextSibling","a","A","hrefFull","href","allowedHosts","purifierAllowedDomains","indexOf","host","document","createElement","createTextNode","appendChild","extractContents","innerHTML","setAttribute","insertNode","insertBefore","removeAllRanges","addRange","allowSpaces","replaceTextSuffix","attach","completionsTextarea","registerCompletionsTextArea","completionsButtons","registerCompletionsButtons","registerAutoLinker","registerEmojiPanel","parents","fetch","siteUrl","then","response","json","catch","error","registerTagClick","keyCode","autoLink","siblings","textarea","preventDefault","append","target","clone","completionsContainer","showMenuForCollection","emojisContainer","json_url","toggleClass","stopPropagation","prepend","basicSearch","reduceNumberResults","returnHtml","query","AppConnector","request","action","value","done","result","search","JSON","parse","reponseDataList","serverDataFormat","responseData","destroy","generateRandomChar","substring","rand","generateRandomHash","prefix","valueOf","hash","Picklist","changeSelectElementView","view","viewParams","toArray","forEach","elem","showSelect2ElementView","errorLog","selectElement","registerParams","selectLazy","showLazySelect","lazyElements","registerLazySelectOptions","selectParams","dropdownContainer","setTimeout","selectOffsetTop","top","dropdownList","htmlBoolParams","select","tokenSeparators","select2","computeDropdownHeight","removeData","$dropdown","dropdown","$search","selectCb","dropdownParent","modalParent","theme","width","containerCssClass","noResults","options","optgroup","children","sort","bText","v","maximumSelectionLength","formatSelectionTooBig","limit","maximum","maximumSelected","formatSelectionExceeds","placeholder","templateResult","actualElement","escapeMarkup","markup","templateSelection","registerAjaxParams","searching","inputTooShort","args","minimum","input","remainingChars","errorLoading","ajax","dataType","delay","method","term","page","processResults","success","concat","results","pagination","more","cache","minimumInputLength","prependDataTemplate","optionData","template","dataset","state","iconInactive","iconActive","registerSelectSortable","sortSelectOptions","registerSortEvent","sortableCb","appendTo","ul","first","sortable","tolerance","stop","reverse","optionTitle","registerIconsEvents","event","originalEvent","optionElement","progressIndicatorElement","currentElementData","message","fail","amd","require","ArrayData","$element","CustomData","__super__","constructor","call","Extend","prototype","filter","slice","dataAdapter","selectedOption","picklistvalues","hasOwnProperty","createSelectedOption","selected","disabled","setValue","searchValue","option","findOption","foundOption","selectValues","getSelectOptions","getFieldValueFromText","keys","valueExists","createOption","optionsObject","newOption","MultiImage","currentFileUploads","MultiEmail","$container","idx","multiEmailField","$multiEmailField","parseToJSON","toggleConsent","addItem","removeItem","email","$item","consent","o","stringify","$newItem","hide","show","$deleteBtn","$consentBox","toggle","MultiDependField","fields","inputElement","addRow","registerRow","parseToJson","removeRow","allFields","arrayLength","skip","partData","k","arr","lastField","last","selectFields","removeAttr","newField","insertAfter","DependentSelect","generateOptionsFromData","slaveSelect","masterSelect","child","localeCompare","Gantt","Integer","formatToDisplay","currencyGroupingSeparator","groupingPattern","currencyGroupingPattern","parseFloat","toFixed","integer","groupSeparator","Double","numberOfDecimal","noOfCurrencyDecimals","numberOfZerosAtTheEnd","strDecimal","fixed","round","base","sign","splittedFloat","truncateTrailingZeros","decimal","currencyDecimalSeparator","formatToDb","join","Tree","modalEvent","autoCompleteEvent","clearSelectionEvent","fieldDisplayElement","sourceFieldElement","fieldName","multiple","requestData","modalEvents","modal","setSelectEvent","modalId","autoCompleteElement","autocomplete","minLength","source","parentElem","fieldInfo","allValues","responseDataList","ui","selectedItemData","change","open","menu","fieldElement","n","TimePeriod","time","Number","period","injectContent","content","plus1btn","minus1btn","registerEvents","onChange","onPlus1Click","onMinus1Click","MultiCurrency","registerEnableCurrencyEvent","registerResetCurrencyEvent","loadData","calculateConversionRate","form","validationEngine","validationEngineOptionsForRecord","saveCurrencies","getField","formatNumber","setPrice","getFieldToSave","baseCurrencyId","currencyId","price","row","showMessage","selectedBaseCurrency","selectedRow","enabledBaseCurrency","baseCurrencyConversionRate","getNumberFromValue","domElement","baseCurrencyRatePrevValue","parentRow","title","MeetingUrl","addButton","getUrl","valElement","addEventsForDependentFields","formData","serializeFormData","expField","encodeURIComponent","date","roomName","formElement","ChangesJson","field","record","changes","relatedField","getRelatedField","sourceModule","sourceField","saveData","InvalidFields","checkbox","changeData","fieldNameShort","relatedFieldName","MultiReference","convertUrl","showRecordsList","getParams","setReferenceFieldValue","registerAutoComplete","search_module","thisInstance","search_value","sourceRecordElement","src_record","err","selectedNames","ids","decodeHTML","vars","popupReferenceModule","sourceFieldName","sourceRecordId","listFilterFieldsJson","listFilterFields","mapFieldElement","filterFields","src_module","src_field","multi_select","Quasar","plugins","Platform","desktop","$window","left","scrollLeft","outerWidth","move","drops","scrollTop","outerHeight","fieldValue"],"mappings":"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"}