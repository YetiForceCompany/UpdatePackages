{"version":3,"file":"Roles.min.js","sources":["Roles.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nvar Settings_Roles_Js = {\n\tnewPriviliges: false,\n\n\tinitDeleteView: function () {\n\t\tjQuery('#roleDeleteForm').validationEngine(app.validationEngineOptions);\n\n\t\tjQuery('[data-action=\"popup\"]').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tvar field = target.data('field');\n\n\t\t\tvar popupInstance = Vtiger_Popup_Js.getInstance();\n\t\t\tpopupInstance.show(target.data('url'));\n\t\t\tpopupInstance.retrieveSelectedRecords(function (data) {\n\t\t\t\ttry {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (typeof data == 'object') {\n\t\t\t\t\tjQuery('[name=\"' + field + '_display\"]').val(data.label);\n\t\t\t\t\tdata = data.value;\n\t\t\t\t}\n\t\t\t\tjQuery('[name=\"' + field + '\"]').val(data);\n\t\t\t});\n\t\t});\n\n\t\tjQuery('#clearRole').on('click', function (e) {\n\t\t\tjQuery('[name=\"transfer_record_display\"]').val('');\n\t\t\tjQuery('[name=\"transfer_record\"]').val('');\n\t\t});\n\t},\n\n\tinitPopupView: function () {\n\t\tjQuery('.roleEle').on('click', function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\t// jquery_windowmsg plugin expects second parameter to be string.\n\t\t\tjQuery.triggerParentEvent(\n\t\t\t\t'postSelection',\n\t\t\t\tJSON.stringify({\n\t\t\t\t\tvalue: target.closest('li').data('roleid'),\n\t\t\t\t\tlabel: target.text()\n\t\t\t\t})\n\t\t\t);\n\t\t\tself.close();\n\t\t});\n\t},\n\n\tinitEditView: function () {\n\t\tfunction applyMoveChanges(roleid, parent_roleid) {\n\t\t\tvar params = {\n\t\t\t\tmodule: 'Roles',\n\t\t\t\taction: 'MoveAjax',\n\t\t\t\tparent: 'Settings',\n\t\t\t\trecord: roleid,\n\t\t\t\tparent_roleid: parent_roleid\n\t\t\t};\n\n\t\t\tAppConnector.request(params).done(function (res) {\n\t\t\t\tif (!res.success) {\n\t\t\t\t\tapp.showAlert(app.vtranslate('JS_FAILED_TO_SAVE'));\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tjQuery('[rel=\"tooltip\"]').tooltip();\n\n\t\tfunction modalActionHandler(event) {\n\t\t\tvar target = $(event.currentTarget);\n\t\t\tapp.showModalWindow(null, target.data('url'), function (data) {\n\t\t\t\tSettings_Roles_Js.initDeleteView();\n\t\t\t});\n\t\t}\n\n\t\tjQuery('[data-action=\"modal\"]').on('click', modalActionHandler);\n\n\t\tjQuery('.toolbar').hide();\n\n\t\tjQuery('.toolbar-handle').on('mouseover', function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tjQuery('.toolbar', target).css({ display: 'inline' });\n\t\t});\n\t\tjQuery('.toolbar-handle').on('mouseout', function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tjQuery('.toolbar', target).hide();\n\t\t});\n\n\t\tjQuery('.draggable').draggable({\n\t\t\tcontainment: '.treeView',\n\t\t\tstart: function (event, ui) {\n\t\t\t\tvar container = jQuery(ui.helper);\n\t\t\t\tvar referenceid = container.data('refid');\n\t\t\t\tvar sourceGroup = jQuery('[data-grouprefid=\"' + referenceid + '\"]');\n\t\t\t\tvar sourceRoleId = sourceGroup.data('roleid');\n\t\t\t\tif (sourceRoleId == 'H5' || sourceRoleId == 'H2') {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams.title = app.vtranslate('JS_PERMISSION_DENIED');\n\t\t\t\t\tparams.text = app.vtranslate('JS_NO_PERMISSIONS_TO_MOVE');\n\t\t\t\t\tparams.type = 'error';\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t}\n\t\t\t},\n\t\t\thelper: function (event) {\n\t\t\t\tvar target = $(event.currentTarget);\n\t\t\t\tvar targetGroup = target.closest('li');\n\t\t\t\tvar timestamp = +new Date();\n\n\t\t\t\tvar container = $('<div/>');\n\t\t\t\tcontainer.data('refid', timestamp);\n\t\t\t\tcontainer.html(targetGroup.clone());\n\n\t\t\t\t// For later reference we shall assign the id before we return\n\t\t\t\ttargetGroup.attr('data-grouprefid', timestamp);\n\n\t\t\t\treturn container;\n\t\t\t}\n\t\t});\n\t\tjQuery('.droppable').droppable({\n\t\t\thoverClass: 'btn-primary',\n\t\t\ttolerance: 'pointer',\n\t\t\tdrop: function (event, ui) {\n\t\t\t\tvar container = $(ui.helper);\n\t\t\t\tvar referenceid = container.data('refid');\n\t\t\t\tvar sourceGroup = $('[data-grouprefid=\"' + referenceid + '\"]');\n\n\t\t\t\tvar thisWrapper = $(this).closest('div');\n\n\t\t\t\tvar targetRole = thisWrapper.closest('li').data('role');\n\t\t\t\tvar targetRoleId = thisWrapper.closest('li').data('roleid');\n\t\t\t\tvar sourceRole = sourceGroup.data('role');\n\t\t\t\tvar sourceRoleId = sourceGroup.data('roleid');\n\n\t\t\t\t// Attempt to push parent-into-its own child hierarchy?\n\t\t\t\tif (targetRole.indexOf(sourceRole + '::') == 0) {\n\t\t\t\t\t// Sorry\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//Attempt to move the roles CEO and Sales Person\n\t\t\t\tif (sourceRoleId == 'H5' || sourceRoleId == 'H2') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsourceGroup.appendTo(thisWrapper.next('ul'));\n\n\t\t\t\tapplyMoveChanges(sourceRoleId, targetRoleId);\n\t\t\t}\n\t\t});\n\t},\n\n\tregisterSubmitEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar form = jQuery('#EditView');\n\t\tform.on('submit', function (e) {\n\t\t\tif (form.data('submit') == 'true' && form.data('performCheck') == 'true') {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tvar selectElement = jQuery('#profilesList');\n\t\t\t\tvar select2Element = app.getSelect2ElementFromSelect(selectElement);\n\t\t\t\tvar result = Vtiger_MultiSelect_Validator_Js.invokeValidation(selectElement);\n\t\t\t\tif (result != true) {\n\t\t\t\t\tselect2Element.validationEngine('showPrompt', result, 'error', 'bottomLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tselect2Element.validationEngine('hide');\n\t\t\t\t}\n\n\t\t\t\tif (form.data('jqv').InvalidFields.length <= 0) {\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.checkDuplicateName({\n\t\t\t\t\t\t\trolename: formData.rolename,\n\t\t\t\t\t\t\trecord: formData.record\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tform.data('submit', 'true');\n\t\t\t\t\t\t\tform.data('performCheck', 'true');\n\t\t\t\t\t\t\tform.submit();\n\t\t\t\t\t\t\tjQuery.progressIndicator({\n\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (data, err) {\n\t\t\t\t\t\t\tvar params = {};\n\t\t\t\t\t\t\tparams['text'] = data['message'];\n\t\t\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t});\n\t},\n\n\t/*\n\t * Function to check Duplication of Role Names\n\t * returns boolean true or false\n\t */\n\n\tcheckDuplicateName: function (details) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar params = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\taction: 'EditAjax',\n\t\t\tmode: 'checkDuplicate',\n\t\t\trolename: details.rolename,\n\t\t\trecord: details.record\n\t\t};\n\n\t\tAppConnector.request(params)\n\t\t\t.done(function (data) {\n\t\t\t\tvar response = data['result'];\n\t\t\t\tvar result = response['success'];\n\t\t\t\tif (result == true) {\n\t\t\t\t\taDeferred.reject(response);\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.fail(function (error, err) {\n\t\t\t\taDeferred.reject(error, err);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Register button to open modal logo upload form\n\t */\n\tregisterModalUploadButton: function () {\n\t\tconst thisInstance = this;\n\t\t$('.js-upload-logo').on('click', function () {\n\t\t\tapp.showModalWindow(null, $(this).data('url'), function (data) {\n\t\t\t\tthisInstance.registerUploadButton(data.find('form'));\n\t\t\t});\n\t\t});\n\t},\n\t/**\n\t * Register button send form\n\t * @param {jQuery} form\n\t */\n\tregisterUploadButton: function (form) {\n\t\tform.on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\tapp.removeEmptyFilesInput(form[0]);\n\t\t\t\tlet formData = new FormData(form[0]),\n\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t}),\n\t\t\t\t\tnotifyType = '';\n\t\t\t\tAppConnector.request({\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tcontentType: false\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (true === data.result.success) {\n\t\t\t\t\t\tnotifyType = 'success';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnotifyType = 'error';\n\t\t\t\t\t}\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate(data.result.message),\n\t\t\t\t\t\ttype: notifyType\n\t\t\t\t\t});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tSettings_Roles_Js.registerModalUploadButton();\n\t\tSettings_Roles_Js.initEditView();\n\t\tSettings_Roles_Js.registerSubmitEvent();\n\t}\n};\njQuery(document).ready(function () {\n\tSettings_Roles_Js.registerEvents();\n});\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","Settings_Roles_Js","newPriviliges","initDeleteView","jQuery","validationEngine","app","validationEngineOptions","on","e","preventDefault","target","$","currentTarget","field","data","popupInstance","Vtiger_Popup_Js","getInstance","show","retrieveSelectedRecords","JSON","parse","val","label","value","initPopupView","triggerParentEvent","stringify","closest","text","self","close","initEditView","applyMoveChanges","roleid","parent_roleid","AppConnector","request","module","action","parent","record","done","res","success","showAlert","vtranslate","window","location","reload","tooltip","event","showModalWindow","hide","css","display","draggable","containment","start","ui","container","helper","referenceid","sourceGroup","sourceRoleId","params","title","type","Settings_Vtiger_Index_Js","showMessage","targetGroup","timestamp","Date","html","clone","attr","droppable","hoverClass","tolerance","drop","thisWrapper","targetRole","targetRoleId","sourceRole","indexOf","appendTo","next","registerSubmitEvent","thisInstance","form","selectElement","select2Element","getSelect2ElementFromSelect","result","Vtiger_MultiSelect_Validator_Js","invokeValidation","InvalidFields","length","formData","serializeFormData","checkDuplicateName","rolename","submit","progressIndicator","blockInfo","enabled","fail","message","removeData","formAlignmentAfterValidation","details","aDeferred","Deferred","getModuleName","getParentModuleName","mode","response","reject","resolve","error","err","promise","registerModalUploadButton","registerUploadButton","find","removeEmptyFilesInput","FormData","progressIndicatorElement","notifyType","url","processData","contentType","showNotify","hideModalWindow","registerEvents","document","ready"],"mappings":"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"}