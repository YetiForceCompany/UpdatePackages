{"version":3,"file":"ChartFilter.min.js","sources":["ChartFilter.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_ChartFilter_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Widget type name\n\t\t */\n\t\twidgetName: 'ChartFilter',\n\t\tregisterContainers() {\n\t\t\tthis.widgetId = $('.js-widget-id', this.container).val();\n\t\t\tthis.linkId = $('.js-link-id', this.container).val();\n\t\t\tthis.step1 = $('.step1', this.container);\n\t\t\tthis.step2 = $('.step2', this.container);\n\t\t\tthis.step3 = $('.step3', this.container);\n\t\t\tthis.step4 = $('.step4', this.container);\n\t\t\tthis.step5 = $('.step5', this.container);\n\t\t\tthis.footer = $('.js-chart-footer', this.container);\n\t\t\tthis.form = $('form', this.container);\n\t\t\tthis.stepNumber = $('#widgetStep', this.container);\n\t\t},\n\t\t/**\n\t\t * Register first step elements\n\t\t */\n\t\tregisterStep1() {\n\t\t\tlet chartType = $('select[name=\"chartType\"]', this.container);\n\t\t\tlet moduleElement = $('select[name=\"module\"]', this.container);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(moduleElement, {\n\t\t\t\tplaceholder: app.vtranslate('JS_SELECT_MODULE')\n\t\t\t});\n\n\t\t\tthis.moduleName = moduleElement.val();\n\t\t\tthis.chartTypeValue = chartType.val();\n\n\t\t\tchartType.on('change', (e) => {\n\t\t\t\tthis.chartTypeValue = e.currentTarget.value;\n\t\t\t\tmoduleElement.trigger('change');\n\t\t\t});\n\t\t\tmoduleElement.on('change', (e) => {\n\t\t\t\tthis.moduleName = e.currentTarget.value;\n\t\t\t\tif (!this.moduleName) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.footer.hide();\n\t\t\t\tthis.step2.empty();\n\t\t\t\tthis.step3.empty();\n\t\t\t\tthis.step4.empty();\n\t\t\t\tthis.step5.empty();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step2',\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\t\tlinkId: this.linkId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep2(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (this.widgetId) {\n\t\t\t\tmoduleElement.trigger('change');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register second step elements\n\t\t */\n\t\tregisterStep2(stepContainer) {\n\t\t\tthis.step2.append(stepContainer);\n\t\t\tthis.stepNumber.val(2);\n\t\t\tthis.footer.hide();\n\t\t\tlet filtersIdElement = this.step2.find('.filtersId');\n\t\t\tlet valueTypeElement = this.step2.find('.valueType');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(filtersIdElement);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(valueTypeElement);\n\t\t\tthis.step2.find('.filtersId, .valueType').on('change', (e) => {\n\t\t\t\tthis.step3.empty();\n\t\t\t\tthis.step4.empty();\n\t\t\t\tthis.step5.empty();\n\t\t\t\tthis.footer.hide();\n\t\t\t\tlet filterId = filtersIdElement.val(),\n\t\t\t\t\ttype = valueTypeElement.val();\n\t\t\t\tif (!filterId || Object.keys(filterId).length === 0 || !type || Object.keys(type).length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step3',\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\tfiltersId: filterId,\n\t\t\t\t\tvalueType: type,\n\t\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\t\tlinkId: this.linkId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep3(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (this.widgetId) {\n\t\t\t\tvalueTypeElement.trigger('change');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register third step elements\n\t\t */\n\t\tregisterStep3(stepContainer) {\n\t\t\tthis.step3.append(stepContainer);\n\t\t\tthis.stepNumber.val(3);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step3.find('select'));\n\t\t\tthis.footer.hide();\n\t\t\tlet groupField = this.step3.find('.groupField');\n\t\t\tgroupField.on('change', (e) => {\n\t\t\t\tthis.step4.empty();\n\t\t\t\tthis.step5.empty();\n\t\t\t\tif (!groupField.val()) return;\n\t\t\t\tthis.footer.show();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step4',\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\tfiltersId: this.step2.find('.filtersId').val(),\n\t\t\t\t\tgroupField: groupField.val(),\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\t\tlinkId: this.linkId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep4(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (this.widgetId) {\n\t\t\t\tgroupField.trigger('change');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register fourth step elements\n\t\t */\n\t\tregisterStep4(stepContainer) {\n\t\t\tthis.step4.append(stepContainer);\n\t\t\tthis.stepNumber.val(4);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step4.find('select'));\n\t\t\tlet dividingField = this.step4.find('[name=\"dividingField\"]');\n\t\t\tdividingField.on('change', (e) => {\n\t\t\t\tlet selectedOption = e.currentTarget.selectedOptions[0];\n\t\t\t\tlet type = selectedOption ? selectedOption.dataset.fieldType : '';\n\t\t\t\tlet selector = this.step4.find('.js-sector-container');\n\t\t\t\tif (type === 'datetime' || type === 'date') {\n\t\t\t\t\tselector.removeClass('d-none');\n\t\t\t\t\tselector.find('select').attr('disabled', false);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(selector.find('select'));\n\t\t\t\t} else {\n\t\t\t\t\tselector.addClass('d-none');\n\t\t\t\t\tselector.find('select').attr('disabled', true);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerRequestForStep5();\n\t\t\tthis.step4.find('[name=\"dividingField\"], [name=\"stacked\"], [name=\"sectorField\"]').on('change', (e) => {\n\t\t\t\tthis.step5.empty();\n\t\t\t\tthis.registerRequestForStep5();\n\t\t\t});\n\t\t\tif (this.widgetId && dividingField.length && dividingField.val()) {\n\t\t\t\tdividingField.trigger('change');\n\t\t\t}\n\t\t\tapp.registerModalEvents(this.container);\n\t\t},\n\t\tregisterRequestForStep5() {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\tview: this.widgetName,\n\t\t\t\tstep: 'step5',\n\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\tfiltersId: this.step2.find('.filtersId').val(),\n\t\t\t\tgroupField: this.step3.find('.groupField option:selected').val(),\n\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\tdividingField: this.step4.find('[name=\"dividingField\"] option:selected').val(),\n\t\t\t\tsectorField: this.step4.find('[name=\"sectorField\"] option:selected').val(),\n\t\t\t\tstacked: this.step4.find('[name=\"stacked\"]').is(':checked'),\n\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\tlinkId: this.linkId\n\t\t\t}).done((data) => {\n\t\t\t\tthis.registerStep5(data);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register fifth step elements\n\t\t */\n\t\tregisterStep5(stepContainer) {\n\t\t\tthis.step5.append(stepContainer);\n\t\t\tthis.stepNumber.val(5);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step5.find('select'));\n\t\t},\n\t\t/**\n\t\t * Register submit\n\t\t */\n\t\tregisterSubmit() {\n\t\t\tlet form = this.form;\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.on('submit', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.data('jqv').InvalidFields.length === 0) {\n\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\t\tlet params = this.widgetId ? this.getParamsForEdit() : this.getParams();\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tthis.postSave(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t * @param {object} response\n\t\t */\n\t\tpostSave(response) {\n\t\t\tlet result = response['result'];\n\t\t\tVtiger_Helper_Js.showMessage({ type: 'success', text: result['text'] });\n\t\t\tif (this.isDashboard()) {\n\t\t\t\tlet linkElement = this.source.clone();\n\t\t\t\tlinkElement.data('name', this.widgetName);\n\t\t\t\tlinkElement.data('id', result['wid']);\n\t\t\t\tnew Vtiger_DashBoard_Js().addWidget(\n\t\t\t\t\tlinkElement,\n\t\t\t\t\t'index.php?module=Home&view=ShowWidget&name=ChartFilter&linkid=' +\n\t\t\t\t\t\tthis.source.data('linkid') +\n\t\t\t\t\t\t'&widgetid=' +\n\t\t\t\t\t\tresult['wid'] +\n\t\t\t\t\t\t'&active=0'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Gets params for save\n\t\t * @returns {object}\n\t\t */\n\t\tgetParamsForEdit() {\n\t\t\tlet paramsForm = this.form.serializeFormData();\n\t\t\tparamsForm.module = 'WidgetsManagement';\n\t\t\tparamsForm.parent = 'Settings';\n\t\t\tparamsForm.action = 'SaveAjax';\n\t\t\tparamsForm.mode = 'save';\n\t\t\tparamsForm.chartModule = this.moduleName;\n\t\t\tparamsForm.linkId = this.source.data('linkid');\n\t\t\tparamsForm.widgetId = this.widgetId;\n\t\t\treturn paramsForm;\n\t\t},\n\t\t/**\n\t\t * Gets params for save\n\t\t * @returns {object}\n\t\t */\n\t\tgetParams() {\n\t\t\tlet data = {};\n\t\t\tlet paramsForm = this.form.serializeFormData();\n\t\t\tthis.form.find('.saveParam').each(function (_, element) {\n\t\t\t\tif (typeof paramsForm[element.name] !== 'undefined') {\n\t\t\t\t\tdata[element.name] = paramsForm[element.name];\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet filtersId = this.step2.find('.filtersId').val();\n\t\t\tif (Array.isArray(filtersId)) {\n\t\t\t\tfiltersId = filtersId.join(',');\n\t\t\t}\n\t\t\tconst formData = {\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tblockid: this.source.data('block-id'),\n\t\t\t\tlinkid: this.source.data('linkid'),\n\t\t\t\tname: this.widgetName,\n\t\t\t\ttitle: paramsForm['title'],\n\t\t\t\tfilterid: filtersId,\n\t\t\t\tisdefault: 0,\n\t\t\t\theight: 4,\n\t\t\t\twidth: 4,\n\t\t\t\towners_all: ['mine', 'all', 'users', 'groups'],\n\t\t\t\tdefault_owner: 'mine',\n\t\t\t\tdashboardId: this.getCurrentDashboard()\n\t\t\t};\n\t\t\treturn {\n\t\t\t\tform: formData,\n\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\tsourceModule: this.sourceModuleName || app.getModuleName(),\n\t\t\t\taction: 'Widget',\n\t\t\t\tmode: 'add',\n\t\t\t\taddToUser: this.isDashboard(),\n\t\t\t\tlinkid: this.source.data('linkid'),\n\t\t\t\tname: this.widgetName\n\t\t\t};\n\t\t},\n\t\t/**\n\t\t * Gets dashboard ID\n\t\t * @returns {int}\n\t\t */\n\t\tgetCurrentDashboard() {\n\t\t\treturn $('.selectDashboard li a.active').closest('li').data('id') || 1;\n\t\t},\n\t\t/**\n\t\t * Check if the widget is added on the dashboard\n\t\t * @returns {boolean}\n\t\t */\n\t\tisDashboard() {\n\t\t\treturn $('.dashboardViewContainer').length > 0 && typeof Vtiger_DashBoard_Js !== 'undefined';\n\t\t},\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function (modalContainer) {\n\t\t\tthis.container = $(modalContainer);\n\t\t\tlet id = this.container.closest('.js-modal-container').attr('id');\n\t\t\tthis.source = $(`[data-modalid=\"${id}\"]`);\n\t\t\tthis.sourceModuleName = this.source.data('module');\n\t\t\tthis.registerContainers();\n\t\t\tthis.registerStep1();\n\t\t\tthis.registerSubmit();\n\t\t}\n\t}\n);\n"],"names":["$","Class","widgetName","registerContainers","widgetId","container","val","linkId","step1","step2","step3","step4","step5","footer","form","stepNumber","registerStep1","_this","chartType","moduleElement","App","Fields","Picklist","showSelect2ElementView","placeholder","app","vtranslate","moduleName","chartTypeValue","on","e","currentTarget","value","trigger","hide","empty","AppConnector","request","module","sourceModuleName","view","step","selectedModule","templateId","done","data","registerStep2","stepContainer","_this2","append","filtersIdElement","find","valueTypeElement","filterId","type","Object","keys","length","filtersId","valueType","registerStep3","_this3","groupField","show","registerStep4","_this4","dividingField","selectedOption","selectedOptions","dataset","fieldType","selector","removeClass","attr","addClass","registerRequestForStep5","registerModalEvents","_this5","sectorField","stacked","is","registerStep5","registerSubmit","_this6","validationEngine","validationEngineOptions","preventDefault","InvalidFields","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","params","getParamsForEdit","getParams","success","hideModalWindow","mode","postSave","fail","formAlignmentAfterValidation","response","result","Vtiger_Helper_Js","showMessage","text","isDashboard","linkElement","source","clone","wid","Vtiger_DashBoard_Js","addWidget","window","location","reload","paramsForm","serializeFormData","parent","action","chartModule","each","_","element","name","Array","isArray","join","formData","JSON","stringify","blockid","linkid","title","filterid","isdefault","height","width","owners_all","default_owner","dashboardId","getCurrentDashboard","sourceModule","getModuleName","addToUser","closest","registerEvents","modalContainer","id","concat"],"mappings":"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"}