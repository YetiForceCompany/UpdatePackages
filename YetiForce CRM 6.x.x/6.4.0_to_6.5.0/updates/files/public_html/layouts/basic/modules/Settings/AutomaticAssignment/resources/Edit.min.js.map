{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_AutomaticAssignment_Edit_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tadvanceFilterInstance: false,\n\t\tconditionBuilders: [],\n\t\tsetContainer: function (container) {\n\t\t\tthis.container = container;\n\t\t\treturn this.container;\n\t\t},\n\t\tgetContainer: function () {\n\t\t\tif (this.container == false) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv form');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tregisterBlockToggleEvent() {\n\t\t\tthis.container.on('click', '.blockHeader', function (e) {\n\t\t\t\tconst target = $(e.target);\n\t\t\t\tif (\n\t\t\t\t\ttarget.is('input') ||\n\t\t\t\t\ttarget.is('button') ||\n\t\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst blockHeader = $(e.currentTarget);\n\t\t\t\tconst blockContents = blockHeader.next();\n\t\t\t\tconst iconToggle = blockHeader.find('.iconToggle');\n\t\t\t\tif (blockContents.hasClass('d-none')) {\n\t\t\t\t\tblockContents.removeClass('d-none');\n\t\t\t\t\ticonToggle.removeClass(iconToggle.data('hide')).addClass(iconToggle.data('show'));\n\t\t\t\t} else {\n\t\t\t\t\tblockContents.addClass('d-none');\n\t\t\t\t\ticonToggle.removeClass(iconToggle.data('show')).addClass(iconToggle.data('hide'));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register submit event\n\t\t */\n\t\tregisterSubmitEvent() {\n\t\t\tthis.container.off('submit').on('submit', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.container.find('.js-toggle-panel').find('.js-block-content').removeClass('d-none');\n\t\t\t\tif ($(e.currentTarget).validationEngine('validate')) {\n\t\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tfor (var key in this.conditionBuilders) {\n\t\t\t\t\t\tthis.container\n\t\t\t\t\t\t\t.find(`input[name=\"${key}\"]`)\n\t\t\t\t\t\t\t.val(JSON.stringify(this.conditionBuilders[key].getConditions()));\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.preSaveValidation().done((response) => {\n\t\t\t\t\t\tif (response === true) {\n\t\t\t\t\t\t\tlet formData = this.container.serializeFormData();\n\t\t\t\t\t\t\tapp\n\t\t\t\t\t\t\t\t.saveAjax('save', [], formData)\n\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\tif (data.result && data.result.success) {\n\t\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_SAVE_SUCCESS') });\n\t\t\t\t\t\t\t\t\t\twindow.location.href = data.result.url;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_ERROR'), type: 'error' });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_ERROR'), type: 'error' });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * PreSave validation\n\t\t */\n\t\tpreSaveValidation: function () {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tlet formData = new FormData(this.container[0]);\n\t\t\tformData.append('mode', 'preSaveValidation');\n\t\t\tAppConnector.request({\n\t\t\t\tasync: false,\n\t\t\t\turl: 'index.php',\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: formData,\n\t\t\t\tprocessData: false,\n\t\t\t\tcontentType: false\n\t\t\t})\n\t\t\t\t.done((data) => {\n\t\t\t\t\tlet response = data.result;\n\t\t\t\t\tfor (let i in response) {\n\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (response[i].hoverField != undefined) {\n\t\t\t\t\t\t\t\tthis.container.find('[name=\"' + response[i].hoverField + '\"]').focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data.result.length <= 0);\n\t\t\t\t})\n\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_ERROR'), type: 'error' });\n\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t});\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Load condition builder\n\t\t *\n\t\t * @param   {Integer}  sourceTabId\n\t\t */\n\t\tloadConditionBuilderView(sourceTabId) {\n\t\t\tif (!sourceTabId) {\n\t\t\t\tthis.container.find('.js-condition-builder-container').html('');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'Conditions',\n\t\t\t\tsourceTabId: sourceTabId\n\t\t\t}).done((data) => {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tthis.container.find('.js-condition-builder-container').html(data);\n\t\t\t\tthis.registerConditionBuilder();\n\t\t\t});\n\t\t},\n\t\tregisterConditionBuilder() {\n\t\t\tlet sourceModuleName = this.sourceModuleSelect.val();\n\t\t\tif (sourceModuleName) {\n\t\t\t\tthis.container.find('.js-condition-builder').each((_, e) => {\n\t\t\t\t\tlet conditionBuilder = new Vtiger_ConditionBuilder_Js($(e), sourceModuleName);\n\t\t\t\t\tconditionBuilder.registerEvents();\n\t\t\t\t\tlet name = $(e).closest('.js-field-container').find('.js-condition-value').attr('name');\n\t\t\t\t\tthis.conditionBuilders[name] = conditionBuilder;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register source module change\n\t\t */\n\t\tregisterSourceModuleChange() {\n\t\t\tthis.sourceModuleSelect = this.container.find('select[name=\"tabid\"]');\n\t\t\tthis.sourceTabId = this.sourceModuleSelect.val();\n\t\t\tthis.sourceModuleSelect.on('change', (e) => {\n\t\t\t\tlet value = $(e.currentTarget).val();\n\t\t\t\tif (this.sourceTabId !== value && this.sourceTabId !== null) {\n\t\t\t\t\tthis.sourceTabId = value;\n\t\t\t\t\tthis.loadConditionBuilderView(this.sourceTabId);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterMethodChange() {\n\t\t\tthis.container.find('[name=\"method\"]').on('change', (e) => {\n\t\t\t\tlet countingCriteria = this.container.find('[name=\"record_limit_conditions\"]').closest('.js-field-container');\n\t\t\t\tif ($(e.currentTarget).val() == 1) {\n\t\t\t\t\tcountingCriteria.addClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tcountingCriteria.removeClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterBasicEvents: function () {\n\t\t\tthis.container.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\tthis.registerSubmitEvent();\n\t\t\tthis.registerBlockToggleEvent();\n\t\t\tthis.registerSourceModuleChange();\n\t\t\tthis.registerConditionBuilder();\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis.setContainer($('.contentsDiv form'));\n\t\t\tthis.registerBasicEvents();\n\t\t\tapp.showPopoverElementView(this.container.find('.js-popover-tooltip'));\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","advanceFilterInstance","conditionBuilders","setContainer","getContainer","registerBlockToggleEvent","on","e","target","$","is","parents","hasClass","blockHeader","currentTarget","blockContents","next","iconToggle","find","removeClass","data","addClass","registerSubmitEvent","_this","off","preventDefault","validationEngine","key","document","progressLoader","progressIndicator","message","app","vtranslate","position","blockInfo","enabled","concat","val","JSON","stringify","getConditions","preSaveValidation","done","response","formData","serializeFormData","saveAjax","result","success","Settings_Vtiger_Index_Js","showMessage","text","window","location","href","url","mode","showNotify","type","fail","stopPropagation","_this2","aDeferred","Deferred","FormData","append","AppConnector","request","async","processData","contentType","i","hoverField","focus","resolve","length","textStatus","errorThrown","errorLog","promise","loadConditionBuilderView","sourceTabId","_this3","html","progress","module","getModuleName","parent","getParentModuleName","view","registerConditionBuilder","_this4","sourceModuleName","sourceModuleSelect","each","_","conditionBuilder","Vtiger_ConditionBuilder_Js","registerEvents","name","closest","attr","registerSourceModuleChange","_this5","value","registerMethodChange","_this6","countingCriteria","registerBasicEvents","validationEngineOptionsForRecord","showPopoverElementView"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,MAAM,CAACC,KAAK,CACX,sCAAsC,CACtC,EAAE,CACF,CACCC,SAAS,GAAO,CAChBC,qBAAqB,CAAO,CAAA,CAAA,CAC5BC,iBAAiB,CAAE,EAAE,CACrBC,YAAY,CAAE,SAAAA,YAAAA,CAAUH,SAAS,CAAE,CAElC,OADA,IAAI,CAACA,SAAS,CAAGA,SAAS,CACnB,IAAI,CAACA,SACb,CAAC,CACDI,YAAY,CAAE,SAAAA,YAAA,EAAY,CAIzB,OAHI,CAAI,CAAA,EAAA,IAAA,CAACJ,SAAkB,GAC1B,IAAI,CAACA,SAAS,CAAGF,MAAM,CAAC,sBAAsB,CAAC,CAAA,CAEzC,IAAI,CAACE,SACb,CAAC,CACDK,wBAAwB,CAAAA,SAAAA,wBAAAA,EAAG,CAC1B,IAAI,CAACL,SAAS,CAACM,EAAE,CAAC,OAAO,CAAE,cAAc,CAAE,SAAUC,CAAC,CAAE,CACvD,IAAMC,MAAM,CAAGC,CAAC,CAACF,CAAC,CAACC,MAAM,CAAC,CAC1B,GACCA,MAAM,CAACE,EAAE,CAAC,OAAO,CAAC,EAClBF,MAAM,CAACE,EAAE,CAAC,QAAQ,CAAC,EACnBF,MAAM,CAACG,OAAO,EAAE,CAACD,EAAE,CAAC,QAAQ,CAAC,EAC7BF,MAAM,CAACI,QAAQ,CAAC,qBAAqB,CAAC,EACtCJ,MAAM,CAACG,OAAO,EAAE,CAACC,QAAQ,CAAC,qBAAqB,CAAC,CAEhD,OACA,CAAA,CAAA,CAAA,IACKC,WAAW,CAAGJ,CAAC,CAACF,CAAC,CAACO,aAAa,CAAC,CAChCC,aAAa,CAAGF,WAAW,CAACG,IAAI,EAAE,CAClCC,UAAU,CAAGJ,WAAW,CAACK,IAAI,CAAC,aAAa,CAAC,CAC9CH,aAAa,CAACH,QAAQ,CAAC,QAAQ,CAAC,EACnCG,aAAa,CAACI,WAAW,CAAC,QAAQ,CAAC,CACnCF,UAAU,CAACE,WAAW,CAACF,UAAU,CAACG,IAAI,CAAC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAACJ,UAAU,CAACG,IAAI,CAAC,MAAM,CAAC,CAAC,GAEjFL,aAAa,CAACM,QAAQ,CAAC,QAAQ,CAAC,CAChCJ,UAAU,CAACE,WAAW,CAACF,UAAU,CAACG,IAAI,CAAC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAACJ,UAAU,CAACG,IAAI,CAAC,MAAM,CAAC,CAAC,EAEnF,CAAC,EACF,CAAC;AAEH;AACA,KACEE,mBAAmB,CAAAA,SAAAA,mBAAAA,EAAG,CAAA,IAAAC,KAAA,CACrB,IAAA,CAAA,IAAI,CAACvB,SAAS,CAACwB,GAAG,CAAC,QAAQ,CAAC,CAAClB,EAAE,CAAC,QAAQ,CAAE,SAACC,CAAC,CAAK,CAGhD,GAFAA,CAAC,CAACkB,cAAc,EAAE,CAClBF,KAAI,CAACvB,SAAS,CAACkB,IAAI,CAAC,kBAAkB,CAAC,CAACA,IAAI,CAAC,mBAAmB,CAAC,CAACC,WAAW,CAAC,QAAQ,CAAC,CACnFV,CAAC,CAACF,CAAC,CAACO,aAAa,CAAC,CAACY,gBAAgB,CAAC,UAAU,CAAC,CAAE,CAQpD,IAAK,IAAIC,GAAG,IAPZC,QAAQ,CAACC,cAAc,CAAGpB,CAAC,CAACqB,iBAAiB,CAAC,CAC7CC,OAAO,CAAEC,GAAG,CAACC,UAAU,CAAC,qBAAqB,CAAC,CAC9CC,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CACR,CACD,CAAC,CAAC,CACcb,KAAI,CAACrB,iBAAiB,CACrCqB,KAAI,CAACvB,SAAS,CACZkB,IAAI,CAAAmB,eAAAA,CAAAA,MAAA,CAAgBV,GAAG,CAAA,KAAA,CAAI,CAAC,CAC5BW,GAAG,CAACC,IAAI,CAACC,SAAS,CAACjB,KAAI,CAACrB,iBAAiB,CAACyB,GAAG,CAAC,CAACc,aAAa,EAAE,CAAC,CAAC,CAGnElB,KAAI,CAACmB,iBAAiB,EAAE,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAC3C,GAAI,CAAAA,CAAAA,GAAAA,QAAiB,CAAE,CACtB,IAAIC,QAAQ,CAAGtB,KAAI,CAACvB,SAAS,CAAC8C,iBAAiB,EAAE,CACjDd,GAAG,CACDe,QAAQ,CAAC,MAAM,CAAE,EAAE,CAAEF,QAAQ,CAAC,CAC9BF,IAAI,CAAC,SAAUvB,IAAI,CAAE,CACjBA,IAAI,CAAC4B,MAAM,EAAI5B,IAAI,CAAC4B,MAAM,CAACC,OAAO,EACrCC,wBAAwB,CAACC,WAAW,CAAC,CAAEC,IAAI,CAAEpB,GAAG,CAACC,UAAU,CAAC,iBAAiB,CAAE,CAAC,CAAC,CACjFoB,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGnC,IAAI,CAAC4B,MAAM,CAACQ,GAAG,GAEtC5B,QAAQ,CAACC,cAAc,CAACC,iBAAiB,CAAC,CAAE2B,IAAI,CAAE,MAAO,CAAC,CAAC,CAC3DzB,GAAG,CAAC0B,UAAU,CAAC,CAAEN,IAAI,CAAEpB,GAAG,CAACC,UAAU,CAAC,UAAU,CAAC,CAAE0B,IAAI,CAAE,OAAQ,CAAC,CAAC,EAErE,CAAC,CAAC,CACDC,IAAI,CAAC,UAAY,CACjBhC,QAAQ,CAACC,cAAc,CAACC,iBAAiB,CAAC,CAAE2B,IAAI,CAAE,MAAO,CAAC,CAAC,CAC3DzB,GAAG,CAAC0B,UAAU,CAAC,CAAEN,IAAI,CAAEpB,GAAG,CAACC,UAAU,CAAC,UAAU,CAAC,CAAE0B,IAAI,CAAE,OAAQ,CAAC,EACnE,CAAC,EACH,CAAC,KACA/B,QAAQ,CAACC,cAAc,CAACC,iBAAiB,CAAC,CAAE2B,IAAI,CAAE,MAAO,CAAC,EAE5D,CAAC,EACF,CAEA,OADAlD,CAAC,CAACsD,eAAe,EAAE,GAEpB,CAAC,EACF,CAAC;AAEH;AACA,KACEnB,iBAAiB,CAAE,SAAAA,iBAAA,EAAY,KAAAoB,MAAA,CAAA,IAAA,CACxBC,SAAS,CAAGtD,CAAC,CAACuD,QAAQ,EAAE,CAC1BnB,QAAQ,CAAG,IAAIoB,QAAQ,CAAC,IAAI,CAACjE,SAAS,CAAC,CAAC,CAAC,CAAC,CA+B9C,OA9BA6C,QAAQ,CAACqB,MAAM,CAAC,MAAM,CAAE,mBAAmB,CAAC,CAC5CC,YAAY,CAACC,OAAO,CAAC,CACpBC,KAAK,CAAA,CAAA,CAAO,CACZb,GAAG,CAAE,WAAW,CAChBG,IAAI,CAAE,MAAM,CACZvC,IAAI,CAAEyB,QAAQ,CACdyB,WAAW,CAAA,CAAA,CAAO,CAClBC,WAAW,CAAA,CAAA,CACZ,CAAC,CAAC,CACA5B,IAAI,CAAC,SAACvB,IAAI,CAAK,CACf,IAAIwB,QAAQ,CAAGxB,IAAI,CAAC4B,MAAM,CAC1B,IAAK,IAAIwB,CAAC,IAAI5B,QAAQ,CACjB,CAAA,CAAA,GAAAA,QAAQ,CAAC4B,CAAC,CAAC,CAACxB,MAAe,GAC9BhB,GAAG,CAAC0B,UAAU,CAAC,CACdN,IAAI,CAAER,QAAQ,CAAC4B,CAAC,CAAC,CAACzC,OAAO,CAAGa,QAAQ,CAAC4B,CAAC,CAAC,CAACzC,OAAO,CAAGC,GAAG,CAACC,UAAU,CAAC,UAAU,CAAC,CAC5E0B,IAAI,CAAE,OACP,CAAC,CAAC,CACE,IAAAf,EAAAA,QAAQ,CAAC4B,CAAC,CAAC,CAACC,UAAuB,EACtCX,MAAI,CAAC9D,SAAS,CAACkB,IAAI,CAAC,UAAS,CAAG0B,QAAQ,CAAC4B,CAAC,CAAC,CAACC,UAAU,CAAG,KAAI,CAAC,CAACC,KAAK,EAAE,CAIzEX,CAAAA,SAAS,CAACY,OAAO,CAAuB,CAAC,EAAvBvD,IAAI,CAAC4B,MAAM,CAAC4B,MAAW,EAC1C,CAAC,CAAC,CACDhB,IAAI,CAAC,SAACiB,UAAU,CAAEC,WAAW,CAAK,CAClC9C,GAAG,CAAC0B,UAAU,CAAC,CAAEN,IAAI,CAAEpB,GAAG,CAACC,UAAU,CAAC,UAAU,CAAC,CAAE0B,IAAI,CAAE,OAAQ,CAAC,CAAC,CACnE3B,GAAG,CAAC+C,QAAQ,CAACF,UAAU,CAAEC,WAAW,CAAC,CACrCf,SAAS,CAACY,OAAO,CAAA,CAAA,CAAM,EACxB,CAAC,CAAC,CAEIZ,SAAS,CAACiB,OAAO,EACzB,CAAC;AAEH;AACA;AACA;AACA,KACEC,wBAAwB,UAAAA,wBAACC,CAAAA,WAAW,CAAE,CAAAC,IAAAA,MAAA,CACrC,IAAA,CAAA,GAAI,CAACD,WAAW,CAEf,OADA,IAAI,CAAClF,SAAS,CAACkB,IAAI,CAAC,iCAAiC,CAAC,CAACkE,IAAI,CAAC,EAAE,CAAC,CAGhE,CAAA,CAAA,CAAA,IAAIC,QAAQ,CAAG5E,CAAC,CAACqB,iBAAiB,CAAC,CAClCI,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CACR,CACD,CAAC,CAAC,CACF+B,YAAY,CAACC,OAAO,CAAC,CACpBkB,MAAM,CAAEtD,GAAG,CAACuD,aAAa,EAAE,CAC3BC,MAAM,CAAExD,GAAG,CAACyD,mBAAmB,EAAE,CACjCC,IAAI,CAAE,YAAY,CAClBR,WAAW,CAAEA,WACd,CAAC,CAAC,CAACvC,IAAI,CAAC,SAACvB,IAAI,CAAK,CACjBiE,QAAQ,CAACvD,iBAAiB,CAAC,CAAE2B,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5C0B,MAAI,CAACnF,SAAS,CAACkB,IAAI,CAAC,iCAAiC,CAAC,CAACkE,IAAI,CAAChE,IAAI,CAAC,CACjE+D,MAAI,CAACQ,wBAAwB,GAC9B,CAAC,EACF,CAAC,CACDA,wBAAwB,CAAA,SAAAA,wBAAA,EAAG,CAAAC,IAAAA,MAAA,MACtBC,gBAAgB,CAAG,IAAI,CAACC,kBAAkB,CAACxD,GAAG,EAAE,CAChDuD,gBAAgB,EACnB,IAAI,CAAC7F,SAAS,CAACkB,IAAI,CAAC,uBAAuB,CAAC,CAAC6E,IAAI,CAAC,SAACC,CAAC,CAAEzF,CAAC,CAAK,CAC3D,IAAI0F,gBAAgB,CAAG,IAAIC,0BAA0B,CAACzF,CAAC,CAACF,CAAC,CAAC,CAAEsF,gBAAgB,CAAC,CAC7EI,gBAAgB,CAACE,cAAc,EAAE,CACjC,IAAIC,IAAI,CAAG3F,CAAC,CAACF,CAAC,CAAC,CAAC8F,OAAO,CAAC,qBAAqB,CAAC,CAACnF,IAAI,CAAC,qBAAqB,CAAC,CAACoF,IAAI,CAAC,MAAM,CAAC,CACvFV,MAAI,CAAC1F,iBAAiB,CAACkG,IAAI,CAAC,CAAGH,iBAChC,CAAC,EAEH,CAAC;AAEH;AACA,KACEM,0BAA0B,CAAAA,SAAAA,0BAAAA,EAAG,CAAA,IAAAC,MAAA,CAAA,IAAA,CAC5B,IAAI,CAACV,kBAAkB,CAAG,IAAI,CAAC9F,SAAS,CAACkB,IAAI,CAAC,wBAAsB,CAAC,CACrE,IAAI,CAACgE,WAAW,CAAG,IAAI,CAACY,kBAAkB,CAACxD,GAAG,EAAE,CAChD,IAAI,CAACwD,kBAAkB,CAACxF,EAAE,CAAC,QAAQ,CAAE,SAACC,CAAC,CAAK,CAC3C,IAAIkG,KAAK,CAAGhG,CAAC,CAACF,CAAC,CAACO,aAAa,CAAC,CAACwB,GAAG,EAAE,CAChCkE,MAAI,CAACtB,WAAW,GAAKuB,KAAK,EAAyB,IAAI,GAAzBD,MAAI,CAACtB,WAAoB,GAC1DsB,MAAI,CAACtB,WAAW,CAAGuB,KAAK,CACxBD,MAAI,CAACvB,wBAAwB,CAACuB,MAAI,CAACtB,WAAW,CAAC,EAEjD,CAAC,EACF,CAAC,CACDwB,oBAAoB,CAAA,SAAAA,oBAAA,EAAG,CAAAC,IAAAA,MAAA,CACtB,IAAA,CAAA,IAAI,CAAC3G,SAAS,CAACkB,IAAI,CAAC,mBAAiB,CAAC,CAACZ,EAAE,CAAC,QAAQ,CAAE,SAACC,CAAC,CAAK,CAC1D,IAAIqG,gBAAgB,CAAGD,MAAI,CAAC3G,SAAS,CAACkB,IAAI,CAAC,oCAAkC,CAAC,CAACmF,OAAO,CAAC,qBAAqB,CAAC,CAC7E,CAAC,EAA7B5F,CAAC,CAACF,CAAC,CAACO,aAAa,CAAC,CAACwB,GAAG,EAAO,CAChCsE,gBAAgB,CAACvF,QAAQ,CAAC,QAAQ,CAAC,CAEnCuF,gBAAgB,CAACzF,WAAW,CAAC,QAAQ,EAEvC,CAAC,EACF,CAAC,CACD0F,mBAAmB,CAAE,SAAAA,mBAAA,EAAY,CAChC,IAAI,CAAC7G,SAAS,CAAC0B,gBAAgB,CAACM,GAAG,CAAC8E,gCAAgC,CAAC,CACrE,IAAI,CAACxF,mBAAmB,EAAE,CAC1B,IAAI,CAACjB,wBAAwB,EAAE,CAC/B,IAAI,CAACkG,0BAA0B,EAAE,CACjC,IAAI,CAACZ,wBAAwB,GAC9B,CAAC,CACDQ,cAAc,CAAE,SAAAA,cAAAA,EAAY,CAC3B,IAAI,CAAChG,YAAY,CAACM,CAAC,CAAC,mBAAmB,CAAC,CAAC,CACzC,IAAI,CAACoG,mBAAmB,EAAE,CAC1B7E,GAAG,CAAC+E,sBAAsB,CAAC,IAAI,CAAC/G,SAAS,CAACkB,IAAI,CAAC,qBAAqB,CAAC,EACtE,CACD,CACD,CAAC;;"}