{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Settings_RecordNumbering_Index_Js',\n\t{},\n\t{\n\t\tform: false,\n\t\tclipBoardInstances: [],\n\t\tgetForm: function () {\n\t\t\tif (this.form == false) {\n\t\t\t\tthis.form = jQuery('#EditView');\n\t\t\t}\n\t\t\treturn this.form;\n\t\t},\n\n\t\t/**\n\t\t * Function to register change event for source module field\n\t\t */\n\t\tregisterOnChangeEventOfSourceModule() {\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tconst sequenceBtn = editViewForm.find('.js-adavanced-sequence');\n\t\t\teditViewForm.find('[name=\"sourceModule\"]').on('change', (e) => {\n\t\t\t\t$('.saveButton').removeAttr('disabled');\n\t\t\t\tsequenceBtn.addClass('d-none');\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'CustomRecordNumbering',\n\t\t\t\t\tsourceModule: $(e.currentTarget).val()\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\t$('.js-container').html(data);\n\t\t\t\t\t\tthis.form = false;\n\t\t\t\t\t\tthis.registerEvents();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to register event for saving module custom numbering\n\t\t */\n\t\tsaveModuleCustomNumbering() {\n\t\t\tif ($('.saveButton').attr('disabled')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tconst sourceModule = editViewForm.find('[name=\"sourceModule\"]').val();\n\t\t\tconst prefix = editViewForm.find('[name=\"prefix\"]');\n\t\t\tconst leadingZeros = editViewForm.find('[name=\"leading_zeros\"]').val();\n\t\t\tconst currentPrefix = $.trim(prefix.val());\n\t\t\tconst postfix = editViewForm.find('[name=\"postfix\"]');\n\t\t\tconst currentPostfix = jQuery.trim(postfix.val());\n\t\t\tconst sequenceNumberElement = editViewForm.find('[name=\"sequenceNumber\"]');\n\t\t\tconst sequenceNumber = sequenceNumberElement.val();\n\t\t\tconst oldSequenceNumber = sequenceNumberElement.data('oldSequenceNumber');\n\t\t\tif (\n\t\t\t\tsequenceNumber < oldSequenceNumber &&\n\t\t\t\tcurrentPrefix === prefix.data('oldPrefix') &&\n\t\t\t\tcurrentPostfix === postfix.data('oldPostfix')\n\t\t\t) {\n\t\t\t\tsequenceNumberElement.validationEngine(\n\t\t\t\t\t'showPrompt',\n\t\t\t\t\tapp.vtranslate('JS_SEQUENCE_NUMBER_MESSAGE') + ' ' + oldSequenceNumber,\n\t\t\t\t\t'error',\n\t\t\t\t\t'topLeft',\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\teditViewForm.find('.saveButton').attr('disabled', 'disabled');\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: 'saveModuleCustomNumberingData',\n\t\t\t\tsourceModule: sourceModule,\n\t\t\t\tprefix: currentPrefix,\n\t\t\t\tleading_zeros: leadingZeros,\n\t\t\t\tpostfix: currentPostfix,\n\t\t\t\tsequenceNumber: sequenceNumber,\n\t\t\t\treset_sequence: editViewForm.find('[name=\"reset_sequence\"]').val()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data.success === true) {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\tapp.vtranslate('JS_RECORD_NUMBERING_SAVED_SUCCESSFULLY_FOR') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\teditViewForm.find('option[value=\"' + sourceModule + '\"]').text()\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttext: currentPrefix + ' ' + app.vtranslate(data.error.message),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to handle update record with the given sequence number\n\t\t */\n\t\tregisterEventToUpdateRecordsWithSequenceNumber() {\n\t\t\tconst editViewForm = this.getForm();\n\t\t\t$('[name=\"updateRecordWithSequenceNumber\"]')\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', function () {\n\t\t\t\t\tconst sourceModule = editViewForm.find('[name=\"sourceModule\"]').val();\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\tmode: 'updateRecordsWithSequenceNumber',\n\t\t\t\t\t\tsourceModule: sourceModule\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tif (data.success === true) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_RECORD_NUMBERING_UPDATED_SUCCESSFULLY_FOR') +\n\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\teditViewForm.find('option[value=\"' + sourceModule + '\"]').text()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(data.error.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to register change event for prefix,postfix,reset_sequence and sequence number\n\t\t */\n\t\tregisterChangeEvent() {\n\t\t\tthis.getForm()\n\t\t\t\t.find('[name=\"prefix\"],[name=\"leading_zeros\"],[name=\"sequenceNumber\"],[name=\"postfix\"],[name=\"reset_sequence\"]')\n\t\t\t\t.on('change', this.checkPrefix.bind(this));\n\t\t},\n\n\t\tregisterCopyClipboard: function (editViewForm) {\n\t\t\tfor (let i in this.clipBoardInstances) {\n\t\t\t\tthis.clipBoardInstances[i].destroy();\n\t\t\t}\n\t\t\tthis.clipBoardInstances[0] = new ClipboardJS('#customVariableCopy', {\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\treturn '{{' + editViewForm.find('#customVariables').val() + '}}';\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.clipBoardInstances[1] = new ClipboardJS('#picklistVariableCopy', {\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\treturn '{{' + editViewForm.find('#picklistVariables').val() + '}}';\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.clipBoardInstances[2] = new ClipboardJS('#referenceVariableCopy', {\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\treturn editViewForm.find('#referenceVariables').val();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Check if reset sequence appears in prefix or postfix to prevent duplicate number generation\n\t\t * @returns {boolean}\n\t\t */\n\t\tcheckPrefix() {\n\t\t\tlet sequenceExists = false;\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tconst value = editViewForm.find('[name=\"reset_sequence\"]').val();\n\t\t\tconst prefix = editViewForm.find('[name=\"prefix\"]').val();\n\t\t\tconst postfix = editViewForm.find('[name=\"postfix\"]').val();\n\t\t\tconst saveBtn = editViewForm.find('.saveButton');\n\t\t\tswitch (value) {\n\t\t\t\tcase 'Y':\n\t\t\t\t\tif (\n\t\t\t\t\t\tprefix.indexOf('{{YY}}') === -1 &&\n\t\t\t\t\t\tprefix.indexOf('{{YYYY}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{YY}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{YYYY}}') === -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_RS_ADD_YEAR_VARIABLE')\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\t\tsequenceExists = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M':\n\t\t\t\t\tif (\n\t\t\t\t\t\tprefix.indexOf('{{MM}}') === -1 &&\n\t\t\t\t\t\tprefix.indexOf('{{M}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{MM}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{M}}') === -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_RS_ADD_MONTH_VARIABLE')\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\t\tsequenceExists = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'D':\n\t\t\t\t\tif (\n\t\t\t\t\t\tprefix.indexOf('{{DD}}') === -1 &&\n\t\t\t\t\t\tprefix.indexOf('{{D}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{DD}}') === -1 &&\n\t\t\t\t\t\tpostfix.indexOf('{{D}}') === -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_RS_ADD_DAY_VARIABLE')\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\t\tsequenceExists = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'X':\n\t\t\t\tdefault:\n\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\tsequenceExists = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (sequenceExists) {\n\t\t\t\tlet regex = new RegExp('{{picklist:([a-z0-9_]+)}}', 'g');\n\t\t\t\tlet regexResult = (postfix + prefix).match(regex);\n\t\t\t\tif (regexResult && regexResult.length > 1) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: app.vtranslate('JS_PICKLIST_TOO_MANY')\n\t\t\t\t\t});\n\t\t\t\t\tsequenceExists = false;\n\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t} else {\n\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\tsequenceExists = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.checkAdvancedSequenceBtn();\n\t\t\treturn sequenceExists;\n\t\t},\n\n\t\t/**\n\t\t * Function to enable button if prefix or postfix has picklist value\n\t\t */\n\t\tcheckAdvancedSequenceBtn: function () {\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tconst sequenceBtn = editViewForm.find('.js-adavanced-sequence');\n\t\t\tconst prefix = editViewForm.find('[name=\"prefix\"]').val();\n\t\t\tconst postfix = editViewForm.find('[name=\"postfix\"]').val();\n\t\t\tlet regex = new RegExp('{{picklist:([a-z0-9_]+)}}|\\\\$\\\\(relatedRecord', 'g');\n\t\t\tlet regexResult = (postfix + prefix).match(regex);\n\t\t\tif ((regexResult && regexResult.length > 1) || !regexResult) {\n\t\t\t\tsequenceBtn.addClass('d-none');\n\t\t\t} else {\n\t\t\t\tsequenceBtn.removeClass('d-none');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function to register event on button\n\t\t */\n\t\tregisterAdavancedSequenceEvent: function () {\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tconst sequenceBtn = editViewForm.find('.js-adavanced-sequence');\n\t\t\tsequenceBtn.on('click', function () {\n\t\t\t\tlet sourceModule = editViewForm.find('[name=\"sourceModule\"]').val();\n\t\t\t\tlet picklistName = '';\n\t\t\t\tlet prefix = editViewForm.find('[name=\"prefix\"]').val();\n\t\t\t\tlet postfix = editViewForm.find('[name=\"postfix\"]').val();\n\t\t\t\tlet regex = new RegExp('{{picklist:([a-z0-9_]+)}}', 'g');\n\t\t\t\tif (prefix.match(regex)) {\n\t\t\t\t\tpicklistName = prefix;\n\t\t\t\t} else if (postfix.match(regex)) {\n\t\t\t\t\tpicklistName = postfix;\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'Advanced',\n\t\t\t\t\tsourceModule: sourceModule,\n\t\t\t\t\tpicklist: picklistName\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, function (container) {\n\t\t\t\t\t\t\tlet modalForm = container.find('form');\n\t\t\t\t\t\t\tmodalForm.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t\t\t\tcontainer.on('click', '.js-modal__save', function (e) {\n\t\t\t\t\t\t\t\tif (modalForm.validationEngine('validate')) {\n\t\t\t\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\t\t\t\tmode: 'saveModuleCustomNumberingAdvanceData',\n\t\t\t\t\t\t\t\t\t\tsourceModule: sourceModule,\n\t\t\t\t\t\t\t\t\t\tsequenceNumber: modalForm.find('.js-picklist-sequence').serializeFormData()\n\t\t\t\t\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tif (data.success === true) {\n\t\t\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_RECORD_NUMBERING_SAVED_SUCCESSFULLY_FOR') +\n\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\teditViewForm.find('option[value=\"' + sourceModule + '\"]').text()\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tconst editViewForm = this.getForm();\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(editViewForm.find('select'));\n\t\t\tthis.registerOnChangeEventOfSourceModule();\n\t\t\tthis.registerEventToUpdateRecordsWithSequenceNumber();\n\t\t\tthis.registerChangeEvent();\n\t\t\tthis.checkAdvancedSequenceBtn();\n\t\t\tthis.registerAdavancedSequenceEvent();\n\t\t\tlet params = app.validationEngineOptions;\n\t\t\tparams.onValidationComplete = function (editViewForm, valid) {\n\t\t\t\tif (valid) {\n\t\t\t\t\tthisInstance.saveModuleCustomNumbering();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\teditViewForm.validationEngine('detach');\n\t\t\teditViewForm.validationEngine('attach', params);\n\t\t\tthis.registerCopyClipboard(editViewForm);\n\t\t}\n\t}\n);\n"],"names":["$","Class","form","clipBoardInstances","getForm","jQuery","registerOnChangeEventOfSourceModule","_this","editViewForm","sequenceBtn","find","on","e","removeAttr","addClass","AppConnector","request","module","app","getModuleName","parent","getParentModuleName","view","sourceModule","currentTarget","val","done","data","html","registerEvents","saveModuleCustomNumbering","attr","prefix","leadingZeros","currentPrefix","trim","postfix","currentPostfix","sequenceNumberElement","sequenceNumber","oldSequenceNumber","validationEngine","vtranslate","action","mode","leading_zeros","reset_sequence","success","Settings_Vtiger_Index_Js","showMessage","text","error","message","type","registerEventToUpdateRecordsWithSequenceNumber","off","registerChangeEvent","checkPrefix","bind","registerCopyClipboard","i","destroy","ClipboardJS","showNotify","sequenceExists","value","saveBtn","indexOf","Vtiger_Helper_Js","regexResult","match","length","checkAdvancedSequenceBtn","removeClass","registerAdavancedSequenceEvent","picklistName","regex","picklist","showModalWindow","container","modalForm","validationEngineOptionsForRecord","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","serializeFormData","hideModalWindow","thisInstance","App","Fields","Picklist","showSelect2ElementView","params","validationEngineOptions","onValidationComplete","valid"],"mappings":"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"}