{"version":3,"file":"EditModal.min.js","sources":["EditModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_Edit_Js(\n\t'Settings_Vtiger_EditModal_Js',\n\t{},\n\t{\n\t\tgetForm: function () {\n\t\t\tif (this.formElement == false) {\n\t\t\t\tthis.setForm(jQuery('#modalEditModal'));\n\t\t\t}\n\t\t\treturn this.formElement;\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tvar container = this.getForm();\n\t\t\tthis.registerBasicEvents(container);\n\t\t\tthis.registerSubmit();\n\t\t},\n\t\tregisterSubmit: function () {\n\t\t\tvar container = this.getForm();\n\t\t\tvar form = container.find('form');\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tapp.saveAjax('', formData, { record: container.find('[name=\"record\"]').val() }).done(function (data) {\n\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_SAVE_SUCCESS') });\n\t\t\t\t\t\t\tvar moduleClassName = 'Settings_' + app.getModuleName() + '_List_Js';\n\t\t\t\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\t\t\t\tmoduleClassName = 'Settings_Vtiger_List_Js';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar instance = new window[moduleClassName]();\n\t\t\t\t\t\t\tinstance.getListViewRecords().done(function () {\n\t\t\t\t\t\t\t\tinstance.updatePagination();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\njQuery(document).ready(function (e) {\n\tsetTimeout(function () {\n\t\tvar moduleClassName = 'Settings_' + app.getModuleName() + '_EditModal_Js';\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = 'Settings_Vtiger_EditModal_Js';\n\t\t}\n\t\tvar instance = new window[moduleClassName]();\n\t\tinstance.registerEvents();\n\t}, 200);\n});\n"],"names":["Vtiger_Edit_Js","getForm","formElement","setForm","jQuery","registerEvents","container","registerBasicEvents","registerSubmit","form","find","on","e","preventDefault","validationEngine","formData","serializeFormData","app","saveAjax","record","val","done","data","result","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","moduleClassName","getModuleName","window","instance","getListViewRecords","updatePagination","showNotify","type","hideModalWindow","document","ready","setTimeout"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,cAAc,CACb,8BAA8B,CAC9B,EAAE,CACF,CACCC,OAAO,CAAE,SAAAA,OAAA,EAAY,CAIpB,OAHI,CAAA,CAAA,EAAA,IAAI,CAACC,WAAoB,EAC5B,IAAI,CAACC,OAAO,CAACC,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAEjC,IAAI,CAACF,WACb,CAAC,CACDG,cAAc,CAAE,SAAAA,cAAA,EAAY,CAC3B,IAAIC,SAAS,CAAG,IAAI,CAACL,OAAO,EAAE,CAC9B,IAAI,CAACM,mBAAmB,CAACD,SAAS,CAAC,CACnC,IAAI,CAACE,cAAc,GACpB,CAAC,CACDA,cAAc,CAAE,SAAAA,cAAAA,EAAY,CAAA,IACvBF,SAAS,CAAG,IAAI,CAACL,OAAO,EAAE,CAC1BQ,IAAI,CAAGH,SAAS,CAACI,IAAI,CAAC,MAAM,CAAC,CACjCD,IAAI,CAACE,EAAE,CAAC,QAAQ,CAAE,SAAUC,CAAC,CAAE,CAE9B,GADAA,CAAC,CAACC,cAAc,EAAE,CACdJ,IAAI,CAACK,gBAAgB,CAAC,UAAU,CAAC,CAAE,CACtC,IAAIC,QAAQ,CAAGN,IAAI,CAACO,iBAAiB,EAAE,CACvCC,GAAG,CAACC,QAAQ,CAAC,EAAE,CAAEH,QAAQ,CAAE,CAAEI,MAAM,CAAEb,SAAS,CAACI,IAAI,CAAC,mBAAiB,CAAC,CAACU,GAAG,EAAG,CAAC,CAAC,CAACC,IAAI,CAAC,SAAUC,IAAI,CAAE,CACpG,GAAIA,IAAI,CAACC,MAAM,CAAE,CAChBC,wBAAwB,CAACC,WAAW,CAAC,CAAEC,IAAI,CAAET,GAAG,CAACU,UAAU,CAAC,iBAAiB,CAAE,CAAC,CAAC,CACjF,IAAIC,eAAe,CAAG,WAAW,CAAGX,GAAG,CAACY,aAAa,EAAE,CAAG,UAAU,CAC7B,WAAW,EAA9C,OAAOC,MAAM,CAACF,eAAe,CAAiB,GACjDA,eAAe,CAAG,yBAAyB,EAE5C,IAAIG,QAAQ,CAAG,IAAID,MAAM,CAACF,eAAe,CAAG,CAC5CG,QAAQ,CAACC,kBAAkB,EAAE,CAACX,IAAI,CAAC,UAAY,CAC9CU,QAAQ,CAACE,gBAAgB,GAC1B,CAAC,EACF,CAAC,KACAhB,GAAG,CAACiB,UAAU,CAAC,CACdR,IAAI,CAAET,GAAG,CAACU,UAAU,CAAC,UAAU,CAAC,CAChCQ,IAAI,CAAE,OACP,CAAC,CAAC,CAEHlB,GAAG,CAACmB,eAAe,GACpB,CAAC,EACF,CACD,CAAC,EACF,CACD,CACD,CAAC,CACDhC,MAAM,CAACiC,QAAQ,CAAC,CAACC,KAAK,CAAC,UAAa,CACnCC,UAAU,CAAC,UAAY,CACtB,IAAIX,eAAe,CAAG,WAAW,CAAGX,GAAG,CAACY,aAAa,EAAE,CAAG,eAAe,CAClC,WAAW,EAA9C,OAAOC,MAAM,CAACF,eAAe,CAAiB,GACjDA,eAAe,CAAG,8BAA8B,EAEjD,IAAIG,QAAQ,CAAG,IAAID,MAAM,CAACF,eAAe,CAAG,CAC5CG,QAAQ,CAAC1B,cAAc,GACxB,CAAC,CAAE,GAAG,EACP,CAAC,CAAC;;"}