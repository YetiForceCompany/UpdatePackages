{"version":3,"file":"Configuration.min.js","sources":["Configuration.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Notifications_Configuration_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\t/**\n\t\t * Function to register the change event for layout editor modules list\n\t\t */\n\t\tregisterModulesChangeEvent: function (container) {\n\t\t\tvar thisInstance = this;\n\t\t\tcontainer.find('#supportedModule').on('change', function (e) {\n\t\t\t\tvar progress = thisInstance.progress();\n\t\t\t\tvar params = {};\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\tparams['view'] = app.getViewName();\n\t\t\t\tparams['srcModule'] = jQuery(e.currentTarget).val();\n\t\t\t\tAppConnector.requestPjax(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tcontainer.html(data);\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(container);\n\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tprogress: function () {\n\t\t\treturn jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterButtonEvents: function (container) {\n\t\t\tvar thisInstance = this;\n\t\t\tcontainer.find('.wrapperTrash, .wrapperLock').on('click', '.fas', function (e) {\n\t\t\t\tvar progress = thisInstance.progress();\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar mode = element.data('mode');\n\t\t\t\tvar dataElement = element.closest('tr');\n\t\t\t\tvar params = {\n\t\t\t\t\tmembers: dataElement.data('value'),\n\t\t\t\t\tsrcModule: container.find('#supportedModule').val()\n\t\t\t\t};\n\t\t\t\tif (mode === 'lock') {\n\t\t\t\t\tparams.lock = dataElement.data('lock') === 0 ? 1 : 0;\n\t\t\t\t}\n\t\t\t\tapp.saveAjax(mode, null, params).done(function (data) {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthisInstance.refreshView();\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.addUser, .wrapperExceptions').on('click', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tvar reload = true;\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar url =\n\t\t\t\t\t'index.php?module=' +\n\t\t\t\t\tapp.getModuleName() +\n\t\t\t\t\t'&parent=' +\n\t\t\t\t\tapp.getParentModuleName() +\n\t\t\t\t\t'&srcModule=' +\n\t\t\t\t\tcontainer.find('#supportedModule').val() +\n\t\t\t\t\t'&view=Members';\n\t\t\t\tif (element.hasClass('wrapperExceptions')) {\n\t\t\t\t\turl += '&mode=' + element.data('mode') + '&member=' + element.closest('tr').data('value');\n\t\t\t\t\treload = false;\n\t\t\t\t}\n\t\t\t\tapp.showModalWindow(null, url, function (data) {\n\t\t\t\t\tvar form = data.find('form');\n\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tvar progress = thisInstance.progress();\n\t\t\t\t\t\tvar params = form.serializeFormData();\n\t\t\t\t\t\tapp.saveAjax(params.mode, null, params).done(function (data) {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tif (reload) {\n\t\t\t\t\t\t\t\tthisInstance.refreshView();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\trefreshView: function () {\n\t\t\tthis.getContainer().find('#supportedModule').trigger('change');\n\t\t},\n\t\tgetContainer: function () {\n\t\t\tif (this.container === false) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tvar container = this.getContainer();\n\t\t\tthis.registerModulesChangeEvent(container);\n\t\t\tapp.registerDataTables(container.find('.dataTable'));\n\t\t\tthis.registerButtonEvents(container);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","registerModulesChangeEvent","thisInstance","find","on","e","progress","params","module","app","getModuleName","parent","getParentModuleName","view","getViewName","srcModule","currentTarget","val","AppConnector","requestPjax","done","data","progressIndicator","mode","html","App","Fields","Picklist","changeSelectElementView","registerEvents","fail","textStatus","errorThrown","errorLog","position","blockInfo","enabled","registerButtonEvents","element","dataElement","closest","members","lock","saveAjax","refreshView","stopPropagation","preventDefault","reload","url","hasClass","showModalWindow","form","serializeFormData","hideModalWindow","getContainer","trigger","registerDataTables"],"mappings":"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"}