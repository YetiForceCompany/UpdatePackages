{"version":3,"file":"ListPreview.min.js","sources":["ListPreview.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_ListPreview_Js(\n\t'Accounts_ListPreview_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Sets account hierarchy\n\t\t */\n\t\tregisterHierarchyRecordCount: function () {\n\t\t\tconst iframe = $('.listPreviewframe');\n\t\t\tiframe.on('load', function () {\n\t\t\t\tvar contents = iframe.contents();\n\t\t\t\tvar hierarchyButton = contents.find('.detailViewTitle .hierarchy');\n\t\t\t\tif (hierarchyButton) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\trecord: contents.find('#recordId').val(),\n\t\t\t\t\t\tmode: 'getHierarchyCount'\n\t\t\t\t\t}).done(function (response) {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tcontents.find('.detailViewTitle .hierarchy .badge').html(response.result);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Executes event listener.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t */\n\t\tpostLoadListViewRecordsEvents: function (container) {\n\t\t\tthis._super(container);\n\t\t\tthis.registerHierarchyRecordCount();\n\t\t},\n\t\t/**\n\t\t * Registers ListPreview's events.\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.registerHierarchyRecordCount();\n\t\t}\n\t}\n);\n"],"names":["Vtiger_ListPreview_Js","registerHierarchyRecordCount","iframe","$","on","contents","hierarchyButton","find","AppConnector","request","module","app","getModuleName","action","record","val","mode","done","response","success","html","result","postLoadListViewRecordsEvents","container","_super","registerEvents"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,qBAAqB,CACpB,yBAAyB,CACzB,EAAE,CACF;AAED;AACA,KACEC,4BAA4B,CAAE,SAAAA,4BAAAA,EAAY,CACzC,IAAMC,MAAM,CAAGC,CAAC,CAAC,mBAAmB,CAAC,CACrCD,MAAM,CAACE,EAAE,CAAC,MAAM,CAAE,UAAY,CAAA,IACzBC,QAAQ,CAAGH,MAAM,CAACG,QAAQ,EAAE,CAC5BC,eAAe,CAAGD,QAAQ,CAACE,IAAI,CAAC,6BAA6B,CAAC,CAC9DD,eAAe,EAClBE,YAAY,CAACC,OAAO,CAAC,CACpBC,MAAM,CAAEC,GAAG,CAACC,aAAa,EAAE,CAC3BC,MAAM,CAAE,cAAc,CACtBC,MAAM,CAAET,QAAQ,CAACE,IAAI,CAAC,WAAW,CAAC,CAACQ,GAAG,EAAE,CACxCC,IAAI,CAAE,mBACP,CAAC,CAAC,CAACC,IAAI,CAAC,SAAUC,QAAQ,CAAE,CACvBA,QAAQ,CAACC,OAAO,EACnBd,QAAQ,CAACE,IAAI,CAAC,oCAAoC,CAAC,CAACa,IAAI,CAACF,QAAQ,CAACG,MAAM,EAE1E,CAAC,EAEH,CAAC,EACF,CAAC;AAEH;AACA;AACA,KACEC,6BAA6B,CAAE,SAAAA,6BAAAA,CAAUC,SAAS,CAAE,CACnD,IAAI,CAACC,MAAM,CAACD,SAAS,CAAC,CACtB,IAAI,CAACtB,4BAA4B,GAClC,CAAC;AAEH;AACA,KACEwB,cAAc,CAAE,SAAAA,gBAAY,CAC3B,IAAI,CAACD,MAAM,EAAE,CACb,IAAI,CAACvB,4BAA4B,GAClC,CACD,CACD,CAAC;;"}