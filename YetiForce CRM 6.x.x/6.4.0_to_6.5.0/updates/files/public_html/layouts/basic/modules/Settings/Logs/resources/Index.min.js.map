{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Logs_Index_Js', {\n\tgetWarningsList: function () {\n\t\tconst thisInstance = this;\n\t\tconst container = $('.js-warnings-content');\n\t\tconst progressIndicator = $.progressIndicator({\n\t\t\tmessage: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\tblockInfo: { enabled: true }\n\t\t});\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName(),\n\t\t\tmode: 'getWarningsList',\n\t\t\tactive: $('.js-warnings-index-page .js-switch--warnings').first().is(':checked'),\n\t\t\tfolder: thisInstance.getSelectedFolders()\n\t\t})\n\t\t\t.done((data) => {\n\t\t\t\tcontainer.html(data);\n\t\t\t\tthisInstance.registerWarningsList(container);\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t},\n\tregisterWarningsList: function (container) {\n\t\tcontainer.find('table').dataTable({\n\t\t\torder: [\n\t\t\t\t[2, 'desc'],\n\t\t\t\t[1, 'asc']\n\t\t\t],\n\t\t\tlengthMenu: [20, 40, 60, 80, 100],\n\t\t\tpageLength: 20\n\t\t});\n\t\tcontainer.find('.js-show-description').on('click', (e) => {\n\t\t\tapp.showModalWindow($(e.currentTarget).closest('td').find('.js-show-description-content').html());\n\t\t});\n\t\tcontainer.find('.setIgnore').on('click', (e) => {\n\t\t\tcontainer.find('.js-popover-tooltip').popover('hide');\n\t\t\tconst data = $(e.currentTarget).closest('tr').data();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SystemWarnings',\n\t\t\t\tmode: 'update',\n\t\t\t\tid: data.id,\n\t\t\t\tparams: data.status\n\t\t\t}).done(() => {\n\t\t\t\tthis.getWarningsList(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterWarningsFolders: function (container) {\n\t\tconst thisInstance = this;\n\t\tlet data = [];\n\t\tconst treeValues = container.find('.js-tree-values').val();\n\t\tif (treeValues) {\n\t\t\tdata = JSON.parse(treeValues);\n\t\t}\n\t\tcontainer\n\t\t\t.find('#jstreeContainer')\n\t\t\t.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\ticons: false\n\t\t\t\t\t},\n\t\t\t\t\tcheck_callback: true\n\t\t\t\t},\n\t\t\t\tplugins: ['checkbox']\n\t\t\t})\n\t\t\t.on('loaded.jstree', function (event, data) {\n\t\t\t\t$(this).jstree('open_all');\n\t\t\t})\n\t\t\t.on('changed.jstree', function (e, data) {\n\t\t\t\tif (data.action != 'model') {\n\t\t\t\t\tthisInstance.getWarningsList();\n\t\t\t\t}\n\t\t\t});\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-switch--warnings').on('change', () => {\n\t\t\tthisInstance.getWarningsList();\n\t\t});\n\t},\n\tregisterEventsLoadContent: function (thisInstance, mode, container) {\n\t\tthisInstance.registerWarningsFolders(container);\n\t},\n\treloadContent: function () {\n\t\t$('.js-tabs li .active').trigger('click');\n\t},\n\tregisterTabEvents: function () {\n\t\tvar thisInstance = this;\n\t\t$('.js-tabs li').on('click', function () {\n\t\t\tthisInstance.loadContent($(this).data('mode'), false, $(this).data('params'));\n\t\t});\n\t},\n\tgetSelectedFolders: function () {\n\t\tvar selected = [];\n\t\t$.each($('#jstreeContainer').jstree('get_selected', true), function (index, value) {\n\t\t\tselected.push(value.original.subPath);\n\t\t});\n\t\treturn selected;\n\t},\n\tloadContent: function (mode, page, modeParams) {\n\t\tconst thisInstance = this;\n\t\tlet container = $('.indexContainer');\n\t\tlet params = {\n\t\t\tmode: mode,\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName()\n\t\t};\n\t\tif (page) {\n\t\t\tparams.page = page;\n\t\t}\n\t\tif (modeParams) {\n\t\t\tparams.params = modeParams;\n\t\t}\n\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true,\n\t\t\t\telementToBlock: container\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\tcontainer.html(data);\n\t\t\tthisInstance.registerEventsLoadContent(thisInstance, mode, container);\n\t\t});\n\t},\n\t/**\n\t * Register events\n\t */\n\tregisterEvents: function () {\n\t\tthis.registerTabEvents();\n\t\tthis.reloadContent();\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","getWarningsList","thisInstance","container","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","AppConnector","request","module","getModuleName","parent","getParentModuleName","view","getViewName","mode","active","first","is","folder","getSelectedFolders","done","data","html","registerWarningsList","fail","_this","find","dataTable","order","lengthMenu","pageLength","on","e","showModalWindow","currentTarget","closest","popover","action","id","params","status","registerWarningsFolders","treeValues","val","JSON","parse","jstree","core","themes","name","responsive","icons","check_callback","plugins","extend","fn","defaults","language","sLengthMenu","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","registerEventsLoadContent","reloadContent","trigger","registerTabEvents","loadContent","selected","each","index","value","push","original","subPath","page","modeParams","progressIndicatorElement","position","elementToBlock","registerEvents"],"mappings":"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"}