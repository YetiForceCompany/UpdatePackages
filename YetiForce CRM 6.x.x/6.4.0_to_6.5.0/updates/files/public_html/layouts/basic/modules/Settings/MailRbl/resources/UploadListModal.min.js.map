{"version":3,"file":"UploadListModal.min.js","sources":["UploadListModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_UploadListModal_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Modal container\n\t\t */\n\t\tcontainer: false,\n\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function (modalContainer) {\n\t\t\tlet form = modalContainer.find('.js-import-list');\n\t\t\tthis.registerUploadButton(form);\n\t\t},\n\n\t\t/**\n\t\t * Register button send form\n\t\t * @param {jQuery} form\n\t\t */\n\t\tregisterUploadButton: function (form) {\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\t\tlet formData = new FormData(form[0]),\n\t\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnotifyType = '';\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\turl: 'index.php',\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: formData,\n\t\t\t\t\t\tprocessData: false,\n\t\t\t\t\t\tcontentType: false\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (true === data.result.success) {\n\t\t\t\t\t\t\tnotifyType = 'success';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotifyType = 'error';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate(data.result.message),\n\t\t\t\t\t\t\ttype: notifyType\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","registerEvents","modalContainer","form","find","registerUploadButton","on","e","preventDefault","validationEngine","formData","FormData","progressIndicatorElement","jQuery","progressIndicator","blockInfo","enabled","notifyType","AppConnector","request","url","type","data","processData","contentType","done","mode","result","success","app","showNotify","text","vtranslate","message","hideModalWindow"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,CAAC,CAACC,KAAK,CACN,yBAAyB,CACzB,EAAE,CACF;AAED;AACA,KACEC,SAAS,GAAO;AAGlB;AACA;AACA,KACEC,cAAc,CAAE,SAAAA,cAAUC,CAAAA,cAAc,CAAE,CACzC,IAAIC,IAAI,CAAGD,cAAc,CAACE,IAAI,CAAC,iBAAiB,CAAC,CACjD,IAAI,CAACC,oBAAoB,CAACF,IAAI,EAC/B,CAAC;AAGH;AACA;AACA,KACEE,oBAAoB,CAAE,SAAAA,oBAAUF,CAAAA,IAAI,CAAE,CACrCA,IAAI,CAACG,EAAE,CAAC,QAAQ,CAAE,SAAUC,CAAC,CAAE,CAE9B,GADAA,CAAC,CAACC,cAAc,EAAE,CACd,CAAA,CAAA,GAAAL,IAAI,CAACM,gBAAgB,CAAC,UAAU,CAAU,CAAE,CAC/C,IAAIC,QAAQ,CAAG,IAAIC,QAAQ,CAACR,IAAI,CAAC,CAAC,CAAC,CAAC,CACnCS,wBAAwB,CAAGC,MAAM,CAACC,iBAAiB,CAAC,CACnDC,SAAS,CAAE,CAAEC,OAAO,CAAO,CAAA,CAAA,CAC5B,CAAC,CAAC,CACFC,UAAU,CAAG,EAAE,CAChBC,YAAY,CAACC,OAAO,CAAC,CACpBC,GAAG,CAAE,WAAW,CAChBC,IAAI,CAAE,MAAM,CACZC,IAAI,CAAEZ,QAAQ,CACda,WAAW,CAAA,CAAA,CAAO,CAClBC,WAAW,CAAA,CAAA,CACZ,CAAC,CAAC,CAACC,IAAI,CAAC,SAAUH,IAAI,CAAE,CACvBV,wBAAwB,CAACE,iBAAiB,CAAC,CAAEY,IAAI,CAAE,MAAO,CAAC,CAAC,CAE3DT,UAAU,CADP,KAASK,IAAI,CAACK,MAAM,CAACC,OAAO,CAClB,SAAS,CAET,OAAO,CAErBC,GAAG,CAACC,UAAU,CAAC,CACdC,IAAI,CAAEF,GAAG,CAACG,UAAU,CAACV,IAAI,CAACK,MAAM,CAACM,OAAO,CAAC,CACzCZ,IAAI,CAAEJ,UACP,CAAC,CAAC,CACFY,GAAG,CAACK,eAAe,GACpB,CAAC,EACF,CACD,CAAC,EACF,CACD,CACD,CAAC;;"}