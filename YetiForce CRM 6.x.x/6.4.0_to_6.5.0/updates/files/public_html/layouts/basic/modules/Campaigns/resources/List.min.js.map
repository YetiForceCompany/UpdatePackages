{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_List_Js(\n\t'Campaigns_List_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to mark selected records\n\t\t */\n\t\tmarkSelectedRecords: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar selectedIds = this.readSelectedIds();\n\t\t\tif (selectedIds != '') {\n\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\tjQuery(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t});\n\t\t\t\t\tjQuery('#deSelectAllMsgDiv').show();\n\t\t\t\t\tvar excludedIds = jQuery('[name=\"excludedIds\"]').data('excludedIds');\n\t\t\t\t\tif (excludedIds != '') {\n\t\t\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t\tif (jQuery.inArray(jQuery(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\t\tjQuery(element).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\tif (jQuery.inArray(jQuery(element).val(), selectedIds) != -1) {\n\t\t\t\t\t\t\tjQuery(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.checkSelectAll();\n\t\t\t}\n\t\t},\n\n\t\tgetRecordsCount: function () {\n\t\t\tif (app.getViewName() != 'Detail') {\n\t\t\t\treturn this._super();\n\t\t\t}\n\t\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar recordCountVal = jQuery('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tvar count = '';\n\t\t\t\tvar cvId = jQuery('#customFilter').val();\n\t\t\t\tvar module = app.getModuleName();\n\t\t\t\tvar parent = app.getParentModuleName();\n\t\t\t\tvar relatedModuleName = jQuery('[name=\"relatedModuleName\"]').val();\n\t\t\t\tvar recordId = app.getRecordId();\n\t\t\t\tlet selectedTab = detailInstance.getSelectedTab();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: module,\n\t\t\t\t\tparent: parent,\n\t\t\t\t\taction: 'DetailAjax',\n\t\t\t\t\tviewname: cvId,\n\t\t\t\t\tmode: 'getRecordsCount',\n\t\t\t\t\trelatedModule: relatedModuleName,\n\t\t\t\t\trecord: recordId,\n\t\t\t\t\ttab_label: selectedTab.data('labelKey'),\n\t\t\t\t\trelationId: selectedTab.data('relationId')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tjQuery('#recordsCount').val(data['result']['count']);\n\t\t\t\t\tcount = data['result']['count'];\n\t\t\t\t\taDeferred.resolve(count);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tif (app.getViewName() != 'Detail') {\n\t\t\t\tthis._super();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t}\n\t}\n);\n"],"names":["Vtiger_List_Js","markSelectedRecords","thisInstance","selectedIds","readSelectedIds","jQuery","each","prop","closest","addClass","show","excludedIds","data","index","element","inArray","val","removeClass","checkSelectAll","getRecordsCount","app","getViewName","_super","detailInstance","Vtiger_Detail_Js","getInstance","aDeferred","Deferred","recordCountVal","resolve","count","cvId","module","getModuleName","parent","getParentModuleName","relatedModuleName","recordId","getRecordId","selectedTab","getSelectedTab","AppConnector","request","action","viewname","mode","relatedModule","record","tab_label","relationId","done","result","promise","registerEvents","registerMainCheckBoxClickEvent","registerCheckBoxClickEvent","registerSelectAllClickEvent","registerDeselectAllClickEvent"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFACA,YAAY,CAEZA,cAAc,CACb,mBAAmB,CACnB,EAAE,CACF;AAED;AACA,KACEC,mBAAmB,CAAE,SAAAA,mBAAAA,EAAY,CAC5B,IAAAC,YAAY,CAAG,IAAI,CACnBC,WAAW,CAAG,IAAI,CAACC,eAAe,EAAE,CACxC,GAAmB,EAAE,EAAjBD,WAAiB,CAAE,CACtB,GAAmB,KAAK,EAApBA,WAAoB,CAAE,CACzBE,MAAM,CAAC,0BAA0B,CAAC,CAACC,IAAI,CAAC,UAA0B,CACjED,MAAM,CAAC,IAAI,CAAC,CAACE,IAAI,CAAC,SAAS,CAAA,CAAA,CAAM,CAAC,CAACC,OAAO,CAAC,IAAI,CAAC,CAACC,QAAQ,CAAC,0BAA0B,EACrF,CAAC,CAAC,CACFJ,MAAM,CAAC,oBAAoB,CAAC,CAACK,IAAI,EAAE,CACnC,IAAIC,WAAW,CAAGN,MAAM,CAAC,wBAAsB,CAAC,CAACO,IAAI,CAAC,aAAa,CAAC,CACjD,EAAE,EAAjBD,WAAiB,GACpBN,MAAM,CAAC,8BAA8B,CAAC,CAACE,IAAI,CAAC,SAAS,CAAO,CAAA,CAAA,CAAC,CAC7DF,MAAM,CAAC,0BAA0B,CAAC,CAACC,IAAI,CAAC,SAAUO,KAAK,CAAEC,OAAO,CAAE,CACP,CAAC,CAAC,EAAxDT,MAAM,CAACU,OAAO,CAACV,MAAM,CAACS,OAAO,CAAC,CAACE,GAAG,EAAE,CAAEL,WAAW,CAAO,EAC3DN,MAAM,CAACS,OAAO,CAAC,CAACP,IAAI,CAAC,SAAS,CAAA,CAAA,CAAO,CAAC,CAACC,OAAO,CAAC,IAAI,CAAC,CAACS,WAAW,CAAC,0BAA0B,EAE7F,CAAC,CAAC,EAEJ,CAAC,KACAZ,MAAM,CAAC,0BAA0B,CAAC,CAACC,IAAI,CAAC,SAAUO,KAAK,CAAEC,OAAO,CAAE,CACP,CAAC,CAAC,EAAxDT,MAAM,CAACU,OAAO,CAACV,MAAM,CAACS,OAAO,CAAC,CAACE,GAAG,EAAE,CAAEb,WAAW,CAAO,EAC3DE,MAAM,CAAC,IAAI,CAAC,CAACE,IAAI,CAAC,SAAS,CAAA,CAAA,CAAM,CAAC,CAACC,OAAO,CAAC,IAAI,CAAC,CAACC,QAAQ,CAAC,0BAA0B,EAEtF,CAAC,CAAC,CAEHP,YAAY,CAACgB,cAAc,GAC5B,CACD,CAAC,CAEDC,eAAe,CAAE,SAAAA,eAAAA,EAAY,CAC5B,GAAyB,QAAQ,EAA7BC,GAAG,CAACC,WAAW,EAAc,CAChC,OAAW,IAAA,CAACC,MAAM,EAAE,CACpB,IACGC,cAAc,CAAGC,gBAAgB,CAACC,WAAW,EAAE,CAC/CC,SAAS,CAAGrB,MAAM,CAACsB,QAAQ,EAAE,CAC7BC,cAAc,CAAGvB,MAAM,CAAC,eAAe,CAAC,CAACW,GAAG,EAAE,CAClD,GAAsB,EAAE,EAApBY,cAAoB,CACvBF,SAAS,CAACG,OAAO,CAACD,cAAc,CAAC,MAC3B,CACF,IAAAE,KAAK,CAAG,EAAE,CACVC,IAAI,CAAG1B,MAAM,CAAC,eAAe,CAAC,CAACW,GAAG,EAAE,CACpCgB,MAAM,CAAGZ,GAAG,CAACa,aAAa,EAAE,CAC5BC,MAAM,CAAGd,GAAG,CAACe,mBAAmB,EAAE,CAClCC,iBAAiB,CAAG/B,MAAM,CAAC,8BAA4B,CAAC,CAACW,GAAG,EAAE,CAC9DqB,QAAQ,CAAGjB,GAAG,CAACkB,WAAW,EAAE,CAC5BC,WAAW,CAAGhB,cAAc,CAACiB,cAAc,EAAE,CACjDC,YAAY,CAACC,OAAO,CAAC,CACpBV,MAAM,CAAEA,MAAM,CACdE,MAAM,CAAEA,MAAM,CACdS,MAAM,CAAE,YAAY,CACpBC,QAAQ,CAAEb,IAAI,CACdc,IAAI,CAAE,iBAAiB,CACvBC,aAAa,CAAEV,iBAAiB,CAChCW,MAAM,CAAEV,QAAQ,CAChBW,SAAS,CAAET,WAAW,CAAC3B,IAAI,CAAC,UAAU,CAAC,CACvCqC,UAAU,CAAEV,WAAW,CAAC3B,IAAI,CAAC,YAAY,CAC1C,CAAC,CAAC,CAACsC,IAAI,CAAC,SAAUtC,IAAI,CAAE,CACvBP,MAAM,CAAC,eAAe,CAAC,CAACW,GAAG,CAACJ,IAAI,CAAAuC,MAAU,CAAArB,KAAS,CAAC,CACpDA,KAAK,CAAGlB,IAAI,CAAAuC,MAAU,CAAArB,KAAS,CAC/BJ,SAAS,CAACG,OAAO,CAACC,KAAK,EACxB,CAAC,EACF,CAEA,OAAOJ,SAAS,CAAC0B,OAAO,EACzB,CAAC;AAGH;AACA,KACEC,cAAc,CAAE,SAAAA,cAAAA,EAAY,CACF,OAAA,QAAQ,EAA7BjC,GAAG,CAACC,WAAW,EAAc,MAIjC,IAAI,CAACiC,8BAA8B,EAAE,CACrC,IAAI,CAACC,0BAA0B,EAAE,CACjC,IAAI,CAACC,2BAA2B,EAAE,CAClC,IAAI,CAACC,6BAA6B,EAAE,OAN/B,IAAA,CAACnC,MAAM,EAOb,CACD,CACD,CAAC;;"}