{"version":3,"file":"Config.min.js","sources":["Config.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Settings_Inventory_Config_Js',\n\t{},\n\t{\n\t\tregisterChangeVal: function ($container) {\n\t\t\t$container.on('change', 'select', (e) => {\n\t\t\t\tlet $target = $(e.currentTarget);\n\t\t\t\tlet isMultiple = $target.attr('multiple');\n\t\t\t\tif ($target.validationEngine('validate')) {\n\t\t\t\t\tlet prevValue = $target.data('prevvalue').toString();\n\t\t\t\t\tprevValue = isMultiple ? prevValue.split() : prevValue;\n\t\t\t\t\t$target.val(prevValue);\n\t\t\t\t\t$target.change();\n\t\t\t\t} else {\n\t\t\t\t\tlet value = $target.val();\n\t\t\t\t\tvalue = isMultiple ? value.join() : value.toString();\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tparam: {\n\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\tparam: $target.attr('name')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tview: app.getViewName()\n\t\t\t\t\t};\n\t\t\t\t\tapp.saveAjax('saveConfig', params).done((data) => {\n\t\t\t\t\t\t$target.data('prevvalue', value);\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tregisterValidationsFields: function ($container) {\n\t\t\tlet params = app.validationEngineOptionsForRecord;\n\t\t\t$container.validationEngine(params);\n\t\t},\n\n\t\tregisterEvents: function () {\n\t\t\tlet $container = $('#configForm');\n\t\t\tthis.registerValidationsFields($container);\n\t\t\tthis.registerChangeVal($container);\n\t\t}\n\t}\n);\n\n$(document).ready((e) => {\n\tlet instance = new Settings_Inventory_Config_Js();\n\tinstance.registerEvents();\n});\n"],"names":["$","Class","registerChangeVal","$container","on","e","$target","currentTarget","isMultiple","attr","validationEngine","prevValue","data","toString","split","val","change","value","join","params","param","view","app","getViewName","saveAjax","done","Settings_Vtiger_Index_Js","showMessage","type","text","vtranslate","registerValidationsFields","validationEngineOptionsForRecord","registerEvents","document","ready","instance","Settings_Inventory_Config_Js"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,CAAC,CAACC,KAAK,CACN,8BAA8B,CAC9B,EAAE,CACF,CACCC,iBAAiB,CAAE,SAAAA,iBAAAA,CAAUC,UAAU,CAAE,CACxCA,UAAU,CAACC,EAAE,CAAC,QAAQ,CAAE,QAAQ,CAAE,SAACC,CAAC,CAAK,CAAA,IACpCC,OAAO,CAAGN,CAAC,CAACK,CAAC,CAACE,aAAa,CAAC,CAC5BC,UAAU,CAAGF,OAAO,CAACG,IAAI,CAAC,UAAU,CAAC,CACzC,GAAIH,OAAO,CAACI,gBAAgB,CAAC,UAAU,CAAC,CAAE,CACzC,IAAIC,SAAS,CAAGL,OAAO,CAACM,IAAI,CAAC,WAAW,CAAC,CAACC,QAAQ,EAAE,CACpDF,SAAS,CAAGH,UAAU,CAAGG,SAAS,CAACG,KAAK,EAAE,CAAGH,SAAS,CACtDL,OAAO,CAACS,GAAG,CAACJ,SAAS,CAAC,CACtBL,OAAO,CAACU,MAAM,GACf,CAAC,KAAM,CACN,IAAIC,KAAK,CAAGX,OAAO,CAACS,GAAG,EAAE,CACzBE,KAAK,CAAGT,UAAU,CAAGS,KAAK,CAACC,IAAI,EAAE,CAAGD,KAAK,CAACJ,QAAQ,EAAE,CACpD,IAAIM,MAAM,CAAG,CACZC,KAAK,CAAE,CACNH,KAAK,CAAEA,KAAK,CACZG,KAAK,CAAEd,OAAO,CAACG,IAAI,CAAC,MAAM,CAC3B,CAAC,CACDY,IAAI,CAAEC,GAAG,CAACC,WAAW,EACtB,CAAC,CACDD,GAAG,CAACE,QAAQ,CAAC,YAAY,CAAEL,MAAM,CAAC,CAACM,IAAI,CAAC,UAAU,CACjDnB,OAAO,CAACM,IAAI,CAAC,WAAW,CAAEK,KAAK,CAAC,CAChCS,wBAAwB,CAACC,WAAW,CAAC,CACpCC,IAAI,CAAE,SAAS,CACfC,IAAI,CAAEP,GAAG,CAACQ,UAAU,CAAC,iBAAiB,CACvC,CAAC,EACF,CAAC,EACF,CACD,CAAC,EACF,CAAC,CAEDC,yBAAyB,CAAE,SAAAA,yBAAU5B,CAAAA,UAAU,CAAE,CAChD,IAAIgB,MAAM,CAAGG,GAAG,CAACU,gCAAgC,CACjD7B,UAAU,CAACO,gBAAgB,CAACS,MAAM,EACnC,CAAC,CAEDc,cAAc,CAAE,SAAAA,cAAA,EAAY,CAC3B,IAAI9B,UAAU,CAAGH,CAAC,CAAC,aAAa,CAAC,CACjC,IAAI,CAAC+B,yBAAyB,CAAC5B,UAAU,CAAC,CAC1C,IAAI,CAACD,iBAAiB,CAACC,UAAU,EAClC,CACD,CACD,CAAC,CAEDH,CAAC,CAACkC,QAAQ,CAAC,CAACC,KAAK,CAAC,UAAO,CACxB,IAAIC,QAAQ,CAAG,IAAIC,4BAA8B,CACjDD,QAAQ,CAACH,cAAc,GACxB,CAAC,CAAC;;"}