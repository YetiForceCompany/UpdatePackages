{"version":3,"file":"ConditionBuilder.min.js","sources":["ConditionBuilder.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nclass Vtiger_ConditionBuilder_Js {\n\t/**\n\t * Constructor\n\t * @param {jQuery} container\n\t * @param {(string|Object)} params\n\t * @param {function} onChange\n\t */\n\tconstructor(container, params, onChange) {\n\t\tthis.container = container;\n\t\tthis.params = typeof params === 'string' ? { sourceModuleName: params } : params;\n\t\tif (onChange) {\n\t\t\tthis.onChange = onChange;\n\t\t} else {\n\t\t\tthis.onChange = () => {};\n\t\t}\n\t}\n\n\t/**\n\t * Register change value event\n\t *\n\t * @param   {jQuery}  container\n\t */\n\tregisterChangeValueEvent(container) {\n\t\tcontainer.find('.js-condition-builder-value').on('change', (e) => {\n\t\t\tthis.onChange(this);\n\t\t});\n\t}\n\t/**\n\t * Get default params\n\t * @returns {Object}\n\t */\n\tgetDefaultParams() {\n\t\treturn {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: 'ConditionBuilder',\n\t\t\t...this.params\n\t\t};\n\t}\n\n\t/**\n\t * Register events when change conditions\n\t * @param {jQuery} container\n\t */\n\tregisterChangeConditions(container) {\n\t\tlet self = this;\n\t\tcontainer.on('change', '.js-conditions-fields, .js-conditions-operator', (e) => {\n\t\t\tlet progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\tlet requestParams = {};\n\t\t\tif (currentTarget.hasClass('js-conditions-fields')) {\n\t\t\t\trequestParams = {\n\t\t\t\t\tfieldname: currentTarget.val()\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\trequestParams = {\n\t\t\t\t\tfieldname: container.find('.js-conditions-fields').val(),\n\t\t\t\t\toperator: currentTarget.val()\n\t\t\t\t};\n\t\t\t}\n\t\t\tAppConnector.request({ ...requestParams, ...this.getDefaultParams() }).done(function (data) {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tcontainer.html($(data).html());\n\t\t\t\tself.registerField(container);\n\t\t\t\tself.registerChangeValueEvent(container);\n\t\t\t\tself.onChange(self);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * register field types related events\n\t * @param {jQuery} container\n\t */\n\tregisterField(container) {\n\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('select.select2'));\n\t\tApp.Fields.Date.register(container, true, {}, 'js-date-field');\n\t\tApp.Fields.Date.registerRange(container.find('.js-date-range-field'), { ranges: false });\n\t\tApp.Fields.DateTime.register(container.find('.js-datetime-range-field'));\n\t\tapp.registerEventForClockPicker($(container.find('.clockPicker')));\n\t\tApp.Fields.Tree.register(container);\n\t}\n\n\t/**\n\t * Register events to add condition\n\t */\n\tregisterAddCondition() {\n\t\tlet self = this;\n\t\tthis.container.on('click', '.js-condition-add', (e) => {\n\t\t\tlet progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet container = $(e.currentTarget)\n\t\t\t\t.closest('.js-condition-builder-group-container')\n\t\t\t\t.find('> .js-condition-builder-conditions-container');\n\t\t\tAppConnector.request(this.getDefaultParams()).done(function (data) {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tdata = $(data);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select.select2'));\n\t\t\t\tself.registerChangeConditions(data);\n\t\t\t\tself.registerChangeValueEvent(data);\n\t\t\t\tcontainer.append(data);\n\t\t\t\tself.onChange(self);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Register events to add group\n\t */\n\tregisterAddGroup() {\n\t\tthis.container.on('click', '.js-group-add', (e) => {\n\t\t\tlet template = this.container.find('.js-condition-builder-group-template').clone();\n\t\t\ttemplate.removeClass('hide');\n\t\t\t$(e.target)\n\t\t\t\t.closest('.js-condition-builder-group-container')\n\t\t\t\t.find('> .js-condition-builder-conditions-container')\n\t\t\t\t.append(template.html());\n\t\t\tthis.onChange(this);\n\t\t});\n\t}\n\n\t/**\n\t * Register events to remove group\n\t */\n\tregisterDeleteGroup() {\n\t\tthis.container.on('click', '.js-group-delete', (e) => {\n\t\t\t$(e.target).closest('.js-condition-builder-group-container').remove();\n\t\t\tthis.onChange(this);\n\t\t});\n\t}\n\n\t/**\n\t * Register events to remove condition\n\t */\n\tregisterDeleteCondition() {\n\t\tthis.container.on('click', '.js-condition-delete', (e) => {\n\t\t\t$(e.target).closest('.js-condition-builder-conditions-row').remove();\n\t\t\tthis.onChange(this);\n\t\t});\n\t}\n\n\t/**\n\t * Block submit on press enter key\n\t */\n\tregisterDisableSubmitOnEnter() {\n\t\tthis.container.find('.js-condition-builder-value').on('keydown', (e) => {\n\t\t\tif (e.key === 'Enter') {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Read conditions in group\n\t * @param {jQuery} container\n\t * @param {boolean} skipEmpty\n\t * @returns {object}\n\t */\n\treadCondition(container, skipEmpty) {\n\t\tlet self = this;\n\t\tlet condition = container.find('> .js-condition-switch .js-condition-switch-value').hasClass('active')\n\t\t\t? 'AND'\n\t\t\t: 'OR';\n\t\tlet arr = {};\n\t\tlet rules = [];\n\t\tcontainer.find('> .js-condition-builder-conditions-container >').each(function () {\n\t\t\tlet element = $(this);\n\t\t\tif (element.hasClass('js-condition-builder-conditions-row')) {\n\t\t\t\trules.push({\n\t\t\t\t\tfieldname: element.find('.js-conditions-fields').val(),\n\t\t\t\t\toperator: element.find('.js-conditions-operator').val(),\n\t\t\t\t\tvalue: element.find('.js-condition-builder-value').val()\n\t\t\t\t});\n\t\t\t} else if (element.hasClass('js-condition-builder-group-container')) {\n\t\t\t\tlet childRules = self.readCondition(element, skipEmpty);\n\t\t\t\tif (!skipEmpty || Object.keys(childRules).length) {\n\t\t\t\t\trules.push(childRules);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (!skipEmpty || rules.length) {\n\t\t\tarr['condition'] = condition;\n\t\t\tarr['rules'] = rules;\n\t\t}\n\t\treturn arr;\n\t}\n\n\t/**\n\t * Returns conditions\n\t * @param {boolean} skipEmpty\n\t * @returns {object}\n\t */\n\tgetConditions(skipEmpty = true) {\n\t\treturn this.readCondition(this.container.find('> .js-condition-builder-group-container'), skipEmpty);\n\t}\n\n\t/**\n\t * Main function to regsiter events\n\t */\n\tregisterEvents() {\n\t\tlet self = this;\n\t\tthis.registerAddCondition();\n\t\tthis.registerAddGroup();\n\t\tthis.registerDeleteGroup();\n\t\tthis.registerDeleteCondition();\n\t\tthis.registerDisableSubmitOnEnter();\n\t\tthis.container.find('.js-condition-builder-conditions-row').each(function () {\n\t\t\tlet row = $(this);\n\t\t\tself.registerChangeConditions(row);\n\t\t\tself.registerChangeValueEvent(row);\n\t\t\tself.registerField(row);\n\t\t});\n\t}\n}\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","key","value","_toPropertyKey","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","i","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","Number","Vtiger_ConditionBuilder_Js","container","params","onChange","sourceModuleName","registerChangeValueEvent","_this","find","on","getDefaultParams","module","app","getModuleName","parent","getParentModuleName","view","registerChangeConditions","_this2","self","progress","$","progressIndicator","position","blockInfo","enabled","currentTarget","requestParams","hasClass","fieldname","val","operator","AppConnector","request","done","data","mode","html","registerField","App","Fields","Picklist","showSelect2ElementView","Date","register","registerRange","ranges","DateTime","registerEventForClockPicker","Tree","registerAddCondition","_this3","closest","append","registerAddGroup","_this4","template","clone","removeClass","registerDeleteGroup","_this5","remove","registerDeleteCondition","_this6","registerDisableSubmitOnEnter","preventDefault","readCondition","skipEmpty","condition","arr","rules","each","element","childRules","getConditions","registerEvents","row"],"mappings":"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"}