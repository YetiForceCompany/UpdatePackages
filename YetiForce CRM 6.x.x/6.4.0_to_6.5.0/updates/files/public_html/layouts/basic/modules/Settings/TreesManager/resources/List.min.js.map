{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\n\t'Settings_TreesManager_List_Js',\n\t{\n\t\ttriggerCreate: function (url) {\n\t\t\tvar selectedModule = jQuery('#moduleFilter').val();\n\t\t\tif (selectedModule.length > 0) {\n\t\t\t\turl += '&source_module=' + selectedModule;\n\t\t\t}\n\t\t\twindow.location.href = url;\n\t\t}\n\t},\n\t{\n\t\t/*\n\t\t * function to trigger delete record action\n\t\t * @params: delete record url.\n\t\t */\n\t\tDeleteRecord: function (deleteRecordActionUrl) {\n\t\t\tconst self = this;\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttitle: app.vtranslate('LBL_DELETE_CONFIRMATION'),\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tAppConnector.request(deleteRecordActionUrl).done(function (data) {\n\t\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_TREE_DELETED_SUCCESSFULLY')\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\t\t\t\tself.getListViewRecords().done(function () {\n\t\t\t\t\t\t\t\tself.updatePagination();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: data.error.message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tregisterFilterChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('#moduleFilter').on('change', function (e) {\n\t\t\t\tjQuery('#pageNumber').val('1');\n\t\t\t\tjQuery('#pageToJump').val('1');\n\t\t\t\tjQuery('#orderBy').val('');\n\t\t\t\tjQuery('#sortOrder').val('');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tsourceModule: jQuery(e.currentTarget).val()\n\t\t\t\t};\n\t\t\t\t//Make the select all count as empty\n\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t//Make total number of pages as empty\n\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * function to load the contents from the url through pjax\n\t\t */\n\t\tloadContents: function (url) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.requestPjax(url)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.registerFilterChangeEvent();\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","triggerCreate","url","selectedModule","jQuery","val","length","window","location","href","DeleteRecord","deleteRecordActionUrl","self","app","showConfirmModal","title","vtranslate","confirmedCallback","AppConnector","request","done","data","success","params","text","Settings_Vtiger_Index_Js","showMessage","getListViewRecords","updatePagination","showNotify","error","message","type","registerFilterChangeEvent","thisInstance","on","e","module","getModuleName","parent","getParentModuleName","sourceModule","currentTarget","loadContents","aDeferred","Deferred","requestPjax","html","resolve","fail","err","reject","promise","registerEvents","_super"],"mappings":"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"}