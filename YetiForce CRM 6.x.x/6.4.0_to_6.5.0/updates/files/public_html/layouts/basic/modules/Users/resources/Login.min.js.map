{"version":3,"file":"Login.min.js","sources":["Login.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n\n'use strict';\n$(document).ready(() => {\n\t$('input:visible').first().focus();\n\t$('#fingerPrint').val(new DeviceUUID().get());\n\t$('button.close').on('click', () => {\n\t\t$('.visible-phone').css('visibility', 'hidden');\n\t});\n\t$('a#forgotpass').on('click', () => {\n\t\t$('#loginDiv').hide();\n\t\t$('#forgotPasswordDiv').removeClass('d-none');\n\t\t$('#forgotPasswordDiv').show();\n\t});\n\t$('a#backButton').on('click', () => {\n\t\t$('#loginDiv').removeClass('d-none');\n\t\t$('#loginDiv').show();\n\t\t$('#forgotPasswordDiv').hide();\n\t});\n\n\tlet formForgot = $('.js-forgot-password');\n\tformForgot.on('submit', (event) => {\n\t\tevent.preventDefault();\n\t\t$.post('index.php?module=Users&action=LoginForgotPassword', {\n\t\t\temail: formForgot.find('[name=\"email\"]').val()\n\t\t})\n\t\t\t.done((data) => {\n\t\t\t\tformForgot.find('.js-email-content').addClass('d-none');\n\t\t\t\tformForgot.find('#retrievePassword').attr('disabled', 'disabled');\n\t\t\t\t$('.js-alert-password').removeClass('d-none alert-danger').addClass('alert-success');\n\t\t\t\t$('.js-alert-text').html(data.result);\n\t\t\t})\n\t\t\t.fail((error) => {\n\t\t\t\t$('.js-alert-password').removeClass('d-none').addClass('alert-danger');\n\t\t\t\t$('.js-alert-text').html(JSON.parse(error.responseText).error.message);\n\t\t\t});\n\t});\n\n\tlet formChange = $('.js-change-password');\n\tformChange.on('submit', (event) => {\n\t\tevent.preventDefault();\n\t\tlet password = formChange.find('[name=\"password\"]').val();\n\t\tlet confirmPassword = formChange.find('[name=\"confirm_password\"]').val();\n\t\tif (password !== confirmPassword) {\n\t\t\t$('.js-alert-confirm-password').removeClass('d-none');\n\t\t} else {\n\t\t\t$.post('index.php?module=Users&action=LoginPassChange', {\n\t\t\t\tpassword: password,\n\t\t\t\tconfirm_password: confirmPassword,\n\t\t\t\ttoken: formChange.find('[name=\"token\"]').val()\n\t\t\t})\n\t\t\t\t.done(() => {\n\t\t\t\t\twindow.location.href = 'index.php';\n\t\t\t\t})\n\t\t\t\t.fail((error) => {\n\t\t\t\t\t$('.js-alert-confirm-password').addClass('d-none');\n\t\t\t\t\t$('.js-alert-password').removeClass('d-none').addClass('alert-danger');\n\t\t\t\t\t$('.js-alert-text').html(JSON.parse(error.responseText).error.message);\n\t\t\t\t});\n\t\t}\n\t});\n});\n"],"names":["$","document","ready","first","focus","val","DeviceUUID","get","on","css","hide","removeClass","show","formForgot","event","preventDefault","post","email","find","done","data","addClass","attr","html","result","fail","error","JSON","parse","responseText","message","formChange","password","confirmPassword","confirm_password","token","window","location","href"],"mappings":"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"}