'use strict';

/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */"use strict";Settings_Vtiger_Edit_Js("Settings_Companies_Edit_Js",{},{/** Submit form */registerSubmitForm:function registerSubmitForm(){var form=this.getForm();form.on("submit",function(e){if(e.preventDefault(),!0===form.validationEngine("validate")){var formData=new FormData(form[0]),progressIndicatorElement=jQuery.progressIndicator({blockInfo:{enabled:!0}});AppConnector.request({url:"index.php",type:"POST",data:formData,processData:!1,contentType:!1}).done(function(data){progressIndicatorElement.progressIndicator({mode:"hide"}),!0===data.result.success?window.location.href=data.result.url:Settings_Vtiger_Index_Js.showMessage({text:data.result.message,type:"error"});});}else app.formAlignmentAfterValidation(form);});},/** Check registration status */registerRefreshStatus:function registerRefreshStatus(){var form=this.getForm();form.find(".js-refresh-status").on("click",function(){var progressIndicator=$.progressIndicator({blockInfo:{enabled:!0}});AppConnector.request({parent:"Settings",module:"Companies",action:"CheckStatus"}).done(function(data){progressIndicator.progressIndicator({mode:"hide"}),data.success&&data.result&&(data.result.message&&app.showNotify({text:data.result.message,type:data.result.type,hide:!0,delay:8e3,textTrusted:!1}),data.result.success&&window.location.reload());});});},/** @inheritdoc */registerEvents:function registerEvents(){var form=this.getForm();form.length&&(form.validationEngine(app.validationEngineOptions),form.find("[data-inputmask]").inputmask()),this.registerSubmitForm(),this.registerRefreshStatus();}});
//# sourceMappingURL=Edit.min.js.map
