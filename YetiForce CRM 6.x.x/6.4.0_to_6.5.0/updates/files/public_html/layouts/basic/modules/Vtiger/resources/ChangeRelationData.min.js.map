{"version":3,"file":"ChangeRelationData.min.js","sources":["ChangeRelationData.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n$.Class(\n\t'Base_ChangeRelationData_JS',\n\t{},\n\t{\n\t\tregisterEvents(container) {\n\t\t\tconst form = container.find('form');\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tcontainer.find('.js-modal__save').on('click', (_e) => {\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet params = container.find('form').serializeFormData();\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance(),\n\t\t\t\t\t\t\t\t\tselectedTabElement = detailInstance.getSelectedTab();\n\t\t\t\t\t\t\t\tif (selectedTabElement) {\n\t\t\t\t\t\t\t\t\tselectedTabElement.trigger('click');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (textStatus, errorThrown) { });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["$","Class","registerEvents","container","form","find","validationEngine","app","validationEngineOptions","on","progress","progressIndicator","position","blockInfo","enabled","params","serializeFormData","AppConnector","request","done","data","mode","hideModalWindow","result","text","vtranslate","type","detailInstance","Vtiger_Detail_Js","getInstance","selectedTabElement","getSelectedTab","trigger","showNotify","fail"],"mappings":";;AAAA,kKACA,YAAY,CACZA,CAAC,CAACC,KAAK,CACN,4BAA4B,CAC5B,EAAE,CACF,CACCC,cAAc,CAAAA,SAAAA,cAAAA,CAACC,SAAS,CAAE,CACzB,IAAMC,IAAI,CAAGD,SAAS,CAACE,IAAI,CAAC,MAAM,CAAC,CACnCD,IAAI,CAACE,gBAAgB,CAACC,GAAG,CAACC,uBAAuB,CAAC,CAClDL,SAAS,CAACE,IAAI,CAAC,iBAAiB,CAAC,CAACI,EAAE,CAAC,OAAO,CAAE,UAAQ,CACrD,GAAIL,IAAI,CAACE,gBAAgB,CAAC,UAAU,CAAC,CAAE,CAClC,IAAAI,QAAQ,CAAGV,CAAC,CAACW,iBAAiB,CAAC,CAClCC,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CACR,CAAA,CAAA,CACD,CAAC,CAAC,CACEC,MAAM,CAAGZ,SAAS,CAACE,IAAI,CAAC,MAAM,CAAC,CAACW,iBAAiB,EAAE,CACvDC,YAAY,CAACC,OAAO,CAACH,MAAM,CAAC,CAC1BI,IAAI,CAAC,SAAUC,IAAI,CAAE,CACrBV,QAAQ,CAACC,iBAAiB,CAAC,CAC1BU,IAAI,CAAE,MACP,CAAC,CAAC,CACFd,GAAG,CAACe,eAAe,EAAE,CACrB,IAAIP,MAAM,CAAG,EAAE,CACf,GAAIK,IAAI,CAACG,MAAM,CAAE,CAChBR,MAAM,CAAG,CACRS,IAAI,CAAEjB,GAAG,CAACkB,UAAU,CAAC,mBAAmB,CAAC,CACzCC,IAAI,CAAE,SACP,CAAC,CACD,IAAIC,cAAc,CAAGC,gBAAgB,CAACC,WAAW,EAAE,CAClDC,kBAAkB,CAAGH,cAAc,CAACI,cAAc,EAAE,CACjDD,kBAAkB,EACrBA,kBAAkB,CAACE,OAAO,CAAC,OAAO,EAEpC,CAAC,KACAjB,MAAM,CAAG,CACRS,IAAI,CAAEjB,GAAG,CAACkB,UAAU,CAAC,UAAU,CAAC,CAChCC,IAAI,CAAE,OACP,CAAC,CAEFnB,GAAG,CAAC0B,UAAU,CAAClB,MAAM,EACtB,CAAC,CAAC,CACDmB,IAAI,CAAC,UAAmC,EAAG,EAC9C,CACD,CAAC,EACF,CACD,CACD,CAAC;;"}