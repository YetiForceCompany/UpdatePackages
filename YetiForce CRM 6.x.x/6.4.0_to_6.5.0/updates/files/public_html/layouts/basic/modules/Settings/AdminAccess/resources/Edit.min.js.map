{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Settings_AdminAccess_Edit_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Modal container\n\t\t */\n\t\tcontainer: false,\n\n\t\t/**\n\t\t * Register buttons\n\t\t */\n\t\tregisterButtons: function () {\n\t\t\tthis.container.find('.js-modules-select-all, .js-modules-deselect-all').on('click', (e) => {\n\t\t\t\tlet name = e.currentTarget.dataset.name;\n\t\t\t\tlet element = this.container.find(`[name=\"${name}\"],[name=\"${name}[]\"]`);\n\t\t\t\telement\n\t\t\t\t\t.find('option')\n\t\t\t\t\t.prop('selected', $(e.currentTarget).hasClass('js-modules-select-all'))\n\t\t\t\t\t.parent()\n\t\t\t\t\t.trigger('change');\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register save\n\t\t */\n\t\tregisterSave: function () {\n\t\t\tthis.container.find('.js-modal__save').on('click', (e) => {\n\t\t\t\tlet form = this.container.find('form');\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t});\n\t\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\t\tapp.saveAjax('', [], formData).done(function (data) {\n\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_SAVE_SUCCESS') });\n\t\t\t\t\t\t\t$('.js-data-table').DataTable().ajax.reload();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function (modalContainer) {\n\t\t\tthis.container = modalContainer;\n\t\t\tthis.registerButtons();\n\t\t\tthis.registerSave();\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","registerButtons","_this","find","on","e","name","currentTarget","dataset","element","concat","prop","hasClass","parent","trigger","registerSave","_this2","form","validationEngine","progress","progressIndicator","message","app","vtranslate","blockInfo","enabled","formData","serializeFormData","saveAjax","done","data","result","Settings_Vtiger_Index_Js","showMessage","text","DataTable","ajax","reload","showNotify","type","hideModalWindow","mode","registerEvents","modalContainer"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,CAAC,CAACC,KAAK,CACN,8BAA8B,CAC9B,EAAE,CACF;AAED;AACA,KACEC,SAAS,GAAO;AAGlB;AACA,KACEC,eAAe,CAAE,SAAAA,iBAAY,CAAA,IAAAC,KAAA,CAC5B,IAAA,CAAA,IAAI,CAACF,SAAS,CAACG,IAAI,CAAC,kDAAkD,CAAC,CAACC,EAAE,CAAC,OAAO,CAAE,SAACC,CAAC,CAAK,CACtF,IAAAC,IAAI,CAAGD,CAAC,CAACE,aAAa,CAACC,OAAO,CAACF,IAAI,CACnCG,OAAO,CAAGP,KAAI,CAACF,SAAS,CAACG,IAAI,CAAA,UAAA,CAAAO,MAAA,CAAWJ,IAAI,CAAAI,cAAAA,CAAAA,CAAAA,MAAA,CAAaJ,IAAI,CAAA,OAAA,CAAM,CAAC,CACxEG,OAAO,CACLN,IAAI,CAAC,QAAQ,CAAC,CACdQ,IAAI,CAAC,UAAU,CAAEb,CAAC,CAACO,CAAC,CAACE,aAAa,CAAC,CAACK,QAAQ,CAAC,uBAAuB,CAAC,CAAC,CACtEC,MAAM,EAAE,CACRC,OAAO,CAAC,QAAQ,EACnB,CAAC,EACF,CAAC;AAGH;AACA,KACEC,YAAY,CAAE,SAAAA,cAAY,CAAA,IAAAC,MAAA,CACzB,IAAA,CAAA,IAAI,CAAChB,SAAS,CAACG,IAAI,CAAC,iBAAiB,CAAC,CAACC,EAAE,CAAC,OAAO,CAAE,UAAO,CACzD,IAAIa,IAAI,CAAGD,MAAI,CAAChB,SAAS,CAACG,IAAI,CAAC,MAAM,CAAC,CACtC,GAAIc,IAAI,CAACC,gBAAgB,CAAC,UAAU,CAAC,CAAE,KAClCC,QAAQ,CAAGrB,CAAC,CAACsB,iBAAiB,CAAC,CAClCC,OAAO,CAAEC,GAAG,CAACC,UAAU,CAAC,qBAAqB,CAAC,CAC9CC,SAAS,CAAE,CAAEC,OAAO,GAAO,CAC5B,CAAC,CAAC,CACEC,QAAQ,CAAGT,IAAI,CAACU,iBAAiB,EAAE,CACvCL,GAAG,CAACM,QAAQ,CAAC,EAAE,CAAE,EAAE,CAAEF,QAAQ,CAAC,CAACG,IAAI,CAAC,SAAUC,IAAI,CAAE,CAC/CA,IAAI,CAACC,MAAM,EACdC,wBAAwB,CAACC,WAAW,CAAC,CAAEC,IAAI,CAAEZ,GAAG,CAACC,UAAU,CAAC,iBAAiB,CAAE,CAAC,CAAC,CACjFzB,CAAC,CAAC,gBAAgB,CAAC,CAACqC,SAAS,EAAE,CAACC,IAAI,CAACC,MAAM,EAAE,EAE7Cf,GAAG,CAACgB,UAAU,CAAC,CACdJ,IAAI,CAAEZ,GAAG,CAACC,UAAU,CAAC,UAAU,CAAC,CAChCgB,IAAI,CAAE,OACP,CAAC,CAAC,CAEHjB,GAAG,CAACkB,eAAe,EAAE,CACrBrB,QAAQ,CAACC,iBAAiB,CAAC,CAAEqB,IAAI,CAAE,MAAO,CAAC,EAC5C,CAAC,EACF,CACD,CAAC,EACF,CAAC;AAGH;AACA;AACA,KACEC,cAAc,CAAE,SAAAA,cAAUC,CAAAA,cAAc,CAAE,CACzC,IAAI,CAAC3C,SAAS,CAAG2C,cAAc,CAC/B,IAAI,CAAC1C,eAAe,EAAE,CACtB,IAAI,CAACc,YAAY,GAClB,CACD,CACD,CAAC;;"}