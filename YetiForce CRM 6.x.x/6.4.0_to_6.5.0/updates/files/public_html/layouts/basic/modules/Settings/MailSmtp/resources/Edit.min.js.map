{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Edit_Js(\n\t'Settings_MailSmtp_Edit_Js',\n\t{},\n\t{\n\t\tregisterSubmitForm: function () {\n\t\t\tvar form = this.getForm();\n\t\t\tform.on('submit', function (e) {\n\t\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request(paramsForm).done(function (data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (true == data.result.success) {\n\t\t\t\t\t\t\twindow.location.href = data.result.url;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tform.find('.alert').removeClass('d-none');\n\t\t\t\t\t\t\tform.find('.alert p').text(data.result.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register events to preview password\n\t\t */\n\t\tregisterPreviewPassword: function () {\n\t\t\tconst container = this.getForm();\n\t\t\tconst button = container.find('.previewPassword');\n\t\t\tbutton.on('mousedown', function (e) {\n\t\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'text');\n\t\t\t});\n\t\t\tbutton.on('mouseup', function (e) {\n\t\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'password');\n\t\t\t});\n\t\t\tbutton.on('mouseout', function (e) {\n\t\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'password');\n\t\t\t});\n\t\t},\n\t\tregisterSaveSendMail() {\n\t\t\tconst form = this.getForm();\n\t\t\tform.find('.js-save-send-mail').on('click', () => {\n\t\t\t\tif (form.find('.saveMailContent').hasClass('d-none')) {\n\t\t\t\t\tform.find('.js-smtp-host').attr('data-validation-engine', 'validate[required]');\n\t\t\t\t\tform.find('.js-smtp-port').attr('data-validation-engine', 'validate[required,custom[integer]]');\n\t\t\t\t\tform.find('.js-smtp-password').attr('data-validation-engine', 'validate[required]');\n\t\t\t\t\tform.find('.js-smtp-username').attr('data-validation-engine', 'validate[required]');\n\t\t\t\t\tform.find('.js-smtp-folder').attr('data-validation-engine', 'validate[required]');\n\t\t\t\t\tform.find('.saveMailContent').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tform.find('.js-smtp-host').removeAttr('data-validation-engine');\n\t\t\t\t\tform.find('.js-smtp-port').removeAttr('data-validation-engine');\n\t\t\t\t\tform.find('.js-smtp-password').removeAttr('data-validation-engine');\n\t\t\t\t\tform.find('.js-smtp-username').removeAttr('data-validation-engine');\n\t\t\t\t\tform.find('.js-smtp-folder').removeAttr('data-validation-engine');\n\t\t\t\t\tform.find('.saveMailContent').addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tconst form = this.getForm();\n\t\t\tif (form.length) {\n\t\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\t\tform.find('[data-inputmask]').inputmask();\n\t\t\t}\n\t\t\tthis.registerSubmitForm();\n\t\t\tthis.registerPreviewPassword();\n\t\t\tthis.registerSaveSendMail();\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_Edit_Js","registerSubmitForm","form","getForm","on","validationEngine","paramsForm","serializeFormData","progressIndicatorElement","jQuery","progressIndicator","blockInfo","enabled","AppConnector","request","done","data","mode","result","success","window","location","href","url","find","removeClass","text","message","app","formAlignmentAfterValidation","registerPreviewPassword","container","button","e","$","currentTarget","attr","registerSaveSendMail","hasClass","removeAttr","addClass","registerEvents","length","validationEngineOptions","inputmask"],"mappings":"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"}