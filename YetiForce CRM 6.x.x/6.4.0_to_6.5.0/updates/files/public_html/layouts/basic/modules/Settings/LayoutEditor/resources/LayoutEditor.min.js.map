{"version":3,"file":"LayoutEditor.min.js","sources":["LayoutEditor.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Settings_LayoutEditor_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tupdatedBlockSequence: {},\n\t\tinActiveFieldsList: false,\n\t\tupdatedBlockFieldsList: [],\n\t\tupdatedBlocksList: [],\n\t\tblockNamesList: [],\n\t\t/**\n\t\t * Function to set the inactive fields list used to show the inactive fields\n\t\t */\n\t\tsetInactiveFieldsList: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar json = contents.find('.inActiveFieldsArray');\n\t\t\tif (0 < json.length) {\n\t\t\t\tthisInstance.inActiveFieldsList = JSON.parse(json.val());\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the blocks sortable\n\t\t */\n\t\tmakeBlocksListSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar table = contents.find('.blockSortable');\n\t\t\tcontents.sortable({\n\t\t\t\tcontainment: contents,\n\t\t\t\titems: table,\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\tthisInstance.updateBlockSequence();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will update block sequence\n\t\t */\n\t\tupdateBlockSequence: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar sequence = JSON.stringify(thisInstance.updateBlocksListByOrder());\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'updateSequenceNumber';\n\t\t\tparams['sequence'] = sequence;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_SEQUENCE_UPDATED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will arrange the sequence number of blocks\n\t\t */\n\t\tupdateBlocksListByOrder: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.find('.editFieldsTable.blockSortable').each(function (index, domElement) {\n\t\t\t\tvar blockTable = $(domElement);\n\t\t\t\tvar blockId = blockTable.data('blockId');\n\t\t\t\tvar actualBlockSequence = blockTable.data('sequence');\n\t\t\t\tvar expectedBlockSequence = index + 1;\n\n\t\t\t\tif (expectedBlockSequence != actualBlockSequence) {\n\t\t\t\t\tblockTable.data('sequence', expectedBlockSequence);\n\t\t\t\t}\n\t\t\t\tthisInstance.updatedBlockSequence[blockId] = expectedBlockSequence;\n\t\t\t});\n\t\t\treturn thisInstance.updatedBlockSequence;\n\t\t},\n\t\t/**\n\t\t * Function to register all the relatedList Events\n\t\t */\n\t\tregisterRelatedListEvents: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\trelatedList = $('#relatedTabOrder');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(\n\t\t\t\trelatedList.find('.relatedTabModulesList .js-related-column-list-container .select2_container'),\n\t\t\t\t{\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tsortableCb: (currentTarget) => {\n\t\t\t\t\t\tthisInstance.updateSelectedFields(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(\n\t\t\t\trelatedList.find('.relatedTabModulesList .js-related-custom-view-container .select2_container'),\n\t\t\t\t{\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tsortableCb: (currentTarget) => {\n\t\t\t\t\t\tthisInstance.updateCustomView(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\trelatedList.on('click', '.inActiveRelationModule', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\trelatedModule.find('.activeRelationModule').removeClass('d-none').show();\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tthisInstance.changeStatusRelatedModule(relatedModule.data('relation-id'), false);\n\t\t\t});\n\t\t\trelatedList.on('click', '.activeRelationModule', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\trelatedModule.find('.inActiveRelationModule').removeClass('d-none').show();\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tthisInstance.changeStatusRelatedModule(relatedModule.data('relation-id'), true);\n\t\t\t});\n\t\t\trelatedList.on('click', '.removeRelation', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\tthisInstance.removeRelation(relatedModule);\n\t\t\t});\n\t\t\trelatedList.on('click', '.addToFavorites', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tthisInstance.changeStateFavorites(currentTarget);\n\t\t\t});\n\t\t\trelatedList.on('change', '.relatedViewType', function (e) {\n\t\t\t\tvar currentTarget = $(this);\n\t\t\t\tvar value = currentTarget.val();\n\t\t\t\tif (!value) {\n\t\t\t\t\tcurrentTarget.validationEngine('showPrompt', app.vtranslate('JS_PLEASE_SELECT_ATLEAST_ONE_OPTION'));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcurrentTarget.validationEngine('hide');\n\t\t\t\tthisInstance.changeRelatedViewType(currentTarget);\n\t\t\t});\n\t\t\trelatedList.find('.js-related-column-list').on('change', function (e) {\n\t\t\t\tthisInstance.updateSelectedFields($(e.currentTarget));\n\t\t\t});\n\t\t\trelatedList.find('.js-related-custom-view').on('change', function (e) {\n\t\t\t\tthisInstance.updateCustomView($(e.currentTarget));\n\t\t\t});\n\t\t\trelatedList.on('click', '.addRelation', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('#relatedTabOrder');\n\t\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\t\t\t\tvar addRelationContainer = relatedList.find('.addRelationContainer').clone(true, true);\n\t\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'));\n\t\t\t\t\tdata.find('.relLabel').val(data.find('.target option:selected').val());\n\t\t\t\t\tdata.on('change', '.target', function (e) {\n\t\t\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\t\t\tdata.find('.relLabel').val(currentTarget.find('option:selected').val());\n\t\t\t\t\t});\n\t\t\t\t\tdata.find('[name=\"type\"]').on('change', function () {\n\t\t\t\t\t\tif ($(this).val() === 'getAttachments') {\n\t\t\t\t\t\t\tdata.find('[name=\"target\"] option').not('[value=\"Documents\"]').addClass('d-none');\n\t\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('[name=\"target\"]'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.find('[name=\"target\"] option').removeClass('d-none');\n\t\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('[name=\"target\"]'));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdata.on('click', '.addButton', function (e) {\n\t\t\t\t\t\tvar form = data.find('form').serializeFormData();\n\t\t\t\t\t\tvar params = {};\n\t\t\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\t\t\tparams['action'] = 'Relation';\n\t\t\t\t\t\tparams['mode'] = 'addRelation';\n\t\t\t\t\t\t$.extend(params, form);\n\t\t\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t\t\t.getRelModuleLayoutEditor(container.find('[name=\"layoutEditorRelModules\"]').val())\n\t\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (response && response.message) {\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'error', text: response.message });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tapp.showModalWindow(addRelationContainer, function (data) {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetSelectedFields: function (target) {\n\t\t\tvar selectedFields = [];\n\t\t\ttarget.find(':selected').each(function (e) {\n\t\t\t\tselectedFields.push({\n\t\t\t\t\tid: $(this).val(),\n\t\t\t\t\tname: $(this).data('field-name') ? $(this).data('field-name') : $(this).data('name')\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn selectedFields;\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the related modules sortable\n\t\t */\n\t\tmakeRelatedModuleSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar relatedModulesContainer = $('.relatedModulesList');\n\t\t\tvar modulesList = relatedModulesContainer.find('.relatedModule');\n\t\t\trelatedModulesContainer.sortable({\n\t\t\t\tcontainment: relatedModulesContainer,\n\t\t\t\titems: modulesList,\n\t\t\t\thandle: '.mainBlockTableLabel',\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\tthisInstance.updateSequenceRelatedModule();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tchangeRelatedViewType: function (currentTarget) {\n\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Relation',\n\t\t\t\tmode: 'updateRelatedViewType',\n\t\t\t\trelationId: relatedModule.data('relation-id'),\n\t\t\t\ttypes: currentTarget.val()\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: data.result.text\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: data.error.message\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttextTrusted: false,\n\t\t\t\t\t\ttext: error.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tchangeStateFavorites: function (currentTarget) {\n\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\tvar status = currentTarget.data('state') == 1 ? 0 : 1;\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateStateFavorites';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['status'] = status;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tcurrentTarget.data('state', status);\n\t\t\t\t\tif (status) {\n\t\t\t\t\t\tcurrentTarget.find('.far').addClass('d-none');\n\t\t\t\t\t\tcurrentTarget.find('.fas').removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentTarget.find('.fas').addClass('d-none');\n\t\t\t\t\t\tcurrentTarget.find('.far').removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_SAVE_NOTIFY_OK') });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tchangeStatusRelatedModule: function (relationId, status) {\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'changeStatusRelation';\n\t\t\tparams['relationId'] = relationId;\n\t\t\tparams['status'] = status;\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tif (status) {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_SAVED_CHANGE_STATUS_1');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_SAVED_CHANGE_STATUS_0');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tremoveRelation: function (relatedModule) {\n\t\t\tlet message = app.vtranslate('JS_DELETE_RELATION_CONFIRMATION');\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttext: message,\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\t\tparams['action'] = 'Relation';\n\t\t\t\t\tparams['mode'] = 'removeRelation';\n\t\t\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\trelatedModule.remove();\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_REMOVE_RELATION_OK')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdateSequenceRelatedModule: function () {\n\t\t\tvar modules = [];\n\t\t\tvar relatedModulesContainer = $('.relatedModulesList');\n\t\t\tvar params = {};\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\trelatedModulesContainer.find('.relatedModule').each(function (index, domElement) {\n\t\t\t\tvar relationId = $(domElement).data('relationId');\n\t\t\t\tmodules.push({ relationId: relationId, index: index });\n\t\t\t});\n\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateSequenceRelatedModule';\n\t\t\tparams['modules'] = modules;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_UPDATE_SEQUENCE');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tupdateSelectedFields: function (target) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = {},\n\t\t\t\trelatedModule = $(target).closest('.relatedModule'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tselectedFields;\n\t\t\tif ($(target).data('type') == 'inventory') {\n\t\t\t\tparams['inventory'] = true;\n\t\t\t\tselectedFields = $(target).val();\n\t\t\t} else {\n\t\t\t\tselectedFields = thisInstance.getSelectedFields($(target));\n\t\t\t}\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateSelectedFields';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['fields'] = selectedFields;\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_UPDATED_FIELD_LIST_MODULE_RELATED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tupdateCustomView: function (target) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = {},\n\t\t\t\trelatedModule = $(target).closest('.relatedModule'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateCustomView';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['cv'] = target.val();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the fields sortable\n\t\t */\n\t\tmakeFieldsListSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar table = contents.find('.editFieldsTable');\n\t\t\ttable.each(function () {\n\t\t\t\tvar containment = $(this).closest('.moduleBlocks');\n\t\t\t\t$(this)\n\t\t\t\t\t.find('ul[name=sortable1], ul[name=sortable2]')\n\t\t\t\t\t.sortable({\n\t\t\t\t\t\tcontainment: containment,\n\t\t\t\t\t\ttolerance: 'pointer',\n\t\t\t\t\t\tcursor: 'move',\n\t\t\t\t\t\tconnectWith: containment.find('.connectedSortable'),\n\t\t\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\t\t\tvar currentField = ui['item'];\n\t\t\t\t\t\t\tif (currentField.closest('.moduleBlocks').hasClass('inventoryBlock')) {\n\t\t\t\t\t\t\t\tthisInstance.showSaveFieldSequenceButton(currentField.closest('.editFieldsTable'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.showSaveFieldSequenceButton(thisInstance.getDetailViewLayout());\n\t\t\t\t\t\t\t\tthisInstance.createUpdatedBlocksList(currentField);\n\t\t\t\t\t\t\t\t// rearrange the older block fields\n\t\t\t\t\t\t\t\tif (ui.sender) {\n\t\t\t\t\t\t\t\t\tvar olderBlock = ui.sender.closest('.editFieldsTable');\n\t\t\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(olderBlock);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetDetailViewLayout: function () {\n\t\t\treturn $('#detailViewLayout');\n\t\t},\n\t\tgetInventoryViewLayout: function () {\n\t\t\treturn $('#inventoryViewLayout');\n\t\t},\n\t\t/**\n\t\t * Function to show the save button of fieldSequence\n\t\t */\n\t\tshowSaveFieldSequenceButton: function (layout) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar saveButton = layout.find('.saveFieldSequence');\n\t\t\tif (app.isHidden(saveButton) || app.isInvisible(saveButton)) {\n\t\t\t\tif (!saveButton.hasClass('inventorySequence')) {\n\t\t\t\t\tthisInstance.updatedBlocksList = [];\n\t\t\t\t\tthisInstance.updatedBlockFieldsList = [];\n\t\t\t\t}\n\t\t\t\tsaveButton.removeClass('d-none');\n\t\t\t\tsaveButton.removeClass('invisible');\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = app.vtranslate('JS_SAVE_THE_CHANGES_TO_UPDATE_FIELD_SEQUENCE');\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will hide the saveFieldSequence button\n\t\t */\n\t\thideSaveFieldSequenceButton: function () {\n\t\t\tvar layout = $('#detailViewLayout');\n\t\t\tvar saveButton = layout.find('.saveFieldSequence');\n\t\t\tsaveButton.addClass('d-none');\n\t\t},\n\t\t/**\n\t\t * Function to create the blocks list which are updated while sorting\n\t\t */\n\t\tcreateUpdatedBlocksList: function (currentField) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar block = currentField.closest('.editFieldsTable');\n\t\t\tvar updatedBlockId = block.data('blockId');\n\t\t\tif ($.inArray(updatedBlockId, thisInstance.updatedBlocksList) == -1) {\n\t\t\t\tthisInstance.updatedBlocksList.push(updatedBlockId);\n\t\t\t}\n\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t},\n\t\t/**\n\t\t * Function that rearranges fields in the block when the fields are moved\n\t\t * @param <jQuery object> block\n\t\t */\n\t\treArrangeBlockFields: function (block) {\n\t\t\t// 1.get the containers, 2.compare the length, 3.if uneven then move the last element\n\t\t\tvar leftSideContainer = block.find('ul[name=sortable1]');\n\t\t\tvar rightSideContainer = block.find('ul[name=sortable2]');\n\t\t\tif (leftSideContainer.children().length < rightSideContainer.children().length) {\n\t\t\t\tvar lastElementInRightContainer = rightSideContainer.children(':last');\n\t\t\t\tleftSideContainer.append(lastElementInRightContainer);\n\t\t\t} else if (leftSideContainer.children().length > rightSideContainer.children().length + 1) {\n\t\t\t\t//greater than 1\n\t\t\t\tvar lastElementInLeftContainer = leftSideContainer.children(':last');\n\t\t\t\trightSideContainer.append(lastElementInLeftContainer);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to create the list of updated blocks with all the fields and their sequences\n\t\t */\n\t\tcreateUpdatedBlockFieldsList: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\n\t\t\tfor (var index in thisInstance.updatedBlocksList) {\n\t\t\t\tvar updatedBlockId = thisInstance.updatedBlocksList[index];\n\t\t\t\tvar updatedBlock = contents.find('.block_' + updatedBlockId);\n\t\t\t\tvar firstBlockSortFields = updatedBlock.find('ul[name=sortable1]');\n\t\t\t\tvar editFields = firstBlockSortFields.find('.editFields');\n\t\t\t\tvar expectedFieldSequence = 1;\n\t\t\t\teditFields.each(function (i, domElement) {\n\t\t\t\t\tvar fieldEle = $(domElement);\n\t\t\t\t\tvar fieldId = fieldEle.data('fieldId');\n\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\tsequence: expectedFieldSequence,\n\t\t\t\t\t\tblock: updatedBlockId\n\t\t\t\t\t});\n\t\t\t\t\texpectedFieldSequence = expectedFieldSequence + 2;\n\t\t\t\t});\n\t\t\t\tvar secondBlockSortFields = updatedBlock.find('ul[name=sortable2]');\n\t\t\t\tvar secondEditFields = secondBlockSortFields.find('.editFields');\n\t\t\t\tvar sequenceValue = 2;\n\t\t\t\tsecondEditFields.each(function (i, domElement) {\n\t\t\t\t\tvar fieldEle = $(domElement);\n\t\t\t\t\tvar fieldId = fieldEle.data('fieldId');\n\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\tsequence: sequenceValue,\n\t\t\t\t\t\tblock: updatedBlockId\n\t\t\t\t\t});\n\t\t\t\t\tsequenceValue = sequenceValue + 2;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to register click event for save button of fields sequence\n\t\t */\n\t\tregisterFieldSequenceSaveClick: function () {\n\t\t\tthis.getDetailViewLayout()\n\t\t\t\t.find('.saveFieldSequence')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.hideSaveFieldSequenceButton();\n\t\t\t\t\tthis.createUpdatedBlockFieldsList();\n\t\t\t\t\tthis.updateFieldSequence();\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function will save the field sequences\n\t\t */\n\t\tupdateFieldSequence: function () {\n\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Field',\n\t\t\t\tmode: 'move',\n\t\t\t\tupdatedFields: this.updatedBlockFieldsList\n\t\t\t})\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_FIELD_SEQUENCE_UPDATED') });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to check if picklist exist\n\t\t */\n\t\tcheckPicklistExist(fieldNameValue) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Field',\n\t\t\t\tmode: 'checkPicklistExist',\n\t\t\t\tfieldName: fieldNameValue.toLowerCase()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data.result) {\n\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\ttext: app.vtranslate('JS_EXIST_PICKLIST_NAME'),\n\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\trejectedCallback: () => {\n\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register click event add system field button\n\t\t */\n\t\tregisterAddSystemFieldEvent() {\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.js-add-system-field').on('click', (e) => {\n\t\t\t\tlet blockId = $(e.currentTarget).closest('.editFieldsTable').data('blockId');\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateSystemFields&sourceModule=' + selectedModule,\n\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\tmodalContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\taction: 'Field',\n\t\t\t\t\t\t\t\tmode: 'createSystemField',\n\t\t\t\t\t\t\t\tsourceModule: selectedModule,\n\t\t\t\t\t\t\t\tblockId: blockId,\n\t\t\t\t\t\t\t\tfield: modalContainer.find('.js-system-fields').val()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event add custom field button\n\t\t */\n\t\tregisterAddCustomFieldEvent() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.addCustomField').on('click', (e) => {\n\t\t\t\tlet blockId = $(e.currentTarget).closest('.editFieldsTable').data('blockId'),\n\t\t\t\t\taddFieldContainer = this.container.find('.createFieldModal').clone(true, true);\n\t\t\t\taddFieldContainer.removeClass('d-none').show();\n\t\t\t\tlet callBackFunction = (data) => {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'), { width: '100%' });\n\t\t\t\t\tlet form = data.find('.createCustomFieldForm');\n\t\t\t\t\tform.attr('id', 'createFieldForm');\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"pickListValues\"]'), {\n\t\t\t\t\t\ttags: true,\n\t\t\t\t\t\ttokenSeparators: [',']\n\t\t\t\t\t});\n\t\t\t\t\tthis.registerFieldTypeChangeEvent(form);\n\t\t\t\t\tthis.registerMultiReferenceFieldsChangeEvent(form);\n\t\t\t\t\tthis.registerMultiReferenceFilterFieldChangeEvent(form);\n\t\t\t\t\tlet params = app.getvalidationEngineOptions(true);\n\t\t\t\t\tparams.onValidationComplete = (form, valid) => {\n\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\tlet saveButton = form.find(':submit'),\n\t\t\t\t\t\t\t\tfieldNameValue = $('[name=\"fieldName\"]', form).val(),\n\t\t\t\t\t\t\t\tfieldTypeValue = $('[name=\"fieldType\"]', form).val();\n\t\t\t\t\t\t\tsaveButton.attr('disabled', 'disabled');\n\t\t\t\t\t\t\tthisInstance.validateFieldsValue(form).done((response) => {\n\t\t\t\t\t\t\t\tif (!response) {\n\t\t\t\t\t\t\t\t\tif (fieldTypeValue == 'Picklist' || fieldTypeValue == 'MultiSelectCombo') {\n\t\t\t\t\t\t\t\t\t\tthisInstance.checkPicklistExist(fieldNameValue).done((result) => {\n\t\t\t\t\t\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\t\t\t\t\t\tthisInstance.saveCustomField(blockId, form);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.saveCustomField(blockId, form);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfor (let index in response) {\n\t\t\t\t\t\t\t\t\t\tlet field = form.find(`[name=\"${index}\"]`);\n\t\t\t\t\t\t\t\t\t\tfield.validationEngine('showPrompt', response[index], 'error', 'bottomLeft', true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t};\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\taddFieldContainer,\n\t\t\t\t\t(data) => {\n\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to validate fields value\n\t\t */\n\t\tvalidateFieldsValue: function (form) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tlet params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'validate';\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data.result);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to save field and show message\n\t\t */\n\t\tsaveCustomField: function (blockId, form) {\n\t\t\tlet saveButton = form.find(':submit');\n\t\t\tthis.addCustomField(blockId, form).done((data) => {\n\t\t\t\tif (data['success']) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_CUSTOM_FIELD_ADDED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t} else {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\tdata['error']['code'] != 513 ? form.find('.fieldNameForm').text() : form.find('.fieldLabelForm').text(),\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: data['error']['message']\n\t\t\t\t\t});\n\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to create the array of block names list\n\t\t */\n\t\tsetBlocksListArray: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.blockNamesList = [];\n\t\t\tvar blocksListSelect = form.find('[name=\"beforeBlockId\"]');\n\t\t\tblocksListSelect.find('option').each(function (index, ele) {\n\t\t\t\tvar option = $(ele);\n\t\t\t\tvar label = option.data('label');\n\t\t\t\tthisInstance.blockNamesList.push(label.toLowerCase());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the custom field details\n\t\t */\n\t\taddCustomField: function (blockId, form) {\n\t\t\tvar modalHeader = form.closest('#' + Window.lastModalId).find('.modal-header h3');\n\t\t\tvar aDeferred = $.Deferred();\n\n\t\t\tmodalHeader.progressIndicator({\n\t\t\t\tsmallLoadingImage: true,\n\t\t\t\timageContainerCss: { display: 'inline', 'margin-left': '18%', position: 'absolute' }\n\t\t\t});\n\n\t\t\tvar params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'add';\n\t\t\tparams['blockid'] = blockId;\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tmodalHeader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (err, error, errorObj) {\n\t\t\t\t\tmodalHeader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (errorObj.responseText !== undefined) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttitle: JSON.parse(errorObj.responseText).error.message,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register change event for fieldType while adding custom field\n\t\t */\n\t\tregisterFieldTypeChangeEvent(form) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar lengthInput = form.find('[name=\"fieldLength\"]');\n\n\t\t\t//special validators while adding new field\n\t\t\tvar lengthValidator = [{ name: 'DecimalMaxLength' }];\n\t\t\tvar maxLengthValidator = [{ name: 'MaxLength' }];\n\t\t\tvar decimalValidator = [{ name: 'FloatingDigits' }];\n\n\t\t\t//By default add the max length validator\n\t\t\tlengthInput.data('validator', maxLengthValidator);\n\n\t\t\t//register the change event for field types\n\t\t\tform.find('[name=\"fieldType\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar lengthInput = form.find('[name=\"fieldLength\"]');\n\t\t\t\tvar selectedOption = currentTarget.find('option:selected');\n\n\t\t\t\t//hide all the elements like length, decimal,picklist\n\t\t\t\tform.find('.supportedType').addClass('d-none');\n\t\t\t\tif (selectedOption.data('lengthsupported')) {\n\t\t\t\t\tform.find('.lengthsupported').removeClass('d-none');\n\t\t\t\t\tif (!selectedOption.data('nolimitforlength')) {\n\t\t\t\t\t\tlengthInput.data('validator', maxLengthValidator);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlengthInput.data('validator', [{ name: 'WholeNumberGreaterThanZero' }]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('decimalsupported')) {\n\t\t\t\t\tvar decimalFieldUi = form.find('.decimalsupported');\n\t\t\t\t\tdecimalFieldUi.removeClass('d-none');\n\n\t\t\t\t\tvar decimalInput = decimalFieldUi.find('[name=\"decimal\"]');\n\t\t\t\t\tvar maxFloatingDigits = selectedOption.data('maxfloatingdigits');\n\n\t\t\t\t\tif (typeof maxFloatingDigits !== 'undefined') {\n\t\t\t\t\t\tdecimalInput.data('validator', decimalValidator);\n\t\t\t\t\t\tlengthInput.data('validator', lengthValidator);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (selectedOption.data('decimalreadonly')) {\n\t\t\t\t\t\tdecimalInput.val(maxFloatingDigits).attr('readonly', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdecimalInput.removeAttr('readonly').val('');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('predefinedvalueexists')) {\n\t\t\t\t\tform.find('.preDefinedValueExists').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('picklistoption')) {\n\t\t\t\t\tform.find('.picklistOption').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tconst type = selectedOption.val();\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'Related1M':\n\t\t\t\t\tcase 'MultiReference':\n\t\t\t\t\t\tconst moduleList = form.find('.preDefinedModuleList .referenceModule');\n\t\t\t\t\t\tform.find('.preDefinedModuleList').removeClass('d-none');\n\t\t\t\t\t\tmoduleList.select2('destroy');\n\t\t\t\t\t\tif (type === 'MultiReference') {\n\t\t\t\t\t\t\tmoduleList.removeAttr('multiple');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmoduleList.attr('multiple', '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(moduleList);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Tree':\n\t\t\t\t\tcase 'CategoryMultipicklist':\n\t\t\t\t\t\tform.find('.preDefinedTreeList').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'ServerAccess':\n\t\t\t\t\t\tform.find('.js-server-access-list').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'MultiReferenceValue':\n\t\t\t\t\t\tform.find('.preMultiReferenceValue').removeClass('d-none');\n\t\t\t\t\t\tthisInstance.loadMultiReferenceFields(form);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event for add custom block button\n\t\t */\n\t\tregisterAddCustomBlockEvent: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.addCustomBlock').on('click', function (e) {\n\t\t\t\tlet addBlockContainer = contents.find('.addBlockModal').clone(true, true),\n\t\t\t\t\tcallBackFunction = function (data) {\n\t\t\t\t\t\tdata.find('.addBlockModal').removeClass('d-none').show();\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'));\n\t\t\t\t\t\tlet form = data.find('.addCustomBlockForm');\n\t\t\t\t\t\tthisInstance.setBlocksListArray(form);\n\t\t\t\t\t\tlet fieldLabel = form.find('[name=\"label\"]'),\n\t\t\t\t\t\t\tparams = Object.create(app.validationEngineOptions);\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\t\t\t\t\tif ($.inArray(formData['label'].toLowerCase(), thisInstance.blockNamesList) == -1) {\n\t\t\t\t\t\t\t\t\tthisInstance.saveBlockDetails(form).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tif (data['success']) {\n\t\t\t\t\t\t\t\t\t\t\tlet result = data['result'];\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.displayNewCustomBlock(result);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.updateNewSequenceForBlocks(result['sequenceList']);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.appendNewBlockToBlocksList(result, form);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.makeFieldsListSortable();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlet result = app.vtranslate('JS_BLOCK_NAME_EXISTS');\n\t\t\t\t\t\t\t\t\tfieldLabel.validationEngine('showPrompt', result, 'error', 'topLeft', true);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\taddBlockContainer,\n\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t},\n\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the new custom block details\n\t\t */\n\t\tsaveBlockDetails: function (form) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'save';\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet response = data.result;\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_CUSTOM_BLOCK_ADDED')\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: response.message\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function used to display the new custom block ui after save\n\t\t */\n\t\tdisplayNewCustomBlock: function (result) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar beforeBlockId = result['beforeBlockId'];\n\t\t\tvar beforeBlock = contents.find('.block_' + beforeBlockId);\n\n\t\t\tvar newBlockCloneCopy = contents.find('.newCustomBlockCopy').clone(true, true);\n\t\t\tnewBlockCloneCopy\n\t\t\t\t.data('blockId', result['id'])\n\t\t\t\t.find('.blockLabel')\n\t\t\t\t.append($('<strong class=\"align-middle\">' + result['label'] + '</strong>'));\n\t\t\tnewBlockCloneCopy.find('.js-block-visibility').data('blockId', result['id']);\n\t\t\tif (result['isAddCustomFieldEnabled']) {\n\t\t\t\tnewBlockCloneCopy.find('.addCustomField').removeClass('d-none');\n\t\t\t}\n\t\t\tbeforeBlock.after(\n\t\t\t\tnewBlockCloneCopy.removeClass('d-none newCustomBlockCopy').addClass('editFieldsTable block_' + result['id'])\n\t\t\t);\n\n\t\t\tnewBlockCloneCopy.find('.blockFieldsList').sortable({ connectWith: '.blockFieldsList' });\n\t\t},\n\t\t/**\n\t\t * Function to update the sequence for all blocks after adding new Block\n\t\t */\n\t\tupdateNewSequenceForBlocks: function (sequenceList) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\t$.each(sequenceList, function (blockId, sequence) {\n\t\t\t\tcontents.find('.block_' + blockId).data('sequence', sequence);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to update the block list with the new block label in the clone container\n\t\t */\n\t\tappendNewBlockToBlocksList: function (result, form) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar hiddenAddBlockModel = contents.find('.addBlockModal');\n\t\t\tvar blocksListSelect = hiddenAddBlockModel.find('[name=\"beforeBlockId\"]');\n\t\t\tvar option = $('<option>', {\n\t\t\t\tvalue: result['id'],\n\t\t\t\ttext: result['label']\n\t\t\t});\n\t\t\tblocksListSelect.append(option.attr('data-label', result['label']));\n\t\t},\n\t\t/**\n\t\t * Function to update the block list to remove the deleted custom block label in the clone container\n\t\t */\n\t\tremoveBlockFromBlocksList: function (blockId) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar hiddenAddBlockModel = contents.find('.addBlockModal');\n\t\t\tvar blocksListSelect = hiddenAddBlockModel.find('[name=\"beforeBlockId\"]');\n\t\t\tblocksListSelect.find('option[value=\"' + blockId + '\"]').remove();\n\t\t},\n\t\t/**\n\t\t * Function to register the change event for block visibility\n\t\t */\n\t\tregisterBlockVisibilityEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-block-visibility', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tthisInstance.updateBlockStatus(currentTarget);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the changed visibility for the block\n\t\t */\n\t\tupdateBlockStatus: function (currentTarget) {\n\t\t\tvar blockStatus = currentTarget.data('visible');\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'save';\n\t\t\tparams['blockid'] = currentTarget.data('blockId');\n\t\t\tparams['display_status'] = blockStatus;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tif (blockStatus == '1') {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_SHOW');\n\t\t\t\t\t} else if (blockStatus == '2') {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_DYNAMIC');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_HIDE');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for inactive fields list\n\t\t */\n\t\tregisterInactiveFieldsEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-inactive-fields-btn', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar currentBlock = currentTarget.closest('.editFieldsTable');\n\t\t\t\t//If there are no hidden fields, show pnotify\n\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList)) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_NO_HIDDEN_FIELDS_EXISTS');\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t} else {\n\t\t\t\t\tvar inActiveFieldsContainer = contents.find('.inactiveFieldsModal').clone(true, true);\n\t\t\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t\t\tdata.find('.inactiveFieldsModal').removeClass('d-none').show();\n\t\t\t\t\t\tvar form = data.find('.inactiveFieldsForm');\n\t\t\t\t\t\tthisInstance.showHiddenFields(form);\n\t\t\t\t\t\t//register click event for reactivate button in the inactive fields modal\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\tthisInstance.createReactivateFieldslist(form);\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\tinActiveFieldsContainer,\n\t\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to show the list of inactive fields in the modal\n\t\t */\n\t\tshowHiddenFields: function (form) {\n\t\t\tconst self = this;\n\t\t\tlet detail = $('#detailViewLayout');\n\t\t\t$.each(self.inActiveFieldsList, function (blockId, fields) {\n\t\t\t\tform\n\t\t\t\t\t.find('.inActiveList')\n\t\t\t\t\t.append(\n\t\t\t\t\t\t'<h5 class=\"\">' +\n\t\t\t\t\t\t\tdetail.find(`.js-block-container[data-block-id=\"${blockId}\"] .js-block-label`).text() +\n\t\t\t\t\t\t\t'</h5>'\n\t\t\t\t\t);\n\t\t\t\t$.each(fields, function (key, value) {\n\t\t\t\t\tform\n\t\t\t\t\t\t.find('.inActiveList')\n\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t`<div class=\"checkbox\"><label><input type=\"checkbox\" class=\"inActiveField mr-2\" value=\"${key}\" data-block=\"${blockId}\"/>${value}</label></div>`\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tform.find('.inActiveList').append('<hr>');\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to create the list of reactivate fields list\n\t\t */\n\t\tcreateReactivateFieldslist: function (form) {\n\t\t\tconst self = this;\n\t\t\tlet blocks = [];\n\t\t\tform.find('.inActiveField').each(function (index, domElement) {\n\t\t\t\tlet element = $(domElement);\n\t\t\t\tlet fieldId = element.val();\n\t\t\t\tlet blockId = element.data('block');\n\t\t\t\tif (element.is(':checked')) {\n\t\t\t\t\tdelete self.inActiveFieldsList[blockId][fieldId];\n\t\t\t\t\tif (!self.inActiveFieldsList[blockId]) {\n\t\t\t\t\t\tdelete self.inActiveFieldsList[blockId];\n\t\t\t\t\t}\n\t\t\t\t\tif (!blocks[blockId]) {\n\t\t\t\t\t\tblocks[blockId] = [];\n\t\t\t\t\t}\n\t\t\t\t\tblocks[blockId].push(fieldId);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$.each(blocks, function (blockId, fields) {\n\t\t\t\tif (fields) {\n\t\t\t\t\tself.reActivateHiddenFields(blockId, fields);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to unHide the selected fields in the inactive fields modal\n\t\t */\n\t\treActivateHiddenFields: function (blockId, fields) {\n\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'Field',\n\t\t\t\t\tmode: 'unHide',\n\t\t\t\t\tblockId: blockId,\n\t\t\t\t\tfieldIdList: JSON.stringify(fields)\n\t\t\t\t},\n\t\t\t\tmessageParams = {};\n\t\t\tif (params.fieldIdList !== '[]') {\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmessageParams.text = app.vtranslate('JS_NO_ITEM_SELECTED');\n\t\t\t\tmessageParams.type = 'error';\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(messageParams);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for delete custom block\n\t\t */\n\t\tregisterDeleteCustomBlockEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-delete-custom-block-btn', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet table = currentTarget.closest('div.editFieldsTable');\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteCustomBlock(table.data('blockId'));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to delete the custom block\n\t\t */\n\t\tdeleteCustomBlock: function (blockId) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'delete';\n\t\t\tparams['blockid'] = blockId;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tlet result = data.result;\n\t\t\t\t\tif (data['success'] && result.success) {\n\t\t\t\t\t\tthisInstance.removeDeletedBlock(blockId);\n\t\t\t\t\t\tthisInstance.removeBlockFromBlocksList(blockId);\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_CUSTOM_BLOCK_DELETED');\n\t\t\t\t\t} else if (result && result.message) {\n\t\t\t\t\t\tparams['text'] = result.message;\n\t\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to remove the deleted custom block from the ui\n\t\t */\n\t\tremoveDeletedBlock: function (blockId) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar deletedTable = contents.find('.block_' + blockId);\n\t\t\tdeletedTable.fadeOut('slow').remove();\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for delete custom field\n\t\t */\n\t\tregisterDeleteCustomFieldEvent: function (contents) {\n\t\t\tconst thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tcontents.find('.deleteCustomField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteCustomField(currentTarget.data('fieldId')).done(function (data) {\n\t\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\t\t\tlet field = currentTarget.closest('div.editFields'),\n\t\t\t\t\t\t\t\t\tblockId = field.data('blockId');\n\t\t\t\t\t\t\t\tfield.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields($('#block_' + blockId));\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_CUSTOM_FIELD_DELETED')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'error', text: response.message });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to delete the custom field\n\t\t */\n\t\tdeleteCustomField: function (fieldId) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'delete';\n\t\t\tparams['fieldid'] = fieldId;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register the cahnge event for mandatory & default checkboxes in edit field details\n\t\t */\n\t\tregisterFieldDetailsChange: function (contents) {\n\t\t\tcontents.find('[name=\"mandatory\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') !== 'readonly') {\n\t\t\t\t\tvar form = currentTarget.closest('.fieldDetailsForm');\n\t\t\t\t\tvar quickcreateEle = form.find('[name=\"quickcreate\"]').filter(':checkbox').not('.optionDisabled');\n\t\t\t\t\tvar presenceEle = form.find('[name=\"presence\"]').filter(':checkbox').not('.optionDisabled');\n\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\tquickcreateEle.attr('checked', true).attr('readonly', 'readonly');\n\t\t\t\t\t\tpresenceEle.attr('checked', true).attr('readonly', 'readonly');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tquickcreateEle.removeAttr('readonly');\n\t\t\t\t\t\tpresenceEle.removeAttr('readonly');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontents.find('[name=\"defaultvalue\"],[name=\"header_field\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar defaultValueUi = currentTarget.closest('.checkbox').find('.js-toggle-hide');\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tdefaultValueUi.removeClass('zeroOpacity');\n\t\t\t\t} else {\n\t\t\t\t\tdefaultValueUi.addClass('zeroOpacity');\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontents.find('.js-header_type').on('change', function (e) {\n\t\t\t\tlet el = $(e.currentTarget);\n\t\t\t\tlet relFieldsElement = el.closest('.js-toggle-hide').find('.js-header_rel_fields');\n\t\t\t\tif (el.val() === 'value') {\n\t\t\t\t\trelFieldsElement.removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\trelFieldsElement.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for related modules list tab\n\t\t */\n\t\trelatedModulesTabClickEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar relatedContainer = contents.find('#relatedTabOrder');\n\t\t\tvar relatedTab = contents.find('.relatedListTab');\n\t\t\trelatedTab.on('click', function () {\n\t\t\t\tif (relatedContainer.find('.relatedTabModulesList').length > 0) {\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showRelatedTabModulesList(relatedContainer);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to show the related tab modules list in the tab\n\t\t */\n\t\tshowRelatedTabModulesList: function (relatedContainer) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['mode'] = 'showRelatedListLayout';\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\trelatedContainer.html(data);\n\t\t\t\t\tif ($(data).find('.relatedListContainer').length > 0) {\n\t\t\t\t\t\tthisInstance.makeRelatedModuleSortable();\n\t\t\t\t\t\tthisInstance.registerRelatedListEvents();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {});\n\t\t},\n\t\t/**\n\t\t * Function to get the respective module layout editor through pjax\n\t\t */\n\t\tgetModuleLayoutEditor: function (selectedModule) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['sourceModule'] = selectedModule;\n\n\t\t\tAppConnector.requestPjax(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelModuleLayoutEditor: function (selectedModule) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['mode'] = 'showRelatedListLayout';\n\t\t\tparams['sourceModule'] = selectedModule;\n\n\t\t\tAppConnector.requestPjax(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register the change event for layout editor modules list\n\t\t */\n\t\tregisterModulesChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('[name=\"layoutEditorModules\"]'));\n\n\t\t\tcontainer.on('change', '[name=\"layoutEditorModules\"]', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = currentTarget.val();\n\t\t\t\tthisInstance.getModuleLayoutEditor(selectedModule).done(function (data) {\n\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterRelModulesChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('[name=\"layoutEditorRelModules\"]'));\n\n\t\t\tcontainer.on('change', '[name=\"layoutEditorRelModules\"]', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = currentTarget.val();\n\t\t\t\tthisInstance.getRelModuleLayoutEditor(selectedModule).done(function (data) {\n\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tlockCheckbox: function (contents) {\n\t\t\tcontents.on('change', ':checkbox', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') === 'readonly') {\n\t\t\t\t\tvar status = $(e.currentTarget).is(':checked');\n\t\t\t\t\tif (!status) {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', false);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEditFieldDetailsClick: function (contents) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tcontents.find('.js-disable-field').on('click', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_ARE_YOU_SURE_YOU_WANT_TO_INACTIVE_FIELD'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet fieldRow = currentTarget.closest('div.editFields');\n\t\t\t\t\t\tlet fieldId = fieldRow.data('fieldId');\n\t\t\t\t\t\tlet block = fieldRow.closest('.editFieldsTable');\n\t\t\t\t\t\tlet blockId = block.data('blockId');\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\taction: 'Field',\n\t\t\t\t\t\t\tmode: 'save',\n\t\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\t\tpresence: 1\n\t\t\t\t\t\t}).done(function (response) {\n\t\t\t\t\t\t\tfieldRow.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList[blockId])) {\n\t\t\t\t\t\t\t\tif (thisInstance.inActiveFieldsList.length === 0) {\n\t\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId] = {};\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = response['result']['label'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = response['result']['label'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tcontents.find('.editFieldDetails').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet fieldRow = currentTarget.closest('div.editFields');\n\t\t\t\tlet fieldId = fieldRow.data('fieldId');\n\t\t\t\tlet block = fieldRow.closest('.editFieldsTable');\n\t\t\t\tlet blockId = block.data('blockId');\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\turl: 'index.php?parent=Settings&module=LayoutEditor&view=EditField&fieldId=' + fieldRow.data('fieldId'),\n\t\t\t\t\tcb: function (modalContainer) {\n\t\t\t\t\t\tthisInstance.registerFieldDetailsChange(modalContainer);\n\t\t\t\t\t\tthisInstance.lockCheckbox(modalContainer);\n\t\t\t\t\t\tthisInstance.registerVaribleToParsers(modalContainer);\n\t\t\t\t\t\tapp.registerEventForClockPicker(modalContainer.find('.clockPicker'));\n\t\t\t\t\t\tmodalContainer.find('[data-inputmask]').inputmask();\n\t\t\t\t\t\tmodalContainer.find('.js-select-icon').on('click', function (e) {\n\t\t\t\t\t\t\t$.when(Settings_Vtiger_Index_Js.selectIcon({ skipImage: true })).done(function (data) {\n\t\t\t\t\t\t\t\tmodalContainer.find('[name=\"icon_name\"]').val(data['name']);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tsendByAjaxCb: (formData, response) => {\n\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_FIELD_DETAILS_SAVED')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet result = response['result'];\n\t\t\t\t\t\tlet fieldLabel = fieldRow.find('.fieldLabel');\n\t\t\t\t\t\tif (result['presence'] === '1') {\n\t\t\t\t\t\t\tfieldRow.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList[blockId])) {\n\t\t\t\t\t\t\t\tif (thisInstance.inActiveFieldsList.length === 0) {\n\t\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId] = {};\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = result['label'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = result['label'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (result['mandatory']) {\n\t\t\t\t\t\t\tif (fieldLabel.find('.redColor').length === 0) {\n\t\t\t\t\t\t\t\tfieldRow.find('.fieldLabel').append($('<span class=\"redColor\">*</span>'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfieldRow.find('.fieldLabel').find('.redColor').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterVaribleToParsers: function (container) {\n\t\t\tcontainer.find('.configButton').on('click', function (e) {\n\t\t\t\tcontainer.find('.js-toggle-hide .js-base-element').each(function (n, e) {\n\t\t\t\t\tvar currentElement = $(e);\n\t\t\t\t\tif (currentElement.hasClass('d-none')) {\n\t\t\t\t\t\tcurrentElement.find('input,select').prop('disabled', false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentElement.find('input,select').prop('disabled', true);\n\t\t\t\t\t}\n\t\t\t\t\tcurrentElement.toggleClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.varibleToParsers').on('click', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet container = element.closest('.js-base-element');\n\t\t\t\tlet input = container.find('[name=\"' + container.data('name') + '\"]');\n\t\t\t\tlet fieldId = element.closest('form').find('[name=\"fieldid\"]').val();\n\t\t\t\tlet id = 'varibleToParsersModal';\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\tid: id,\n\t\t\t\t\turl:\n\t\t\t\t\t\t'index.php?parent=Settings&module=LayoutEditor&view=VaribleToParsers&fieldId=' +\n\t\t\t\t\t\tfieldId +\n\t\t\t\t\t\t'&defaultValue=' +\n\t\t\t\t\t\tinput.val(),\n\t\t\t\t\tcb: function (modalContainer) {\n\t\t\t\t\t\tmodalContainer.find('[name=\"saveButton\"]').on('click', function () {\n\t\t\t\t\t\t\tinput.val(modalContainer.find('select').val());\n\t\t\t\t\t\t\tapp.hideModalWindow(null, id);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tApp.Fields.Tree.register(container);\n\t\t},\n\t\t/**\n\t\t * Function to register all the events for blocks\n\t\t */\n\t\tregisterBlockEvents: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.makeBlocksListSortable();\n\t\t\tthisInstance.registerAddCustomFieldEvent();\n\t\t\tthisInstance.registerAddSystemFieldEvent();\n\t\t\tthisInstance.registerBlockVisibilityEvent();\n\t\t\tthisInstance.registerInactiveFieldsEvent();\n\t\t\tthisInstance.registerDeleteCustomBlockEvent();\n\t\t},\n\t\t/**\n\t\t * Function to register all the events for fields\n\t\t */\n\t\tregisterFieldEvents: function (contents) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tApp.Fields.Date.register(contents);\n\t\t\tApp.Fields.Picklist.changeSelectElementView(contents);\n\t\t\tthisInstance.makeFieldsListSortable();\n\t\t\tthisInstance.registerDeleteCustomFieldEvent(contents);\n\t\t\tthisInstance.registerEditFieldDetailsClick(contents);\n\n\t\t\tcontents.find(':checkbox').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') == 'readonly') {\n\t\t\t\t\tvar status = $(e.currentTarget).is(':checked');\n\t\t\t\t\tif (!status) {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', false);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register switch module type\n\t\t */\n\t\tregisterSwitch: function () {\n\t\t\tthis.container.find('.js-switch--inventory').on('click', (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('JS_EXTENDED_MODULE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tparams['sourceModule'] = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\t\t\tparams['type'] = event.currentTarget.dataset.value;\n\t\t\t\t\t\tapp.saveAjax('changeModuleType', null, params).done((data) => {\n\t\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\t\tif (data.result.success) {\n\t\t\t\t\t\t\t\t\tthis.container.find('.js-switch--inventory').prop('disabled', true);\n\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to adding inventory field\n\t\t */\n\t\tregisterAddInventoryField() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet container = thisInstance.getInventoryViewLayout();\n\t\t\tcontainer.find('.addInventoryField').on('click', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tlet blockId = currentTarget.closest('.inventoryBlock').data('block-id');\n\t\t\t\tconst progress = $.progressIndicator();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step1&sourceModule=' +\n\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t'&block=' +\n\t\t\t\t\t\tblockId,\n\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\tapp.showScrollBar(modalContainer.find('.well'), {\n\t\t\t\t\t\t\theight: '300px'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.registerStep1(modalContainer, blockId);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to editing inventory field\n\t\t */\n\t\tregisterEditInventoryField: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getInventoryViewLayout();\n\t\t\tcontainer.find('.editInventoryField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = $('#layoutEditorContainer').find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tvar blockId = currentTarget.closest('.inventoryBlock').data('block-id');\n\t\t\t\tvar editField = currentTarget.closest('.editFields');\n\t\t\t\tvar progress = $.progressIndicator();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step2&sourceModule=' +\n\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t'&type=' +\n\t\t\t\t\t\teditField.data('type') +\n\t\t\t\t\t\t'&fieldName=' +\n\t\t\t\t\t\teditField.data('name'),\n\t\t\t\t\tfunction (container) {\n\t\t\t\t\t\tapp.showPopoverElementView(container.find('.js-help-info'));\n\t\t\t\t\t\tthisInstance.registerStep2(container, blockId);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to adding inventory field first step\n\t\t *\n\t\t * @param {jQuery} container\n\t\t * @param {int} blockId\n\t\t */\n\t\tregisterStep1(container, blockId) {\n\t\t\tconst thisInstance = this;\n\t\t\tcontainer.find('.js-next-button').on('click', (e) => {\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tlet type = container.find('select.type').val();\n\t\t\t\tif (type === null) {\n\t\t\t\t\tcontainer\n\t\t\t\t\t\t.find('select.type')\n\t\t\t\t\t\t.validationEngine('showPrompt', app.vtranslate('JS_REQUIRED_FIELD'), 'error', 'topRight', true);\n\t\t\t\t} else {\n\t\t\t\t\tapp.hideModalWindow(() => {\n\t\t\t\t\t\tconst progress = $.progressIndicator({\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step2&sourceModule=' +\n\t\t\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t\t\t'&type=' +\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\t\t\tthisInstance.registerStep2(modalContainer, blockId);\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save inventory field\n\t\t */\n\t\tregisterStep2: function (container, blockId) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet containerInventory = thisInstance.getInventoryViewLayout();\n\t\t\tlet form = container.find('form');\n\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.on('submit', function (e) {\n\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\tlet paramsName = container.find('#params');\n\t\t\t\tif (paramsName.length) {\n\t\t\t\t\tparamsName = JSON.parse(paramsName.val());\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tfor (let i in formData) {\n\t\t\t\t\t\tif ($.inArray(i, paramsName) != -1) {\n\t\t\t\t\t\t\tlet value = formData[i];\n\t\t\t\t\t\t\tif (i === 'modules' && typeof value === 'string') {\n\t\t\t\t\t\t\t\tvalue = [value];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparams[i] = value;\n\t\t\t\t\t\t\tdelete formData[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tformData.params = JSON.stringify(params);\n\t\t\t\t}\n\t\t\t\tlet errorExists = form.validationEngine('validate');\n\t\t\t\tif (errorExists != false) {\n\t\t\t\t\tformData.block = blockId;\n\t\t\t\t\tformData.sourceModule = selectedModule;\n\t\t\t\t\tapp.saveAjax('saveInventoryField', null, formData).done(function (data) {\n\t\t\t\t\t\tlet result = data.result,\n\t\t\t\t\t\t\tsuccess = data.success;\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tif (success && result && result.edit) {\n\t\t\t\t\t\t\tlet liElement = containerInventory.find('[data-id=\"' + result.data.id + '\"]');\n\t\t\t\t\t\t\tliElement.find('.fieldLabel').text(result.data.translate);\n\t\t\t\t\t\t} else if (success && result) {\n\t\t\t\t\t\t\tlet newLiElement = containerInventory.find('.newLiElement').clone(true, true);\n\t\t\t\t\t\t\tnewLiElement\n\t\t\t\t\t\t\t\t.removeClass('d-none newLiElement')\n\t\t\t\t\t\t\t\t.find('.editFields')\n\t\t\t\t\t\t\t\t.attr('data-id', result.data.id)\n\t\t\t\t\t\t\t\t.attr('data-sequence', result.data.sequence)\n\t\t\t\t\t\t\t\t.attr('data-name', result.data.columnName)\n\t\t\t\t\t\t\t\t.attr('data-type', result.data.invtype)\n\t\t\t\t\t\t\t\t.find('.fieldLabel')\n\t\t\t\t\t\t\t\t.text(result.data.translate);\n\t\t\t\t\t\t\tcontainerInventory\n\t\t\t\t\t\t\t\t.find('[data-block-id=\"' + result.data.block + '\"] .connectedSortable')\n\t\t\t\t\t\t\t\t.append(newLiElement);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('form').on('submit', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event for save button of fields sequence\n\t\t */\n\t\tregisterInventoryFieldSequenceSaveClick: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar containerInventory = thisInstance.getInventoryViewLayout();\n\t\t\tvar selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\tcontainerInventory.on('click', '.saveFieldSequence', function (e) {\n\t\t\t\tvar button = $(e.currentTarget);\n\t\t\t\tvar target = button.closest('.inventoryBlock');\n\t\t\t\tvar fieldId = [];\n\t\t\t\ttarget.find('.editFields').each(function () {\n\t\t\t\t\tfieldId.push($(this).data('id'));\n\t\t\t\t});\n\t\t\t\tapp.saveAjax('saveSequence', null, { sourceModule: selectedModule, ids: fieldId }).done(function (data) {\n\t\t\t\t\tbutton.addClass('invisible');\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * removing elements in advanced blocks\n\t\t */\n\t\tregisterDeleteInventoryField: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet container = thisInstance.getInventoryViewLayout();\n\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\tcontainer.find('.deleteInventoryField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet liElement = currentTarget.closest('li');\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('JS_DELETE_INVENTORY_CONFIRMATION'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet editFields = liElement.find('.editFields');\n\t\t\t\t\t\tapp\n\t\t\t\t\t\t\t.saveAjax('delete', null, {\n\t\t\t\t\t\t\t\tsourceModule: selectedModule,\n\t\t\t\t\t\t\t\tfieldName: editFields.data('name')\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\t\t\tlet param = {};\n\t\t\t\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\t\t\t\tliElement.remove();\n\t\t\t\t\t\t\t\t\tparam = { type: 'success', text: app.vtranslate('JS_SAVE_CHANGES') };\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tparam = { type: 'error', text: app.vtranslate('JS_ERROR') };\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(param);\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\trejectedCallback: () => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tloadMultiReferenceFields: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar module = form.find('[name=\"MRVModule\"]').val();\n\t\t\tform.find('[name=\"MRVField\"],[name=\"MRVFilterField\"]').select2('destroy');\n\t\t\tform.find('[name=\"MRVField\"]').html(thisInstance.cacheMRVField.html());\n\t\t\tform.find('[name=\"MRVField\"] optgroup').each(function (index) {\n\t\t\t\tif ($(this).data('module') != module) {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tform.find('[name=\"MRVFilterField\"]').html(thisInstance.cacheMRVFilter.html());\n\t\t\tform.find('[name=\"MRVFilterField\"] option').each(function (index) {\n\t\t\t\tif ($(this).data('module') != module) {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"MRVField\"],[name=\"MRVFilterField\"]'), {\n\t\t\t\twidth: '100%'\n\t\t\t});\n\t\t},\n\t\tcacheMRVField: false,\n\t\tcacheMRVFilter: false,\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tregisterMultiReferenceFieldsChangeEvent: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.cacheMRVField = form.find('[name=\"MRVField\"]').clone(true, true);\n\t\t\tthisInstance.cacheMRVFilter = form.find('[name=\"MRVFilterField\"]').clone(true, true);\n\n\t\t\tform.find('[name=\"MRVModule\"]').on('change', function (e) {\n\t\t\t\tthisInstance.loadMultiReferenceFields(form);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tregisterMultiReferenceFilterFieldChangeEvent: function (form) {\n\t\t\tform.find('[name=\"MRVFilterField\"]').on('change', function (e) {\n\t\t\t\tvar params = {};\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\tparams['action'] = 'Field';\n\t\t\t\tparams['mode'] = 'getPicklist';\n\t\t\t\tparams['rfield'] = form.find('[name=\"MRVFilterField\"]').val();\n\t\t\t\tparams['rmodule'] = form.find('[name=\"MRVModule\"]').val();\n\n\t\t\t\tform.find('[name=\"MRVFilterValue\"]').select2('destroy');\n\t\t\t\tform.find('[name=\"MRVFilterValue\"] option').remove();\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t$.each(data.result, function (index, value) {\n\t\t\t\t\t\tform.find('[name=\"MRVFilterValue\"]').append($('<option>').val(index).html(value));\n\t\t\t\t\t});\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"MRVFilterValue\"]'), {\n\t\t\t\t\t\twidth: '100%'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register label copy\n\t\t */\n\t\tregisterCopyClipboard: function () {\n\t\t\tnew ClipboardJS('.copyFieldLabel', {\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\treturn $('#layoutEditorContainer')\n\t\t\t\t\t\t.find('#' + trigger.getAttribute('data-target'))\n\t\t\t\t\t\t.val();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Context help\n\t\t */\n\t\tregisterContextHelp: function () {\n\t\t\t$(document).on('click', '.js-context-help', function (e) {\n\t\t\t\tconst customConfig = {\n\t\t\t\t\ttoolbar: 'Min'\n\t\t\t\t};\n\t\t\t\tconst element = $(e.currentTarget);\n\t\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'HelpInfo',\n\t\t\t\t\tfield: element.data('field-id')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tapp.showModalWindow(data, (modalContainer) => {\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showPopoverElementView(modalContainer.find('.js-help-info'));\n\t\t\t\t\t\tApp.Fields.Text.Editor.register(modalContainer.find('.js-context-area:visible'), customConfig);\n\t\t\t\t\t\tmodalContainer.find('.js-lang').on('change', function (e) {\n\t\t\t\t\t\t\tlet previous = modalContainer.find('.js-editor:not([disabled])');\n\t\t\t\t\t\t\tApp.Fields.Text.destroyEditor(previous);\n\t\t\t\t\t\t\tprevious.closest('.js-context-block').addClass('d-none');\n\t\t\t\t\t\t\tprevious.prop('disabled', true);\n\t\t\t\t\t\t\tlet element = $(e.currentTarget).val();\n\t\t\t\t\t\t\tlet textArea = modalContainer.find('#' + element + '.js-context-area');\n\t\t\t\t\t\t\ttextArea.prop('disabled', false);\n\t\t\t\t\t\t\ttextArea.closest('.js-context-block').removeClass('d-none');\n\t\t\t\t\t\t\tApp.Fields.Text.destroyEditor(textArea);\n\t\t\t\t\t\t\tmodalContainer.find('.js-help-info').attr('data-content', textArea.val());\n\t\t\t\t\t\t\tApp.Fields.Text.Editor.register(textArea, customConfig);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmodalContainer.find('form').on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tvar form = $(e.currentTarget);\n\t\t\t\t\t\t\tvar params = form.serializeFormData();\n\t\t\t\t\t\t\tif (typeof params.views === 'undefined') {\n\t\t\t\t\t\t\t\tparams.views = form.find('[name=\"views\"]').val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.saveAjax('contextHelp', '', params).done(function (data) {\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tlet prefix = form.find('.js-lang').val();\n\t\t\t\t\t\t\t\tlet textArea = form.find('#' + prefix + '.js-context-area');\n\t\t\t\t\t\t\t\tform.find('.js-help-info').attr('data-content', textArea.val());\n\t\t\t\t\t\t\t\tif (e.originalEvent.submitter.name === 'saveCloseButton') {\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register webservice apps events\n\t\t */\n\t\tregisterWebserviceAppsEvent: function () {\n\t\t\t$(document).on('click', '.js-edit-field-api', function (e) {\n\t\t\t\tconst element = $(e.currentTarget);\n\t\t\t\tlet progressInstance = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'WebserviceAppsModal',\n\t\t\t\t\twa: element.data('wa'),\n\t\t\t\t\tfieldId: element.data('fieldId')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tapp.showModalWindow(data, (modalContainer) => {\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tmodalContainer.find('.js-default-value').on('change', function (e) {\n\t\t\t\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\t\t\t\tlet defaultValueUi = currentTarget.closest('.js-modal-form').find('.js-default-value-container');\n\t\t\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\t\t\tdefaultValueUi.removeClass('d-none');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefaultValueUi.addClass('d-none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmodalContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\t\tmodalContainer.find('.js-modal-form').trigger('submit');\n\t\t\t\t\t\t\telement.closest('li').addClass('u-bg-gray');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * register events for layout editor\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.container = $('#layoutEditorContainer');\n\t\t\tthis.registerBlockEvents();\n\t\t\tthis.registerFieldEvents();\n\t\t\tthis.setInactiveFieldsList();\n\t\t\tthis.registerAddCustomBlockEvent();\n\t\t\tthis.relatedModulesTabClickEvent();\n\t\t\tthis.registerModulesChangeEvent();\n\t\t\tthis.registerRelModulesChangeEvent();\n\t\t\tif (1 === $('#relatedTabOrder').length) {\n\t\t\t\tthis.registerRelatedListEvents();\n\t\t\t\tthis.makeRelatedModuleSortable();\n\t\t\t}\n\t\t\tthis.registerSwitch();\n\t\t\tthis.registerAddInventoryField();\n\t\t\tthis.registerEditInventoryField();\n\t\t\tthis.registerInventoryFieldSequenceSaveClick();\n\t\t\tthis.registerDeleteInventoryField();\n\t\t\tthis.registerFieldSequenceSaveClick();\n\t\t},\n\t\tregisterBasicEvents: function () {\n\t\t\tthis.registerEvents();\n\t\t\tthis.registerCopyClipboard();\n\t\t\tthis.registerContextHelp();\n\t\t\tthis.registerWebserviceAppsEvent();\n\t\t}\n\t}\n);\n\njQuery(function () {\n\tvar instance = new Settings_LayoutEditor_Js();\n\tinstance.registerBasicEvents();\n});\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_FloatingDigits_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_FloatingDigits_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the decimals length\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue < 2 || fieldValue > 5) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_NUMBER_IN_RANGE_2TO5');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_DecimalMaxLength_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_DecimalMaxLength_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the fieldLength\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tvar decimalFieldValue = $('#createFieldForm').find('[name=\"decimal\"]').val();\n\t\t\t\tvar fieldLength = parseInt(64) - parseInt(decimalFieldValue);\n\t\t\t\tif (fieldValue > fieldLength && !(fieldLength < 0) && fieldLength >= 59) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_LENGTH_SHOULD_BE_LESS_THAN_EQUAL_TO') + ' ' + fieldLength;\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_MaxLength_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_DecimalMaxLength_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the fieldLength\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue > 255) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_LENGTH_SHOULD_BE_LESS_THAN_EQUAL_TO') + ' 255';\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_FieldLabel_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_FieldLabel_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field label\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\treturn this.validateValue(fieldValue);\n\t\t},\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tvar specialChars = /[&\\<\\>\\:\\'\\\"\\,]/;\n\n\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_SPECIAL_CHARACTERS') + ' & < > \\' \" : , ' + app.vtranslate('JS_NOT_ALLOWED');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_PicklistFieldValues_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tlet instance = new Vtiger_PicklistFieldValues_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tlet response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field label\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\treturn this.validateValue(this.getElement().val());\n\t\t},\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tlet specialChars = /[\\<\\>\\\"\\,\\#]/;\n\t\t\tlet r = true;\n\t\t\t$.each(fieldValue, (i, val) => {\n\t\t\t\tif (specialChars.test(val)) {\n\t\t\t\t\tthis.setError(app.vtranslate('JS_SPECIAL_CHARACTERS') + ' < > \" , # ' + app.vtranslate('JS_NOT_ALLOWED'));\n\t\t\t\t\tr = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn r;\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","updatedBlockSequence","inActiveFieldsList","updatedBlockFieldsList","updatedBlocksList","blockNamesList","setInactiveFieldsList","thisInstance","contents","find","json","length","JSON","parse","val","makeBlocksListSortable","table","sortable","containment","items","revert","tolerance","cursor","update","updateBlockSequence","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","sequence","stringify","updateBlocksListByOrder","params","module","app","getModuleName","parent","getParentModuleName","action","mode","AppConnector","request","done","text","vtranslate","Settings_Vtiger_Index_Js","showMessage","fail","each","index","domElement","blockTable","blockId","data","actualBlockSequence","expectedBlockSequence","registerRelatedListEvents","relatedList","App","Fields","Picklist","showSelect2ElementView","sortableCb","currentTarget","updateSelectedFields","updateCustomView","on","e","relatedModule","closest","removeClass","show","hide","changeStatusRelatedModule","removeRelation","changeStateFavorites","value","validationEngine","changeRelatedViewType","contentsDiv","addRelationContainer","clone","callBackFunction","not","addClass","form","serializeFormData","extend","response","result","success","getRelModuleLayoutEditor","html","registerEvents","message","type","showModalWindow","getSelectedFields","target","selectedFields","push","id","name","makeRelatedModuleSortable","relatedModulesContainer","modulesList","handle","updateSequenceRelatedModule","relationId","types","error","textTrusted","status","showConfirmModal","confirmedCallback","remove","modules","inventory","fields","cv","showNotify","makeFieldsListSortable","connectWith","ui","currentField","item","hasClass","showSaveFieldSequenceButton","getDetailViewLayout","createUpdatedBlocksList","sender","olderBlock","reArrangeBlockFields","getInventoryViewLayout","layout","saveButton","isHidden","isInvisible","hideSaveFieldSequenceButton","block","updatedBlockId","inArray","leftSideContainer","rightSideContainer","children","lastElementInRightContainer","append","lastElementInLeftContainer","createUpdatedBlockFieldsList","updatedBlock","firstBlockSortFields","editFields","expectedFieldSequence","i","fieldEle","fieldId","fieldid","secondBlockSortFields","secondEditFields","sequenceValue","registerFieldSequenceSaveClick","_this","updateFieldSequence","progress","updatedFields","window","location","reload","checkPicklistExist","fieldNameValue","aDeferred","Deferred","fieldName","toLowerCase","resolve","rejectedCallback","promise","registerAddSystemFieldEvent","_this2","selectedModule","modalContainer","sourceModule","field","registerAddCustomFieldEvent","_this3","addFieldContainer","width","attr","tags","tokenSeparators","registerFieldTypeChangeEvent","registerMultiReferenceFieldsChangeEvent","registerMultiReferenceFilterFieldChangeEvent","getvalidationEngineOptions","onValidationComplete","valid","fieldTypeValue","validateFieldsValue","saveCustomField","removeAttr","concat","err","errorLog","addCustomField","hideModalWindow","title","code","setBlocksListArray","blocksListSelect","ele","option","label","modalHeader","Window","lastModalId","smallLoadingImage","imageContainerCss","display","\"margin-left\"","blockid","errorObj","responseText","reject","lengthInput","lengthValidator","maxLengthValidator","decimalValidator","selectedOption","decimalFieldUi","decimalInput","maxFloatingDigits","moduleList","select2","loadMultiReferenceFields","registerAddCustomBlockEvent","addBlockContainer","fieldLabel","Object","create","validationEngineOptions","formData","saveBlockDetails","displayNewCustomBlock","updateNewSequenceForBlocks","sequenceList","appendNewBlockToBlocksList","preventDefault","beforeBlockId","beforeBlock","newBlockCloneCopy","isAddCustomFieldEnabled","after","hiddenAddBlockModel","removeBlockFromBlocksList","registerBlockVisibilityEvent","updateBlockStatus","blockStatus","display_status","registerInactiveFieldsEvent","currentBlock","isEmptyObject","inActiveFieldsContainer","showHiddenFields","createReactivateFieldslist","self","detail","key","blocks","element","is","reActivateHiddenFields","fieldIdList","messageParams","registerDeleteCustomBlockEvent","deleteCustomBlock","removeDeletedBlock","deletedTable","fadeOut","registerDeleteCustomFieldEvent","deleteCustomField","registerFieldDetailsChange","quickcreateEle","filter","presenceEle","defaultValueUi","el","relFieldsElement","relatedModulesTabClickEvent","relatedContainer","relatedTab","showRelatedTabModulesList","view","getModuleLayoutEditor","requestPjax","registerModulesChangeEvent","registerRelModulesChangeEvent","lockCheckbox","prop","registerEditFieldDetailsClick","fieldRow","presence","url","cb","registerVaribleToParsers","registerEventForClockPicker","inputmask","when","selectIcon","skipImage","sendByAjaxCb","mandatory","n","currentElement","toggleClass","input","Tree","register","registerBlockEvents","registerFieldEvents","Date","changeSelectElementView","registerSwitch","_this4","event","dataset","saveAjax","registerAddInventoryField","_this5","showScrollBar","height","registerStep1","registerEditInventoryField","editField","showPopoverElementView","registerStep2","_this6","containerInventory","paramsName","errorExists","edit","liElement","translate","newLiElement","columnName","invtype","registerInventoryFieldSequenceSaveClick","button","ids","registerDeleteInventoryField","param","cacheMRVField","cacheMRVFilter","rfield","rmodule","registerCopyClipboard","ClipboardJS","trigger","getAttribute","registerContextHelp","document","customConfig","toolbar","progressInstance","Text","Editor","previous","destroyEditor","textArea","views","prefix","originalEvent","submitter","registerWebserviceAppsEvent","wa","registerBasicEvents","jQuery","instance","Settings_LayoutEditor_Js","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","rangeInstance","Vtiger_FloatingDigits_Validator_Js","setElement","validate","getError","_super","fieldValue","getFieldValue","errorInfo","setError","test","Vtiger_DecimalMaxLength_Validator_Js","decimalFieldValue","fieldLength","parseInt","Vtiger_Base_Validator_Js","Vtiger_FieldLabel_Validator_Js","validateValue","Vtiger_PicklistFieldValues_Validator_Js","getElement","_this7","specialChars","r"],"mappings":"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"}