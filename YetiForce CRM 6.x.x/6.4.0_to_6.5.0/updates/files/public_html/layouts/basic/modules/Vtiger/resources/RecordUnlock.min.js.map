{"version":3,"file":"RecordUnlock.min.js","sources":["RecordUnlock.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_RecordUnlock_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents(modalContainer) {\n\t\t\tmodalContainer.find('form').on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst progressIndicator = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t});\n\t\t\t\tAppConnector.request($(this).serializeFormData()).done((response) => {\n\t\t\t\t\tlet result = response.result;\n\t\t\t\t\tif (result.success && result.url) {\n\t\t\t\t\t\tif (CONFIG.view === 'ListPreview') {\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t$('.listPreviewframe')[0].src = result.url.replace('view=Detail', 'view=DetailPreview');\n\t\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.location.href = result.url;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["$","Class","registerEvents","modalContainer","find","on","e","preventDefault","progressIndicator","position","blockInfo","enabled","AppConnector","request","serializeFormData","done","response","result","success","url","CONFIG","view","app","hideModalWindow","src","replace","mode","window","location","href","showNotify","text","vtranslate","type"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,CAAC,CAACC,KAAK,CACN,sBAAsB,CACtB,EAAE,CACF;AAED;AACA;AACA,KACEC,cAAc,CAAAA,SAAAA,cAAAA,CAACC,cAAc,CAAE,CAC9BA,cAAc,CAACC,IAAI,CAAC,MAAM,CAAC,CAACC,EAAE,CAAC,QAAQ,CAAE,SAAUC,CAAC,CAAE,CACrDA,CAAC,CAACC,cAAc,EAAE,CAClB,IAAMC,iBAAiB,CAAGR,CAAC,CAACQ,iBAAiB,CAAC,CAC7CC,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CAAEC,OAAO,CAAA,CAAA,CAAO,CAC5B,CAAC,CAAC,CACFC,YAAY,CAACC,OAAO,CAACb,CAAC,CAAC,IAAI,CAAC,CAACc,iBAAiB,EAAE,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CACpE,IAAIC,MAAM,CAAGD,QAAQ,CAACC,MAAM,CACxBA,MAAM,CAACC,OAAO,EAAID,MAAM,CAACE,GAAG,CACX,aAAa,GAA7BC,MAAM,CAACC,IAAsB,EAChCC,GAAG,CAACC,eAAe,EAAE,CACrBvB,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,CAACwB,GAAG,CAAGP,MAAM,CAACE,GAAG,CAACM,OAAO,CAAC,aAAa,CAAE,oBAAoB,CAAC,CACvFjB,iBAAiB,CAACA,iBAAiB,CAAC,CAAEkB,IAAI,CAAE,MAAO,CAAC,CAAC,EAErDC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGZ,MAAM,CAACE,GAAG,EAGlCG,GAAG,CAACQ,UAAU,CAAC,CACdC,IAAI,CAAET,GAAG,CAACU,UAAU,CAAC,UAAU,CAAC,CAChCC,IAAI,CAAE,OACP,CAAC,CAAC,CACFzB,iBAAiB,CAACA,iBAAiB,CAAC,CAAEkB,IAAI,CAAE,MAAO,CAAC,CAAC,EAEvD,CAAC,EACF,CAAC,EACF,CACD,CACD,CAAC;;"}