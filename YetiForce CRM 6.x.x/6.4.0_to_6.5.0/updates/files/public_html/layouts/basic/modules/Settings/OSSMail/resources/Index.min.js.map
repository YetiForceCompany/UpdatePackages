{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_OSSMail_Index_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Container (Form)\n\t\t */\n\t\tcontainer: null,\n\t\t/**\n\t\t * Set container (Form)\n\t\t * @param {Object} element\n\t\t */\n\t\tsetContainer: function (element) {\n\t\t\tthis.container = element;\n\t\t},\n\t\t/**\n\t\t * Get Container (Form)\n\t\t * @returns {Object}\n\t\t */\n\t\tgetContainer: function () {\n\t\t\treturn this.container;\n\t\t},\n\t\t/**\n\t\t * Register the field with hosts\n\t\t */\n\t\tregisterDefaultHost: function () {\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.getContainer().find('[name=\"imap_host\"]'), {\n\t\t\t\tdelimiter: ',',\n\t\t\t\tpersist: false,\n\t\t\t\ttags: true,\n\t\t\t\tplaceholder: app.vtranslate('JS_SELECT_OR_WRITE_AND_PRESS_ENTER'),\n\t\t\t\tcreate: function (input) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: input,\n\t\t\t\t\t\ttext: input\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register events for form\n\t\t * @returns {undefined}\n\t\t */\n\t\tregisterForm: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getContainer();\n\t\t\tcontainer.on('submit', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\t\tAppConnector.request(container.serializeFormData()).done(function (data) {\n\t\t\t\t\t\tvar response = data['result'],\n\t\t\t\t\t\t\tparams;\n\t\t\t\t\t\tif (response['success']) {\n\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Main function\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.setContainer($('.roundcubeConfig'));\n\t\t\tthis.registerDefaultHost();\n\t\t\tthis.registerForm();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","setContainer","element","getContainer","registerDefaultHost","App","Fields","Picklist","showSelect2ElementView","find","delimiter","persist","tags","placeholder","app","vtranslate","create","input","value","text","registerForm","thisInstance","on","event","preventDefault","validationEngine","validationEngineOptions","AppConnector","request","serializeFormData","done","data","params","response","result","success","type","showNotify","registerEvents","$"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,MAAM,CAACC,KAAK,CACX,2BAA2B,CAC3B,EAAE,CACF;AAED;AACA,KACEC,SAAS,CAAE,IAAI;AAEjB;AACA;AACA,KACEC,YAAY,CAAE,SAAAA,YAAAA,CAAUC,OAAO,CAAE,CAChC,IAAI,CAACF,SAAS,CAAGE,QAClB,CAAC;AAEH;AACA;AACA,KACEC,YAAY,CAAE,SAAAA,YAAA,EAAY,CACzB,OAAW,IAAA,CAACH,SACb,CAAC;AAEH;AACA,KACEI,mBAAmB,CAAE,SAAAA,mBAAAA,EAAY,CAChCC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,sBAAsB,CAAC,IAAI,CAACL,YAAY,EAAE,CAACM,IAAI,CAAC,sBAAoB,CAAC,CAAE,CAC1FC,SAAS,CAAE,GAAG,CACdC,OAAO,CAAO,CAAA,CAAA,CACdC,IAAI,CAAA,CAAA,CAAM,CACVC,WAAW,CAAEC,GAAG,CAACC,UAAU,CAAC,oCAAoC,CAAC,CACjEC,MAAM,CAAE,SAAAA,MAAUC,CAAAA,KAAK,CAAE,CACxB,OAAO,CACNC,KAAK,CAAED,KAAK,CACZE,IAAI,CAAEF,KACP,CACD,CACD,CAAC,EACF,CAAC;AAGH;AACA;AACA,KACEG,YAAY,CAAE,SAAAA,YAAAA,EAAY,CAAA,IACrBC,YAAY,CAAG,IAAI,CACnBrB,SAAS,CAAGqB,YAAY,CAAClB,YAAY,EAAE,CAC3CH,SAAS,CAACsB,EAAE,CAAC,QAAQ,CAAE,SAAUC,KAAK,CAAE,CACvCA,KAAK,CAACC,cAAc,EAAE,CACtBxB,SAAS,CAACyB,gBAAgB,CAACX,GAAG,CAACY,uBAAuB,CAAC,CACnD1B,SAAS,CAACyB,gBAAgB,CAAC,UAAU,CAAC,EACzCE,YAAY,CAACC,OAAO,CAAC5B,SAAS,CAAC6B,iBAAiB,EAAE,CAAC,CAACC,IAAI,CAAC,SAAUC,IAAI,CAAE,CACxE,IACCC,MAAM,CADHC,QAAQ,CAAGF,IAAI,CAAAG,MAAU,CAEzBD,QAAQ,CAAAE,OAAW,EACtBH,MAAM,CAAG,CACRb,IAAI,CAAEc,QAAQ,CAAAF,IAAQ,CACtBK,IAAI,CAAE,MACP,CAAC,CACDtB,GAAG,CAACuB,UAAU,CAACL,MAAM,CAAC,GAEtBA,MAAM,CAAG,CACRb,IAAI,CAAEc,QAAQ,CAAAF,IAAQ,CACtBK,IAAI,CAAE,OACP,CAAC,CACDtB,GAAG,CAACuB,UAAU,CAACL,MAAM,CAAC,EAExB,CAAC,EAEH,CAAC,EACF,CAAC;AAEH;AACA,KACEM,cAAc,CAAE,SAAAA,cAAAA,EAAY,CAC3B,IAAI,CAACrC,YAAY,CAACsC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CACxC,IAAI,CAACnC,mBAAmB,EAAE,CAC1B,IAAI,CAACgB,YAAY,GAClB,CACD,CACD,CAAC;;"}