{"version":3,"file":"QuickCreateEditor.min.js","sources":["QuickCreateEditor.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_QuickCreateEditor_Js',\n\t{},\n\t{\n\t\tupdatedBlockSequence: {},\n\n\t\tupdatedBlockFieldsList: [],\n\n\t\t/**\n\t\t * Function which will enable the save button in realted tabs list\n\t\t */\n\t\tshowSaveButton: function () {\n\t\t\tvar relatedList = jQuery('#relatedTabOrder');\n\t\t\tvar saveButton = relatedList.find('.saveRelatedList');\n\t\t\tif (saveButton.attr('disabled') == 'disabled') {\n\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function to regiser the event to make the fields sortable\n\t\t */\n\t\tmakeFieldsListSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = jQuery('#quickCreateEditorContainer').find('.contents');\n\t\t\tjQuery('#quickCreateEditorContainer .contents .editFieldsTable').each(function () {\n\t\t\t\tjQuery(this)\n\t\t\t\t\t.find('ul[name=sortable1], ul[name=sortable2]')\n\t\t\t\t\t.sortable({\n\t\t\t\t\t\tcontainment: '#moduleBlocks',\n\t\t\t\t\t\trevert: true,\n\t\t\t\t\t\ttolerance: 'pointer',\n\t\t\t\t\t\tcursor: 'move',\n\t\t\t\t\t\tconnectWith: jQuery(this).find('.connectedSortable'),\n\t\t\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\t\t\tthisInstance.showSaveFieldSequenceButton();\n\t\t\t\t\t\t\t// rearrange the older block fields\n\t\t\t\t\t\t\tif (ui.sender) {\n\t\t\t\t\t\t\t\tvar olderBlock = ui.sender.closest('.editFieldsTable');\n\t\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(olderBlock);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to show the save button of fieldSequence\n\t\t */\n\t\tshowSaveFieldSequenceButton: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar layout = jQuery('#detailViewLayout');\n\t\t\tvar saveButton = layout.find('.saveFieldSequence');\n\t\t\tthisInstance.updatedBlockFieldsList = [];\n\t\t\tsaveButton.removeClass('visibility');\n\t\t},\n\n\t\t/**\n\t\t * Function which will hide the saveFieldSequence button\n\t\t */\n\t\thideSaveFieldSequenceButton: function () {\n\t\t\tvar layout = jQuery('#detailViewLayout');\n\t\t\tvar saveButton = layout.find('.saveFieldSequence');\n\t\t\tsaveButton.addClass('visibility');\n\t\t},\n\n\t\t/**\n\t\t * Function that rearranges fields in the block when the fields are moved\n\t\t * @param <jQuery object> block\n\t\t */\n\t\treArrangeBlockFields: function (block) {\n\t\t\t// 1.get the containers, 2.compare the length, 3.if uneven then move the last element\n\t\t\tvar leftSideContainer = block.find('ul[name=sortable1]');\n\t\t\tvar rightSideContainer = block.find('ul[name=sortable2]');\n\t\t\tif (leftSideContainer.children().length < rightSideContainer.children().length) {\n\t\t\t\tvar lastElementInRightContainer = rightSideContainer.children(':last');\n\t\t\t\tleftSideContainer.append(lastElementInRightContainer);\n\t\t\t} else if (leftSideContainer.children().length > rightSideContainer.children().length + 1) {\n\t\t\t\t//greater than 1\n\t\t\t\tvar lastElementInLeftContainer = leftSideContainer.children(':last');\n\t\t\t\trightSideContainer.append(lastElementInLeftContainer);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to create the list of updated blocks with all the fields and their sequences\n\t\t */\n\t\tcreateUpdatedBlockFieldsList: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tconst contents = $('#quickCreateEditorContainer').find('.contents');\n\t\t\tconst updatedBlock = contents.find('.block');\n\t\t\tif (app.getMainParams('quickCreateLayout') === 'blocks') {\n\t\t\t\tupdatedBlock.each(function (i, domElement) {\n\t\t\t\t\tlet updatedBlock = jQuery(domElement);\n\t\t\t\t\tlet firstBlockSortFields = updatedBlock.find('ul[name=sortable1]');\n\t\t\t\t\tlet editFields = firstBlockSortFields.find('.editFields');\n\t\t\t\t\tlet expectedFieldSequence = 1;\n\t\t\t\t\teditFields.each(function (i, domElement) {\n\t\t\t\t\t\tlet fieldEle = $(domElement);\n\t\t\t\t\t\tlet fieldId = fieldEle.data('fieldId');\n\t\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\t\tsequence: expectedFieldSequence\n\t\t\t\t\t\t});\n\t\t\t\t\t\texpectedFieldSequence = expectedFieldSequence + 2;\n\t\t\t\t\t});\n\t\t\t\t\tlet secondBlockSortFields = updatedBlock.find('ul[name=sortable2]');\n\t\t\t\t\tlet secondEditFields = secondBlockSortFields.find('.editFields');\n\t\t\t\t\tlet sequenceValue = 2;\n\t\t\t\t\tsecondEditFields.each(function (i, domElement) {\n\t\t\t\t\t\tlet fieldEle = $(domElement);\n\t\t\t\t\t\tlet fieldId = fieldEle.data('fieldId');\n\t\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\t\tsequence: sequenceValue\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsequenceValue = sequenceValue + 2;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet firstBlockSortFields = updatedBlock.find('ul[name=sortable1]');\n\t\t\t\tlet tmpArray = [];\n\t\t\t\tfirstBlockSortFields.each(function (i, domElement) {\n\t\t\t\t\tlet fieldEle = jQuery(domElement);\n\t\t\t\t\tlet eleAmount = fieldEle.find('.editFields').length;\n\t\t\t\t\ttmpArray.push(eleAmount);\n\t\t\t\t});\n\t\t\t\tlet editFields = firstBlockSortFields.find('.editFields');\n\t\t\t\tlet expectedFieldSequence = 1;\n\t\t\t\teditFields.each(function (i, domElement) {\n\t\t\t\t\tlet fieldEle = jQuery(domElement);\n\t\t\t\t\tlet fieldId = fieldEle.data('fieldId');\n\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\tsequence: expectedFieldSequence\n\t\t\t\t\t});\n\t\t\t\t\texpectedFieldSequence = expectedFieldSequence + 2;\n\t\t\t\t\tif (i == tmpArray[0] - 1) {\n\t\t\t\t\t\texpectedFieldSequence = 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet secondBlockSortFields = updatedBlock.find('ul[name=sortable2]');\n\t\t\t\tlet secondEditFields = secondBlockSortFields.find('.editFields');\n\t\t\t\tlet sequenceValue = 2;\n\t\t\t\ttmpArray = [];\n\t\t\t\tsecondBlockSortFields.each(function (i, domElement) {\n\t\t\t\t\tlet fieldEle = jQuery(domElement);\n\t\t\t\t\tlet eleAmount = fieldEle.find('.editFields').length;\n\t\t\t\t\ttmpArray.push(eleAmount);\n\t\t\t\t});\n\t\t\t\tsecondEditFields.each(function (i, domElement) {\n\t\t\t\t\tlet fieldEle = jQuery(domElement);\n\t\t\t\t\tlet fieldId = fieldEle.data('fieldId');\n\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({ fieldid: fieldId, sequence: sequenceValue });\n\t\t\t\t\tsequenceValue = sequenceValue + 2;\n\t\t\t\t\tif (i == tmpArray[0] - 1) {\n\t\t\t\t\t\tsequenceValue = 2;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to register click event for save button of fields sequence\n\t\t */\n\t\tregisterFieldSequenceSaveClick: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar layout = jQuery('#detailViewLayout');\n\t\t\tlayout.on('click', '.saveFieldSequence', function () {\n\t\t\t\tthisInstance.hideSaveFieldSequenceButton();\n\t\t\t\tthisInstance.createUpdatedBlockFieldsList();\n\t\t\t\tthisInstance.updateFieldSequence();\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function will save the field sequences\n\t\t */\n\t\tupdateFieldSequence: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveSequenceNumber';\n\t\t\tparams['mode'] = 'move';\n\t\t\tparams['updatedFields'] = thisInstance.updatedBlockFieldsList;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t//window.location.reload();\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_FIELD_SEQUENCE_UPDATED')\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to register click event for drop-downs in fields list\n\t\t */\n\t\tavoidDropDownClick: function (dropDownContainer) {\n\t\t\tdropDownContainer.find('.dropdown-menu').on('click', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * Function to add clickoutside event on the element - By using outside events plugin\n\t\t * @params element---On which element you want to apply the click outside event\n\t\t * @params callbackFunction---This function will contain the actions triggered after clickoutside event\n\t\t */\n\t\taddClickOutSideEvent: function (element, callbackFunction) {\n\t\t\telement.one('clickoutside', callbackFunction);\n\t\t},\n\t\t/**\n\t\t * Function to register the change event for layout editor modules list\n\t\t */\n\t\tregisterModulesChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = jQuery('#quickCreateEditorContainer');\n\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('[name=\"quickCreateEditorModules\"]'), {\n\t\t\t\tdropdownCss: { 'z-index': 0 }\n\t\t\t});\n\n\t\t\tcontainer.on('change', '[name=\"quickCreateEditorModules\"]', function (e) {\n\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\t\tvar selectedModule = currentTarget.val();\n\t\t\t\tthisInstance.getModuleQuickCreateEditor(selectedModule).done(function (data) {\n\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to get the respective module layout editor through pjax\n\t\t */\n\t\tgetModuleQuickCreateEditor: function (selectedModule) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['sourceModule'] = selectedModule;\n\n\t\t\tAppConnector.requestPjax(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * register events for layout editor\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tvar thisInstance = this;\n\n\t\t\tthisInstance.registerModulesChangeEvent();\n\t\t\tthisInstance.makeFieldsListSortable();\n\t\t\tthisInstance.registerFieldSequenceSaveClick();\n\t\t}\n\t}\n);\n\njQuery(document).ready(function () {\n\tvar instance = new Settings_QuickCreateEditor_Js();\n\tinstance.registerEvents();\n});\n"],"names":["jQuery","Class","updatedBlockSequence","updatedBlockFieldsList","showSaveButton","relatedList","saveButton","find","attr","removeAttr","makeFieldsListSortable","thisInstance","contents","each","sortable","containment","revert","tolerance","cursor","connectWith","update","e","ui","showSaveFieldSequenceButton","sender","olderBlock","closest","reArrangeBlockFields","layout","removeClass","hideSaveFieldSequenceButton","addClass","block","leftSideContainer","rightSideContainer","children","length","lastElementInRightContainer","append","lastElementInLeftContainer","createUpdatedBlockFieldsList","$","updatedBlock","app","getMainParams","i","domElement","firstBlockSortFields","editFields","expectedFieldSequence","fieldEle","fieldId","data","push","fieldid","sequence","secondBlockSortFields","secondEditFields","sequenceValue","tmpArray","eleAmount","registerFieldSequenceSaveClick","on","updateFieldSequence","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","params","module","getModuleName","parent","getParentModuleName","action","mode","updatedFields","AppConnector","request","done","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","fail","avoidDropDownClick","dropDownContainer","stopPropagation","addClickOutSideEvent","element","callbackFunction","one","registerModulesChangeEvent","container","contentsDiv","App","Fields","Picklist","showSelect2ElementView","dropdownCss","\"z-index\"","currentTarget","selectedModule","val","getModuleQuickCreateEditor","html","registerEvents","aDeferred","Deferred","view","sourceModule","requestPjax","resolve","reject","promise","document","ready","instance","Settings_QuickCreateEditor_Js"],"mappings":"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"}