{"version":3,"file":"SharingAccess.min.js","sources":["SharingAccess.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Sharing_Access_Js',\n\t{},\n\t{\n\t\tcontentTable: false,\n\t\tcontentsContainer: false,\n\n\t\tinit: function () {\n\t\t\tthis.setContentTable('.sharingAccessDetails').setContentContainer('#sharingAccessContainer');\n\t\t},\n\n\t\tsetContentTable: function (element) {\n\t\t\tif (element instanceof jQuery) {\n\t\t\t\tthis.contentTable = element;\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tthis.contentTable = jQuery(element);\n\t\t\treturn this;\n\t\t},\n\n\t\tsetContentContainer: function (element) {\n\t\t\tif (element instanceof jQuery) {\n\t\t\t\tthis.contentsContainer = element;\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tthis.contentsContainer = jQuery(element);\n\t\t\treturn this;\n\t\t},\n\n\t\tgetContentTable: function () {\n\t\t\treturn this.contentTable;\n\t\t},\n\n\t\tgetContentContainer: function () {\n\t\t\treturn this.contentsContainer;\n\t\t},\n\n\t\tgetCustomRuleContainerClassName: function (parentModuleName) {\n\t\t\treturn 'js-' + parentModuleName + '-custom-rule-list';\n\t\t},\n\n\t\tshowCustomRulesNextToElement: function (parentElement, rulesListElement) {\n\t\t\tvar moduleName = parentElement.data('moduleName');\n\t\t\tvar trElementForRuleList = jQuery(\n\t\t\t\t'<tr class=\"' +\n\t\t\t\t\tthis.getCustomRuleContainerClassName(moduleName) +\n\t\t\t\t\t'\"><td class=\"js-custom-rule-container\" data-js=\"container\" colspan=\"6\"></td></tr>'\n\t\t\t);\n\t\t\tjQuery('td', trElementForRuleList).append(rulesListElement);\n\t\t\tjQuery('.ruleListContainer', trElementForRuleList).css('display', 'none');\n\t\t\tparentElement.after(trElementForRuleList).addClass('collapseRow');\n\t\t\tjQuery('.ruleListContainer', trElementForRuleList).slideDown('slow');\n\t\t},\n\n\t\t/*\n\t\t * function to get custom rules data based on the module\n\t\t * @params: forModule.\n\t\t */\n\t\tgetCustomRules: function (forModule) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar params = {};\n\t\t\tparams['for_module'] = forModule;\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'IndexAjax';\n\t\t\tparams['mode'] = 'showRules';\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\tsave: function (data) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (typeof data === 'undefined') {\n\t\t\t\tdata = {};\n\t\t\t}\n\t\t\tAppConnector.request(data)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, errorThrown) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/*\n\t\t * function to Save the Custom Rule\n\t\t */\n\t\tsaveCustomRule: function (form, e) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet data = form.serializeFormData();\n\t\t\tif (typeof data === 'undefined') {\n\t\t\t\tdata = {};\n\t\t\t}\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tdata.module = app.getModuleName();\n\t\t\tdata.parent = app.getParentModuleName();\n\t\t\tdata.action = 'IndexAjax';\n\t\t\tdata.mode = 'saveRule';\n\t\t\tAppConnector.request(data).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tlet response = data.result;\n\t\t\t\tif (response && response.success) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tlet moduleName = $('[name=\"for_module\"]', form).val();\n\t\t\t\t\tthisInstance.loadCustomRulesList(moduleName);\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\ttext: response.message\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: 'JS_ERROR'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * function to load the CustomRules List for the module after save the custom rule\n\t\t */\n\t\tloadCustomRulesList: function (moduleName) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contentTable = this.getContentTable();\n\n\t\t\tthisInstance.getCustomRules(moduleName).done(function (data) {\n\t\t\t\tvar customRuleListContainer = jQuery(\n\t\t\t\t\t'.' + thisInstance.getCustomRuleContainerClassName(moduleName),\n\t\t\t\t\tcontentTable\n\t\t\t\t);\n\t\t\t\tcustomRuleListContainer.find('td.js-custom-rule-container').html(data);\n\t\t\t});\n\t\t},\n\n\t\teditCustomRule: function (url) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tapp.showModalWindow(null, url, function (modalContainer) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tvar form = modalContainer.find('.js-edit-rule-form');\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t//To stop the submit of form\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar formElement = $(e.currentTarget);\n\t\t\t\t\tthisInstance.saveCustomRule(formElement, e);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * function to delete Custom Rule from the list\n\t\t * @params: deleteElement.\n\t\t */\n\t\tdeleteCustomRule: function (deleteElement) {\n\t\t\tlet deleteUrl = deleteElement.data('url');\n\t\t\tlet currentRow = deleteElement.closest('.js-custom-rule-entries');\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttitle: app.vtranslate('LBL_DELETE_CONFIRMATION'),\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tAppConnector.request(deleteUrl).done(function (data) {\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\t\tcurrentRow.fadeOut('slow');\n\t\t\t\t\t\t\tvar customRuleTable = currentRow.closest('.js-custom-rule-table');\n\t\t\t\t\t\t\t//after delete the custom rule, update the sequence number of existing rules\n\t\t\t\t\t\t\tvar nextRows = currentRow.nextAll('js-custom-rule-entries');\n\t\t\t\t\t\t\tif (nextRows.length > 0) {\n\t\t\t\t\t\t\t\tjQuery.each(nextRows, function (i, element) {\n\t\t\t\t\t\t\t\t\tvar currentSequenceElement = jQuery(element).find('.js-sequence-number');\n\t\t\t\t\t\t\t\t\tvar updatedNumber = parseInt(currentSequenceElement.text()) - 1;\n\t\t\t\t\t\t\t\t\tcurrentSequenceElement.text(updatedNumber);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurrentRow.remove();\n\t\t\t\t\t\t\tvar customRuleEntries = customRuleTable.find('.js-custom-rule-entries');\n\t\t\t\t\t\t\t//if there are no custom rule entries, we have to hide headers also and show the empty message div\n\t\t\t\t\t\t\tif (customRuleEntries.length < 1) {\n\t\t\t\t\t\t\t\tcustomRuleTable.find('.js-custom-rule-headers').fadeOut('slow').remove();\n\t\t\t\t\t\t\t\tcustomRuleTable.parent().find('.js-record-details').removeClass('d-none');\n\t\t\t\t\t\t\t\tcustomRuleTable.addClass('d-none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\ttext: 'JS_ERROR'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * function to register click event for radio buttons\n\t\t */\n\t\tregisterSharingAccessEdit: function () {\n\t\t\tvar contentContainer = this.getContentContainer();\n\t\t\tcontentContainer.one('click', 'input:radio', function (e) {\n\t\t\t\tcontentContainer.find('button:submit').removeClass('d-none');\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * Function to register change event for dependent modules privileges\n\t\t */\n\t\tregisterDependentModulesPrivilegesChange: function () {\n\t\t\tlet container = this.getContentContainer();\n\t\t\tlet contentTable = this.getContentTable();\n\t\t\tlet modulesList = JSON.parse(container.find('.dependentModules').val());\n\n\t\t\t$.each(modulesList, function (moduleName, dependentList) {\n\t\t\t\tvar dependentPrivilege = contentTable\n\t\t\t\t\t.find('[data-module-name=\"' + moduleName + '\"]')\n\t\t\t\t\t.find('[data-action-state=\"Private\"]');\n\t\t\t\tdependentPrivilege.on('change', function (e) {\n\t\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_DEPENDENT_PRIVILEGES_SHOULD_CHANGE'),\n\t\t\t\t\t\t\thide: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$.each(dependentList, function (index, module) {\n\t\t\t\t\t\t\tcontentTable\n\t\t\t\t\t\t\t\t.find('[data-module-name=\"' + module + '\"]')\n\t\t\t\t\t\t\t\t.find('[data-action-state=\"Private\"]')\n\t\t\t\t\t\t\t\t.attr('checked', 'checked');\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tregisterEvents: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tlet contentTable = thisInstance.getContentTable(),\n\t\t\t\tcontentContainer = thisInstance.getContentContainer();\n\t\t\tthisInstance.registerSharingAccessEdit();\n\t\t\tthisInstance.registerDependentModulesPrivilegesChange();\n\t\t\tcontentTable.on('click', 'td.triggerCustomSharingAccess', function (e) {\n\t\t\t\tlet element = $(e.currentTarget),\n\t\t\t\t\ttrElement = element.closest('tr'),\n\t\t\t\t\tmoduleName = trElement.data('moduleName'),\n\t\t\t\t\tcustomRuleListContainer = $('.' + thisInstance.getCustomRuleContainerClassName(moduleName), contentTable);\n\t\t\t\tif (customRuleListContainer.length > 0) {\n\t\t\t\t\tif (app.isHidden(customRuleListContainer)) {\n\t\t\t\t\t\tcustomRuleListContainer.show();\n\t\t\t\t\t\t$('.ruleListContainer', customRuleListContainer).slideDown('slow');\n\t\t\t\t\t\ttrElement.addClass('collapseRow');\n\t\t\t\t\t\telement.find('button.arrowDown').addClass('d-none');\n\t\t\t\t\t\telement.find('button.arrowUp').removeClass('d-none').show();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.ruleListContainer', customRuleListContainer).slideUp('slow', function (e) {\n\t\t\t\t\t\t\tcustomRuleListContainer.css('display', 'none');\n\t\t\t\t\t\t});\n\t\t\t\t\t\telement.find('button.arrowUp').addClass('d-none');\n\t\t\t\t\t\telement.find('button.arrowDown').removeClass('d-none').show();\n\t\t\t\t\t\ttrElement.removeClass('collapseRow');\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthisInstance.getCustomRules(moduleName).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthisInstance.showCustomRulesNextToElement(trElement, data);\n\t\t\t\t\telement.find('button.arrowDown').addClass('d-none');\n\t\t\t\t\telement.find('button.arrowUp').removeClass('d-none').show();\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontentTable.on('click', '.js-add-custom-rule', function (e) {\n\t\t\t\tlet button = $(e.currentTarget);\n\t\t\t\tthisInstance.editCustomRule(button.data('url'));\n\t\t\t});\n\t\t\tcontentTable.on('click', '.js-edit', function (e) {\n\t\t\t\tlet editElement = $(e.currentTarget),\n\t\t\t\t\teditUrl = editElement.data('url');\n\t\t\t\tthisInstance.editCustomRule(editUrl);\n\t\t\t});\n\t\t\tcontentTable.on('click', '.js-delete', function (e) {\n\t\t\t\tlet deleteElement = $(e.currentTarget);\n\t\t\t\tthisInstance.deleteCustomRule(deleteElement);\n\t\t\t});\n\t\t\tcontentContainer.on('submit', '#js-edit-sharing-access', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet form = $(e.currentTarget),\n\t\t\t\t\tdata = form.serializeFormData();\n\t\t\t\tthisInstance.save(data).done(function (data) {\n\t\t\t\t\tcontentContainer.find('button:submit').addClass('d-none');\n\t\t\t\t\tthisInstance.registerSharingAccessEdit();\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NEW_SHARING_RULES_APPLIED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n);\n\njQuery(function () {\n\tlet settingSharingAcessInstance = new Settings_Sharing_Access_Js();\n\tsettingSharingAcessInstance.registerEvents();\n});\n"],"names":["jQuery","Class","contentTable","contentsContainer","init","setContentTable","setContentContainer","element","getContentTable","getContentContainer","getCustomRuleContainerClassName","parentModuleName","showCustomRulesNextToElement","parentElement","rulesListElement","moduleName","data","trElementForRuleList","append","css","after","addClass","slideDown","getCustomRules","forModule","aDeferred","Deferred","params","for_module","module","app","getModuleName","parent","getParentModuleName","view","mode","AppConnector","request","done","resolve","fail","error","reject","promise","save","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","saveCustomRule","form","thisInstance","serializeFormData","action","response","result","success","hideModalWindow","$","val","loadCustomRulesList","showNotify","type","text","message","customRuleListContainer","find","html","editCustomRule","url","showModalWindow","modalContainer","on","e","preventDefault","formElement","currentTarget","deleteCustomRule","deleteElement","deleteUrl","currentRow","closest","showConfirmModal","title","vtranslate","confirmedCallback","fadeOut","customRuleTable","nextRows","nextAll","length","each","i","currentSequenceElement","updatedNumber","parseInt","remove","customRuleEntries","removeClass","registerSharingAccessEdit","contentContainer","one","registerDependentModulesPrivilegesChange","container","modulesList","JSON","parse","dependentList","dependentPrivilege","is","hide","index","attr","registerEvents","trElement","isHidden","show","slideUp","button","editElement","editUrl","settingSharingAcessInstance","Settings_Sharing_Access_Js"],"mappings":"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"}