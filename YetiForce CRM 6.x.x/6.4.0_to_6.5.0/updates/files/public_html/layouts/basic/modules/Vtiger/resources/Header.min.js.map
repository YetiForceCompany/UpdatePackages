{"version":3,"file":"Header.min.js","sources":["Header.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n//Show Alert if user is on a unsupported browser (IE7, IE8, ..etc)\nif (\n\t/MSIE 6.0/.test(navigator.userAgent) ||\n\t/MSIE 7.0/.test(navigator.userAgent) ||\n\t/MSIE 8.0/.test(navigator.userAgent) ||\n\t/MSIE 9.0/.test(navigator.userAgent)\n) {\n\tif (app.getCookie('oldbrowser') != 'true') {\n\t\tapp.setCookie('oldbrowser', true, 365);\n\t\twindow.location.href = 'layouts/basic/modules/Vtiger/browsercompatibility/Browser_compatibility.html';\n\t}\n}\n\n$.Class(\n\t'Vtiger_Header_Js',\n\t{\n\t\tself: false,\n\t\tgetInstance: function () {\n\t\t\tif (this.self != false) {\n\t\t\t\treturn this.self;\n\t\t\t}\n\t\t\tthis.self = new Vtiger_Header_Js();\n\t\t\treturn this.self;\n\t\t}\n\t},\n\t{\n\t\tmenuContainer: false,\n\t\tcontentContainer: false,\n\t\tinit: function () {\n\t\t\tthis.setContentsContainer('.js-base-container');\n\t\t},\n\t\tsetContentsContainer: function (element) {\n\t\t\tif (element instanceof $) {\n\t\t\t\tthis.contentContainer = element;\n\t\t\t} else {\n\t\t\t\tthis.contentContainer = $(element);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetContentsContainer: function () {\n\t\t\treturn this.contentContainer;\n\t\t},\n\t\tregisterQuickCreateSearch() {\n\t\t\t$('.js-quickcreate-search').on('keyup', function () {\n\t\t\t\tlet value = $(this).val().toLowerCase();\n\t\t\t\t$('.quickCreateModules .js-quickcreate-search-item a').filter(function () {\n\t\t\t\t\tlet item = $(this).closest('.js-quickcreate-search-item');\n\t\t\t\t\tif ($(this).text().toLowerCase().indexOf(value) > -1) {\n\t\t\t\t\t\titem.removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-quickcreate-search-block').hide();\n\t\t\t\t$('.js-quickcreate-search-item')\n\t\t\t\t\t.not('.d-none')\n\t\t\t\t\t.each(function () {\n\t\t\t\t\t\t$(this).closest('.js-quickcreate-search-block').show();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tshowAnnouncement: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet announcementContainer = $('#announcements');\n\t\t\tlet announcements = announcementContainer.find('.announcement');\n\t\t\tif (announcements.length > 0) {\n\t\t\t\tlet announcement = announcements.first();\n\t\t\t\tlet aid = announcement.data('id');\n\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tannouncement.find('.modal'),\n\t\t\t\t\tfunction (modal) {\n\t\t\t\t\t\tannouncement.remove();\n\t\t\t\t\t\tmodal.find('button').on('click', function (e) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: 'Announcements',\n\t\t\t\t\t\t\t\taction: 'BasicAjax',\n\t\t\t\t\t\t\t\tmode: 'mark',\n\t\t\t\t\t\t\t\trecord: aid,\n\t\t\t\t\t\t\t\ttype: $(this).data('type')\n\t\t\t\t\t\t\t}).done(function (res) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tthisInstance.showAnnouncement();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t'',\n\t\t\t\t\t{ backdrop: 'static', keyboard: false }\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tregisterAnnouncements: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet announcementContainer = $('#announcements');\n\t\t\tif (announcementContainer.length == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.showAnnouncement();\n\t\t},\n\t\tregisterCalendarButtonClickEvent: function () {\n\t\t\tlet element = $('#calendarBtn');\n\t\t\tlet currentDate = element.data('date');\n\t\t\telement.on('click', function (e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\telement.closest('div.nav').find('div.open').removeClass('open');\n\t\t\t\tlet calendar = $('#' + element.data('datepickerId'));\n\t\t\t\tif ($(calendar).is(':visible')) {\n\t\t\t\t\telement.DatePickerHide();\n\t\t\t\t} else {\n\t\t\t\t\telement.DatePickerShow();\n\t\t\t\t}\n\t\t\t});\n\t\t\telement.DatePicker({\n\t\t\t\tformat: App.Fields.Date.convertToDatePickerFormat(element.data('dateFormat')),\n\t\t\t\tdate: currentDate,\n\t\t\t\tcalendars: 1,\n\t\t\t\tstarts: 1,\n\t\t\t\tclassName: 'globalCalendar'\n\t\t\t});\n\t\t},\n\t\tisFreeDay: function (dayOfWeek) {\n\t\t\tif (dayOfWeek == 0 || dayOfWeek == 6) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tbasicSearch: function () {\n\t\t\tlet thisInstance = this;\n\t\t\t$('.js-global-search__value').on('keypress', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (e.which == 13) {\n\t\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\t\tthisInstance.labelSearch(currentTarget);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-global-search-operator').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.target);\n\t\t\t\tlet block = currentTarget.closest('.js-global-search__input');\n\t\t\t\tblock.find('.js-global-search__value').data('operator', currentTarget.data('operator'));\n\t\t\t\tblock.find('.js-global-search-operator .dropdown-item').removeClass('active');\n\t\t\t\tcurrentTarget.closest('.dropdown-item').addClass('active');\n\t\t\t});\n\t\t\tif ($('#gsAutocomplete').val() == 1) {\n\t\t\t\t$.widget('custom.gsAutocomplete', $.ui.autocomplete, {\n\t\t\t\t\t_create: function () {\n\t\t\t\t\t\tthis._super();\n\t\t\t\t\t\tthis.widget().menu('option', 'items', '> :not(.ui-autocomplete-category)');\n\t\t\t\t\t},\n\t\t\t\t\t_renderMenu: function (ul, items) {\n\t\t\t\t\t\tlet that = this,\n\t\t\t\t\t\t\tcurrentCategory = '';\n\t\t\t\t\t\t$.each(items, function (index, item) {\n\t\t\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + '</li>');\n\t\t\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthat._renderItemData(ul, item);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t_renderItemData: function (ul, item) {\n\t\t\t\t\t\treturn this._renderItem(ul, item).data('ui-autocomplete-item', item);\n\t\t\t\t\t},\n\t\t\t\t\t_renderItem: function (ul, item) {\n\t\t\t\t\t\tlet url = 'index.php?module=' + item.module + '&view=Detail&record=' + item.id;\n\t\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t\t.data('item.autocomplete', item)\n\t\t\t\t\t\t\t.append($(\"<a href='\" + url + \"' title='\" + item.label + \"'></a>\").html(item.label))\n\t\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-global-search__value').gsAutocomplete({\n\t\t\t\t\tminLength: app.getMainParams('gsMinLength'),\n\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\t\t\t\tbasicSearch.reduceNumberResults = app.getMainParams('gsAmountResponse');\n\t\t\t\t\t\tbasicSearch.returnHtml = false;\n\t\t\t\t\t\tbasicSearch.setMainContainer(this.element.closest('.js-global-search__input'));\n\t\t\t\t\t\tbasicSearch.search(request.term).done(function (data) {\n\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\t\tlet reponseDataList = [];\n\t\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\t'ui-autocomplete': 'u-overflow-y-auto u-overflow-x-hidden u-max-h-70vh u-max-w-sm-70 u-max-w-lg-40'\n\t\t\t\t\t},\n\t\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\t\tif (selectedItemData.permitted) {\n\t\t\t\t\t\t\tlet url = 'index.php?module=' + selectedItemData.module + '&view=Detail&record=' + selectedItemData.id;\n\t\t\t\t\t\t\twindow.location.href = url;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tclose: function (event, ui) {\n\t\t\t\t\t\t//$('.js-global-search__value').val('');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tlabelSearch: function (currentTarget) {\n\t\t\tlet val = currentTarget.val();\n\t\t\tif (val == '') {\n\t\t\t\tapp.showAlert(app.vtranslate('JS_PLEASE_ENTER_SOME_VALUE'));\n\t\t\t\tcurrentTarget.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\tbasicSearch.setMainContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\tbasicSearch.search(val).done(function (data) {\n\t\t\t\tbasicSearch.showSearchResults(data);\n\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\tmode: 'hide'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterHotKeys: function () {\n\t\t\t$('.hotKey').each(function (index) {\n\t\t\t\tlet thisObject = this;\n\t\t\t\tlet key = $(thisObject).data('hotkeys');\n\t\t\t\tif (key != '') {\n\t\t\t\t\tMousetrap.bind(key, function () {\n\t\t\t\t\t\tthisObject.click();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotice: function () {\n\t\t\tlet self = this;\n\t\t\t$('#page').before(\n\t\t\t\t`<div class=\"remindersNoticeContainer\" tabindex=\"-1\" role=\"dialog\" aria-label=\"${app.vtranslate(\n\t\t\t\t\t'JS_REMINDER'\n\t\t\t\t)}\" aria-hidden=\"true\"></div>`\n\t\t\t);\n\t\t\tlet block = $('.remindersNoticeContainer');\n\t\t\tlet remindersNotice = $('.remindersNotice');\n\t\t\tremindersNotice.on('click', function () {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.requestReminder();\n\t\t\t\t}\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tblock.toggleClass('toggled');\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotification: function () {\n\t\t\tlet self = this;\n\t\t\t$('#page').before('<div class=\"remindersNotificationContainer\" tabindex=\"-1\" role=\"dialog\"></div>');\n\t\t\tlet block = $('.remindersNotificationContainer');\n\t\t\tlet remindersNotice = $('.notificationsNotice');\n\t\t\tremindersNotice.on('click', function () {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.getNotificationsForReminder();\n\t\t\t\t}\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tblock.toggleClass('toggled');\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t},\n\t\ttoggleBreadcrumbActions(container) {\n\t\t\tlet actionsContainer = container.find('.js-header-toggle__actions');\n\t\t\tif (!actionsContainer.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet actionBtn = container.find('.js-header-toggle__actions-btn');\n\t\t\tif (!actionsContainer.closest('.js-btn-toolbar').length) {\n\t\t\t\tconst actionBtnMargin = 5;\n\t\t\t\tconst cssActionsTop = {\n\t\t\t\t\ttop: actionBtn.offset().top + actionBtn.outerHeight() + actionBtnMargin\n\t\t\t\t};\n\t\t\t\tactionsContainer.css(cssActionsTop);\n\t\t\t}\n\t\t\tactionBtn.on('click', () => {\n\t\t\t\tactionsContainer.toggleClass('is-active');\n\t\t\t});\n\t\t},\n\t\tregisterMobileEvents: function () {\n\t\t\tconst self = this,\n\t\t\t\tcontainer = this.getContentsContainer();\n\t\t\t$('.rightHeaderBtnMenu').on('click', function () {\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.mobileLeftPanel ').toggleClass('mobileMenuOn');\n\t\t\t});\n\t\t\t$('.js-quick-action-btn').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.actionMenu').toggleClass('actionMenuOn');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'false');\n\t\t\t\t\tcurrentTarget.popover();\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'true');\n\t\t\t\t\tcurrentTarget.popover('disable');\n\t\t\t\t}\n\t\t\t\t$('.quickCreateModules').on('click', function () {\n\t\t\t\t\tself.hideActionMenu();\n\t\t\t\t});\n\t\t\t});\n\t\t\t$('.searchMenuBtn').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.searchMenu').toggleClass('toogleSearchMenu');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'false');\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'true');\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-header__btn--mail .dropdown').on('show.bs.dropdown', function () {\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t\tthis.toggleBreadcrumbActions(container);\n\t\t},\n\t\thideMobileMenu: function () {\n\t\t\t$('.mobileLeftPanel ').removeClass('mobileMenuOn');\n\t\t},\n\t\thideSearchMenu: function () {\n\t\t\t$('.searchMenu').removeClass('toogleSearchMenu');\n\t\t},\n\t\thideActionMenu: function () {\n\t\t\t$('.actionMenu').removeClass('actionMenuOn');\n\t\t},\n\t\thideBreadcrumbActionMenu: function () {\n\t\t\t$('.js-header-toggle__actions').removeClass('is-active');\n\t\t},\n\t\thideReminderNotice: function () {\n\t\t\t$('.remindersNoticeContainer').removeClass('toggled');\n\t\t},\n\t\thideReminderNotification: function () {\n\t\t\t$('.remindersNotificationContainer').removeClass('toggled');\n\t\t},\n\t\tregisterFooTable: function () {\n\t\t\tlet container = $('.tableRWD');\n\t\t\tcontainer.find('thead tr th:gt(1)').attr('data-hide', 'phone');\n\t\t\tcontainer.find('thead tr th:gt(3)').attr('data-hide', 'tablet,phone');\n\t\t\tcontainer.find('thead tr th:last').attr('data-hide', '');\n\t\t\tlet whichColumnEnable = container.find('thead').attr('col-visible-alltime');\n\t\t\tcontainer.find('thead tr th:eq(' + whichColumnEnable + ')').attr('data-hide', '');\n\t\t\t$('.tableRWD, .customTableRWD').footable({\n\t\t\t\tbreakpoints: {\n\t\t\t\t\tphone: 768,\n\t\t\t\t\ttablet: 1024\n\t\t\t\t},\n\t\t\t\taddRowToggle: true,\n\t\t\t\ttoggleSelector: ' > tbody > tr:not(.footable-row-detail)'\n\t\t\t});\n\t\t\t$('.footable-toggle').on('click', function (event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t$(this).trigger('footable_toggle_row');\n\t\t\t});\n\t\t\tlet records = $('.customTableRWD').find('[data-toggle-visible=false]');\n\t\t\trecords.find('.footable-toggle').css('display', 'none');\n\t\t},\n\t\tregisterSiteBarButton(container) {\n\t\t\tconst key = 'ShowHideRightPanel' + app.getModuleName();\n\t\t\tlet cache = !container.find('.toggleSiteBarRightButton').data('nocache');\n\t\t\tif (cache && app.cacheGet(key) == 'show') {\n\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t} else if (cache && app.cacheGet(key) == null) {\n\t\t\t\tif (container.find('.siteBarRight').data('showpanel') == 1) {\n\t\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontainer.find('.toggleSiteBarRightButton').on('click', (e) => {\n\t\t\t\tlet toggleButton = $(e.currentTarget);\n\t\t\t\tif (!toggleButton.data('nocache')) {\n\t\t\t\t\tif (toggleButton.closest('.siteBarRight').hasClass('hideSiteBar')) {\n\t\t\t\t\t\tapp.cacheSet(key, 'show');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.cacheSet(key, 'hide');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.toggleSiteBar(toggleButton);\n\t\t\t});\n\t\t},\n\t\ttoggleSiteBar(toogleButton) {\n\t\t\t$('.rowContent').toggleClass('js-sitebar--active');\n\t\t\ttoogleButton.closest('.siteBarRight').toggleClass('hideSiteBar');\n\t\t\ttoogleButton.find('.fas').toggleClass('fa-chevron-right fa-chevron-left');\n\t\t\ttoogleButton.toggleClass('hideToggleSiteBarRightButton');\n\t\t},\n\t\tregisterToggleButton: function () {\n\t\t\t$('.buttonTextHolder .dropdown-menu a').on('click', function () {\n\t\t\t\t$(this).parents('.d-inline-block').find('.dropdown-toggle .textHolder').html($(this).text());\n\t\t\t});\n\t\t},\n\t\tregisterKnowledgeBaseModal() {\n\t\t\t$('.js-knowledge-base-modal').on('click', () => {\n\t\t\t\tif (window.KnowledgeBaseModalVueComponent.mounted === undefined) {\n\t\t\t\t\twindow.KnowledgeBaseModalVueComponent.mount({\n\t\t\t\t\t\tel: '#KnowledgeBaseModal',\n\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\tmoduleName: 'KnowledgeBase',\n\t\t\t\t\t\t\tdialog: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tKnowledgeBaseModalVueComponent.mounted = true;\n\t\t\t\t} else {\n\t\t\t\t\tvuexStore.commit('KnowledgeBase/setDialog', true);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window === window.parent && window.ChatModalVueComponent !== undefined) {\n\t\t\t\twindow.ChatModalVueComponent.mount({\n\t\t\t\t\tel: '#ChatModalVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tconst container = thisInstance.getContentsContainer(),\n\t\t\t\tmenuContainer = container.find('.js-menu--scroll'),\n\t\t\t\tquickCreateModal = container.find('.quickCreateModules');\n\t\t\tapp.showNewScrollbarLeft(menuContainer, { suppressScrollX: true });\n\t\t\tapp.showNewScrollbar(menuContainer.find('.subMenu').last(), { suppressScrollX: true });\n\t\t\tthisInstance.registerFooTable(); //Enable footable\n\t\t\t$('.js-clear-history').on('click', () => {\n\t\t\t\tapp.clearBrowsingHistory();\n\t\t\t});\n\t\t\t$('.globalSearch').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\tlet advanceSearchInstance = new Vtiger_AdvanceSearch_Js();\n\t\t\t\tadvanceSearchInstance.setParentContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\t\tadvanceSearchInstance.initiateSearch();\n\t\t\t});\n\t\t\t$('.searchIcon').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(this).closest('.js-global-search__input').find('.js-global-search__value');\n\t\t\t\tlet pressEvent = $.Event('keypress');\n\t\t\t\tpressEvent.which = 13;\n\t\t\t\tcurrentTarget.trigger(pressEvent);\n\t\t\t});\n\t\t\tthisInstance.registerAnnouncements();\n\t\t\tthisInstance.registerHotKeys();\n\t\t\tthisInstance.registerToggleButton();\n\t\t\tthisInstance.registerSiteBarButton($('#centerPanel'));\n\t\t\t//this.registerCalendarButtonClickEvent();\n\t\t\t//After selecting the global search module, focus the input element to type\n\t\t\t$('.basicSearchModulesList').on('change', function () {\n\t\t\t\tlet value = $(this).closest('.js-global-search__input').find('.js-global-search__value');\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tvalue.focus();\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t\tthisInstance.basicSearch();\n\t\t\tquickCreateModal.on('click', '.quickCreateModule', function (e, params) {\n\t\t\t\tlet moduleName = $(e.currentTarget).data('name');\n\t\t\t\tquickCreateModal.modal('hide');\n\t\t\t\tApp.Components.QuickCreate.createRecord(moduleName);\n\t\t\t});\n\t\t\tthisInstance.registerReminderNotification();\n\t\t\tthisInstance.registerMobileEvents();\n\t\t\tthisInstance.registerReminderNotice();\n\t\t\tthisInstance.registerQuickCreateSearch();\n\t\t\tthisInstance.registerKnowledgeBaseModal();\n\t\t\tthisInstance.registerChat();\n\t\t}\n\t}\n);\njQuery(function () {\n\twindow.addEventListener('popstate', (event) => {\n\t\tif (event.state) {\n\t\t\twindow.location.href = event.state;\n\t\t}\n\t});\n\tVtiger_Header_Js.getInstance().registerEvents();\n});\n"],"names":["test","navigator","userAgent","app","getCookie","setCookie","window","location","href","$","Class","self","getInstance","Vtiger_Header_Js","menuContainer","contentContainer","init","setContentsContainer","element","getContentsContainer","registerQuickCreateSearch","on","value","val","toLowerCase","filter","item","closest","text","indexOf","removeClass","addClass","hide","not","each","show","showAnnouncement","thisInstance","announcementContainer","announcements","find","length","announcement","first","aid","data","showModalWindow","modal","remove","AppConnector","request","module","action","mode","record","type","done","hideModalWindow","backdrop","keyboard","registerAnnouncements","registerCalendarButtonClickEvent","currentDate","e","stopImmediatePropagation","calendar","is","DatePickerHide","DatePickerShow","DatePicker","format","App","Fields","Date","convertToDatePickerFormat","date","calendars","starts","className","isFreeDay","dayOfWeek","basicSearch","currentTarget","which","hideSearchMenu","labelSearch","target","block","widget","ui","autocomplete","_create","_super","menu","_renderMenu","ul","items","that","currentCategory","index","category","append","_renderItemData","_renderItem","url","id","label","html","appendTo","gsAutocomplete","minLength","getMainParams","source","response","Vtiger_BasicSearch_Js","reduceNumberResults","returnHtml","setMainContainer","search","term","JSON","parse","serverDataFormat","result","reponseDataList","responseData","push","classes","\"ui-autocomplete\"","select","event","selectedItemData","permitted","close","showAlert","vtranslate","focus","progress","progressIndicator","position","blockInfo","enabled","showSearchResults","registerHotKeys","thisObject","key","Mousetrap","bind","click","registerReminderNotice","before","concat","remindersNotice","hasClass","Vtiger_Index_Js","requestReminder","hideActionMenu","hideBreadcrumbActionMenu","toggleClass","hideReminderNotification","closeSidebar","registerReminderNotification","getNotificationsForReminder","hideReminderNotice","toggleBreadcrumbActions","container","actionsContainer","actionBtn","cssActionsTop","top","offset","outerHeight","css","registerMobileEvents","attr","popover","hideMobileMenu","registerFooTable","whichColumnEnable","footable","breakpoints","phone","tablet","addRowToggle","toggleSelector","stopPropagation","trigger","records","registerSiteBarButton","_this","getModuleName","cache","cacheGet","toggleSiteBar","toggleButton","cacheSet","toogleButton","registerToggleButton","parents","registerKnowledgeBaseModal","KnowledgeBaseModalVueComponent","mounted","mount","el","state","moduleName","dialog","vuexStore","commit","registerChat","parent","ChatModalVueComponent","registerEvents","quickCreateModal","showNewScrollbarLeft","suppressScrollX","showNewScrollbar","last","clearBrowsingHistory","advanceSearchInstance","Vtiger_AdvanceSearch_Js","setParentContainer","initiateSearch","pressEvent","Event","setTimeout","Components","QuickCreate","createRecord","jQuery","addEventListener"],"mappings":"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"}