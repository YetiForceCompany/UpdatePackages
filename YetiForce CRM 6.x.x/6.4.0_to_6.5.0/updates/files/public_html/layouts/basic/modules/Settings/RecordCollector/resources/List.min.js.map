{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["'use strict';\n\n$.Class(\n\t'Settings_RecordCollector_List_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Register change events\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterChangeEvents: function (container) {\n\t\t\tcontainer.find('.js-status-change').on('click', function () {\n\t\t\t\tlet elements = $(this).closest('tr').find('.js-visibility');\n\t\t\t\tif (elements.length) {\n\t\t\t\t\tif (this.checked) {\n\t\t\t\t\t\telements.removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\telements.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'RecordCollector',\n\t\t\t\t\tparent: 'Settings',\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\tmode: 'changeStatus',\n\t\t\t\t\tcollector: this.value,\n\t\t\t\t\tstatus: this.checked\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.js-featured-change').on('click', function () {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'RecordCollector',\n\t\t\t\t\tparent: 'Settings',\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\tmode: 'changeFeatured',\n\t\t\t\t\tcollector: this.value,\n\t\t\t\t\tstatus: this.checked\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * register function for showing config modal.\n\t\t */\n\t\tregisterConfigModal: function (container) {\n\t\t\tcontainer.find('.js-show-config-modal').on('click', function () {\n\t\t\t\tconst recordCollectorName = this.dataset.name;\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=RecordCollector&parent=Settings&view=ConfigModal&recordCollectorName=' +\n\t\t\t\t\t\trecordCollectorName,\n\t\t\t\t\tfunction (modal) {\n\t\t\t\t\t\tmodal.on('click', '.js-modal__save', function () {\n\t\t\t\t\t\t\tlet form = modal.find('form');\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: 'RecordCollector',\n\t\t\t\t\t\t\t\tparent: 'Settings',\n\t\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\t\tmode: 'saveConfig',\n\t\t\t\t\t\t\t\tcollector: recordCollectorName,\n\t\t\t\t\t\t\t\tconfig: form.serializeFormData()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail((data) => {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\ttext: data\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * register events.\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tconst container = $('.js-config-table');\n\t\t\tthis.registerChangeEvents(container);\n\t\t\tthis.registerConfigModal(container);\n\t\t}\n\t}\n);\n"],"names":["$","Class","registerChangeEvents","container","find","on","elements","closest","length","checked","removeClass","addClass","AppConnector","request","module","parent","action","mode","collector","value","status","done","data","app","showNotify","type","text","result","message","registerConfigModal","recordCollectorName","dataset","name","showModalWindow","modal","form","config","serializeFormData","hideModalWindow","fail","registerEvents"],"mappings":"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"}