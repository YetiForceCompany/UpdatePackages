{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\n\t'Settings_WebserviceUsers_List_Js',\n\t{},\n\t{\n\t\tgetDeleteParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'DeleteAjax',\n\t\t\t\ttypeApi: Vtiger_List_Js.getInstance().getActiveTypeApi()\n\t\t\t};\n\t\t},\n\t\tcontainer: false,\n\t\tclipBoardInstances: false,\n\n\t\tgetContainer: function () {\n\t\t\tif (!this.container) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tgetActiveTypeApi: function () {\n\t\t\treturn this.getContainer().find('.tabApi .active').closest('.tabApi').data('typeapi');\n\t\t},\n\t\tgetListViewRecords: function (urlParams) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (typeof urlParams === 'undefined') {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tthis.reloadTab(urlParams)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePagination: function (pageNumber) {\n\t\t\tpageNumber = typeof pageNumber !== 'undefined' ? pageNumber : 1;\n\t\t\tlet params = this.getDefaultParams();\n\t\t\tparams.view = 'Pagination';\n\t\t\tparams.page = pageNumber;\n\t\t\tparams.mode = 'getPagination';\n\t\t\tparams.totalCount = this.getContainer().find('.pagination').data('totalCount');\n\t\t\tparams.noOfEntries = this.getContainer().find('#noOfEntries').val();\n\t\t\tAppConnector.request(params).done((data) => {\n\t\t\t\t$('.paginationDiv').html(data);\n\t\t\t\tthis.registerPageNavigationEvents();\n\t\t\t});\n\t\t},\n\t\tgetDefaultParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tpage: jQuery('#pageNumber').val(),\n\t\t\t\tview: 'List',\n\t\t\t\torderby: jQuery('#orderBy').val(),\n\t\t\t\tsortorder: jQuery('#sortOrder').val(),\n\t\t\t\ttypeApi: this.getActiveTypeApi()\n\t\t\t};\n\t\t},\n\t\treloadTab: function (urlParams) {\n\t\t\tconst aDeferred = jQuery.Deferred();\n\t\t\tif (urlParams == undefined) {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tlet tabContainer = this.getContainer().find('.listViewContent');\n\t\t\tlet params = jQuery.extend(this.getDefaultParams(), urlParams);\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((data) => {\n\t\t\t\t\ttabContainer.html(data);\n\t\t\t\t\tVtiger_Header_Js.getInstance().registerFooTable();\n\t\t\t\t\tthis.registerPageNavigationEvents();\n\t\t\t\t\tthis.registerClipboard();\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Register Clipboard\n\t\t */\n\t\tregisterClipboard: function () {\n\t\t\tif (typeof this.clipBoardInstances === 'object') {\n\t\t\t\tthis.clipBoardInstances.destroy();\n\t\t\t}\n\t\t\tthis.clipBoardInstances = App.Fields.Text.registerCopyClipboard(this.getContainer().find('.listViewContent'));\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.getContainer()\n\t\t\t\t.find('li.tabApi')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tthis.reloadTab({ typeApi: e.currentTarget.dataset.typeapi, page: 1 });\n\t\t\t\t});\n\t\t\tthis.registerClipboard();\n\t\t}\n\t}\n);\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","Settings_Vtiger_List_Js","getDeleteParams","module","app","getModuleName","parent","getParentModuleName","action","typeApi","Vtiger_List_Js","getInstance","getActiveTypeApi","container","clipBoardInstances","getContainer","jQuery","find","closest","data","getListViewRecords","urlParams","aDeferred","Deferred","reloadTab","done","resolve","fail","textStatus","errorThrown","reject","promise","updatePagination","pageNumber","_this","params","getDefaultParams","view","page","mode","totalCount","noOfEntries","val","AppConnector","request","$","html","registerPageNavigationEvents","orderby","sortorder","_this2","tabContainer","extend","Vtiger_Header_Js","registerFooTable","registerClipboard","errorLog","destroy","App","Fields","Text","registerCopyClipboard","registerEvents","_this3","_super","on","e","currentTarget","dataset","typeapi"],"mappings":"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"}