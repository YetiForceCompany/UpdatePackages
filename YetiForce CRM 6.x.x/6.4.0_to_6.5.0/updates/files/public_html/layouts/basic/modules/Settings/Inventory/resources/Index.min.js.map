{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Inventory_Index_Js',\n\t{},\n\t{\n\t\t//Stored history of Name and duplicate check result\n\t\tduplicateCheckCache: {},\n\t\t/**\n\t\t * This function will show the model for Add/Edit\n\t\t */\n\t\tedit: function (url, currentTrElement) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(url)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet callBackFunction = function (container) {\n\t\t\t\t\t\t//cache should be empty when modal opened\n\t\t\t\t\t\tthisInstance.duplicateCheckCache = {};\n\t\t\t\t\t\tlet form = container.find('#formInventory');\n\t\t\t\t\t\tlet params = app.validationEngineOptions;\n\t\t\t\t\t\tparams.onValidationComplete = function (formData, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tthisInstance.saveDetails(formData, currentTrElement);\n\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tfunction (modalContainer) {\n\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\tcallBackFunction(modalContainer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{}\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to Save the Details\n\t\t */\n\t\tsaveDetails: function (form, currentTrElement) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = form.serializeFormData();\n\t\t\tconst saveButton = form.find('[type=\"submit\"]');\n\t\t\tsaveButton.prop('disabled', true);\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tthisInstance\n\t\t\t\t.validateName(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tif (typeof response === 'undefined') {\n\t\t\t\t\t\tsaveButton.prop('disabled', false);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tparams.module = app.getModuleName();\n\t\t\t\t\tparams.parent = app.getParentModuleName();\n\t\t\t\t\tparams.action = 'SaveAjax';\n\t\t\t\t\tparams.view = app.getViewName();\n\t\t\t\t\tAppConnector.request(params).done((data) => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tif (typeof data == 'string') {\n\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata['result']['value'] = App.Fields.Double.formatToDisplay(data['result']['value']);\n\t\t\t\t\t\t//Adding or update details in the list\n\t\t\t\t\t\tif (form.find('.addView').val() == 'true') {\n\t\t\t\t\t\t\tthisInstance.addDetails(data['result']);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthisInstance.updateDetails(data['result'], currentTrElement);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//show notification after details saved\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail((_data, _err) => {\n\t\t\t\t\tsaveButton.prop('disabled', false);\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to add the Details in the list after saving\n\t\t */\n\t\taddDetails: function (details) {\n\t\t\tlet container = jQuery('#inventory'),\n\t\t\t\tcurrency = jQuery('#currency'),\n\t\t\t\tsymbol = '%',\n\t\t\t\ttable = $('.inventoryTable', container);\n\t\t\tif (currency.length > 0) {\n\t\t\t\tcurrency = JSON.parse(currency.val());\n\t\t\t\tsymbol = currency.currency_symbol;\n\t\t\t}\n\t\t\tif (details.default === 1) {\n\t\t\t\ttable.find('.default').prop('checked', false);\n\t\t\t}\n\t\t\tlet trElement = $(`<tr class=\"opacity\" data-id=\"${details.id}\">\n\t\t\t\t\t<td class=\"textAlignCenter ${details.row_type}\"><label class=\"name\">${details.name}</label></td>\n\t\t\t\t\t<td class=\"textAlignCenter ${details.row_type}\"><span class=\"value\">${details.value} ${symbol}</span></td>\n\t\t\t\t\t<td class=\"textAlignCenter ${details.row_type}\">\n\t\t\t\t\t<div class=\"float-right  w-50 d-flex justify-content-between mr-2\">\n\t\t\t\t\t\t<input class=\"status js-update-field mt-2\" checked type=\"checkbox\" data-field-name=\"status\">\n\t\t\t\t\t\t<div class=\"actions\">\n\t\t\t\t\t\t\t<button class=\"btn btn-info btn-sm text-white editInventory u-cursor-pointer\" data-url=\"${details._editurl}\">\n\t\t\t\t\t\t\t<span title=\"Edycja\" class=\"yfi yfi-full-editing-view alignBottom\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button class=\"removeInventory u-cursor-pointer btn btn-danger btn-sm text-white\" data-url=\"${details._editurl}\">\n\t\t\t\t\t\t\t<span title=\"UsuÅ„\" class=\"fas fa-trash-alt alignBottom\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t</tr>`);\n\t\t\ttable.append(trElement);\n\t\t},\n\t\t/*\n\t\t * Function to update the details in the list after edit\n\t\t */\n\t\tupdateDetails: function (data, currentTrElement) {\n\t\t\tlet currency = jQuery('#currency');\n\t\t\tlet symbol = '%';\n\t\t\tif (currency.length > 0) {\n\t\t\t\tcurrency = JSON.parse(currency.val());\n\t\t\t\tsymbol = currency.currency_symbol;\n\t\t\t}\n\t\t\tcurrentTrElement.find('.name').text(data['name']);\n\t\t\tcurrentTrElement.find('.value').text(data['value'] + ' ' + symbol);\n\t\t\tif (data['status'] === 0) {\n\t\t\t\tcurrentTrElement.find('.status').prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcurrentTrElement.find('.status').prop('checked', false);\n\t\t\t}\n\t\t\tif (data['default'] === 1) {\n\t\t\t\tlet table = $('.inventoryTable');\n\t\t\t\ttable.find('.default').prop('checked', false);\n\t\t\t\tcurrentTrElement.find('.default').prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcurrentTrElement.find('.default').prop('checked', false);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to validate the Name to avoid duplicates\n\t\t */\n\t\tvalidateName: function (data) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet aDeferred = jQuery.Deferred();\n\n\t\t\tlet name = data.name;\n\t\t\tlet form = jQuery('#formInventory');\n\t\t\tlet nameElement = form.find('[name=\"name\"]');\n\t\t\tif (!(name in thisInstance.duplicateCheckCache)) {\n\t\t\t\tthisInstance\n\t\t\t\t\t.checkDuplicateName(data)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.duplicateCheckCache[name] = data['success'];\n\t\t\t\t\t\tif (data['success']) {\n\t\t\t\t\t\t\tthisInstance.duplicateCheckCache['message'] = data['message'];\n\t\t\t\t\t\t\tnameElement.validationEngine('showPrompt', data['message'], 'error', 'bottomLeft', true);\n\t\t\t\t\t\t\taDeferred.reject(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (data, _err) {\n\t\t\t\t\t\taDeferred.reject(data);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (thisInstance.duplicateCheckCache[name] == true) {\n\t\t\t\t\tlet result = thisInstance.duplicateCheckCache['message'];\n\t\t\t\t\tnameElement.validationEngine('showPrompt', result, 'error', 'bottomLeft', true);\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to check Duplication of inventory Name\n\t\t */\n\t\tcheckDuplicateName: function (details) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet name = details.name;\n\t\t\tlet id = details.id;\n\t\t\tlet moduleName = app.getModuleName();\n\t\t\tlet params = {\n\t\t\t\tmodule: moduleName,\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: 'checkDuplicateName',\n\t\t\t\tname: name,\n\t\t\t\tid: id,\n\t\t\t\tview: app.getViewName()\n\t\t\t};\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (typeof data == 'string') {\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data['result']);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to update status as enabled or disabled\n\t\t */\n\t\tupdateCheckbox: function (currentTarget) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\n\t\t\tlet currentTrElement = currentTarget.closest('tr');\n\t\t\tlet id = currentTrElement.data('id');\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet updatedCheckbox = currentTarget.data('field-name');\n\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tid: id,\n\t\t\t\tview: app.getViewName()\n\t\t\t};\n\t\t\tif (updatedCheckbox === 'status') {\n\t\t\t\tparams.status = currentTarget.is(':checked') ? 0 : 1;\n\t\t\t} else if (updatedCheckbox === 'default') {\n\t\t\t\tparams.default = currentTarget.is(':checked') ? 1 : 0;\n\t\t\t\tlet table = $('.inventoryTable');\n\t\t\t\tif (params.default === 1) {\n\t\t\t\t\ttable.find('.default').not(currentTarget).prop('checked', false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, _err) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tremoveInventory: function (inventoryElement) {\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttext: app.vtranslate('JS_DELETE_INVENTORY_CONFIRMATION'),\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['view'] = app.getViewName();\n\t\t\t\t\tparams['id'] = inventoryElement.data('id');\n\t\t\t\t\tapp.saveAjax('deleteInventory', params).done(function (data) {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'success', text: data.result.message });\n\t\t\t\t\t\tinventoryElement.remove();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register all actions in the List\n\t\t */\n\t\tregisterActions: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet container = jQuery('#inventory');\n\t\t\t//register click event for Add New Inventory button\n\t\t\tcontainer.find('.addInventory').on('click', function (e) {\n\t\t\t\tlet addInventoryButton = jQuery(e.currentTarget);\n\t\t\t\tlet createUrl = addInventoryButton.data('url');\n\t\t\t\tthisInstance.edit(createUrl);\n\t\t\t});\n\n\t\t\t//register event for edit icon\n\t\t\tcontainer.on('click', '.editInventory', function (e) {\n\t\t\t\tlet editButton = jQuery(e.currentTarget);\n\t\t\t\tlet currentTrElement = editButton.closest('tr');\n\t\t\t\tthisInstance.edit(editButton.data('url'), currentTrElement);\n\t\t\t});\n\n\t\t\t//register event for edit icon\n\t\t\tcontainer.on('click', '.removeInventory', function (e) {\n\t\t\t\tlet removeInventoryButton = jQuery(e.currentTarget);\n\t\t\t\tlet currentTrElement = removeInventoryButton.closest('tr');\n\t\t\t\tthisInstance.removeInventory(currentTrElement);\n\t\t\t});\n\n\t\t\t//register event for checkbox to change the Status\n\t\t\tcontainer.on('click', '[type=\"checkbox\"]', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tthisInstance.updateCheckbox(currentTarget).done(function (_data) {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams.text = app.vtranslate('JS_SAVE_CHANGES');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis.registerActions();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","duplicateCheckCache","edit","url","currentTrElement","aDeferred","Deferred","thisInstance","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","AppConnector","request","done","data","callBackFunction","container","form","find","params","app","validationEngineOptions","onValidationComplete","formData","valid","saveDetails","validationEngine","on","e","preventDefault","mode","showModalWindow","modalContainer","fail","error","reject","promise","serializeFormData","saveButton","prop","validateName","response","$","module","getModuleName","parent","getParentModuleName","action","view","getViewName","hideModalWindow","JSON","parse","result","value","App","Fields","Double","formatToDisplay","val","addDetails","updateDetails","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","details","currency","symbol","table","length","currency_symbol","default","trElement","concat","id","row_type","name","_editurl","append","status","nameElement","checkDuplicateName","success","message","resolve","moduleName","err","updateCheckbox","currentTarget","closest","updatedCheckbox","is","not","removeInventory","inventoryElement","showConfirmModal","confirmedCallback","saveAjax","type","remove","registerActions","addInventoryButton","createUrl","editButton","removeInventoryButton","registerEvents"],"mappings":"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"}