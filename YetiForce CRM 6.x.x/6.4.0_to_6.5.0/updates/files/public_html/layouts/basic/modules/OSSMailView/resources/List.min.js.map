{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_List_Js(\n\t'OSSMailView_List_Js',\n\t{\n\t\tbindMails: function (_url) {\n\t\t\tlet listInstance = Vtiger_List_Js.getInstance();\n\t\t\tlet validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_BIND_CONFIRM'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tparams.data = { module: 'OSSMailView', action: 'BindMails' };\n\t\t\t\t\t\t$.extend(params.data, Vtiger_List_Js.getSelectedRecordsParams());\n\t\t\t\t\t\tparams.async = false;\n\t\t\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t\t\tlet message = typeof data === 'string' ? JSON.parse(data).result : data.result;\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\tdelay: '4000',\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttriggerChangeTypeForm: function () {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar selectedIds = listInstance.readSelectedIds(true);\n\t\t\t$('#ChangeType').on('submit', function (event) {\n\t\t\t\tvar mail_type = jQuery('#mail_type').val();\n\t\t\t\tvar save_params = {};\n\t\t\t\tsave_params.data = {\n\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\taction: 'ChangeType',\n\t\t\t\t\tdata: selectedIds,\n\t\t\t\t\tmail_type: mail_type\n\t\t\t\t};\n\t\t\t\tsave_params.async = false;\n\t\t\t\tAppConnector.request(save_params).done(function (data) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t\t},\n\t\ttriggerChangeType: function (url) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\t\tvar actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: url,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\t\tthisInstance.triggerChangeTypeForm();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t}\n\t},\n\t{}\n);\n"],"names":["Vtiger_List_Js","bindMails","listInstance","getInstance","validationResult","checkListRecordSelected","noRecordSelectedAlert","app","showConfirmModal","text","vtranslate","confirmedCallback","params","data","module","action","$","extend","getSelectedRecordsParams","async","AppConnector","request","done","message","JSON","parse","result","showNotify","delay","type","triggerChangeTypeForm","selectedIds","readSelectedIds","on","event","mail_type","jQuery","val","save_params","title","clearList","getListViewRecords","hideModalWindow","preventDefault","triggerChangeType","url","thisInstance","getRelatedModulesContainer","dataType","showModalWindow"],"mappings":"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"}