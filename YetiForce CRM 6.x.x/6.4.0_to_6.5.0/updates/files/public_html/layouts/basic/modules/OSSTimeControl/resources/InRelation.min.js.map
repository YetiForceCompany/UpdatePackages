{"version":3,"file":"InRelation.min.js","sources":["InRelation.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery(document).ready(function ($) {\n\tif (window.loadInRelationTomeControl == undefined) {\n\t\tjQuery.Class(\n\t\t\t'OSSTimeControl_Calendar_Js',\n\t\t\t{},\n\t\t\t{\n\t\t\t\tchart: false,\n\t\t\t\tloadChart: function () {\n\t\t\t\t\tvar data = $('.sumaryRelatedTimeControl .widgetData').val();\n\t\t\t\t\tif (data == undefined || data == '') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tvar jdata = JSON.parse(data);\n\t\t\t\t\tif (jdata.datasets.length == 0 || jdata.datasets[0].data.length == 0) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tjdata.datasets[0].datalabels = {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tweight: 'bold'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tanchor: 'end',\n\t\t\t\t\t\talign: 'start'\n\t\t\t\t\t};\n\n\t\t\t\t\tnew Chart($(this.chart).find('canvas')[0].getContext('2d'), {\n\t\t\t\t\t\ttype: 'bar',\n\t\t\t\t\t\tdata: jdata,\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\t\tlabelColor: function (tooltipItem, chart) {\n\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\tborderColor: jdata.datasets[0].backgroundColor[tooltipItem['index']],\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: jdata.datasets[0].borderColor[tooltipItem['index']]\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttitle: function ([tooltipItem], chart) {\n\t\t\t\t\t\t\t\t\t\treturn jdata.datasets[0].tooltips[tooltipItem['index']];\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tlabel: function (tooltipItem, chart) {\n\t\t\t\t\t\t\t\t\t\treturn jdata.datasets[0].dataFormatted[tooltipItem['index']];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\t\tposition: 'top',\n\t\t\t\t\t\t\t\ttext: jdata.title\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tregisterSwitch: function () {\n\t\t\t\t\t$('.switchChartContainer').on('click', function () {\n\t\t\t\t\t\tvar chartContainer = $('.chartContainer')[0];\n\t\t\t\t\t\tif ($(chartContainer).is(':visible')) {\n\t\t\t\t\t\t\t$(this).find('.fas').removeClass('fa-chevron-up').addClass('fa-chevron-down');\n\t\t\t\t\t\t\t$('.chartContainer').hide();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(this).find('.fas').removeClass('fa-chevron-down').addClass('fa-chevron-up');\n\t\t\t\t\t\t\t$('.chartContainer').show();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tregisterEvents: function () {\n\t\t\t\t\tthis.chart = $('.sumaryRelatedTimeControl .chartBlock');\n\t\t\t\t\tthis.loadChart();\n\t\t\t\t\tthis.registerSwitch();\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\tvar instance = new OSSTimeControl_Calendar_Js();\n\tinstance.registerEvents();\n\twindow.loadInRelationTomeControl = true;\n});\n"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","r","l","t","Symbol","iterator","e","u","a","f","next","done","push","value","return","isArray","jQuery","document","ready","$","window","loadInRelationTomeControl","Class","chart","loadChart","data","val","jdata","JSON","parse","datasets","datalabels","font","weight","color","anchor","align","Chart","find","getContext","type","options","tooltips","callbacks","labelColor","tooltipItem","borderColor","backgroundColor","index","title","_ref","_ref2","label","dataFormatted","legend","display","position","text","maintainAspectRatio","scales","yAxes","ticks","beginAtZero","registerSwitch","on","chartContainer","is","removeClass","addClass","hide","show","registerEvents","instance","OSSTimeControl_Calendar_Js"],"mappings":"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"}