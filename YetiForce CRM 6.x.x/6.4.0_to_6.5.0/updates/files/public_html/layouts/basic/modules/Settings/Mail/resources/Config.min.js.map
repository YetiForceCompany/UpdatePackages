{"version":3,"file":"Config.min.js","sources":["Config.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Settings_Mail_Config_Js',\n\t{},\n\t{\n\t\tregisterChangeConfig() {\n\t\t\tconst container = $('.configContainer');\n\t\t\tcontainer.on('change', '.configCheckbox', function () {\n\t\t\t\tconst progressIndicator = $.progressIndicator();\n\t\t\t\tconst params = {};\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\tparams['action'] = 'SaveAjax';\n\t\t\t\tparams['mode'] = 'updateConfig';\n\t\t\t\tparams['type'] = $(this).data('type');\n\t\t\t\tparams['name'] = $(this).attr('name');\n\t\t\t\tparams['val'] = this.checked;\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet messageParams = {};\n\t\t\t\t\t\tmessageParams['text'] = data.result.message;\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(messageParams);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterSignature() {\n\t\t\tconst container = $('#signature');\n\t\t\tApp.Fields.Text.Editor.register(container.find('.js-editor'), {\n\t\t\t\theight: '20em'\n\t\t\t});\n\t\t\tApp.Tools.VariablesPanel.registerRefreshCompanyVariables(container);\n\t\t\tcontainer.find('.js-save-signature').on('click', function () {\n\t\t\t\tconst progressIndicator = $.progressIndicator();\n\t\t\t\tconst editor = CKEDITOR.instances.signatureEditor;\n\t\t\t\tconst params = {};\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\tparams['action'] = 'SaveAjax';\n\t\t\t\tparams['mode'] = 'updateSignature';\n\t\t\t\tparams['val'] = editor.getData();\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterEvents() {\n\t\t\tconst thisInstance = this;\n\t\t\tthisInstance.registerChangeConfig();\n\t\t\tthisInstance.registerSignature();\n\t\t\tApp.Fields.Text.registerCopyClipboard($('.js-container-variable'));\n\t\t}\n\t}\n);\n"],"names":["$","Class","registerChangeConfig","container","on","progressIndicator","params","module","app","getModuleName","parent","getParentModuleName","action","mode","type","data","name","attr","val","checked","AppConnector","request","done","messageParams","text","result","message","Settings_Vtiger_Index_Js","showMessage","fail","registerSignature","App","Fields","Text","Editor","register","find","height","Tools","VariablesPanel","registerRefreshCompanyVariables","editor","CKEDITOR","instances","signatureEditor","getData","registerEvents","thisInstance","registerCopyClipboard"],"mappings":"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"}