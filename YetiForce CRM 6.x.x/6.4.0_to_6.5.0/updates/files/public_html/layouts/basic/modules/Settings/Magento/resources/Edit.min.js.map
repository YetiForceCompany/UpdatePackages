{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Edit_Js(\n\t'Settings_Magento_Edit_Js',\n\t{},\n\t{\n\t\tregisterSubmitForm: function () {\n\t\t\tvar form = this.getForm();\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request(paramsForm)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (true == data.result.success) {\n\t\t\t\t\t\t\t\twindow.location.href = data.result.url;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttext: data.result.message,\n\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (textStatus) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: textStatus,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\tgetRecordsListParams: function (container) {\n\t\t\treturn { module: $('input[name=\"popupReferenceModule\"]', container).val() };\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tconst form = this.getForm();\n\t\t\tif (form.length) {\n\t\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\t}\n\t\t\tthis.registerSubmitForm();\n\t\t\tthis.registerBasicEvents(form);\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_Edit_Js","registerSubmitForm","form","getForm","on","e","preventDefault","stopPropagation","validationEngine","paramsForm","serializeFormData","progressIndicatorElement","jQuery","progressIndicator","blockInfo","enabled","AppConnector","request","done","data","mode","result","success","window","location","href","url","app","showNotify","text","message","type","fail","textStatus","formAlignmentAfterValidation","getRecordsListParams","container","module","$","val","registerEvents","length","validationEngineOptions","registerBasicEvents"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,uBAAuB,CACtB,0BAA0B,CAC1B,EAAE,CACF,CACCC,kBAAkB,CAAE,SAAAA,kBAAAA,EAAY,CAC/B,IAAIC,IAAI,CAAG,IAAI,CAACC,OAAO,EAAE,CACzBD,IAAI,CAACE,EAAE,CAAC,QAAQ,CAAE,SAAUC,CAAC,CAAE,CAG9B,GAFAA,CAAC,CAACC,cAAc,EAAE,CAClBD,CAAC,CAACE,eAAe,EAAE,CACf,CAAA,CAAA,GAAAL,IAAI,CAACM,gBAAgB,CAAC,UAAU,CAAU,CAAE,CAAA,IAC3CC,UAAU,CAAGP,IAAI,CAACQ,iBAAiB,EAAE,CACrCC,wBAAwB,CAAGC,MAAM,CAACC,iBAAiB,CAAC,CACvDC,SAAS,CAAE,CAAEC,OAAO,CAAA,CAAA,CAAO,CAC5B,CAAC,CAAC,CAoBF,OAnBAC,YAAY,CAACC,OAAO,CAACR,UAAU,CAAC,CAC9BS,IAAI,CAAC,SAAUC,IAAI,CAAE,CACrBR,wBAAwB,CAACE,iBAAiB,CAAC,CAAEO,IAAI,CAAE,MAAO,CAAC,CAAC,CACxD,CAAA,CAAA,EAAQD,IAAI,CAACE,MAAM,CAACC,OAAO,CAC9BC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGN,IAAI,CAACE,MAAM,CAACK,GAAG,CAEtCC,GAAG,CAACC,UAAU,CAAC,CACdC,IAAI,CAAEV,IAAI,CAACE,MAAM,CAACS,OAAO,CACzBC,IAAI,CAAE,OACP,CAAC,EAEH,CAAC,CAAC,CACDC,IAAI,CAAC,SAAUC,UAAU,CAAE,CAC3BtB,wBAAwB,CAACE,iBAAiB,CAAC,CAAEO,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5DO,GAAG,CAACC,UAAU,CAAC,CACdC,IAAI,CAAEI,UAAU,CAChBF,IAAI,CAAE,OACP,CAAC,EACF,CAAC,CAAC,CAEJ,CAAA,CAAA,CAGA,OAFCJ,GAAG,CAACO,4BAA4B,CAAChC,IAAI,CAAC,CAGxC,CAAA,CAAA,CAAC,EACF,CAAC,CACDiC,oBAAoB,CAAE,SAAAA,oBAAAA,CAAUC,SAAS,CAAE,CAC1C,OAAO,CAAEC,MAAM,CAAEC,CAAC,CAAC,sCAAoC,CAAEF,SAAS,CAAC,CAACG,GAAG,EAAG,CAC3E,CAAC,CACDC,cAAc,CAAE,SAAAA,cAAAA,EAAY,CAC3B,IAAMtC,IAAI,CAAG,IAAI,CAACC,OAAO,EAAE,CACvBD,IAAI,CAACuC,MAAM,EACdvC,IAAI,CAACM,gBAAgB,CAACmB,GAAG,CAACe,uBAAuB,CAAC,CAEnD,IAAI,CAACzC,kBAAkB,EAAE,CACzB,IAAI,CAAC0C,mBAAmB,CAACzC,IAAI,EAC9B,CACD,CACD,CAAC;;"}