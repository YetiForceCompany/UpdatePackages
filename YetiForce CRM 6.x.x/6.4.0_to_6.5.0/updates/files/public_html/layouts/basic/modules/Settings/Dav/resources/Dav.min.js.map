{"version":3,"file":"Dav.min.js","sources":["Dav.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Dav_Keys_Js',\n\t{},\n\t{\n\t\t//This will store the MenuEditor Container\n\t\tmobileContainer: false,\n\t\t/**\n\t\t * Function to get the MenuEditor container\n\t\t */\n\t\tgetContainer: function () {\n\t\t\tif (this.mobileContainer == false) {\n\t\t\t\tthis.mobileContainer = jQuery('#DavKeysContainer');\n\t\t\t}\n\t\t\treturn this.mobileContainer;\n\t\t},\n\t\taddKey: function (e) {\n\t\t\tvar container = jQuery('#DavKeysContainer');\n\t\t\tvar editColorModal = container.find('.addKeyContainer');\n\t\t\tvar clonedContainer = editColorModal.clone(true, true);\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tdata.find('.addKeyContainer').removeClass('d-none').show();\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('.select'));\n\t\t\t\tdata.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\t\t\tvar form = data.find('form');\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('Adding a Key'),\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\t\t\tsettingMobileInstance.registerSaveEvent('addKey', formData, true);\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t};\n\t\t\tapp.showModalWindow(\n\t\t\t\tclonedContainer,\n\t\t\t\tfunction (data) {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{ width: '1000px' }\n\t\t\t);\n\t\t},\n\t\tdeleteKey: function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tvar closestTrElement = target.closest('.js-tr-row');\n\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\tsettingMobileInstance.registerSaveEvent('deleteKey', {\n\t\t\t\tuser: closestTrElement.data('user')\n\t\t\t});\n\t\t\tclosestTrElement.remove();\n\t\t},\n\t\tregisterSaveEvent: function (mode, data, reload) {\n\t\t\tvar params = {};\n\t\t\tparams.data = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: mode\n\t\t\t};\n\t\t\tif (typeof data !== 'undefined') {\n\t\t\t\tfor (var i in data) {\n\t\t\t\t\tparams.data[i] = data[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tparams.async = false;\n\t\t\tparams.dataType = 'json';\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tvar response = data['result'];\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: response['message']\n\t\t\t\t\t};\n\t\t\t\t\tif (response.success == true) {\n\t\t\t\t\t\tparams.type = 'success';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.type = 'error';\n\t\t\t\t\t}\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tif (reload == true && response.success == true) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (data, err) {});\n\t\t},\n\t\tregisterEvents: function (e) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getContainer();\n\t\t\tcontainer.find('.js-add-key').on('click', thisInstance.addKey);\n\t\t\tcontainer.find('.js-delete-key').on('click', thisInstance.deleteKey);\n\t\t\tApp.Fields.Text.registerCopyClipboard(container);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","mobileContainer","getContainer","addKey","container","editColorModal","find","clonedContainer","clone","callBackFunction","data","removeClass","show","App","Fields","Picklist","showSelect2ElementView","on","form","formData","serializeFormData","progress","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","settingMobileInstance","Settings_Dav_Keys_Js","registerSaveEvent","mode","showModalWindow","width","deleteKey","e","target","currentTarget","closestTrElement","closest","user","remove","reload","params","module","getModuleName","parent","getParentModuleName","action","i","async","dataType","AppConnector","request","done","response","result","text","type","success","showNotify","window","location","fail","registerEvents","thisInstance","Text","registerCopyClipboard"],"mappings":"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"}