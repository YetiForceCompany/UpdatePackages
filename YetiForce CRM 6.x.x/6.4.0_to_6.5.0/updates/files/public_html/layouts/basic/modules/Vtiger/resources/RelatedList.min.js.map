{"version":3,"file":"RelatedList.min.js","sources":["RelatedList.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_RelatedList_Js',\n\t{\n\t\trelatedListInstance: false,\n\t\tgetInstance: function (parentId, parentModule, selectedRelatedTabElement, relatedModuleName, url) {\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== relatedModuleName\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.parentRecordId = parentId;\n\t\t\t\tinstance.parentModuleName = parentModule;\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.moduleName = relatedModuleName;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parseUrlParams(url);\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\tgetInstanceByUrl: function (url, selectedRelatedTabElement) {\n\t\t\tlet params = app.convertUrlToObject(url);\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== params['relatedModule']\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parentRecordId = params['record'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parentModuleName = params['module'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName = params['relatedModule'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.defaultParams = params;\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\ttriggerMassAction: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet validationResult = self.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\t\tpostData = self.getCompleteParams();\n\t\t\t\tdelete postData.mode;\n\t\t\t\tdelete postData.view;\n\t\t\t\tpostData.viewname = cvId;\n\t\t\t\tpostData.selected_ids = selectedIds;\n\t\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\t\tlet actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdata: postData\n\t\t\t\t};\n\t\t\t\tif (type === 'sendByForm') {\n\t\t\t\t\tAppConnector.requestForm(massActionUrl, postData);\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t} else {\n\t\t\t\t\tAppConnector.request(actionParams)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (responseData && responseData.result !== null) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.reloadList) {\n\t\t\t\t\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.processStop) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Method to verify if selected files exist\n\t\t * @return boolean\n\t\t */\n\t\tverifyFileExist: function () {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\tpostData = self.getCompleteParams();\n\t\t\tdelete postData.mode;\n\t\t\tdelete postData.view;\n\t\t\tpostData.viewname = cvId;\n\t\t\tpostData.selected_ids = selectedIds;\n\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\tpostData.action = 'RelationAjax';\n\t\t\tpostData.mode = 'checkFilesIntegrity';\n\t\t\tAppConnector.request({\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: postData\n\t\t\t}).done(function (responseData) {\n\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t}\n\t\t\t\taDeferred.resolve(true);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Method to trigger mass download action\n\t\t * @param massActionUrl\n\t\t * @param type\n\t\t */\n\t\ttriggerMassDownload: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance,\n\t\t\t\tthisInstance = this;\n\t\t\tthis.verifyFileExist().done(function (data) {\n\t\t\t\tif (true === data) {\n\t\t\t\t\tthisInstance.triggerMassAction(massActionUrl.substring(0, massActionUrl.indexOf('&mode=multiple')), type);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttriggerMassQuickCreate: function (moduleName, data) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tif (self.checkListRecordSelected() !== true) {\n\t\t\t\tlet listParams = self.getSelectedParams();\n\t\t\t\tlet progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tlet params = {\n\t\t\t\t\tcallbackFunction: function () {\n\t\t\t\t\t\tself.loadRelatedList();\n\t\t\t\t\t},\n\t\t\t\t\tnoCache: true,\n\t\t\t\t\tdata: $.extend(data, {\n\t\t\t\t\t\tsourceView: 'RelatedListView',\n\t\t\t\t\t\tsourceModule: listParams.relatedModule,\n\t\t\t\t\t\tentityState: listParams.entityState,\n\t\t\t\t\t\tsearch_params: listParams.search_params,\n\t\t\t\t\t\texcluded_ids: listParams.excluded_ids,\n\t\t\t\t\t\tselected_ids: listParams.selected_ids,\n\t\t\t\t\t\trelationId: listParams.relationId,\n\t\t\t\t\t\trelatedRecord: listParams.record,\n\t\t\t\t\t\trelatedModule: listParams.module\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tApp.Components.QuickCreate.getForm(\n\t\t\t\t\t'index.php?module=' + moduleName + '&view=MassQuickCreateModal',\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tparams\n\t\t\t\t).done((data) => {\n\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tApp.Components.QuickCreate.showModal(data, params);\n\t\t\t\t\tapp.registerEventForClockPicker();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to trigger mass send email modal\n\t\t */\n\t\ttriggerSendEmail: function () {\n\t\t\tlet params = Vtiger_RelatedList_Js.relatedListInstance.getDefaultParams();\n\t\t\tVtiger_List_Js.triggerSendEmail(\n\t\t\t\t$.extend(params, {\n\t\t\t\t\trelatedLoad: true,\n\t\t\t\t\tmodule: Vtiger_RelatedList_Js.relatedListInstance.moduleName,\n\t\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\t\tsourceRecord: app.getRecordId()\n\t\t\t\t}),\n\t\t\t\tfunction () {\n\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Function to trigger mass send email modal by row\n\t\t */\n\t\ttriggerSendEmailByRow: function (row) {\n\t\t\tif (!(row instanceof jQuery)) {\n\t\t\t\trow = $(row);\n\t\t\t}\n\t\t\tlet params = Vtiger_RelatedList_Js.relatedListInstance.getDefaultParams();\n\t\t\tVtiger_List_Js.triggerSendEmail(\n\t\t\t\t$.extend(params, {\n\t\t\t\t\trelatedLoad: true,\n\t\t\t\t\tmodule: Vtiger_RelatedList_Js.relatedListInstance.moduleName,\n\t\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\t\tsourceRecord: app.getRecordId(),\n\t\t\t\t\tselected_ids: '[\"' + $(row).closest('.js-list__row').data('id') + '\"]'\n\t\t\t\t}),\n\t\t\t\tfunction () {\n\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t},\n\t\t\t\trow\n\t\t\t);\n\t\t}\n\t},\n\t{\n\t\tselectedRelatedTabElement: false,\n\t\tparentRecordId: false,\n\t\tparentModuleName: false,\n\t\tmoduleName: false,\n\t\trelatedTabsContainer: false,\n\t\tcontent: false,\n\t\tlistSearchInstance: false,\n\t\tdetailViewContentHolder: false,\n\t\trelatedView: false,\n\t\tframeProgress: false,\n\t\tnoEventsListSearch: false,\n\t\tlistViewContainer: false,\n\t\tdefaultParams: {},\n\t\tsetSelectedTabElement: function (tabElement) {\n\t\t\tthis.selectedRelatedTabElement = tabElement;\n\t\t},\n\t\tgetSelectedTabElement: function () {\n\t\t\treturn this.selectedRelatedTabElement;\n\t\t},\n\t\tgetParentId: function () {\n\t\t\treturn this.parentRecordId;\n\t\t},\n\t\tgetRelatedContainer: function () {\n\t\t\treturn this.content;\n\t\t},\n\t\tsetRelatedContainer: function (container) {\n\t\t\tthis.content = container;\n\t\t\tthis.relatedView = container.find('input.relatedView').val();\n\t\t},\n\t\tgetContentHolder: function () {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = $('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\tgetCurrentPageNum: function () {\n\t\t\treturn $('input[name=\"currentPageNum\"]', this.content).val();\n\t\t},\n\t\tsetCurrentPageNumber: function (pageNumber) {\n\t\t\t$('input[name=\"currentPageNum\"]', this.content).val(pageNumber);\n\t\t},\n\t\tgetOrderBy: function () {\n\t\t\treturn $('#orderBy', this.content).val();\n\t\t},\n\t\tgetDefaultParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = Object.assign({}, this.defaultParams);\n\t\t\tparams['page'] = this.getCurrentPageNum();\n\t\t\tparams['orderby'] = this.getOrderBy();\n\t\t\tif (container.find('#relationId').val()) {\n\t\t\t\tparams['relationId'] = container.find('#relationId').val();\n\t\t\t}\n\t\t\tif (container.find('.js-relation-cv-id').val()) {\n\t\t\t\tparams['cvId'] = container.find('.js-relation-cv-id').val();\n\t\t\t}\n\t\t\tif (container.find('.pagination').length) {\n\t\t\t\tparams['totalCount'] = container.find('.pagination').data('totalCount');\n\t\t\t}\n\t\t\tif (container.find('.entityState').length) {\n\t\t\t\tparams['entityState'] = container.find('.entityState').val();\n\t\t\t}\n\t\t\tif (this.listSearchInstance) {\n\t\t\t\tparams.search_params = this.listSearchInstance.getListSearchParams();\n\t\t\t\tlet searchValue = this.listSearchInstance.getAlphabetSearchValue();\n\t\t\t\tif (typeof searchValue !== 'undefined' && searchValue.length > 0) {\n\t\t\t\t\tparams['search_key'] = this.listSearchInstance.getAlphabetSearchField();\n\t\t\t\t\tparams['search_value'] = searchValue;\n\t\t\t\t\tparams['operator'] = 's';\n\t\t\t\t}\n\t\t\t\tthis.listSearchInstance.parseConditions(params);\n\t\t\t\tparams.search_params = JSON.stringify(params.search_params);\n\t\t\t}\n\t\t\tif (this.moduleName == 'Calendar') {\n\t\t\t\tlet switchBtn = container.find('.js-switch--calendar');\n\t\t\t\tif (switchBtn.length) {\n\t\t\t\t\tparams.time = switchBtn.first().prop('checked') ? 'current' : 'history';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\tgetCompleteParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = {\n\t\t\t\tview: 'Detail',\n\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\trecord: this.getParentId(),\n\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\trelatedView: this.relatedView,\n\t\t\t\tmode: 'showRelatedList',\n\t\t\t\ttab_label: container.find('#tab_label').val()\n\t\t\t};\n\t\t\treturn $.extend(this.getDefaultParams(), params);\n\t\t},\n\t\tgetSelectedParams: function () {\n\t\t\treturn $.extend(this.getCompleteParams(), {\n\t\t\t\tselected_ids: this.readSelectedIds(true),\n\t\t\t\texcluded_ids: this.readExcludedIds(true),\n\t\t\t\tcvid: this.getCurrentCvId()\n\t\t\t});\n\t\t},\n\t\tparseUrlParams: function (url) {\n\t\t\tif (url) {\n\t\t\t\tthis.defaultParams = app.convertUrlToObject(url);\n\t\t\t} else {\n\t\t\t\tthis.defaultParams = {};\n\t\t\t}\n\t\t},\n\t\tloadRelatedList: function (params) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (typeof thisInstance.moduleName === 'undefined' || thisInstance.moduleName.length <= 0) {\n\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet completeParams = this.getCompleteParams();\n\t\t\tlet activeTabsReference = thisInstance.relatedTabsContainer.find('li.active').data('reference');\n\t\t\tAppConnector.request($.extend(completeParams, params))\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (activeTabsReference !== 'ProductsAndServices') {\n\t\t\t\t\t\tthisInstance.relatedTabsContainer.find('li').removeClass('active');\n\t\t\t\t\t\tthisInstance.selectedRelatedTabElement.addClass('active');\n\t\t\t\t\t\tthisInstance.content.html(responseData);\n\t\t\t\t\t\t$('.pageNumbers', thisInstance.content).tooltip();\n\t\t\t\t\t\tthisInstance.registerPostLoadEvents();\n\t\t\t\t\t\tthisInstance.registerListEvents();\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_ALLOWED_VALUE'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tshowSelectRelation: function (extendParams) {\n\t\t\tlet params = $.extend(this.getRecordsListParams(), extendParams);\n\t\t\tapp.showRecordsList(params, (_modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\tthis.addRelations(Object.keys(responseData)).done(() => {\n\t\t\t\t\t\tapp.event.trigger('RelatedListView.AfterSelectRelation', responseData, this, instance, params);\n\t\t\t\t\t\tlet detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tthis.loadRelatedList().done(function () {\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (this.getSelectedTabElement().data('link-key') === 'LBL_RECORD_SUMMARY') {\n\t\t\t\t\t\t\tdetail.loadWidgets();\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetRecordsListParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: this.moduleName,\n\t\t\t\tsrc_module: this.parentModuleName,\n\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t},\n\t\taddRelations: function (idList, params = {}) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(\n\t\t\t\t$.extend(\n\t\t\t\t\t{\n\t\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\tmode: 'addRelation',\n\t\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\t\trelated_record_list: $.isArray(idList) ? JSON.stringify(idList) : idList\n\t\t\t\t\t},\n\t\t\t\t\tparams\n\t\t\t\t)\n\t\t\t)\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tdeleteRelation(target) {\n\t\t\tlet params = {};\n\t\t\tif (target.data('url')) {\n\t\t\t\tparams = target.data('url');\n\t\t\t} else {\n\t\t\t\tlet id = target.data('id') ? target.data('id') : target.closest('tr').data('id');\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'deleteRelation',\n\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelated_record_list: JSON.stringify([id])\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: { enabled: true }\n\t\t\t});\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\tlet widget = target.closest('.widgetContentBlock');\n\t\t\t\t\t\tconst detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\tdetail.loadWidget(widget);\n\t\t\t\t\t\t\tlet updatesWidget = this.getContentHolder().find('[data-type=\"Updates\"]');\n\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\tdetail.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_CANNOT_REMOVE_RELATION'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (err, errThrow) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_CANNOT_REMOVE_RELATION'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tnextPageHandler: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet pageLimit = jQuery('#pageLimit', this.content).val();\n\t\t\tlet noOfEntries = jQuery('#noOfEntries', this.content).val();\n\t\t\tif (noOfEntries == pageLimit) {\n\t\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\t\tlet nextPage = parseInt(pageNumber) + 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: nextPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(nextPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tpreviousPageHandler: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\tif (pageNumber > 1) {\n\t\t\t\tlet previousPage = parseInt(pageNumber) - 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: previousPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(previousPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle select page jump in related list\n\t\t */\n\t\tselectPageHandler: function (pageNumber) {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tthis.loadRelatedList({\n\t\t\t\tpage: pageNumber\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tthisInstance.setCurrentPageNumber(pageNumber);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle page jump in related list\n\t\t */\n\t\tpageJumpHandler: function (e) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (e.which == 13) {\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\t\t\t\tlet response = Vtiger_WholeNumberGreaterThanZero_Validator_Js.invokeValidation(element);\n\t\t\t\tif (typeof response !== 'undefined') {\n\t\t\t\t\telement.validationEngine('showPrompt', response, '', 'topLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\telement.validationEngine('hideAll');\n\t\t\t\t\tlet jumpToPage = parseInt(element.val());\n\t\t\t\t\tlet totalPages = parseInt(jQuery('#totalPageCount', thisInstance.content).text());\n\t\t\t\t\tif (jumpToPage > totalPages) {\n\t\t\t\t\t\tlet error = app.vtranslate('JS_PAGE_NOT_EXIST');\n\t\t\t\t\t\telement.validationEngine('showPrompt', error, '', 'topLeft', true);\n\t\t\t\t\t}\n\t\t\t\t\tlet invalidFields = element.parent().find('.formError');\n\t\t\t\t\tif (invalidFields.length < 1) {\n\t\t\t\t\t\tlet currentPage = jQuery('input[name=\"currentPageNum\"]', thisInstance.content).val();\n\t\t\t\t\t\tif (jumpToPage == currentPage) {\n\t\t\t\t\t\t\tlet message = app.vtranslate('JS_YOU_ARE_IN_PAGE_NUMBER') + ' ' + jumpToPage;\n\t\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\t\t\tpage: jumpToPage\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\tthisInstance.setCurrentPageNumber(jumpToPage);\n\t\t\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to add related record for the module\n\t\t */\n\t\taddRelatedRecord: function (element, callback) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet referenceModuleName = this.moduleName;\n\t\t\tlet parentId = this.getParentId();\n\t\t\tlet parentModule = this.parentModuleName;\n\t\t\tlet quickCreateParams = {};\n\t\t\tlet relatedParams = {};\n\t\t\tlet relatedField = element.data('name');\n\t\t\tlet fullFormUrl = element.data('url');\n\t\t\tif (relatedField) {\n\t\t\t\trelatedParams[relatedField] = parentId;\n\t\t\t}\n\t\t\tlet eliminatedKeys = new Array('view', 'module', 'mode', 'action');\n\t\t\tlet preQuickCreateSave = function (data) {\n\t\t\t\tlet index, queryParam, queryParamComponents;\n\t\t\t\tlet queryParameters = [];\n\n\t\t\t\t//To handle switch to task tab when click on add task from related list of activities\n\t\t\t\t//As this is leading to events tab intially even clicked on add task\n\t\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\t\tqueryParameters = queryString.split('&');\n\t\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\t\tif (queryParamComponents[0] == 'mode' && queryParamComponents[1] == 'Calendar') {\n\t\t\t\t\t\t\tdata.find('a[data-tab-name=\"Task\"]').trigger('click');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceModule\" value=\"' + parentModule + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceRecord\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" />').appendTo(data);\n\n\t\t\t\tif (typeof relatedField !== 'undefined') {\n\t\t\t\t\tlet field = data.find('[name=\"' + relatedField + '\"]');\n\t\t\t\t\t//If their is no element with the relatedField name,we are adding hidden element with\n\t\t\t\t\t//name as relatedField name,for saving of record with relation to parent record\n\t\t\t\t\tif (field.length == 0) {\n\t\t\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + relatedField + '\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (\n\t\t\t\t\t\tjQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1' &&\n\t\t\t\t\t\tdata.find('[name=\"' + queryParamComponents[0] + '\"]').length == 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tjQuery(\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"' + queryParamComponents[0] + '\" value=\"' + queryParamComponents[1] + '\" />'\n\t\t\t\t\t\t).appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof callback !== 'undefined') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\t//If url contains params then seperate them and make them as relatedParams\n\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\tlet queryParameters = queryString.split('&');\n\t\t\t\tfor (let index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParam = queryParameters[index];\n\t\t\t\t\tlet queryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (jQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1') {\n\t\t\t\t\t\trelatedParams[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\tquickCreateParams['callbackFunction'] = function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t};\n\t\t\tquickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\tquickCreateParams['noCache'] = true;\n\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, quickCreateParams);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelatedPageCount: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet element = this.content.find('#totalPageCount');\n\t\t\tlet totalCountElem = this.content.find('#totalCount');\n\t\t\tlet totalPageNumber = element.text();\n\t\t\tif (totalPageNumber == '') {\n\t\t\t\telement.progressIndicator({});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelatedModule: this.moduleName\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tlet pageCount = data['result']['page'];\n\t\t\t\t\t\tlet numberOfRecords = data['result']['numberOfRecords'];\n\t\t\t\t\t\ttotalCountElem.val(numberOfRecords);\n\t\t\t\t\t\telement.text(pageCount);\n\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tfavoritesRelation: function (relcrmId, state) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tif (relcrmId) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'updateFavoriteForRecord',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelcrmid: relcrmId,\n\t\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\tactionMode: state ? 'delete' : 'add'\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data.result) aDeferred.resolve(true);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.reject(false);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePreview: function (url) {\n\t\t\tlet frame = this.content.find('.listPreviewframe');\n\t\t\tthis.frameProgress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tmessage: app.vtranslate('JS_FRAME_IN_PROGRESS'),\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet defaultView = '';\n\t\t\tif (app.getMainParams('defaultDetailViewName')) {\n\t\t\t\tdefaultView =\n\t\t\t\t\tdefaultView + '&mode=showDetailViewByMode&requestMode=' + app.getMainParams('defaultDetailViewName'); // full, summary\n\t\t\t}\n\t\t\tframe.attr('src', url.replace('view=Detail', 'view=DetailPreview') + defaultView);\n\t\t},\n\t\tregisterUnreviewedCountEvent: function () {\n\t\t\tlet ids = [];\n\t\t\tlet relatedContent = this.content;\n\t\t\tlet isUnreviewedActive = relatedContent.find('.unreviewed').length;\n\t\t\trelatedContent.find('tr.listViewEntries').each(function () {\n\t\t\t\tlet id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isUnreviewedActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'ChangesReviewedOn',\n\t\t\t\tmode: 'getUnreviewed',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: this.moduleName,\n\t\t\t\trecordsId: ids\n\t\t\t}).done(function (appData) {\n\t\t\t\tlet data = appData.result;\n\t\t\t\t$.each(data, function (id, value) {\n\t\t\t\t\tif (value.a > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.all')\n\t\t\t\t\t\t\t.text(value.a)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tif (value.m > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.mail')\n\t\t\t\t\t\t\t.text(value.m)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterChangeEntityStateEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\trelatedContent.on('click', '.dropdownEntityState a', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\trelatedContent.find('.entityState').val(element.data('value'));\n\t\t\t\trelatedContent.find('.pagination').data('totalCount', 0);\n\t\t\t\trelatedContent\n\t\t\t\t\t.find('.dropdownEntityState button')\n\t\t\t\t\t.find('span')\n\t\t\t\t\t.attr('class', element.find('span').attr('class'));\n\t\t\t\tthisInstance.loadRelatedList({ page: 1 });\n\t\t\t});\n\t\t},\n\t\tregisterRowsEvent: function () {\n\t\t\tconst self = this;\n\t\t\tif (this.relatedView === 'List' || this.relatedView === 'Detail') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tif ($(e.target).hasClass('js-no-link')) return;\n\t\t\t\t\tif ($(e.target).closest('div').hasClass('actions')) return;\n\t\t\t\t\tif ($(e.target).is('button') || $(e.target).parent().is('button') || $(e.target).is('a')) return;\n\t\t\t\t\tif ($(e.target).closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target).is('a')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif ($(e.target).is('input')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), e.target)) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), e.target)) return;\n\t\t\t\t\tlet recordUrl = $(e.target).closest('tr').data('recordurl');\n\t\t\t\t\tif (!recordUrl) return;\n\t\t\t\t\tif (app.getViewName() === 'DetailPreview') {\n\t\t\t\t\t\ttop.document.location.href = recordUrl;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.location.href = recordUrl;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.content.find('.js-toggle-hidden-row').on('click', function (e) {\n\t\t\t\t\tlet target = $(this);\n\t\t\t\t\tlet row = target.closest('tr');\n\t\t\t\t\tlet inventoryRow = row.next('.js-hidden-row');\n\t\t\t\t\tif (inventoryRow.length) {\n\t\t\t\t\t\tlet block = inventoryRow.find('.js-hidden-row__block[data-element=\"' + target.data('element') + '\"]');\n\t\t\t\t\t\tif (block.is(':visible') || !inventoryRow.is(':visible')) {\n\t\t\t\t\t\t\tinventoryRow.toggleClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinventoryRow.find('.js-hidden-row__block').addClass('d-none');\n\t\t\t\t\t\tblock.removeClass('d-none');\n\t\t\t\t\t\tif (block.is(':visible')) {\n\t\t\t\t\t\t\tself.registerWidgets(block);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tlet target = $(e.target);\n\t\t\t\t\tif (target.closest('div').hasClass('actions')) return;\n\t\t\t\t\tif (target.is('button') || target.parent().is('button')) return;\n\t\t\t\t\tif (target.closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif (target.is('input[type=\"checkbox\"]')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), target[0])) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), target[0])) return;\n\t\t\t\t\tlet recordUrl = $(this).data('recordurl');\n\t\t\t\t\tself.content.find('.listViewEntriesTable .listViewEntries').removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t\tself.updatePreview(recordUrl);\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet widgetsContainer = this.content.find('.js-hidden-row .js-hidden-row__block[data-element=\"widgets\"]');\n\t\t\tif (widgetsContainer.length) {\n\t\t\t\tself.registerWidgets(widgetsContainer);\n\t\t\t}\n\t\t},\n\t\tregisterWidgets: function (content) {\n\t\t\tlet widgetList = $('[class^=\"widgetContainer_\"]', content);\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\twidgetList.each(function (index, widget) {\n\t\t\t\twidget = $(widget);\n\t\t\t\tif (widget.is(':visible')) {\n\t\t\t\t\tdetailInstance.loadWidget(widget);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterSummationEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.on('click', '.listViewSummation button', function () {\n\t\t\t\tlet button = $(this);\n\t\t\t\tlet calculateValue = button.closest('td').find('.calculateValue');\n\t\t\t\tlet params = thisInstance.getCompleteParams();\n\t\t\t\tparams['action'] = 'RelationAjax';\n\t\t\t\tparams['mode'] = 'calculate';\n\t\t\t\tparams['fieldName'] = button.data('field');\n\t\t\t\tparams['calculateType'] = button.data('operator');\n\t\t\t\tdelete params['view'];\n\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_CALCULATING_IN_PROGRESS'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.hidePopover(button);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tcalculateValue.html(response.result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalculateValue.html('');\n\t\t\t\t\t}\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterPreviewEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet contentHeight = this.content.find('.js-detail-preview,.js-list-preview');\n\t\t\tcontentHeight.height(app.getScreenHeight() - (this.content.offset().top + $('.js-footer').height()));\n\t\t\tthis.content.find('.listPreviewframe').on('load', function () {\n\t\t\t\tif (thisInstance.frameProgress) {\n\t\t\t\t\tthisInstance.frameProgress.progressIndicator({ mode: 'hide' });\n\t\t\t\t}\n\t\t\t\tcontentHeight.height($(this).contents().find('.bodyContents').height() + 2);\n\t\t\t});\n\t\t\tthis.content.find('.listViewEntriesTable .listViewEntries').first().trigger('click');\n\t\t},\n\t\tregisterPaginationEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\tthis.content.on('click', '#relatedViewNextPageButton', function (e) {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.nextPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedViewPreviousPageButton', function () {\n\t\t\t\tthisInstance.previousPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedListPageJump', function (e) {\n\t\t\t\tthisInstance.getRelatedPageCount();\n\t\t\t});\n\t\t\tthis.content\n\t\t\t\t.on('click', '#relatedListPageJumpDropDown > li', function (e) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t})\n\t\t\t\t.on('keypress', '#pageToJump', function (e) {\n\t\t\t\t\tthisInstance.pageJumpHandler(e);\n\t\t\t\t});\n\t\t\tthis.content.on('click', '.pageNumber', function () {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthisInstance.selectPageHandler($(this).data('id'));\n\t\t\t});\n\t\t\tthis.content.on('click', '#totalCountBtn', function () {\n\t\t\t\tapp.hidePopover($(this));\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: thisInstance.parentModuleName,\n\t\t\t\t\tview: 'Pagination',\n\t\t\t\t\tmode: 'getRelationPagination',\n\t\t\t\t\trecord: thisInstance.getParentId(),\n\t\t\t\t\trelatedModule: thisInstance.moduleName,\n\t\t\t\t\tnoOfEntries: $('#noOfEntries', relatedContent).val(),\n\t\t\t\t\tpage: relatedContent.find('[name=\"currentPageNum\"]').val()\n\t\t\t\t};\n\t\t\t\tif (relatedContent.find('.entityState').length) {\n\t\t\t\t\tparams['entityState'] = relatedContent.find('.entityState').val();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\trelatedContent.find('.paginationDiv').html(response);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterListEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.find('a.favorites').on('click', function () {\n\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet row = element.closest('tr');\n\t\t\t\tthisInstance.favoritesRelation(row.data('id'), element.data('state')).done(function (response) {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tlet state = element.data('state') ? 0 : 1;\n\t\t\t\t\t\telement.data('state', state);\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\telement.find('.far').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.fas').removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telement.find('.fas').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.far').removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet text = app.vtranslate('JS_REMOVED_FROM_FAVORITES');\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\ttext = app.vtranslate('JS_ADDED_TO_FAVORITES');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNotify({ text: text, type: 'success' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.content.find('[name=\"addButton\"]').on('click', function () {\n\t\t\t\tconst element = $(this);\n\t\t\t\tif (element.hasClass('quickCreateSupported') !== true) {\n\t\t\t\t\tapp.openUrl(element.data('url'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.addRelatedRecord(element);\n\t\t\t});\n\t\t\tthis.content.find('.relatedHeader button.selectRelation').on('click', function () {\n\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\tlet params = {\n\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t};\n\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tsearch_key: restrictionsField.key,\n\t\t\t\t\t\tsearch_value: restrictionsField.name,\n\t\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthisInstance.showSelectRelation(params);\n\t\t\t});\n\t\t\tthis.content.find('button.relationDelete').on('click', function (e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tlet target = $(e.currentTarget);\n\t\t\t\tlet params = {\n\t\t\t\t\ticon: false,\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteRelation(target);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\tparams.text = target.data('confirm');\n\t\t\t\t\tparams.title = target.html() + ' ' + target.data('content');\n\t\t\t\t} else if (target.data('content')) {\n\t\t\t\t\tparams.text = target.data('content');\n\t\t\t\t} else {\n\t\t\t\t\tparams.text = app.vtranslate('JS_DELETE_CONFIRMATION');\n\t\t\t\t}\n\t\t\t\tapp.showConfirmModal(params);\n\t\t\t});\n\t\t\tthis.content.find('.js-switch--calendar,select.js-relation-cv-id').on('change', function () {\n\t\t\t\tthisInstance.listSearchInstance.reloadList({\n\t\t\t\t\tsearch_params: [],\n\t\t\t\t\tsearch_key: '',\n\t\t\t\t\tsearch_value: '',\n\t\t\t\t\toperator: '',\n\t\t\t\t\tlockedEmptyFields: [],\n\t\t\t\t\tpage: 1,\n\t\t\t\t\ttotalCount: 0\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterPostLoadEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.registerRowsEvent();\n\t\t\tthis.registerListScroll();\n\t\t\tif (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.registerPreviewEvent();\n\t\t\t\tif (!this.content.find('.gutter').length) {\n\t\t\t\t\tif (!this.content.find('.js-list-preview').length) return;\n\t\t\t\t\tthis.setDomParams(this.content);\n\t\t\t\t\tthis.toggleSplit(this.content);\n\t\t\t\t\tthis.registerListPreviewEvents();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.content.find('.listViewSearchTd [data-trigger=\"listSearch\"]').length) {\n\t\t\t\tthis.listSearchInstance = YetiForce_ListSearch_Js.getInstance(this.content, false, this);\n\t\t\t} else {\n\t\t\t\tthis.listSearchInstance = false;\n\t\t\t}\n\t\t\tapp.event.trigger('RelatedList.AfterLoad', thisInstance);\n\t\t},\n\t\tgetListColumnWidth: function () {\n\t\t\tlet width = 300;\n\t\t\tlet column = this.container.find('.listViewEntriesDiv .listViewHeaders th:eq(1)');\n\t\t\tif (column.length) {\n\t\t\t\twidth = column.offset().left + column.width();\n\t\t\t}\n\t\t\treturn width;\n\t\t},\n\t\tsetDomParams: function (container) {\n\t\t\tthis.container = container;\n\t\t\tthis.listColumnWidth = this.getListColumnWidth();\n\t\t\tthis.windowW = $(window).width();\n\t\t\tthis.mainBody = container.closest('.mainBody');\n\t\t\tthis.windowMinWidth = (15 / this.windowW) * 100;\n\t\t\tthis.windowMaxWidth = 100 - this.minWidth;\n\t\t\tthis.sideBlocks = container.find('.js-side-block');\n\t\t\tthis.sideBlockLeft = this.sideBlocks.first();\n\t\t\tthis.sideBlockRight = this.sideBlocks.last();\n\t\t\tthis.list = container.find('.js-list-preview');\n\t\t\tthis.preview = container.find('.js-detail-preview');\n\t\t\tthis.rotatedText = container.find('.u-rotate-90');\n\t\t\tthis.footerH = $('.js-footer').outerHeight();\n\t\t\tthis.headerH = $('.js-header').outerHeight();\n\t\t},\n\t\tgetDefaultSplitSizes: function () {\n\t\t\tlet thWidth = (this.listColumnWidth / this.windowW) * 100;\n\t\t\treturn [thWidth, 100 - thWidth];\n\t\t},\n\t\tgetSplitSizes() {\n\t\t\tconst cachedParams = app.moduleCacheGet('userRelatedSplitSet');\n\t\t\tif (cachedParams !== undefined) {\n\t\t\t\treturn cachedParams;\n\t\t\t} else {\n\t\t\t\treturn this.getDefaultSplitSizes();\n\t\t\t}\n\t\t},\n\t\tregisterListPreviewEvents() {\n\t\t\tapp.showNewScrollbarTopBottom(this.content.find('.js-list-preview--scroll'));\n\t\t\tapp.showNewScrollbarLeft(this.list);\n\t\t\tthis.list.on('click', '.listViewEntries', () => {\n\t\t\t\tif (this.split.getSizes()[1] < 10) {\n\t\t\t\t\tconst defaultGutterPosition = this.getDefaultSplitSizes();\n\t\t\t\t\tthis.split.setSizes(defaultGutterPosition);\n\t\t\t\t\tthis.preview.show();\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', defaultGutterPosition);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.registerScrollEvent();\n\t\t\t}\n\t\t},\n\t\tregisterScrollEvent() {\n\t\t\tthis.gutter.addClass('js-fixed-scroll');\n\t\t\tlet scrollContainer = App.Components.Scrollbar.page.element;\n\t\t\tlet listOffsetTop = this.list.offset().top - this.headerH;\n\t\t\tlet initialH = this.sideBlocks.height();\n\t\t\tlet mainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\tlet mainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\tlet fixedElements = this.mainBody.find('.js-fixed-scroll');\n\t\t\tif (!this.mainBody.length) {\n\t\t\t\tthis.mainBody = $(top.document).find('.mainBody');\n\t\t\t\tthis.headerH = $(top.document).find('.js-header').outerHeight();\n\t\t\t\tscrollContainer = top.window.App.Components.Scrollbar.page.element;\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tlistOffsetTop = this.list.offset().top + iframe.offset().top - this.headerH + 1;\n\t\t\t\tmainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\t\tmainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\t}\n\t\t\tconst onScroll = () => {\n\t\t\t\tif (scrollContainer.scrollTop() >= listOffsetTop) {\n\t\t\t\t\tfixedElements.css({ top: scrollContainer.scrollTop() - listOffsetTop });\n\t\t\t\t\tthis.sideBlocks.css({ top: scrollContainer.scrollTop() - listOffsetTop + 56 });\n\t\t\t\t\tfixedElements.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortWidthCss);\n\t\t\t\t} else {\n\t\t\t\t\tfixedElements.css({ top: 'initial' });\n\t\t\t\t\tfixedElements.css({ height: initialH + scrollContainer.scrollTop() });\n\t\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\t\twidth: initialH + scrollContainer.scrollTop(),\n\t\t\t\t\t\theight: initialH + scrollContainer.scrollTop()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tscrollContainer.on('scroll', onScroll);\n\t\t},\n\t\t/**\n\t\t * Registers split's events.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t * @param {Split} split - a split object.\n\t\t */\n\t\tregisterSplitEvents: function (container, split) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tlet minWindowWidth = (23 / this.windowW) * 100;\n\t\t\tlet maxWindowWidth = 100 - minWindowWidth;\n\t\t\tlet listPreview = container.find('.js-detail-preview');\n\t\t\tthis.gutter.on('dblclick', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (isNaN(this.split.getSizes()[0])) {\n\t\t\t\t\tthis.split.setSizes(gutterRelatedMidPosition);\n\t\t\t\t}\n\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t} else if (split.getSizes()[1] < 20) {\n\t\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tlistPreview.show();\n\t\t\t\t} else if (split.getSizes()[0] > 7 && split.getSizes()[0] < 50) {\n\t\t\t\t\tsplit.setSizes([minWindowWidth, maxWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t} else if (split.getSizes()[1] > 10 && split.getSizes()[1] < 50) {\n\t\t\t\t\tsplit.setSizes([maxWindowWidth, minWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\tlistPreview.hide();\n\t\t\t\t\t//this.list.width(this.list.width() - 10);\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockLeft.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockRight.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\tlistPreview.show();\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t},\n\t\tregisterSplit: function (container) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tconst splitSizes = this.getSplitSizes();\n\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', splitSizes);\n\t\t\tlet split = Split([this.list[0], this.preview[0]], {\n\t\t\t\tsizes: splitSizes,\n\t\t\t\tminSize: 10,\n\t\t\t\tgutterSize: 24,\n\t\t\t\tsnapOffset: 100,\n\t\t\t\tonDrag: () => {\n\t\t\t\t\tif (split.getSizes()[1] < rightSplitMaxWidth) {\n\t\t\t\t\t\tsplit.collapse(1);\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[1] < 10) {\n\t\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\t\tthis.preview.hide();\n\t\t\t\t\t\tthis.list.width(this.list.width() - 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.preview.show();\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] > 10 && split.getSizes()[1] > rightSplitMaxWidth) {\n\t\t\t\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', split.getSizes());\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (splitSizes[0] < 10) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t} else if (splitSizes[1] < rightSplitMaxWidth) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\tthis.preview.hide();\n\t\t\t}\n\t\t\tthis.gutter = container.find('.gutter');\n\t\t\tlet mainWindowHeightCss = {\n\t\t\t\theight: $(window).height() - this.list.offset().top - this.footerH\n\t\t\t};\n\t\t\tif (!container.closest('.mainBody').length) {\n\t\t\t\tlet mainBody = $(top.document).find('.mainBody').height();\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tmainWindowHeightCss = {\n\t\t\t\t\theight: mainBody - this.list.offset().top - iframe.offset().top + 50\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.gutter.css(mainWindowHeightCss);\n\t\t\t\tthis.list.css(mainWindowHeightCss);\n\t\t\t\tthis.sideBlocks.css(mainWindowHeightCss);\n\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\twidth: this.sideBlockLeft.height(),\n\t\t\t\t\theight: this.sideBlockLeft.height()\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.registerSplitEvents(container, split);\n\t\t\treturn split;\n\t\t},\n\t\ttoggleSplit: function (container) {\n\t\t\tlet commactHeight = container.closest('.commonActionsContainer').height();\n\t\t\tlet splitsArray = [];\n\t\t\tthis.split = this.registerSplit(container);\n\t\t\tsplitsArray.push(this.split);\n\t\t\t$(window).on('resize', () => {\n\t\t\t\tif (this.windowW < 993) {\n\t\t\t\t\tif (container.find('.gutter').length) {\n\t\t\t\t\t\tsplitsArray[splitsArray.length - 1].destroy();\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (container.find('.gutter').length !== 1) {\n\t\t\t\t\t\tthis.split = this.registerSplit(container);\n\t\t\t\t\t\tlet gutter = container.find('.gutter');\n\t\t\t\t\t\tif (this.mainBody.scrollTop() >= this.list.offset().top + commactHeight) {\n\t\t\t\t\t\t\tgutter.addClass('gutterOnScroll');\n\t\t\t\t\t\t\tgutter.css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\tgutter.on('mousedown', function () {\n\t\t\t\t\t\t\t\t$(this).on('mousemove', function (e) {\n\t\t\t\t\t\t\t\t\t$(this).css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsplitsArray.push(this.split);\n\t\t\t\t\t}\n\t\t\t\t\tlet currentSplit = splitsArray[splitsArray.length - 1];\n\t\t\t\t\tlet minWidth = (15 / this.windowW) * 100;\n\t\t\t\t\tlet maxWidth = 100 - minWidth;\n\t\t\t\t\tif (typeof currentSplit === 'undefined') return;\n\t\t\t\t\tif (currentSplit.getSizes()[0] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([minWidth, maxWidth]);\n\t\t\t\t\t} else if (currentSplit.getSizes()[1] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([maxWidth, minWidth]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterListScroll: function () {\n\t\t\tlet container = $('.listViewEntriesDiv');\n\t\t\tif (this.relatedView !== 'ListPreview' && Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tcontainer.each((index, element) => {\n\t\t\t\t\tif (container.closest('.js-detail-widget-content').length) {\n\t\t\t\t\t\telement = container.closest('.js-detail-widget-content');\n\t\t\t\t\t\telement.each((i, el) => {\n\t\t\t\t\t\t\tApp.Components.Scrollbar.xy($(el));\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tApp.Components.Scrollbar.xy($(element));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetRecordsCount: function () {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\trecordCountVal = $('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tlet params = this.getCompleteParams();\n\t\t\t\tdelete params.view;\n\t\t\t\tparams.action = 'DetailAjax';\n\t\t\t\tparams.mode = 'getRecordsCount';\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t$('#recordsCount').val(data['result']['count']);\n\t\t\t\t\taDeferred.resolve(data['result']['count']);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tnoRecordSelectedAlert: function (text = 'JS_PLEASE_SELECT_ONE_RECORD') {\n\t\t\tapp.showNotify({\n\t\t\t\ttext: app.vtranslate(text),\n\t\t\t\ttype: 'error'\n\t\t\t});\n\t\t},\n\t\tgetCurrentCvId: function () {\n\t\t\treturn $('#customFilter').find('option:selected').data('id');\n\t\t},\n\t\tcheckListRecordSelected: function (minNumberOfRecords = 1) {\n\t\t\tlet selectedIds = this.readSelectedIds();\n\t\t\treturn typeof selectedIds === 'object' && selectedIds.length < minNumberOfRecords;\n\t\t},\n\t\treadSelectedIds: function (decode) {\n\t\t\tlet selectedIdsDataAttr = this.getCurrentCvId() + 'selectedIds',\n\t\t\t\tselectedIdsElementDataAttributes = $('#selectedIds').data(),\n\t\t\t\tselectedIds = [];\n\t\t\tif (!(selectedIdsDataAttr in selectedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeSelectedIds(selectedIds);\n\t\t\t} else {\n\t\t\t\tselectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof selectedIds == 'object') {\n\t\t\t\treturn JSON.stringify(selectedIds);\n\t\t\t}\n\t\t\treturn selectedIds;\n\t\t},\n\t\twriteSelectedIds: function (selectedIds) {\n\t\t\tif (!Array.isArray(selectedIds)) {\n\t\t\t\tselectedIds = [selectedIds];\n\t\t\t}\n\t\t\t$('#selectedIds').data(this.getCurrentCvId() + 'selectedIds', selectedIds);\n\t\t},\n\t\treadExcludedIds: function (decode) {\n\t\t\tlet excludedIdsDataAttr = this.getCurrentCvId() + 'Excludedids',\n\t\t\t\texcludedIdsElementDataAttributes = $('#excludedIds').data(),\n\t\t\t\texcludedIds = [];\n\t\t\tif (!(excludedIdsDataAttr in excludedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeExcludedIds(excludedIds);\n\t\t\t} else {\n\t\t\t\texcludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof excludedIds == 'object') {\n\t\t\t\treturn JSON.stringify(excludedIds);\n\t\t\t}\n\t\t\treturn excludedIds;\n\t\t},\n\t\twriteExcludedIds: function (excludedIds) {\n\t\t\t$('#excludedIds').data(this.getCurrentCvId() + 'Excludedids', excludedIds);\n\t\t},\n\t\tcheckSelectAll: function () {\n\t\t\tlet state = true;\n\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\tif ($(element).is(':checked')) {\n\t\t\t\t\tstate = true;\n\t\t\t\t} else {\n\t\t\t\t\tstate = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', state);\n\t\t\treturn state;\n\t\t},\n\t\tregisterCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '.relatedListViewEntriesCheckBox', function (e) {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds(),\n\t\t\t\t\telem = $(e.currentTarget);\n\t\t\t\tif (elem.is(':checked')) {\n\t\t\t\t\telem.closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.splice($.inArray(elem.val(), excludedIds), 1);\n\t\t\t\t\t} else if ($.inArray(elem.val(), selectedIds) == -1) {\n\t\t\t\t\t\tselectedIds.push(elem.val());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.push(elem.val());\n\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectedIds.splice($.inArray(elem.val(), selectedIds), 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself.checkSelectAll();\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterMainCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '#relatedListViewEntriesMainCheckBox', function () {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds();\n\t\t\t\tif ($('#relatedListViewEntriesMainCheckBox').is(':checked')) {\n\t\t\t\t\tlet progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\t\tlet recordCountObj = self.getRecordsCount();\n\t\t\t\t\trecordCountObj\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t$('#totalRecordsCount').text(data);\n\t\t\t\t\t\t\tif ($('#deSelectAllMsgDiv').css('display') == 'none') {\n\t\t\t\t\t\t\t\t$('#selectAllMsgDiv').show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all' && $.inArray($(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\texcludedIds.splice($.inArray($(element).val(), excludedIds), 1);\n\t\t\t\t\t\t} else if ($.inArray($(element).val(), selectedIds) == -1) {\n\t\t\t\t\t\t\tselectedIds.push($(element).val());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\texcludedIds.push($(element).val());\n\t\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselectedIds.splice($.inArray($(element).val(), selectedIds), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterSelectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#selectAllMsg', function () {\n\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t$('#deSelectAllMsgDiv').show();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds('all');\n\t\t\t});\n\t\t},\n\t\tregisterDeselectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#deSelectAllMsg', function () {\n\t\t\t\t$('#deSelectAllMsgDiv').hide();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds([]);\n\t\t\t\tself.writeExcludedIds([]);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register change related view.\n\t\t */\n\t\tregisterChangeViewEvent() {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '.js-change-related-view', function () {\n\t\t\t\tself.relatedView = this.dataset.view;\n\t\t\t\tself.loadRelatedList();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register mass records events.\n\t\t */\n\t\tregisterMassRecordsEvents: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '.js-mass-record-event', function () {\n\t\t\t\tlet target = $(this);\n\t\t\t\tif (self.checkListRecordSelected() !== true) {\n\t\t\t\t\tif (target.data('type') === 'modal') {\n\t\t\t\t\t\tlet params = self.getSelectedParams();\n\t\t\t\t\t\ttarget.data('url').replace(/[?&]+([^=&]+)=([^&]*)/gi, function (_m, key, value) {\n\t\t\t\t\t\t\tparams[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\tdata: params\n\t\t\t\t\t\t}).done(function (modal) {\n\t\t\t\t\t\t\tapp.showModalWindow(modal);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\ticon: false,\n\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\t\t\t\t\tdataParams = self.getSearchParams();\n\t\t\t\t\t\t\t\tdelete dataParams.view;\n\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\t\t\tdata: dataParams\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tif (data && data.result && data.result.notify) {\n\t\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(data.result.notify);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tself.getListViewRecords();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\t\t\tparams.text = target.data('confirm');\n\t\t\t\t\t\t\tparams.title = target.html();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams.text = target.html();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showConfirmModal(params);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register related events\n\t\t */\n\t\tregisterRelatedEvents: function () {\n\t\t\tthis.registerUnreviewedCountEvent();\n\t\t\tthis.registerChangeEntityStateEvent();\n\t\t\tthis.registerPaginationEvents();\n\t\t\tthis.registerListEvents();\n\t\t\tthis.registerPostLoadEvents();\n\t\t\tthis.registerSummationEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t\tthis.registerChangeViewEvent();\n\t\t\tthis.registerMassRecordsEvents();\n\t\t\tYetiForce_ListSearch_Js.registerSearch(this.content, (data) => {\n\t\t\t\tthis.loadRelatedList(data);\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","jQuery","Class","relatedListInstance","getInstance","parentId","parentModule","selectedRelatedTabElement","relatedModuleName","url","Vtiger_RelatedList_Js","moduleName","instance","moduleClassName","app","getModuleName","fallbackClassName","window","parentRecordId","parentModuleName","relatedTabsContainer","closest","content","$","relatedView","find","val","parseUrlParams","setSelectedTabElement","getInstanceByUrl","params","convertUrlToObject","relatedModule","record","module","defaultParams","triggerMassAction","massActionUrl","type","self","validationResult","checkListRecordSelected","progressIndicatorElement","progressIndicator","selectedIds","readSelectedIds","excludedIds","readExcludedIds","cvId","getCurrentCvId","postData","getCompleteParams","mode","view","viewname","selected_ids","excluded_ids","AppConnector","requestForm","request","data","done","responseData","result","notify","Vtiger_Helper_Js","showMessage","reloadList","Vtiger_Detail_Js","reloadRelatedList","processStop","fail","noRecordSelectedAlert","verifyFileExist","aDeferred","Deferred","action","resolve","promise","triggerMassDownload","thisInstance","substring","indexOf","triggerMassQuickCreate","listParams","getSelectedParams","progress","blockInfo","enabled","callbackFunction","loadRelatedList","noCache","extend","sourceView","sourceModule","entityState","search_params","relationId","relatedRecord","App","Components","QuickCreate","getForm","showModal","registerEventForClockPicker","triggerSendEmail","getDefaultParams","Vtiger_List_Js","relatedLoad","sourceRecord","getRecordId","triggerSendEmailByRow","row","listSearchInstance","detailViewContentHolder","frameProgress","noEventsListSearch","listViewContainer","tabElement","getSelectedTabElement","getParentId","getRelatedContainer","setRelatedContainer","container","getContentHolder","getCurrentPageNum","setCurrentPageNumber","pageNumber","getOrderBy","Object","assign","page","orderby","length","totalCount","getListSearchParams","searchValue","getAlphabetSearchValue","search_key","getAlphabetSearchField","search_value","operator","parseConditions","JSON","stringify","switchBtn","time","first","prop","tab_label","cvid","currentInstance","loadWidgets","progressInstance","position","completeParams","activeTabsReference","removeClass","addClass","html","tooltip","registerPostLoadEvents","registerListEvents","textStatus","errorThrown","reject","showNotify","text","vtranslate","showSelectRelation","extendParams","_this","getRecordsListParams","showRecordsList","_modal","setSelectEvent","addRelations","keys","event","trigger","detail","registerRelatedModulesRecordCount","src_module","src_record","multi_select","idList","arguments","related_module","related_record_list","isArray","deleteRelation","target","_this2","id","response","widget","loadWidget","updatesWidget","nextPageHandler","pageLimit","noOfEntries","nextPage","parseInt","previousPageHandler","previousPage","selectPageHandler","pageJumpHandler","e","which","element","currentTarget","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","validationEngine","preventDefault","jumpToPage","totalPages","error","invalidFields","parent","currentPage","message","addRelatedRecord","callback","referenceModuleName","quickCreateParams","relatedParams","relatedField","fullFormUrl","eliminatedKeys","Array","urlSplit","split","queryString","queryParameters","index","queryParam","queryParamComponents","inArray","callbackPostShown","preQuickCreateSave","appendTo","field","createRecord","getRelatedPageCount","totalCountElem","totalPageNumber","pageCount","numberOfRecords","err","favoritesRelation","relcrmId","state","relcrmid","actionMode","updatePreview","frame","defaultView","getMainParams","attr","replace","registerUnreviewedCountEvent","ids","relatedContent","isUnreviewedActive","each","push","recordsId","appData","value","a","m","registerChangeEntityStateEvent","on","registerRowsEvent","hasClass","is","contains","get","recordUrl","getViewName","top","document","location","href","inventoryRow","next","block","toggleClass","registerWidgets","widgetsContainer","widgetList","detailInstance","registerSummationEvent","button","calculateValue","fieldName","calculateType","hidePopover","success","registerPreviewEvent","contentHeight","height","getScreenHeight","offset","contents","registerPaginationEvents","stopImmediatePropagation","openUrl","restrictionsField","key","name","icon","confirmedCallback","title","showConfirmModal","lockedEmptyFields","registerListScroll","setDomParams","toggleSplit","registerListPreviewEvents","YetiForce_ListSearch_Js","getListColumnWidth","width","column","left","listColumnWidth","windowW","mainBody","windowMinWidth","windowMaxWidth","minWidth","sideBlocks","sideBlockLeft","sideBlockRight","last","list","preview","rotatedText","footerH","outerHeight","headerH","getDefaultSplitSizes","thWidth","getSplitSizes","cachedParams","moduleCacheGet","_this3","showNewScrollbarTopBottom","showNewScrollbarLeft","getSizes","defaultGutterPosition","setSizes","show","moduleCacheSet","parents","registerScrollEvent","_this4","gutter","scrollContainer","Scrollbar","listOffsetTop","initialH","mainViewPortHeightCss","mainViewPortWidthCss","fixedElements","iframe","onScroll","scrollTop","css","registerSplitEvents","_this5","rightSplitMaxWidth","minWindowWidth","maxWindowWidth","listPreview","gutterRelatedMidPosition","isNaN","hide","registerSplit","_this6","splitSizes","Split","sizes","minSize","gutterSize","snapOffset","onDrag","collapse","mainWindowHeightCss","_this7","commactHeight","splitsArray","destroy","currentSplit","maxWidth","Quasar","plugins","Platform","desktop","i","el","xy","getRecordsCount","recordCountVal","count","minNumberOfRecords","decode","selectedIdsDataAttr","selectedIdsElementDataAttributes","writeSelectedIds","excludedIdsDataAttr","excludedIdsElementDataAttributes","writeExcludedIds","checkSelectAll","registerCheckBoxClickEvent","elem","splice","registerMainCheckBoxClickEvent","recordCountObj","registerSelectAllClickEvent","registerDeselectAllClickEvent","registerChangeViewEvent","dataset","registerMassRecordsEvents","_m","modal","showModalWindow","dataParams","getSearchParams","getListViewRecords","registerRelatedEvents","_this8","registerSearch"],"mappings":"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"}