{"version":3,"file":"Calendar.min.js","sources":["Calendar.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 6.5 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n/** Class representing a calendar. */\nwindow.Calendar_Js = class {\n\tstatic monthFormat = {\n\t\t'yyyy-mm-dd': 'YYYY-MMMM',\n\t\t'mm-dd-yyyy': 'MMMM-YYYY',\n\t\t'dd-mm-yyyy': 'MMMM-YYYY',\n\t\t'yyyy.mm.dd': 'YYYY.MMMM',\n\t\t'mm.dd.yyyy': 'MMMM.YYYY',\n\t\t'dd.mm.yyyy': 'MMMM.YYYY',\n\t\t'yyyy/mm/dd': 'YYYY/MMMM',\n\t\t'mm/dd/yyyy': 'MMMM/YYYY',\n\t\t'dd/mm/yyyy': 'MMMM/YYYY'\n\t};\n\tstatic viewsNamesMap = {\n\t\tmonth: 'dayGridMonth',\n\t\tbasicWeek: 'dayGridWeek',\n\t\tbasicDay: 'dayGridDay',\n\t\ttimeGridWeek: 'timeGridWeek',\n\t\ttimeGridDay: 'timeGridDay'\n\t};\n\tstatic viewsNamesLabels = {\n\t\tdayGridMonth: 'month',\n\t\tdayGridWeek: 'week',\n\t\tdayGridDay: 'day',\n\t\tlistWeek: 'week',\n\t\ttimeGridWeek: 'week',\n\t\ttimeGridDay: 'day'\n\t};\n\t/**\n\t * Create calendar's options.\n\t * @param {jQuery} container\n\t * @param {bool} readonly\n\t * @param {boolean} browserHistory\n\t */\n\tconstructor(container = $('.js-base-container'), readonly = false, browserHistory = true) {\n\t\tthis.calendarCreateView = false;\n\t\tthis.container = container;\n\t\tthis.calendarView = container.find('.js-calendar__container');\n\t\tthis.readonly = readonly;\n\t\tthis.eventCreate = app.getMainParams('eventCreate');\n\t\tthis.eventEdit = app.getMainParams('eventEdit');\n\t\tthis.browserHistory = !readonly && browserHistory;\n\t\tthis.sidebarView = {\n\t\t\tlength: 0\n\t\t};\n\t\tthis.startHour = app.getMainParams('startHour');\n\t\tthis.endHour = app.getMainParams('endHour');\n\t\tif (this.startHour == '') {\n\t\t\tthis.startHour = '00';\n\t\t}\n\t\tif (this.endHour == '') {\n\t\t\tthis.endHour = '00';\n\t\t}\n\t\tthis.browserHistoryOptions = {};\n\t\tthis.browserHistoryConfig = this.browserHistory ? this.setBrowserHistoryOptions() : {};\n\t\tthis.calendarOptions = this.setCalendarOptions();\n\t\tthis.eventTypeKeyName = false;\n\t\tthis.module = app.getModuleName();\n\n\t\tapp.event.on('QuickEdit.AfterSaveFinal', () => {\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Set calendar's options.\n\t * @returns {object}\n\t */\n\tsetCalendarOptions() {\n\t\treturn Object.assign(\n\t\t\tthis.setCalendarBasicOptions(),\n\t\t\tthis.setCalendarAdvancedOptions(),\n\t\t\tthis.setCalendarModuleOptions(),\n\t\t\tthis.browserHistoryOptions\n\t\t);\n\t}\n\t/**\n\t * Set calendar's basic options.\n\t * @returns {object}\n\t */\n\tsetCalendarBasicOptions() {\n\t\tlet eventLimit = app.getMainParams('eventLimit'),\n\t\t\tuserView = app.getMainParams('activity_view'),\n\t\t\tdefaultView = app.moduleCacheGet('defaultView'),\n\t\t\tuserTimeFormat = CONFIG.hourFormat;\n\t\tif (eventLimit == 'true') {\n\t\t\teventLimit = true;\n\t\t} else if (eventLimit == 'false') {\n\t\t\teventLimit = false;\n\t\t} else {\n\t\t\teventLimit = parseInt(eventLimit) + 1;\n\t\t}\n\t\tif (userView === 'Today') {\n\t\t\tuserView = app.getMainParams('dayView');\n\t\t} else if (userView === 'This Week') {\n\t\t\tuserView = app.getMainParams('weekView');\n\t\t} else if (userView === 'This Year') {\n\t\t\tuserView = 'year';\n\t\t} else {\n\t\t\tuserView = 'dayGridMonth';\n\t\t}\n\t\tif (defaultView != null) {\n\t\t\tuserView = defaultView;\n\t\t}\n\t\tif (userTimeFormat == 24) {\n\t\t\tuserTimeFormat = {\n\t\t\t\thour: '2-digit',\n\t\t\t\tminute: '2-digit',\n\t\t\t\thour12: false,\n\t\t\t\tmeridiem: false\n\t\t\t};\n\t\t} else {\n\t\t\tuserTimeFormat = {\n\t\t\t\thour: 'numeric',\n\t\t\t\tminute: '2-digit',\n\t\t\t\tmeridiem: 'short'\n\t\t\t};\n\t\t}\n\n\t\tlet options = {\n\t\t\teventTimeFormat: userTimeFormat,\n\t\t\tslotLabelFormat: userTimeFormat,\n\t\t\tinitialView: Calendar_Js.viewsNamesMap[userView] ? Calendar_Js.viewsNamesMap[userView] : userView,\n\t\t\tforceEventDuration: true,\n\t\t\tdefaultTimedEventDuration: '01:00:00',\n\t\t\tdayMaxEvents: eventLimit,\n\t\t\tselectMirror: true,\n\t\t\tslotDuration: '00:15:00',\n\t\t\tnowIndicator: true,\n\t\t\tscrollTime: this.startHour + ':00'\n\t\t};\n\t\tif (app.moduleCacheGet('start') !== null && app.moduleCacheGet('start') !== undefined) {\n\t\t\ttry {\n\t\t\t\tlet s = App.Fields.Date.getDateInstance(app.moduleCacheGet('start'));\n\t\t\t\tlet e = App.Fields.Date.getDateInstance(app.moduleCacheGet('end'));\n\t\t\t\toptions.initialDate = App.Fields.Date.dateToDbFormat(new Date(e - (e - s) / 2));\n\t\t\t} catch (_error) {\n\t\t\t\tapp.cacheClear(app.getModuleName() + '_' + 'start');\n\t\t\t\tapp.cacheClear(app.getModuleName() + '_' + 'end');\n\t\t\t}\n\t\t}\n\n\t\treturn Object.assign(this.setCalendarMinimalOptions(), options);\n\t}\n\t/**\n\t * Set calendar's minimal options.\n\t * @returns {object}\n\t */\n\tsetCalendarMinimalOptions() {\n\t\tlet hiddenDays = [];\n\t\tif (app.getMainParams('switchingDays') === 'workDays') {\n\t\t\thiddenDays = app.getMainParams('hiddenDays', true);\n\t\t}\n\t\treturn {\n\t\t\tnavLinks: true,\n\t\t\tfirstDay: CONFIG.firstDayOfWeekNo,\n\t\t\tselectable: true,\n\t\t\thiddenDays: hiddenDays,\n\t\t\tmoreLinkContent: app.vtranslate('JS_MORE'),\n\t\t\tallDayText: app.vtranslate('JS_ALL_DAY'),\n\t\t\tnoEventsText: app.vtranslate('JS_NO_RECORDS'),\n\t\t\tbuttonText: {\n\t\t\t\ttoday: '',\n\t\t\t\tyear: app.vtranslate('JS_YEAR'),\n\t\t\t\tweek: app.vtranslate('JS_WEEK'),\n\t\t\t\tmonth: app.vtranslate('JS_MONTH'),\n\t\t\t\tday: app.vtranslate('JS_DAY'),\n\t\t\t\tdayGridMonth: app.vtranslate('JS_MONTH'),\n\t\t\t\tdayGridWeek: app.vtranslate('JS_WEEK'),\n\t\t\t\tlistWeek: app.vtranslate('JS_WEEK'),\n\t\t\t\tdayGridDay: app.vtranslate('JS_DAY'),\n\t\t\t\ttimeGridDay: app.vtranslate('JS_DAY'),\n\t\t\t\tlist: app.vtranslate('JS_CALENDAR_LIST')\n\t\t\t},\n\t\t\tbuttonHints: {\n\t\t\t\tprev(buttonText) {\n\t\t\t\t\treturn `${app.vtranslate('JS_PREV')} ${buttonText}`;\n\t\t\t\t},\n\t\t\t\tnext(buttonText) {\n\t\t\t\t\treturn `${app.vtranslate('JS_NEXT')} ${buttonText}`;\n\t\t\t\t},\n\t\t\t\ttoday(buttonText) {\n\t\t\t\t\treturn `${app.vtranslate('JS_CURRENT')} ${buttonText}`;\n\t\t\t\t}\n\t\t\t},\n\t\t\tviewHint: '$0',\n\t\t\tnavLinkHint: (_dateStr, zonedDate) => {\n\t\t\t\treturn App.Fields.Date.dateToUserFormat(zonedDate);\n\t\t\t},\n\t\t\tdayHeaderContent: (arg) => {\n\t\t\t\tif (this.container.width() < 600) {\n\t\t\t\t\treturn App.Fields.Date.daysTranslated[arg.date.getUTCDay()];\n\t\t\t\t}\n\t\t\t\treturn App.Fields.Date.fullDaysTranslated[arg.date.getUTCDay()];\n\t\t\t}\n\t\t};\n\t}\n\t/**\n\t * Set calendar's advanced options.\n\t * @returns {object}\n\t */\n\tsetCalendarAdvancedOptions() {\n\t\tconst self = this;\n\t\treturn {\n\t\t\teditable: !this.readonly && this.eventEdit == 1,\n\t\t\tselectable: !this.readonly && this.eventCreate == 1,\n\t\t\theaderToolbar: {\n\t\t\t\tleft: 'dayGridMonth,' + app.getMainParams('weekView') + ',' + app.getMainParams('dayView'),\n\t\t\t\tcenter: 'title,today',\n\t\t\t\tright: 'prev,next'\n\t\t\t},\n\t\t\tallDaySlot: app.getMainParams('allDaySlot'),\n\t\t\tviews: {\n\t\t\t\tbasic: {\n\t\t\t\t\tdayMaxEvents: false\n\t\t\t\t},\n\t\t\t\tdayGridMonth: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, args.end, 'month');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttimeGridWeek: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, args.end, 'week');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttimeGridDay: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, args.end, 'day');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlistWeek: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, args.end, 'week');\n\t\t\t\t\t},\n\t\t\t\t\tdayHeaderContent: (arg) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\thtml: `<span class=\"fc-list-day-text\">${App.Fields.Date.fullDaysTranslated[arg.date.getDay()]}</span>\n\t\t\t\t\t\t\t<span class=\"fc-list-day-side-text\">${App.Fields.Date.dateToUserFormat(arg.date)}</span>`\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbasicDay: {\n\t\t\t\t\ttype: 'timeGridDay'\n\t\t\t\t}\n\t\t\t},\n\t\t\teventDrop: self.updateEvent,\n\t\t\teventResize: self.updateEvent,\n\t\t\tdatesSet: (dateInfo) => {\n\t\t\t\tapp.event.trigger('Calendar.DatesSet', dateInfo, this);\n\t\t\t\tself.loadCalendarData();\n\t\t\t},\n\t\t\teventContent: self.eventRenderer,\n\t\t\theight: this.setCalendarHeight()\n\t\t};\n\t}\n\t/**\n\t * Set calendar module's options.\n\t * @returns {object}\n\t */\n\tsetCalendarModuleOptions() {\n\t\treturn {};\n\t}\n\t/**\n\t * Invokes FullCalendar with options.\n\t */\n\trenderCalendar() {\n\t\tthis.fullCalendar = new FullCalendar.Calendar(this.calendarView.get(0), this.calendarOptions);\n\t\tthis.fullCalendar.render();\n\t\tthis.registerViewRenderEvents();\n\t}\n\t/**\n\t * Get calendar container.\n\t * @returns {(boolean|jQuery)}\n\t */\n\tgetCalendarView() {\n\t\tif (!this.calendarView) {\n\t\t\tthis.calendarView = this.container.find('.js-calendar__container');\n\t\t}\n\t\treturn this.calendarView;\n\t}\n\t/**\n\t * Load calendar data\n\t */\n\tloadCalendarData() {\n\t\tconst defaultParams = this.getDefaultParams();\n\t\tthis.fullCalendar.removeAllEvents();\n\t\tif (!defaultParams.emptyFilters) {\n\t\t\tconst progressInstance = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\tAppConnector.request(defaultParams).done((events) => {\n\t\t\t\tthis.fullCalendar.addEventSource(events.result);\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t}\n\t}\n\t/**\n\t * Reload calendar data after changing search parameters\n\t */\n\treloadCalendarData() {\n\t\tthis.loadCalendarData();\n\t}\n\t/**\n\t * Default params\n\t * @returns {{module: string, action: string, mode: string, start: string, end: string, user: *, cvid: int, emptyFilters: boolean}}\n\t */\n\tgetDefaultParams() {\n\t\tconst users = app.moduleCacheGet('calendar-users') || CONFIG.userId,\n\t\t\tsideBar = this.getSidebarView();\n\t\tlet filters = [],\n\t\t\tparams = {\n\t\t\t\tmodule: this.module ? this.module : CONFIG.module,\n\t\t\t\taction: 'Calendar',\n\t\t\t\tmode: 'getEvents',\n\t\t\t\tstart: App.Fields.Date.dateToUserFormat(this.fullCalendar.view.activeStart),\n\t\t\t\tend: App.Fields.Date.dateToUserFormat(this.fullCalendar.view.activeEnd),\n\t\t\t\tuser: users,\n\t\t\t\tcvid: this.getCurrentCvId(),\n\t\t\t\temptyFilters: users.length === 0\n\t\t\t};\n\t\tsideBar.find('.calendarFilters .filterField').each(function () {\n\t\t\tlet element = $(this),\n\t\t\t\tname,\n\t\t\t\tvalue;\n\t\t\tif (element.attr('type') == 'checkbox') {\n\t\t\t\tname = element.val();\n\t\t\t\tvalue = element.prop('checked') ? 1 : 0;\n\t\t\t} else {\n\t\t\t\tname = element.attr('name');\n\t\t\t\tvalue = element.val();\n\t\t\t}\n\t\t\tfilters.push({ name: name, value: value });\n\t\t});\n\t\tif (filters.length) {\n\t\t\tparams.filters = filters;\n\t\t}\n\t\tsideBar.find('.js-sidebar-filter-container').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('name');\n\t\t\tlet cacheName = element.data('cache');\n\t\t\tif (name && cacheName && app.moduleCacheGet(cacheName)) {\n\t\t\t\tparams[name] = app.moduleCacheGet(cacheName);\n\t\t\t\tparams.emptyFilters = !params.emptyFilters && params[name].length === 0;\n\t\t\t}\n\t\t});\n\t\tsideBar.find('.js-filter__container_checkbox_list').each((_, e) => {\n\t\t\tlet filters = [];\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('name');\n\t\t\telement.find('.js-filter__item__val:checked').each(function () {\n\t\t\t\tfilters.push($(this).val());\n\t\t\t});\n\t\t\tif (name) {\n\t\t\t\tparams[name] = filters;\n\t\t\t}\n\t\t});\n\t\tsideBar.find('.js-calendar__filter__select').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.attr('name');\n\t\t\tlet cacheName = element.data('cache');\n\t\t\tif (name) {\n\t\t\t\tparams[name] = cacheName && app.moduleCacheGet(cacheName) ? app.moduleCacheGet(cacheName) : element.val();\n\t\t\t\tparams.emptyFilters = !params.emptyFilters && params[name].length === 0;\n\t\t\t}\n\t\t});\n\t\treturn params;\n\t}\n\t/**\n\t * Converts the date format.\n\t * @param {object} startDate\n\t * @param {object} endDate\n\t * @param {string} type\n\t * @returns {string}\n\t */\n\tformatDate(startDate, endDate, type) {\n\t\tswitch (type) {\n\t\t\tcase 'month':\n\t\t\t\treturn Calendar_Js.monthFormat[CONFIG.dateFormat]\n\t\t\t\t\t.replace('YYYY', startDate['year'])\n\t\t\t\t\t.replace('MMMM', App.Fields.Date.fullMonthsTranslated[startDate['month']]);\n\t\t\tcase 'week':\n\t\t\t\tlet weekRange = '';\n\t\t\t\tlet endMonth = '';\n\t\t\t\tlet startDay = startDate['day'];\n\t\t\t\tlet endYear = startDate['year'];\n\t\t\t\tif (startDate['month'] !== endDate['month']) {\n\t\t\t\t\tendMonth = App.Fields.Date.monthsTranslated[endDate['month']];\n\t\t\t\t}\n\t\t\t\tif (startDate['year'] !== endDate['year']) {\n\t\t\t\t\tstartDay = startDate['day'] + ', ' + startDate['year'];\n\t\t\t\t\tendYear = endDate['year'];\n\t\t\t\t}\n\t\t\t\tweekRange = [\n\t\t\t\t\tApp.Fields.Date.monthsTranslated[startDate['month']],\n\t\t\t\t\tstartDay,\n\t\t\t\t\t'-',\n\t\t\t\t\tendMonth,\n\t\t\t\t\tendDate['day'] + ',',\n\t\t\t\t\tendYear\n\t\t\t\t].join(' ');\n\t\t\t\treturn weekRange;\n\t\t\tcase 'day':\n\t\t\t\treturn CONFIG.dateFormat\n\t\t\t\t\t.replace('yyyy', startDate['year'])\n\t\t\t\t\t.replace('mm', App.Fields.Date.monthsTranslated[startDate['month']])\n\t\t\t\t\t.replace('dd', startDate['day']);\n\t\t}\n\t}\n\t/**\n\t * Update calendar's event.\n\t * @param {Object} info\n\t */\n\tupdateEvent(info) {\n\t\tconst progressInstance = jQuery.progressIndicator({ blockInfo: { enabled: true } });\n\t\tAppConnector.request({\n\t\t\tmodule: this.module ? this.module : CONFIG.module,\n\t\t\taction: 'Calendar',\n\t\t\tmode: 'updateEvent',\n\t\t\tid: info.event.id,\n\t\t\tstart: App.Fields.DateTime.dateToUserFormat(info.event.start),\n\t\t\tend: App.Fields.DateTime.dateToUserFormat(info.event.end),\n\t\t\tallDay: info.event.allDay\n\t\t})\n\t\t\t.done(function (response) {\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\tif (!response['result']) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NO_EDIT_PERMISSION'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tinfo.revert();\n\t\t\t\t} else {\n\t\t\t\t\twindow.popoverCache = {};\n\t\t\t\t}\n\t\t\t})\n\t\t\t.fail(function () {\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NO_EDIT_PERMISSION'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\tinfo.revert();\n\t\t\t});\n\t}\n\t/**\n\t * Render event.\n\t * @param {Object} arg\n\t * @returns {Object}\n\t */\n\teventRenderer(arg) {\n\t\tif (arg.event.display === 'background') {\n\t\t\treturn {\n\t\t\t\thtml: `<span class=\"${arg.event.extendedProps.icon} js-popover-icon mr-1\"></span>${arg.event._def.title}`\n\t\t\t};\n\t\t}\n\t}\n\t/**\n\t * Returns counted calendar height.\n\t * @returns {(number|string)}\n\t */\n\tsetCalendarHeight() {\n\t\tlet defaultHeightValue = 'auto';\n\t\tif ($(window).width() > 993) {\n\t\t\tlet calendarPadding;\n\t\t\tif (this.container.hasClass('js-modal-container')) {\n\t\t\t\tcalendarPadding = this.container.find('.js-modal-header').outerHeight(); // modal needs bigger padding to prevent modal's scrollbar\n\t\t\t} else {\n\t\t\t\tcalendarPadding = this.container.find('.js-contents-div').css('margin-left').replace('px', ''); //equals calendar padding bottom to left margin\n\t\t\t}\n\t\t\tlet setCalendarH = () => {\n\t\t\t\treturn (\n\t\t\t\t\t$(window).height() -\n\t\t\t\t\tthis.container.find('.js-calendar__container').offset().top -\n\t\t\t\t\t$('.js-footer').height() -\n\t\t\t\t\tcalendarPadding\n\t\t\t\t);\n\t\t\t};\n\t\t\tdefaultHeightValue = setCalendarH();\n\t\t\tnew ResizeSensor(this.container.find('.contentsDiv'), () => {\n\t\t\t\tlet currentHeight = setCalendarH();\n\t\t\t\tif (currentHeight !== defaultHeightValue) {\n\t\t\t\t\tthis.fullCalendar.setOption('height', currentHeight);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn defaultHeightValue;\n\t}\n\t/**\n\t * Set calendar options from browser history.\n\t * @returns {object}\n\t */\n\tsetBrowserHistoryOptions() {\n\t\tconst historyParams = app.getMainParams('historyParams', true);\n\t\tlet options = {};\n\t\tif (historyParams && (historyParams.length || Object.keys(historyParams).length)) {\n\t\t\tlet s = App.Fields.Date.getDateInstance(historyParams.start);\n\t\t\tlet e = App.Fields.Date.getDateInstance(historyParams.end);\n\t\t\tthis.browserHistoryOptions = {\n\t\t\t\tinitialView: historyParams.viewType,\n\t\t\t\tinitialDate: App.Fields.Date.dateToDbFormat(new Date(e - (e - s) / 2)),\n\t\t\t\thiddenDays: historyParams.hiddenDays.split(',').map((x) => {\n\t\t\t\t\tlet parsedValue = parseInt(x);\n\t\t\t\t\treturn isNaN(parsedValue) ? '' : parsedValue;\n\t\t\t\t})\n\t\t\t};\n\t\t\toptions = {\n\t\t\t\tstart: historyParams.start,\n\t\t\t\tend: historyParams.end,\n\t\t\t\ttime: historyParams.time,\n\t\t\t\tuser: historyParams.user,\n\t\t\t\tcvid: historyParams.cvid\n\t\t\t};\n\t\t\tObject.keys(options).forEach((key) => options[key] === 'undefined' && delete options[key]);\n\t\t\tObject.keys(this.browserHistoryOptions).forEach(\n\t\t\t\t(key) => this.browserHistoryOptions[key] === 'undefined' && delete this.browserHistoryOptions[key]\n\t\t\t);\n\t\t\tapp.moduleCacheSet('browserHistoryEvent', false);\n\t\t\tif (historyParams.cvid && historyParams.cvid !== 'undefined') {\n\t\t\t\tapp.moduleCacheSet('CurrentCvId', historyParams.cvid);\n\t\t\t}\n\t\t\tapp.setMainParams('showType', options.time);\n\t\t\tapp.setMainParams('usersId', options.user);\n\t\t\tapp.setMainParams('defaultView', this.browserHistoryOptions);\n\t\t}\n\t\twindow.addEventListener(\n\t\t\t'popstate',\n\t\t\tfunction () {\n\t\t\t\tapp.moduleCacheSet('browserHistoryEvent', true);\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t\treturn options;\n\t}\n\t/**\n\t * Register filters\n\t */\n\tregisterFilters() {\n\t\tconst self = this;\n\t\tlet sideBar = self.getSidebarView();\n\t\tif (!sideBar || sideBar.length <= 0) {\n\t\t\treturn;\n\t\t}\n\t\tsideBar.find('.js-sidebar-filter-container').each((_, row) => {\n\t\t\tlet formContainer = $(row);\n\t\t\tself.registerUsersChange(formContainer);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(formContainer.find('select'));\n\t\t\tapp.showNewScrollbar(formContainer, {\n\t\t\t\tsuppressScrollX: true\n\t\t\t});\n\t\t\tself.registerFilterForm(formContainer);\n\t\t});\n\t\tself.registerSelectAll(sideBar);\n\t\tif (app.moduleCacheGet('CurrentCvId') !== null) {\n\t\t\tthis.container\n\t\t\t\t.find('.js-calendar__extended-filter-tab [data-cvid=\"' + app.moduleCacheGet('CurrentCvId') + '\"] a')\n\t\t\t\t.addClass('active');\n\t\t}\n\t}\n\t/**\n\t * Register filter for users and groups\n\t * @param {jQuery} container\n\t */\n\tregisterFilterForm(container) {\n\t\tconst self = this;\n\t\tif (container.find('.js-filter__search').length) {\n\t\t\tcontainer.find('.js-filter__search').on('keyup', this.findElementOnList.bind(self));\n\t\t}\n\t\tcontainer.find('.js-calendar__filter__select, .filterField').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('cache');\n\t\t\tlet cachedValue = app.moduleCacheGet(name);\n\t\t\tif (element.length > 0 && cachedValue !== undefined) {\n\t\t\t\tif (element.prop('tagName') == 'SELECT') {\n\t\t\t\t\telement.val(cachedValue);\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tname &&\n\t\t\t\telement.length > 0 &&\n\t\t\t\tcachedValue === undefined &&\n\t\t\t\t!element.find(':selected').length &&\n\t\t\t\telement.data('selected') !== 0\n\t\t\t) {\n\t\t\t\tlet allOptions = [];\n\t\t\t\telement.find('option').each((i, option) => {\n\t\t\t\t\tallOptions.push($(option).val());\n\t\t\t\t});\n\t\t\t\telement.val(allOptions);\n\t\t\t\tapp.moduleCacheSet(name, cachedValue);\n\t\t\t}\n\t\t\telement.off('change');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(element);\n\t\t\telement.on('change', (e) => {\n\t\t\t\tlet item = $(e.currentTarget);\n\t\t\t\tlet value = item.val();\n\t\t\t\tif (value == null) {\n\t\t\t\t\tvalue = '';\n\t\t\t\t}\n\t\t\t\tif (item.attr('type') == 'checkbox') {\n\t\t\t\t\tvalue = element.is(':checked');\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet(item.data('cache'), value);\n\t\t\t\tself.reloadCalendarData();\n\t\t\t});\n\t\t});\n\t\tcontainer\n\t\t\t.find('.js-filter__container_checkbox_list .js-filter__item__val')\n\t\t\t.off('change')\n\t\t\t.on('change', (e) => {\n\t\t\t\tself.reloadCalendarData();\n\t\t\t});\n\t}\n\t/**\n\t * Find element on list (user, group)\n\t * @param {jQuery.Event} e\n\t */\n\tfindElementOnList(e) {\n\t\tconst target = $(e.target),\n\t\t\tvalue = target.val().toLowerCase(),\n\t\t\tcontainer = target.closest('.js-filter__container');\n\t\tcontainer.find('.js-filter__item__value').filter(function () {\n\t\t\tlet item = $(this).closest('.js-filter__item__container');\n\t\t\tif ($(this).text().trim().toLowerCase().indexOf(value) > -1) {\n\t\t\t\titem.removeClass('d-none');\n\t\t\t} else {\n\t\t\t\titem.addClass('d-none');\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Register users change\n\t * @param {jQuery} formContainer\n\t */\n\tregisterUsersChange(formContainer) {\n\t\tformContainer.find('.js-input-user-owner-id-ajax, .js-input-user-owner-id').on('change', () => {\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register change on select all checkbox\n\t * @param {jQuery} formContainer\n\t */\n\tregisterSelectAll(formContainer) {\n\t\tformContainer.find('.js-select-all').on('change', (e) => {\n\t\t\tlet checkboxSelectAll = $(e.currentTarget);\n\t\t\tlet checkboxes = formContainer.find('.js-input-user-owner-id-ajax, .js-input-user-owner-id');\n\t\t\tif (checkboxSelectAll.is(':checked')) {\n\t\t\t\tcheckboxes.prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcheckboxes.prop('checked', false);\n\t\t\t\tformContainer.find('#ownerId' + CONFIG.userId).prop('checked', true);\n\t\t\t}\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register sidebar events.\n\t */\n\tregisterSidebarEvents() {\n\t\t$('.bodyContents').on('Vtiger.Widget.Load.undefined', () => {\n\t\t\tthis.registerSelect2Event();\n\t\t});\n\t}\n\t/**\n\t * Get sidebar view panel\n\t * @returns {jQuery}\n\t */\n\tgetSidebarView() {\n\t\tif (!this.sidebarView || !this.sidebarView.length) {\n\t\t\tthis.sidebarView = this.container.find('.js-calendar-right-panel');\n\t\t}\n\t\treturn this.sidebarView;\n\t}\n\t/**\n\t * Get current cv id\n\t * @returns {int}\n\t */\n\tgetCurrentCvId() {\n\t\tlet tab = $('.js-calendar__container .js-calendar__extended-filter-tab');\n\t\tif (tab.length === 0) {\n\t\t\ttab = $('.js-calendar__header-buttons .js-calendar__extended-filter-tab');\n\t\t}\n\t\treturn tab.find('.active').parent().data('cvid');\n\t}\n\t/**\n\t * Register select2 event.\n\t */\n\tregisterSelect2Event() {\n\t\tconst self = this;\n\t\t$('.siteBarRight .js-calendar__filter__select').each(function () {\n\t\t\tlet element = $(this);\n\t\t\tlet name = element.data('cache');\n\t\t\tlet cachedValue = app.moduleCacheGet(name);\n\t\t\tif (element.length > 0 && cachedValue !== undefined) {\n\t\t\t\tif (element.prop('tagName') == 'SELECT') {\n\t\t\t\t\telement.val(cachedValue);\n\t\t\t\t}\n\t\t\t} else if (element.length > 0 && cachedValue === undefined && !element.find(':selected').length) {\n\t\t\t\tlet allOptions = [];\n\t\t\t\telement.find('option').each((_i, option) => {\n\t\t\t\t\tallOptions.push($(option).val());\n\t\t\t\t});\n\t\t\t\telement.val(allOptions);\n\t\t\t\tapp.moduleCacheSet(name, cachedValue);\n\t\t\t}\n\t\t});\n\t\tlet selectsElements = $('.siteBarRight .select2, .siteBarRight .filterField');\n\t\tselectsElements.off('change');\n\t\tApp.Fields.Picklist.showSelect2ElementView(selectsElements);\n\t\tselectsElements.on('change', function () {\n\t\t\tlet element = $(this);\n\t\t\tlet value = element.val();\n\t\t\tif (value == null) {\n\t\t\t\tvalue = '';\n\t\t\t}\n\t\t\tif (element.attr('type') == 'checkbox') {\n\t\t\t\tvalue = element.is(':checked');\n\t\t\t}\n\t\t\tapp.moduleCacheSet(element.data('cache'), value);\n\t\t\tself.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register button select all.\n\t */\n\tregisterButtonSelectAll() {\n\t\t$('.selectAllBtn').on('click', function () {\n\t\t\tconst selectAllLabel = $(this).find('.selectAll'),\n\t\t\t\tdeselectAllLabel = $(this).find('.deselectAll');\n\t\t\tif (selectAllLabel.hasClass('d-none')) {\n\t\t\t\tselectAllLabel.removeClass('d-none');\n\t\t\t\tdeselectAllLabel.addClass('d-none');\n\t\t\t\t$(this).closest('.quickWidget').find('select option').prop('selected', false);\n\t\t\t} else {\n\t\t\t\t$(this).closest('.quickWidget').find('select option').prop('selected', true);\n\t\t\t\tdeselectAllLabel.removeClass('d-none');\n\t\t\t\tselectAllLabel.addClass('d-none');\n\t\t\t}\n\t\t\t$(this).closest('.quickWidget').find('select').trigger('change');\n\t\t});\n\t}\n\t/**\n\t * Register add button.\n\t */\n\tregisterAddButton() {\n\t\t$('.js-add').on('click', () => {\n\t\t\tthis.getCalendarCreateView().done((data) => {\n\t\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\t\tthis.reloadCalendarData();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Get calendar create view.\n\t * @returns {promise}\n\t */\n\tgetCalendarCreateView() {\n\t\tconst self = this,\n\t\t\taDeferred = jQuery.Deferred();\n\t\tif (this.calendarCreateView !== false) {\n\t\t\taDeferred.resolve(this.calendarCreateView);\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\tlet progressInstance = jQuery.progressIndicator();\n\t\tthis.loadCalendarCreateView()\n\t\t\t.done(function (data) {\n\t\t\t\tprogressInstance.hide();\n\t\t\t\tself.calendarCreateView = data;\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function () {\n\t\t\t\tprogressInstance.hide();\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\t/**\n\t * Load calendar create view.\n\t * @returns {promise}\n\t */\n\tloadCalendarCreateView() {\n\t\tconst aDeferred = jQuery.Deferred(),\n\t\t\tmoduleName = app.getModuleName();\n\t\tApp.Components.QuickCreate.getForm('index.php?module=' + moduleName + '&view=QuickCreateAjax', moduleName)\n\t\t\t.done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\t/**\n\t * Function invokes by FullCalendar, sets selected days in form\n\t * @param info\n\t */\n\tselectDays(info) {\n\t\tthis.getCalendarCreateView().done((data) => {\n\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\tself.reloadCalendarData();\n\t\t\t\t},\n\t\t\t\tcallbackPostShown: (modal) => {\n\t\t\t\t\tthis.selectCallbackCreateModal(modal, info);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Callback after shown create modal\n\t * @param {jQuery} modal\n\t */\n\tselectCallbackCreateModal(modal, info) {\n\t\tlet startDate = info.start,\n\t\t\tendDate = info.end;\n\t\tif (info['allDay']) {\n\t\t\tendDate.setDate(endDate.getDate() - 1);\n\t\t}\n\t\tif (info['allDay']) {\n\t\t\tlet startDateSplitted = this.startHour.split(':');\n\t\t\tlet endDateSplitted = this.endHour.split(':');\n\t\t\tstartDate.setHours(startDateSplitted[0], startDateSplitted[1]);\n\t\t\tendDate.setHours(endDateSplitted[0], endDateSplitted[1]);\n\t\t\tif (startDate.toDateString() === endDate.toDateString()) {\n\t\t\t\tlet activityType = modal.find('[name=\"activitytype\"]').val();\n\t\t\t\tlet activityDurations = JSON.parse(modal.find('[name=\"defaultOtherEventDuration\"]').val());\n\t\t\t\tlet minutes = 60;\n\t\t\t\tfor (let i in activityDurations) {\n\t\t\t\t\tif (activityDurations[i].activitytype === activityType) {\n\t\t\t\t\t\tminutes = parseInt(activityDurations[i].duration);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (minutes) {\n\t\t\t\t\tendDate.setMinutes(endDate.getMinutes() + minutes);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet dateFormat = CONFIG.dateFormat;\n\t\tlet timeFormat = CONFIG.hourFormat;\n\t\tlet dateField = modal.find('[name=\"date_start\"]');\n\t\tif (dateField.length) {\n\t\t\tdateFormat = dateField.data('dateFormat');\n\t\t}\n\t\tlet timeField = modal.find('[name=\"time_start\"]');\n\t\tif (timeField.length) {\n\t\t\ttimeFormat = timeField.data('format');\n\t\t}\n\t\tlet defaultTimeFormat = '';\n\t\tif (timeFormat == 24) {\n\t\t\tdefaultTimeFormat = 'HH:mm';\n\t\t} else {\n\t\t\tdefaultTimeFormat = 'hh:mm A';\n\t\t}\n\t\tmodal.find('[name=\"date_start\"]').val(App.Fields.Date.dateToUserFormat(startDate, dateFormat));\n\t\tmodal.find('[name=\"due_date\"]').val(App.Fields.Date.dateToUserFormat(endDate, dateFormat));\n\t\tif (modal.find('.js-autofill').prop('checked') === true) {\n\t\t\tCalendar_Edit_Js.getInstance().getFreeTime(modal);\n\t\t} else {\n\t\t\tmodal.find('[name=\"time_start\"]').val(moment(startDate).format(defaultTimeFormat));\n\t\t\tmodal.find('[name=\"time_end\"]').val(moment(endDate).format(defaultTimeFormat));\n\t\t}\n\t}\n\t/**\n\t * Register events.\n\t */\n\tregisterEvents() {\n\t\tthis.registerFilters();\n\t\tthis.registerSidebarEvents();\n\t\tthis.renderCalendar();\n\t\tthis.registerButtonSelectAll();\n\t\tthis.registerAddButton();\n\t}\n};\n"],"names":["_class","_typeof","o","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","i","length","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","_defineProperty","obj","value","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","Number","window","Calendar_Js","_this","container","arguments","$","readonly","browserHistory","calendarCreateView","calendarView","find","eventCreate","app","getMainParams","eventEdit","sidebarView","startHour","endHour","browserHistoryOptions","browserHistoryConfig","setBrowserHistoryOptions","calendarOptions","setCalendarOptions","eventTypeKeyName","module","getModuleName","event","on","reloadCalendarData","assign","setCalendarBasicOptions","setCalendarAdvancedOptions","setCalendarModuleOptions","eventLimit","userView","defaultView","moduleCacheGet","userTimeFormat","CONFIG","hourFormat","parseInt","hour","minute","hour12","meridiem","options","eventTimeFormat","slotLabelFormat","initialView","viewsNamesMap","forceEventDuration","defaultTimedEventDuration","dayMaxEvents","selectMirror","slotDuration","nowIndicator","scrollTime","s","App","Fields","Date","getDateInstance","e","initialDate","dateToDbFormat","_error","cacheClear","setCalendarMinimalOptions","_this2","hiddenDays","navLinks","firstDay","firstDayOfWeekNo","selectable","moreLinkContent","vtranslate","allDayText","noEventsText","buttonText","today","year","week","month","day","dayGridMonth","dayGridWeek","listWeek","dayGridDay","timeGridDay","list","buttonHints","prev","concat","next","viewHint","navLinkHint","_dateStr","zonedDate","dateToUserFormat","dayHeaderContent","width","daysTranslated","date","getUTCDay","fullDaysTranslated","_this3","self","editable","headerToolbar","left","center","right","allDaySlot","views","basic","titleFormat","args","formatDate","end","timeGridWeek","html","getDay","basicDay","type","eventDrop","updateEvent","eventResize","datesSet","dateInfo","trigger","loadCalendarData","eventContent","eventRenderer","height","setCalendarHeight","renderCalendar","fullCalendar","FullCalendar","Calendar","get","render","registerViewRenderEvents","getCalendarView","_this4","defaultParams","getDefaultParams","removeAllEvents","emptyFilters","progressInstance","progressIndicator","blockInfo","enabled","AppConnector","request","done","events","addEventSource","result","mode","users","userId","sideBar","getSidebarView","filters","params","action","start","view","activeStart","activeEnd","user","cvid","getCurrentCvId","each","name","element","attr","val","prop","push","_","data","cacheName","startDate","endDate","monthFormat","dateFormat","replace","fullMonthsTranslated","weekRange","endMonth","startDay","endYear","monthsTranslated","join","info","jQuery","id","DateTime","allDay","response","popoverCache","showNotify","text","revert","fail","display","extendedProps","icon","_def","title","_this5","defaultHeightValue","calendarPadding","hasClass","outerHeight","css","setCalendarH","offset","top","ResizeSensor","currentHeight","setOption","_this6","historyParams","keys","viewType","split","map","x","parsedValue","isNaN","time","forEach","moduleCacheSet","setMainParams","addEventListener","registerFilters","row","formContainer","registerUsersChange","Picklist","showSelect2ElementView","showNewScrollbar","suppressScrollX","registerFilterForm","registerSelectAll","addClass","findElementOnList","bind","cachedValue","allOptions","option","off","item","currentTarget","is","toLowerCase","closest","filter","trim","indexOf","removeClass","_this7","_this8","checkboxSelectAll","checkboxes","registerSidebarEvents","_this9","registerSelect2Event","tab","parent","_i","selectsElements","registerButtonSelectAll","selectAllLabel","deselectAllLabel","registerAddButton","_this10","getCalendarCreateView","Components","QuickCreate","showModal","callbackFunction","aDeferred","Deferred","resolve","promise","loadCalendarCreateView","hide","moduleName","getForm","textStatus","errorThrown","reject","selectDays","_this11","callbackPostShown","modal","selectCallbackCreateModal","setDate","getDate","startDateSplitted","endDateSplitted","setHours","toDateString","activityType","activityDurations","JSON","parse","minutes","activitytype","duration","setMinutes","getMinutes","timeFormat","dateField","timeField","defaultTimeFormat","Calendar_Edit_Js","getInstance","getFreeTime","moment","format","registerEvents","\"yyyy-mm-dd\"","\"mm-dd-yyyy\"","\"dd-mm-yyyy\"","\"yyyy.mm.dd\"","\"mm.dd.yyyy\"","\"dd.mm.yyyy\"","\"yyyy/mm/dd\"","\"mm/dd/yyyy\"","\"dd/mm/yyyy\"","basicWeek"],"mappings":"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"}