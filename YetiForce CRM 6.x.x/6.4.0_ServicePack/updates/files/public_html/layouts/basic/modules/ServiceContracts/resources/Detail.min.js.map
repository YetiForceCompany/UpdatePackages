{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/**\n * InRelation SlaPolicy\n *\n * @description InRelation scripts for SlaPolicy module\n * @license     YetiForce Public License 5.0\n * @author      Mariusz Krzaczkowski <m.krzaczkowski@yetiforce.com>\n * @author      Rados≈Çaw Skrzypczak <r.skrzypczak@yetiforce.com>\n */\n'use strict';\n\nVtiger_Detail_Js(\n\t'ServiceContracts_Detail_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Hide all settings\n\t\t *\n\t\t * @return  {self}\n\t\t */\n\t\thideAll() {\n\t\t\tthis.container.find('.js-sla-policy-template, .js-sla-policy-custom').addClass('d-none');\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Show template settings\n\t\t *\n\t\t * @return  {self}\n\t\t */\n\t\tshowTemplateSettings() {\n\t\t\tthis.container.find('.js-sla-policy-template').removeClass('d-none');\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Show custom settings\n\t\t *\n\t\t * @return  {self}\n\t\t */\n\t\tshowCustomSettings() {\n\t\t\tthis.container.find('.js-sla-policy-custom').removeClass('d-none');\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Get default params\n\t\t * @returns {Object}\n\t\t */\n\t\tgetDefaultParam() {\n\t\t\treturn {\n\t\t\t\tmodule: 'ServiceContracts',\n\t\t\t\tview: 'PolicyTemplatesAjax',\n\t\t\t\ttargetModule: this.targetModule,\n\t\t\t\trecord: Number($('#recordId').val())\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Load predefined sla policy templates\n\t\t * @param {Object} param\n\t\t * @returns\n\t\t */\n\t\tloadTemplates(param) {\n\t\t\tconst progress = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn new Promise((resolve, _reject) => {\n\t\t\t\tAppConnector.request(param)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail((e, t) => {\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.errorLog(e, t);\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * On policy type change event handler\n\t\t */\n\t\tonPolicyTypeChange() {\n\t\t\tthis.policyType = Number(this.container.find('[name=\"policy_type\"]:checked').val());\n\t\t\tif (this.policyType === 1) {\n\t\t\t\tthis.hideAll()\n\t\t\t\t\t.showTemplateSettings()\n\t\t\t\t\t.loadTemplates({ mode: 'slaPolicyTemplate', ...this.getDefaultParam() })\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tthis.container.find('.js-sla-policy-template--container').html(data);\n\t\t\t\t\t});\n\t\t\t} else if (this.policyType === 2) {\n\t\t\t\tthis.hideAll().showCustomSettings();\n\t\t\t} else {\n\t\t\t\tthis.hideAll();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * On submit event handler\n\t\t *\n\t\t * @param {Event} ev\n\t\t */\n\t\tonSubmit(ev) {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t\tthis.container.validationEngine(app.validationEngineOptions);\n\t\t\tconst policyType = Number(this.container.find('[name=\"policy_type\"]:checked').val());\n\t\t\tconst policyId = Number(this.container.find('[name=\"policy_id\"]:checked').val());\n\t\t\tif (policyType === 2 && !this.container.validationEngine('validate')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (policyType === 2 && !this.container.find('.js-custom-row').length) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NO_ITEM_SELECTED'),\n\t\t\t\t\ttype: 'notice',\n\t\t\t\t\tanimation: 'show'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (policyType === 1 && isNaN(policyId)) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NO_ITEM_SELECTED'),\n\t\t\t\t\ttype: 'notice',\n\t\t\t\t\tanimation: 'show'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst progress = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst params = this.container.serializeFormData();\n\t\t\tparams.module = 'ServiceContracts';\n\t\t\tparams.action = 'PolicySaveAjax';\n\t\t\tparams.targetModule = this.targetModule;\n\t\t\tparams.record = $('#recordId').val();\n\t\t\tparams.policyType = policyType;\n\t\t\tparams.policyId = policyId;\n\t\t\tAppConnector.request({ data: params }).done((data) => {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tif (Array.isArray(data.result)) {\n\t\t\t\t\tdata.result.forEach((row, index) => {\n\t\t\t\t\t\tconst rowElem = this.container.find('.js-custom-row').eq(index);\n\t\t\t\t\t\trowElem.data('id', row.id);\n\t\t\t\t\t\trowElem.find('.js-custom-row-id').val(row.id);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$.each(this.container.find('.js-custom-row'), (_index, rowElem) => {\n\t\t\t\t\t\trowElem = $(rowElem);\n\t\t\t\t\t\trowElem.data('id', 0);\n\t\t\t\t\t\trowElem.find('.js-custom-row-id').val(0);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tanimation: 'show'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register add record button click\n\t\t */\n\t\tregisterAddRecordBtnClick() {\n\t\t\tlet addPolicyBtn = this.container.find('.js-sla-policy-add-record-btn');\n\t\t\taddPolicyBtn.on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tthis.loadTemplates({\n\t\t\t\t\tmode: 'slaPolicyCustom',\n\t\t\t\t\tindex: this.container.find('.js-custom-row').length,\n\t\t\t\t\t...this.getDefaultParam()\n\t\t\t\t}).then((data) => {\n\t\t\t\t\tlet html = $(data);\n\t\t\t\t\tApp.Fields.TimePeriod.register(html);\n\t\t\t\t\tthis.registerDelBtnClick(html);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(html.find('.select2'));\n\t\t\t\t\tthis.registerConditionBuilder(\n\t\t\t\t\t\thtml.find('.js-condition-builder').eq(0),\n\t\t\t\t\t\tthis.container.find('.js-conditions-col').length\n\t\t\t\t\t);\n\t\t\t\t\tthis.container.find('.js-custom-conditions').append(html);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register delete button click\n\t\t *\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterDelBtnClick(container) {\n\t\t\tcontainer.find('.js-delete-row-action').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tconst row = $(e.target).closest('.js-custom-row');\n\t\t\t\tconst rowId = Number(row.data('id'));\n\t\t\t\tif (!rowId) {\n\t\t\t\t\trow.remove();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst progress = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'ServiceContracts',\n\t\t\t\t\taction: 'PolicyDeleteAjax',\n\t\t\t\t\ttargetModule: this.targetModule,\n\t\t\t\t\trecord: row.data('record-id'),\n\t\t\t\t\trowId: rowId\n\t\t\t\t}).done(() => {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t$(e.target).closest('.card').remove();\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * On condition change event\n\t\t *\n\t\t * @param   {Vtiger_ConditionBuilder_Js}  instance\n\t\t */\n\t\tonConditionsChange(instance) {\n\t\t\tconst index = this.conditionBuilders.indexOf(instance);\n\t\t\tthis.conditionsBuildersContainers[index]\n\t\t\t\t.parent()\n\t\t\t\t.find('.js-conditions-value')\n\t\t\t\t.val(JSON.stringify(instance.getConditions()));\n\t\t},\n\n\t\t/**\n\t\t * Register condition builder\n\t\t *\n\t\t * @param {jQuery} container\n\t\t * @param {Number} index\n\t\t */\n\t\tregisterConditionBuilder(container, index) {\n\t\t\tthis.conditionBuilders[index] = new Vtiger_ConditionBuilder_Js(\n\t\t\t\tcontainer,\n\t\t\t\tthis.targetModule,\n\t\t\t\tthis.onConditionsChange.bind(this)\n\t\t\t);\n\t\t\tthis.conditionBuilders[index].registerEvents();\n\t\t\tthis.conditionsBuildersContainers[index] = container;\n\t\t},\n\n\t\t/**\n\t\t * Init sla policy events\n\t\t */\n\t\tinitSlaPolicy() {\n\t\t\tthis.container = this.getForm();\n\t\t\tthis.policyType = Number(this.container.find('[name=\"policy_type\"]:checked').val());\n\t\t\tthis.targetModule = this.container.find('[name=\"target\"]').val();\n\t\t\tthis.conditionBuilders = [];\n\t\t\tthis.conditionsBuildersContainers = [];\n\t\t\tthis.container.off('submit').on('submit', this.onSubmit.bind(this));\n\t\t\tthis.container.find('.js-sla-policy-type-radio').on('click', () => this.onPolicyTypeChange());\n\t\t\tthis.onPolicyTypeChange();\n\t\t\tApp.Fields.TimePeriod.register(this.container);\n\t\t\tthis.registerAddRecordBtnClick();\n\t\t\tthis.registerDelBtnClick(this.container);\n\t\t\t$.each(this.container.find('.js-custom-conditions .js-condition-builder'), (index, col) => {\n\t\t\t\tthis.registerConditionBuilder($(col), index);\n\t\t\t});\n\t\t},\n\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tlet detailViewForm = this.getForm();\n\t\t\tif (detailViewForm.find('.js-sla-policy').length) {\n\t\t\t\tthis.initSlaPolicy();\n\t\t\t}\n\t\t\tapp.event.on('DetailView.Tab.AfterLoad', (_event, _data, instance) => {\n\t\t\t\tif (instance.getForm().find('.js-sla-policy').length) {\n\t\t\t\t\tinstance.initSlaPolicy();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["Vtiger_Detail_Js","hideAll","container","find","addClass","showTemplateSettings","removeClass","showCustomSettings","getDefaultParam","module","view","targetModule","record","Number","$","val","loadTemplates","param","jQuery","progressIndicator","position","blockInfo","enabled","resolve","AppConnector","request","done","data","progress","mode","fail","e","t","app","errorLog","showNotify","text","vtranslate","type","onPolicyTypeChange","policyType","then","html","onSubmit","ev","preventDefault","stopPropagation","validationEngine","validationEngineOptions","policyId","length","animation","isNaN","params","serializeFormData","action","Array","isArray","result","forEach","row","index","rowElem","eq","id","each","_index","registerAddRecordBtnClick","addPolicyBtn","on","App","Fields","TimePeriod","register","registerDelBtnClick","Picklist","showSelect2ElementView","registerConditionBuilder","append","target","closest","rowId","remove","onConditionsChange","instance","conditionBuilders","indexOf","conditionsBuildersContainers","parent","JSON","stringify","getConditions","bind","registerEvents","initSlaPolicy","getForm","off","col","_super","detailViewForm","event","_event","_data"],"mappings":"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"}