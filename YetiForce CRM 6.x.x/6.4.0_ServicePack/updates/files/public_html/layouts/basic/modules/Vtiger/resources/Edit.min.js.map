{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Vtiger_Edit_Js',\n\t{\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceSelectionEvent: 'Vtiger.Reference.Selection',\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceDeSelectionEvent: 'Vtiger.Reference.DeSelection',\n\t\t//Event that will triggered before saving the record\n\t\trecordPreSave: 'Vtiger.Record.PreSave',\n\t\teditInstance: false,\n\t\tinventoryController: false,\n\t\t/**\n\t\t * Function to get Instance by name\n\t\t * @params moduleName:-- Name of the module to create instance\n\t\t */\n\t\tgetInstanceByModuleName: function (moduleName) {\n\t\t\tif (typeof moduleName === 'undefined') {\n\t\t\t\tmoduleName = app.getModuleName();\n\t\t\t}\n\t\t\tlet parentModule = app.getParentModuleName(),\n\t\t\t\tmoduleClassName,\n\t\t\t\tfallbackClassName,\n\t\t\t\tinstance;\n\t\t\tif (parentModule === 'Settings') {\n\t\t\t\tmoduleClassName = parentModule + '_' + moduleName + '_Edit_Js';\n\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\t}\n\t\t\t\tfallbackClassName = parentModule + '_Vtiger_Edit_Js';\n\t\t\t\tif (typeof window[fallbackClassName] === 'undefined') {\n\t\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t}\n\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t} else {\n\t\t\t\tinstance = new window[fallbackClassName]();\n\t\t\t}\n\t\t\tinstance.moduleName = moduleName;\n\t\t\treturn instance;\n\t\t},\n\t\tgetInstance: function () {\n\t\t\tif (Vtiger_Edit_Js.editInstance == false) {\n\t\t\t\tlet instance = Vtiger_Edit_Js.getInstanceByModuleName();\n\t\t\t\tVtiger_Edit_Js.editInstance = instance;\n\t\t\t\treturn instance;\n\t\t\t}\n\t\t\treturn Vtiger_Edit_Js.editInstance;\n\t\t},\n\t\t/**\n\t\t * Record save ajax\n\t\t *\n\t\t * `Vtiger_Edit_Js.saveAjax({\n\t\t *\t\tvalue: 'value',\n\t\t *\t\tfield: 'field'\n\t\t *\t}).done(() => {})\n\t\t *\t.fail((error, err) => {});`\n\t\t *\n\t\t * @param {object} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tsaveAjax: function (params, progressIndicator = true) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (typeof params === 'undefined' || $.isEmptyObject(params)) {\n\t\t\t\taDeferred.reject();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tif (!params['record'] && app.getRecordId()) {\n\t\t\t\tparams['record'] = app.getRecordId();\n\t\t\t}\n\t\t\tif (!params['module']) {\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t}\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams = {\n\t\t\t\tdata: params,\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'json'\n\t\t\t};\n\t\t\tif (progressIndicator) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.saveAjaxValidation(params).then((response) => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tdelete params.data.mode;\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail((jqXHR, textStatus, errorThrown) => {\n\t\t\t\t\t\t\taDeferred.reject(jqXHR, textStatus, errorThrown);\n\t\t\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve({ success: false });\n\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Record pre save validation\n\t\t * @param {object} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tsaveAjaxValidation: function (params) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (this.getInstance().checkPreSaveValidation()) {\n\t\t\t\tlet paramsTemp = JSON.parse(JSON.stringify(params));\n\t\t\t\tparamsTemp.data.mode = 'preSaveValidation';\n\t\t\t\tAppConnector.request(paramsTemp)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tconst response = data.result;\n\t\t\t\t\t\tlet lock = false;\n\t\t\t\t\t\tfor (let i in response) {\n\t\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\t\tif (response[i].type === 'confirm' && typeof response[i].hash !== 'undefined') {\n\t\t\t\t\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message || '',\n\t\t\t\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\t\t\t\tlet handlers = {};\n\t\t\t\t\t\t\t\t\t\t\tif (typeof params.data.skipHandlers !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\t\t\thandlers = JSON.parse(params.data.skipHandlers);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thandlers[i] = response[i].hash;\n\t\t\t\t\t\t\t\t\t\t\tparams.data.skipHandlers = JSON.stringify(handlers);\n\t\t\t\t\t\t\t\t\t\t\tthis.saveAjaxValidation(params, form).then((responsePart) => {\n\t\t\t\t\t\t\t\t\t\t\t\taDeferred.resolve(responsePart);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\trejectedCallback: () => {\n\t\t\t\t\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tlock = true;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal !== 'undefined' &&\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal.url !== 'undefined'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tapp.showModalWindow(null, response[i].showModal.url, function (modalContainer) {\n\t\t\t\t\t\t\t\t\t\tapp.registerModalController(undefined, modalContainer, function (_, instance) {\n\t\t\t\t\t\t\t\t\t\t\tinstance.formContainer = form;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (data.result.length <= 0) {\n\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t} else if (!lock) {\n\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(true);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t},\n\t{\n\t\tformElement: false,\n\t\trelationOperation: '',\n\t\tmoduleName: app.getModuleName(),\n\t\tgetForm: function () {\n\t\t\tif (this.formElement == false) {\n\t\t\t\tthis.setForm($('#EditView'));\n\t\t\t}\n\t\t\treturn this.formElement;\n\t\t},\n\t\tsetForm: function (element) {\n\t\t\tthis.formElement = element;\n\t\t\tlet module;\n\t\t\tif ((module = $('input[name=\"module\"]', element))) {\n\t\t\t\tthis.moduleName = module.val();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetRecordsListParams: function (container) {\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet sourceModule = $('input[name=\"module\"]', formElement).val();\n\t\t\tlet popupReferenceModule = $('input[name=\"popupReferenceModule\"]', container).val();\n\t\t\tlet sourceFieldElement = $('input[class=\"sourceField\"]', container);\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\tlet sourceRecordId = '';\n\t\t\tif (sourceRecordElement.length > 0) {\n\t\t\t\tsourceRecordId = sourceRecordElement.val();\n\t\t\t}\n\t\t\tlet isMultiple = false;\n\t\t\tif (sourceFieldElement.data('multiple') == true) {\n\t\t\t\tisMultiple = true;\n\t\t\t}\n\t\t\tlet filterFields = {};\n\t\t\tlet mappingRelatedField = formElement.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tlet mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (\n\t\t\t\tmappingRelatedModule[sourceField] != undefined &&\n\t\t\t\tmappingRelatedModule[sourceField][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(mappingRelatedModule[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet listFilterFieldsJson = formElement.find('input[name=\"listFilterFields\"]').val();\n\t\t\tlet listFilterFields = listFilterFieldsJson ? JSON.parse(listFilterFieldsJson) : [];\n\t\t\tif (\n\t\t\t\tlistFilterFields[sourceField] != undefined &&\n\t\t\t\tlistFilterFields[sourceField][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(listFilterFields[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet params = {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\tsrc_module: sourceModule,\n\t\t\t\tsrc_field: sourceField,\n\t\t\t\tsrc_record: sourceRecordId,\n\t\t\t\tfilterFields: filterFields\n\t\t\t};\n\t\t\tlet searchParamsElement = $('input[name=\"searchParams\"]', container);\n\t\t\tlet searchParams = searchParamsElement.length > 0 ? JSON.parse(searchParamsElement.val()) : null;\n\t\t\tif (searchParams && searchParams[popupReferenceModule]) {\n\t\t\t\tparams['search_params'] = searchParams[popupReferenceModule];\n\t\t\t}\n\t\t\tlet modalParamsElement = $('input[name=\"modalParams\"]', container);\n\t\t\tif (modalParamsElement.length > 0) {\n\t\t\t\tparams['modal_params'] = modalParamsElement.val();\n\t\t\t}\n\t\t\tlet lockedFieldsElement = $('input[name=\"lockedFields\"]', container);\n\t\t\tif (lockedFieldsElement.length > 0) {\n\t\t\t\tparams['lockedFields'] = lockedFieldsElement.val();\n\t\t\t}\n\t\t\t$.each(['link', 'process'], function (index, value) {\n\t\t\t\tlet fieldElement = formElement.find('[name=\"' + value + '\"]');\n\t\t\t\tif (fieldElement.length && fieldElement.val() != '' && fieldElement.val() != 0) {\n\t\t\t\t\tparams[value] = fieldElement.val();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isMultiple) {\n\t\t\t\tparams.multi_select = true;\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Show records list modal\n\t\t * @param {jQuery.Event} e\n\t\t */\n\t\tshowRecordsList: function (e) {\n\t\t\tlet parentElem = $(e.target).closest('.fieldValue');\n\t\t\tif (parentElem.length <= 0) {\n\t\t\t\tparentElem = $(e.target).closest('td');\n\t\t\t}\n\t\t\tlet params = this.getRecordsListParams(parentElem);\n\t\t\tapp.showRecordsList(params, (_modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\tthis.setReferenceFieldValue(parentElem, data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetReferenceFieldValue: function (container, params) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet sourceFieldElement = container.find('input.sourceField');\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet fieldElement = container.find('input[name=\"' + sourceField + '\"]');\n\t\t\tlet sourceFieldDisplay = sourceField + '_display';\n\t\t\tlet fieldDisplayElement = container.find('input[name=\"' + sourceFieldDisplay + '\"]');\n\t\t\tlet popupReferenceModule = container.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet selectedName = params.name;\n\t\t\tlet id = params.id;\n\n\t\t\tcontainer.find('.clearReferenceSelection').trigger('click');\n\n\t\t\tfieldElement.val(id);\n\t\t\tfieldDisplayElement.val(app.decodeHTML(selectedName)).attr('readonly', true);\n\t\t\tfieldElement.trigger(Vtiger_Edit_Js.referenceSelectionEvent, {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\trecord: id,\n\t\t\t\tselectedName: selectedName\n\t\t\t});\n\t\t\tfieldDisplayElement.validationEngine('closePrompt', fieldDisplayElement);\n\t\t\tif (sourceFieldElement.data('type') == 'inventory') {\n\t\t\t\treturn params;\n\t\t\t}\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(sourceField, popupReferenceModule, formElement);\n\t\t\tif (typeof mappingRelatedField !== 'undefined') {\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\t\trecord: id\n\t\t\t\t};\n\t\t\t\tapp.getRecordDetails(params).done(function (data) {\n\t\t\t\t\tlet response = (params.data = data['result']['data']);\n\t\t\t\t\tapp.event.trigger('EditView.SelectReference', params, formElement, data);\n\t\t\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\t\t\tif (response[value[0]] != 0) {\n\t\t\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tlet fieldinfo = mapFieldElement.data('fieldinfo');\n\t\t\t\t\t\t\tif (data['result']['type'][value[0]] === 'date' || data['result']['type'][value[0]] === 'datetime') {\n\t\t\t\t\t\t\t\tmapFieldElement.val(data['result']['displayData'][value[0]]);\n\t\t\t\t\t\t\t} else if (data['result']['type'][value[0]] === 'multipicklist') {\n\t\t\t\t\t\t\t\tlet mapFieldElementMultiselect = formElement.find('[name=\"' + key + '[]\"]');\n\t\t\t\t\t\t\t\tif (mapFieldElementMultiselect.length > 0) {\n\t\t\t\t\t\t\t\t\tlet multipleAttr = mapFieldElementMultiselect.attr('multiple');\n\t\t\t\t\t\t\t\t\tlet splitValues = response[value[0]].split(' |##| ');\n\t\t\t\t\t\t\t\t\tif (typeof multipleAttr !== 'undefined' && multipleAttr !== false && splitValues.length > 0) {\n\t\t\t\t\t\t\t\t\t\tmapFieldElementMultiselect.val(splitValues).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.is('select')) {\n\t\t\t\t\t\t\t\tif (mapFieldElement.find('option[value=\"' + response[value[0]] + '\"]').length) {\n\t\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]).trigger('change');\n\t\t\t\t\t\t\t\t} else if (mapFieldElement.data('fieldinfo').picklistvalues.hasOwnProperty(response[value[0]])) {\n\t\t\t\t\t\t\t\t\tlet newOption = new Option(response[value[0]], response[value[0]], true, true);\n\t\t\t\t\t\t\t\t\tmapFieldElement.append(newOption).trigger('change');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.length == 0) {\n\t\t\t\t\t\t\t\t$(\"<input type='hidden'/>\").attr('name', key).attr('value', response[value[0]]).appendTo(formElement);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\t\t\t\tmapFieldDisplayElement.val(data['result']['displayData'][value[0]]).attr('readonly', true);\n\t\t\t\t\t\t\t\tif (fieldinfo.type === 'reference') {\n\t\t\t\t\t\t\t\t\tlet referenceModulesList = mapFieldElement.closest('.fieldValue').find('.referenceModulesList');\n\t\t\t\t\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\t\t\t\t\treferenceModulesList.val(value[1]).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.setReferenceFieldValue(mapFieldDisplayElement.closest('.fieldValue'), {\n\t\t\t\t\t\t\t\t\t\tname: data['result']['displayData'][value[0]],\n\t\t\t\t\t\t\t\t\t\tid: response[value[0]]\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetRelationOperation: function () {\n\t\t\tif (this.relationOperation === '') {\n\t\t\t\tlet relationOperation = $('[name=\"relationOperation\"]');\n\t\t\t\tif (relationOperation.length) {\n\t\t\t\t\tthis.relationOperation = relationOperation.val();\n\t\t\t\t} else {\n\t\t\t\t\tthis.relationOperation = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.relationOperation;\n\t\t},\n\t\tproceedRegisterEvents: function () {\n\t\t\treturn $('.recordEditView').length > 0;\n\t\t},\n\t\treferenceModulePopupRegisterEvent: function (container) {\n\t\t\tcontainer.on('click', '.relatedPopup', (e) => {\n\t\t\t\tthis.showRecordsList(e);\n\t\t\t});\n\t\t\tlet moduleList = container.find('.referenceModulesList');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.referenceModulesList:visible'));\n\t\t\tmoduleList.on('change', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentElem = element.closest('.fieldValue');\n\t\t\t\tlet popupReferenceModule = element.val();\n\t\t\t\tlet referenceModuleElement = $('input[name=\"popupReferenceModule\"]', parentElem);\n\t\t\t\tlet prevSelectedReferenceModule = referenceModuleElement.val();\n\t\t\t\treferenceModuleElement.val(popupReferenceModule);\n\t\t\t\t//If Reference module is changed then we should clear the previous value\n\t\t\t\tif (prevSelectedReferenceModule != popupReferenceModule) {\n\t\t\t\t\tparentElem.find('.clearReferenceSelection').trigger('click');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetReferencedModuleName: function (parenElement) {\n\t\t\treturn $('input[name=\"popupReferenceModule\"]', parenElement).val();\n\t\t},\n\t\tsearchModuleNames: function (params) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tif (typeof params.module === 'undefined') {\n\t\t\t\tparams.module = this.moduleName;\n\t\t\t}\n\t\t\tif (typeof params.action === 'undefined') {\n\t\t\t\tparams.action = 'BasicAjax';\n\t\t\t}\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get reference search params\n\t\t */\n\t\tgetReferenceSearchParams: function (element) {\n\t\t\tlet tdElement = $(element).closest('.fieldValue');\n\t\t\tlet params = {};\n\t\t\tlet searchModule = this.getReferencedModuleName(tdElement);\n\t\t\tparams.search_module = searchModule;\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterAutoCompleteFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet formElement = container.closest('form');\n\t\t\tcontainer.find('input.autoComplete').autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t//element will be array of dom elements\n\t\t\t\t\t//here this refers to auto complete instance\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term;\n\t\t\t\t\tlet params = thisInstance.getReferenceSearchParams(inputElement);\n\t\t\t\t\tparams.search_value = searchValue;\n\t\t\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\t\t\tif (sourceRecordElement.length > 0 && sourceRecordElement.val()) {\n\t\t\t\t\t\tparams.src_record = sourceRecordElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.searchModuleNames(params).done(function (data) {\n\t\t\t\t\t\tlet reponseDataList = [];\n\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\tif (serverDataFormat.length <= 0) {\n\t\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\t\tserverDataFormat = new Array({\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\tapp.event.trigger('EditView.AfterSearch', {\n\t\t\t\t\t\t\tfield: inputElement,\n\t\t\t\t\t\t\tparams: params\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\t//To stop selection if no results is selected\n\t\t\t\t\tif (typeof selectedItemData.type !== 'undefined' && selectedItemData.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedItemData.name = selectedItemData.value;\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet tdElement = element.closest('.fieldValue');\n\t\t\t\t\tthisInstance.setReferenceFieldValue(tdElement, selectedItemData);\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\t//if you dont have readonly attribute means the user didnt select the item\n\t\t\t\t\tif (element.attr('readonly') == undefined) {\n\t\t\t\t\t\telement.closest('.fieldValue').find('.clearReferenceSelection').trigger('click');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t//To Make the menu come up in the case of quick create\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register reference field clear event\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterClearReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.clearReferenceSelection', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\telement.closest('.fieldValue').find('.sourceField').trigger(Vtiger_Edit_Js.referenceDeSelectionEvent);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\tclearFieldValue: function (element) {\n\t\t\tconst self = this;\n\t\t\tlet fieldValueContener = element.closest('.fieldValue');\n\t\t\tlet fieldNameElement = fieldValueContener.find('.sourceField');\n\t\t\tlet fieldName = fieldNameElement.attr('name');\n\t\t\tlet referenceModule = fieldValueContener.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet formElement = fieldValueContener.closest('form');\n\t\t\tif (fieldNameElement.data('fieldtype') == 'reference') {\n\t\t\t\tfieldNameElement.val(0);\n\t\t\t} else {\n\t\t\t\tfieldNameElement.val('');\n\t\t\t}\n\t\t\tfieldValueContener\n\t\t\t\t.find('#' + fieldName + '_display')\n\t\t\t\t.removeAttr('readonly')\n\t\t\t\t.val('');\n\t\t\tapp.event.trigger('EditView.ClearField', {\n\t\t\t\tfieldName: fieldName,\n\t\t\t\treferenceModule: referenceModule\n\t\t\t});\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(fieldName, referenceModule, formElement);\n\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\tif (mapFieldElement.is('select')) {\n\t\t\t\t\tmapFieldElement.val(mapFieldElement.find('option:first').val()).trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\tmapFieldElement.val('');\n\t\t\t\t}\n\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\tmapFieldDisplayElement.val('').attr('readonly', false);\n\t\t\t\t\tlet referenceModulesList = formElement.find(\n\t\t\t\t\t\t'#' + self.moduleName + '_editView_fieldName_' + key + '_dropDown'\n\t\t\t\t\t);\n\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\treferenceModulesList.val(referenceModulesList.find('option:first').val()).trigger('change');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register event to prevent form submission on pressing on enter\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterPreventingEnterSubmitEvent: function (container) {\n\t\t\tcontainer.on('keypress', function (e) {\n\t\t\t\t//Stop the submit when enter is pressed in the form\n\t\t\t\tlet currentElement = $(e.target);\n\t\t\t\tif (e.which == 13 && !currentElement.is('textarea')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterTimeFields: function (container) {\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tApp.Fields.Date.register(container);\n\t\t\tApp.Fields.DateTime.register(container);\n\t\t},\n\t\treferenceCreateHandler: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.setReferenceFieldValue(container, {\n\t\t\t\t\tname: data.result._recordLabel,\n\t\t\t\t\tid: data.result._recordId\n\t\t\t\t});\n\t\t\t};\n\t\t\tlet params = { callbackFunction: postQuickCreateSave };\n\t\t\tif (app.getViewName() === 'Edit' && !app.getRecordId()) {\n\t\t\t\tlet formElement = this.getForm();\n\t\t\t\tlet formData = formElement.serializeFormData();\n\t\t\t\tfor (let i in formData) {\n\t\t\t\t\tif (!formData[i] || $.inArray(i, ['_csrf', 'action']) != -1) {\n\t\t\t\t\t\tdelete formData[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparams.data = {};\n\t\t\t\tparams.data.sourceRecordData = formData;\n\t\t\t}\n\t\t\tlet referenceModuleName = this.getReferencedModuleName(container);\n\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, params);\n\t\t},\n\t\t/**\n\t\t * Function which will register event for create of reference record\n\t\t * This will allow users to create reference record from edit view of other record\n\t\t */\n\t\tregisterReferenceCreate: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.createReferenceRecord', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet controlElementDiv = element.closest('.fieldValue');\n\t\t\t\tthisInstance.referenceCreateHandler(controlElementDiv);\n\t\t\t});\n\t\t},\n\t\taddressFieldsMapping: [\n\t\t\t'buildingnumber',\n\t\t\t'localnumber',\n\t\t\t'addresslevel1',\n\t\t\t'addresslevel2',\n\t\t\t'addresslevel3',\n\t\t\t'addresslevel4',\n\t\t\t'addresslevel5',\n\t\t\t'addresslevel6',\n\t\t\t'addresslevel7',\n\t\t\t'addresslevel8',\n\t\t\t'pobox'\n\t\t],\n\t\taddressFieldsMappingBlockID: {\n\t\t\tLBL_ADDRESS_INFORMATION: 'a',\n\t\t\tLBL_ADDRESS_BILLING: 'a',\n\t\t\tLBL_ADDRESS_MAILING_INFORMATION: 'b',\n\t\t\tLBL_ADDRESS_SHIPPING: 'b',\n\t\t\tLBL_ADDRESS_DELIVERY_INFORMATION: 'c'\n\t\t},\n\t\taddressFieldsData: false,\n\t\t/**\n\t\t * Function to register event for copying addresses\n\t\t */\n\t\tregisterEventForCopyAddress: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.formElement\n\t\t\t\t.find(\n\t\t\t\t\t'.js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldValue, .js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldLabel'\n\t\t\t\t)\n\t\t\t\t.each(function () {\n\t\t\t\t\tlet block = $(this);\n\t\t\t\t\tlet referenceModulesList = block.find('.referenceModulesList');\n\t\t\t\t\tif (referenceModulesList.length > 0) {\n\t\t\t\t\t\treferenceModulesList.on('change', function () {\n\t\t\t\t\t\t\tthisInstance.formElement\n\t\t\t\t\t\t\t\t.find('[class*=\"copyAddressFrom\"]:not(.copyAddressFromMain, .copyAddressFromMailing)')\n\t\t\t\t\t\t\t\t.addClass('d-none');\n\t\t\t\t\t\t\tthisInstance.registerEventForCopyBlockAddress($(this).val(), block.find('.sourceField').attr('name'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treferenceModulesList.trigger('change');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet referenceFields = block.find('[name=\"popupReferenceModule\"]');\n\t\t\t\t\t\tif (referenceFields.length > 0) {\n\t\t\t\t\t\t\tthisInstance.registerEventForCopyBlockAddress(\n\t\t\t\t\t\t\t\treferenceFields.val(),\n\t\t\t\t\t\t\t\tblock.find('.sourceField').attr('name')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.formElement.find('.js-toggle-panel').each(function () {\n\t\t\t\tlet hideCopyAddressLabel = true;\n\t\t\t\t$(this)\n\t\t\t\t\t.find('.adressAction button')\n\t\t\t\t\t.each(function () {\n\t\t\t\t\t\tif ($(this).hasClass('d-none') == false) {\n\t\t\t\t\t\t\thideCopyAddressLabel = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tif (hideCopyAddressLabel) {\n\t\t\t\t\t$(this).find('.copyAddressLabel').addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMain').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMailing').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromDelivery').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t},\n\t\tregisterEventForCopyBlockAddress: function (moduleName, fieldName) {\n\t\t\tconst self = this;\n\t\t\tif (moduleName == 'Accounts') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromAccount',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_ACCOUNT_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Contacts') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromContact',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_CONTACT_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Leads') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromLead',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_LEAD_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Vendors') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromVendor',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_VENDOR_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Show button to copy the address details from selected module\n\t\t */\n\t\tenableCopyAddressFromModule: function (moduleName, formElement, className, fieldName, label) {\n\t\t\tlet thisInstance = this;\n\t\t\tformElement\n\t\t\t\t.find('.' + className)\n\t\t\t\t.removeClass('d-none')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet recordRelativeAccountId = $('[name=\"' + fieldName + '\"]').val();\n\t\t\t\t\tif (recordRelativeAccountId == '' || recordRelativeAccountId == '0') {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate(label),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet recordRelativeAccountName = $('#' + fieldName + '_display').val();\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\trecord: recordRelativeAccountId,\n\t\t\t\t\t\t\tselectedName: recordRelativeAccountName,\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthisInstance.copyAddressDetails(\n\t\t\t\t\t\t\telement.data('label'),\n\t\t\t\t\t\t\telement.closest('.js-toggle-panel').data('label'),\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\telement.closest('.js-toggle-panel')\n\t\t\t\t\t\t);\n\t\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will copy the address details\n\t\t */\n\t\tcopyAddressDetails: function (from, to, data, container) {\n\t\t\tapp.getRecordDetails(data).done((response) => {\n\t\t\t\tthis.addressFieldsData = response['result'];\n\t\t\t\tthis.copyAddress(from, to, true, data['module']);\n\t\t\t\tapp.event.trigger('Edit.CopyAddress', this, from, to, response, data, container);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to copy address between fields\n\t\t * @param strings which accepts value as either odd or even\n\t\t */\n\t\tcopyAddress: function (fromLabel, toLabel, relatedRecord, sourceModule) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet formElement = this.getForm(),\n\t\t\t\tstatus = false,\n\t\t\t\taddressMapping = this.addressFieldsMapping,\n\t\t\t\tBlockIds = this.addressFieldsMappingBlockID,\n\t\t\t\tfrom = BlockIds[fromLabel];\n\t\t\tif (relatedRecord === false || sourceModule === false) from = BlockIds[fromLabel];\n\t\t\tlet to = BlockIds[toLabel],\n\t\t\t\tkey,\n\t\t\t\tfromElement,\n\t\t\t\tfromElementLabel,\n\t\t\t\tnameElementFrom,\n\t\t\t\tnameElementTo;\n\t\t\tfor (key in addressMapping) {\n\t\t\t\tnameElementFrom = addressMapping[key] + from;\n\t\t\t\tnameElementTo = addressMapping[key] + to;\n\t\t\t\tif (relatedRecord) {\n\t\t\t\t\tfromElement = thisInstance.addressFieldsData['data'][nameElementFrom];\n\t\t\t\t\tfromElementLabel = thisInstance.addressFieldsData['displayData'][nameElementFrom];\n\t\t\t\t} else {\n\t\t\t\t\tfromElement = formElement.find('[name=\"' + nameElementFrom + '\"]').val();\n\t\t\t\t\tfromElementLabel = formElement.find('[name=\"' + nameElementFrom + '_display\"]').val();\n\t\t\t\t}\n\t\t\t\tlet toElement = formElement.find('[name=\"' + nameElementTo + '\"]'),\n\t\t\t\t\ttoElementLable = formElement.find('[name=\"' + nameElementTo + '_display\"]');\n\t\t\t\tif (fromElement !== '' && fromElement !== '0' && fromElement !== undefined) {\n\t\t\t\t\tif (toElementLable.length > 0) toElementLable.attr('readonly', true);\n\t\t\t\t\tstatus = true;\n\t\t\t\t\ttoElement.val(fromElement);\n\t\t\t\t\ttoElementLable.val(fromElementLabel);\n\t\t\t\t\tif (toElement.is('[data-select2-id]')) {\n\t\t\t\t\t\tif (toElement.val() !== fromElement) {\n\t\t\t\t\t\t\ttoElement.val('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoElement.trigger('change');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttoElement.val('');\n\t\t\t\t\ttoElement.attr('readonly', false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (status === false) {\n\t\t\t\tlet errorMsg;\n\t\t\t\tif (sourceModule === 'Accounts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_ACCOUNT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else if (sourceModule === 'Contacts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_CONTACT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else {\n\t\t\t\t\terrorMsg = 'JS_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t}\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate(errorMsg),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relategField = container.find(\"input[name*='addresslevel']\");\n\t\t\trelategField.on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tlet blockContainer = $(e.currentTarget).closest('.js-toggle-panel');\n\t\t\t\tthisInstance.copyAddressDetailsRef(data, blockContainer);\n\t\t\t});\n\t\t},\n\t\tcopyAddressDetailsRef: function (data, container) {\n\t\t\tlet thisInstance = this;\n\t\t\tapp\n\t\t\t\t.getRecordDetails(data)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet response = data['result'];\n\t\t\t\t\tthisInstance.mapAddressDetails(response, container);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\tmapAddressDetails: function (result, container) {\n\t\t\tfor (let key in result) {\n\t\t\t\tif (key.indexOf('addresslevel') != -1) {\n\t\t\t\t\tif (container.find('[name=\"' + key + '\"]').length != 0) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tregisterMaskFields: function (container) {\n\t\t\tcontainer.find('[data-inputmask]').inputmask();\n\t\t},\n\t\tregisterSubmitEvent: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\teditViewForm.on('submit', function (e) {\n\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\tif (typeof editViewForm.data('submit') !== 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\teditViewForm.find('.js-toggle-panel').find('.js-block-content').removeClass('d-none');\n\t\t\t\t\tif (editViewForm.validationEngine('validate')) {\n\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\teditViewForm.data('submit', 'true');\n\t\t\t\t\t\t//on submit form trigger the recordPreSave event\n\t\t\t\t\t\tlet recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\teditViewForm.trigger(recordPreSaveEvent, { value: 'edit' });\n\t\t\t\t\t\tif (recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\t//If duplicate record validation fails, form should submit again\n\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\tapp.formAlignmentAfterValidation(editViewForm);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to check the view permission of a record after save\n\t\t */\n\t\tregisterRecordPreSaveEventEvent: function (form) {\n\t\t\tform.on(Vtiger_Edit_Js.recordPreSave, (e, data) => {\n\t\t\t\tthis.preSaveValidation(form).done((response) => {\n\t\t\t\t\tif (response !== true) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tpreSaveValidation: function (form) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (form.find('#preSaveValidation').val()) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet formData = new FormData(form[0]);\n\t\t\t\tformData.append('mode', 'preSaveValidation');\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: false,\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tcontentType: false\n\t\t\t\t})\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tfor (let i in response) {\n\t\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\t\tif (response[i].type === 'confirm' && typeof response[i].hash !== 'undefined') {\n\t\t\t\t\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message || '',\n\t\t\t\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\t\t\t\tlet handlers = {},\n\t\t\t\t\t\t\t\t\t\t\t\thandlerElement = form.find('input[name=\"skipHandlers\"]');\n\t\t\t\t\t\t\t\t\t\t\tif (handlerElement.length) {\n\t\t\t\t\t\t\t\t\t\t\t\thandlers = JSON.parse(handlerElement.val());\n\t\t\t\t\t\t\t\t\t\t\t\thandlerElement.remove();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thandlers[i] = response[i].hash;\n\t\t\t\t\t\t\t\t\t\t\tform.append(\n\t\t\t\t\t\t\t\t\t\t\t\t$('<input>', { name: 'skipHandlers', value: JSON.stringify(handlers), type: 'hidden' })\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tform.submit();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal !== 'undefined' &&\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal.url !== 'undefined'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tapp.showModalWindow(null, response[i].showModal.url, function (modalContainer) {\n\t\t\t\t\t\t\t\t\t\tapp.registerModalController(undefined, modalContainer, function (_, instance) {\n\t\t\t\t\t\t\t\t\t\t\tinstance.formContainer = form;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (response[i].hoverField != undefined) {\n\t\t\t\t\t\t\t\t\tform.find('[name=\"' + response[i].hoverField + '\"]').focus();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\taDeferred.resolve(data.result.length <= 0);\n\t\t\t\t\t})\n\t\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(true);\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tregisterLeavePageWithoutSubmit: function (form) {\n\t\t\tif (\n\t\t\t\ttypeof CKEDITOR !== 'undefined' &&\n\t\t\t\ttypeof CKEDITOR.instances !== 'undefined' &&\n\t\t\t\tObject.keys(CKEDITOR.instances).length\n\t\t\t) {\n\t\t\t\tCKEDITOR.on('instanceReady', function (e) {\n\t\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tstretchCKEditor: function () {\n\t\t\tlet row = $('.js-editor').parents('.fieldRow');\n\t\t\tlet td = $('.js-editor').parent();\n\t\t\t$(row).find('.fieldLabel').remove();\n\t\t\t$(td).removeClass('col-md-10');\n\t\t\t$(td).addClass('col-md-12');\n\t\t},\n\t\t/**\n\t\t * Function to register event for ckeditor for description field\n\t\t */\n\t\tregisterEventForEditor: function () {\n\t\t\tlet form = this.getForm();\n\t\t\t$.each(form.find('.js-editor:not(.js-inventory-item-comment)'), (key, data) => {\n\t\t\t\tthis.loadEditorElement($(data));\n\t\t\t});\n\t\t},\n\t\tloadEditorElement: function (noteContentElement) {\n\t\t\tApp.Fields.Text.Editor.register(noteContentElement);\n\t\t},\n\t\tregisterHelpInfo: function (form) {\n\t\t\tif (!form) {\n\t\t\t\tform = this.getForm();\n\t\t\t}\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function () {\n\t\t\tlet blocks = this.getForm().find('.js-toggle-panel');\n\t\t\tlet module = this.moduleName;\n\t\t\tblocks.each(function (index, block) {\n\t\t\t\tlet currentBlock = $(block);\n\t\t\t\tif (\n\t\t\t\t\tcurrentBlock.find('.js-field-block-column').length !== 0 &&\n\t\t\t\t\tcurrentBlock.find('.js-field-block-column:not(.d-none)').length === 0\n\t\t\t\t) {\n\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t}\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Visibility check block\n\t\t */\n\t\tcheckVisibilityBlocks: function () {\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-toggle-panel')\n\t\t\t\t.each(function (index, block) {\n\t\t\t\t\tlet currentBlock = $(block);\n\t\t\t\t\tif (currentBlock.find('.js-field-block-column').length !== 0) {\n\t\t\t\t\t\tif (currentBlock.find('.js-field-block-column:not(.d-none)').length === 0) {\n\t\t\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentBlock.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tregisterAutoloadAddress: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-search-address')\n\t\t\t\t.each(function (_index, e) {\n\t\t\t\t\tlet search = $(e);\n\t\t\t\t\tlet container = search.closest('.js-block-content');\n\t\t\t\t\tlet input = search.find('.js-autoload-address');\n\t\t\t\t\tinput\n\t\t\t\t\t\t.autocomplete({\n\t\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\tmodule: self.moduleName,\n\t\t\t\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\t\t\t\tmode: 'findAddress',\n\t\t\t\t\t\t\t\t\ttype: search.find('.js-select-operator').val(),\n\t\t\t\t\t\t\t\t\tvalue: request.term\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.done(function (requestData) {\n\t\t\t\t\t\t\t\t\t\tif (requestData.result === false) {\n\t\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t} else if (requestData.result.length) {\n\t\t\t\t\t\t\t\t\t\t\tresponse(requestData.result);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.fail(function (_textStatus, _errorThrown, jqXHR) {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\ttext: jqXHR.responseJSON.error.message,\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tminLength: input.data('min'),\n\t\t\t\t\t\t\tselect: function (_event, ui) {\n\t\t\t\t\t\t\t\t$.each(ui.item.address, function (index, value) {\n\t\t\t\t\t\t\t\t\tlet field = container.find('.fieldValue [name^=' + index + ']');\n\t\t\t\t\t\t\t\t\tif (field.length && value) {\n\t\t\t\t\t\t\t\t\t\tif (typeof value !== 'object') {\n\t\t\t\t\t\t\t\t\t\t\tvalue = [value];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t$.each(value, function (_idx, v) {\n\t\t\t\t\t\t\t\t\t\t\tlet select = false,\n\t\t\t\t\t\t\t\t\t\t\t\telement = false;\n\t\t\t\t\t\t\t\t\t\t\tif (field.prop('tagName') === 'SELECT') {\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof v === 'object') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$.each(v, function (idx, x) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[data-' + idx + \"='\" + x + \"']\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (x && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option:contains(' + v + ')');\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[value=\"' + v + '\"]');\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tselect = v;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (select) {\n\t\t\t\t\t\t\t\t\t\t\t\tfield.val(select).change();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tfield.val('').change();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tui.item.value = input.val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.autocomplete('instance')._renderItem = function (ul, item) {\n\t\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t\t.append(`<div><span class=\"fi fi-${item.countryCode} mr-2\"></span>${item.label}</div>`)\n\t\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t},\n\t\tsetEnabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('button').removeAttr('disabled');\n\t\t\tif (fieldDisplay.val() == '') {\n\t\t\t\tfieldValue.find('input').removeAttr('readonly');\n\t\t\t}\n\t\t\tfieldValue.find('.referenceModulesListGroup').removeClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholderDisabled');\n\t\t\tfieldDisplay.removeAttr('placeholderDisabled');\n\t\t\tfieldDisplay.attr('placeholder', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').attr('required', 'required');\n\t\t},\n\t\tsetDisabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('input').attr('readonly', 'readonly');\n\t\t\tfieldValue.find('button').attr('disabled', 'disabled');\n\t\t\tfieldValue.find('.referenceModulesListGroup').addClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholder');\n\t\t\tfieldDisplay.removeAttr('placeholder');\n\t\t\tfieldDisplay.attr('placeholderDisabled', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').removeAttr('required');\n\t\t},\n\t\tgetMappingRelatedField: function (sourceField, sourceFieldModule, container) {\n\t\t\tconst mappingRelatedField = container.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tconst mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (\n\t\t\t\ttypeof mappingRelatedModule[sourceField] !== 'undefined' &&\n\t\t\t\ttypeof mappingRelatedModule[sourceField][sourceFieldModule] !== 'undefined'\n\t\t\t) {\n\t\t\t\treturn mappingRelatedModule[sourceField][sourceFieldModule];\n\t\t\t}\n\t\t\treturn [];\n\t\t},\n\t\tregisterValidationsFields: function (container) {\n\t\t\tlet params = app.validationEngineOptionsForRecord;\n\t\t\tcontainer.validationEngine(params);\n\t\t},\n\t\tcheckReferencesField: function (container, clear) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet activeProcess = false,\n\t\t\t\tactiveSubProcess = false;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceLink\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tif (activeProcess) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveSubProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceSubProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet processfieldElement = element.closest('.fieldValue');\n\t\t\t\tlet length = processfieldElement.find('.referenceModulesList option[disabled!=\"disabled\"]').length;\n\t\t\t\tif (activeSubProcess && length > 0) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcheckSubProcessModulesList: function (element) {\n\t\t\tlet option = element.find('option:selected');\n\t\t\tif (option.data('is-quickcreate') != 1) {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').addClass('d-none');\n\t\t\t} else {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tcheckReferenceModulesList: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet processfieldElement = container.find('input[data-fieldtype=\"referenceProcess\"]').closest('.fieldValue');\n\t\t\tlet referenceProcess = processfieldElement.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet subProcessfieldElement = container.find('input[data-fieldtype=\"referenceSubProcess\"]').closest('.fieldValue');\n\t\t\tVtiger_Helper_Js.hideOptions(subProcessfieldElement.find('.referenceModulesList'), 'parent', referenceProcess);\n\t\t\tlet subProcessValue = subProcessfieldElement.find('.referenceModulesList').val();\n\t\t\tsubProcessfieldElement.find('[name=\"popupReferenceModule\"]').val(subProcessValue);\n\t\t\tthisInstance.checkSubProcessModulesList(subProcessfieldElement.find('.referenceModulesList'));\n\t\t},\n\t\tregisterReferenceFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\tthisInstance.checkReferencesField(container, false);\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceDeSelectionEvent, function (e) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function () {\n\t\t\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceSubProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function (e) {\n\t\t\t\t\tthisInstance.checkSubProcessModulesList($(e.currentTarget));\n\t\t\t\t});\n\t\t},\n\t\tregisterFocusFirstField: function (container, afterTimeout) {\n\t\t\tlet elementToFocus, elementToFocusTabindex;\n\t\t\tif (afterTimeout === undefined && container.closest('.js-modal-container').length) {\n\t\t\t\tsetTimeout((_) => {\n\t\t\t\t\tthis.registerFocusFirstField(container, true);\n\t\t\t\t}, 500);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontainer\n\t\t\t\t.find(\n\t\t\t\t\t'.fieldValue input.form-control:not([type=hidden],.dateField,.clockPicker), .fieldValue input[type=checkbox], .select2-selection.form-control'\n\t\t\t\t)\n\t\t\t\t.each(function (i, e) {\n\t\t\t\t\tlet element = $(e);\n\t\t\t\t\tif (!element.prop('readonly') && !element.prop('disabled')) {\n\t\t\t\t\t\telement = element.get(0);\n\t\t\t\t\t\tif (element.type !== 'number' && element.type !== 'checkbox' && element.value !== undefined) {\n\t\t\t\t\t\t\tlet elemLen = element.value.length;\n\t\t\t\t\t\t\telement.selectionStart = elemLen;\n\t\t\t\t\t\t\telement.selectionEnd = elemLen;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i === 0 || !elementToFocus) {\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet tabindex = $(element).attr('tabindex');\n\t\t\t\t\t\tif (tabindex > 0 && elementToFocusTabindex === undefined) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tabindex > 0 && tabindex < elementToFocusTabindex) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tif (elementToFocus) {\n\t\t\t\telementToFocus.focus();\n\t\t\t}\n\t\t},\n\t\tregisterCopyValue: function (container) {\n\t\t\tcontainer.find('.fieldValue [data-copy-to-field]').on('change', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tcontainer.find('[name=\"' + element.data('copyToField') + '\"]').val(element.val());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register multi image upload fields\n\t\t * @param {HTMLElement|jQuery} container\n\t\t */\n\t\tregisterMultiImageFields(container) {\n\t\t\treturn App.Fields.MultiImage.register(container);\n\t\t},\n\t\t/**\n\t\t * Register inventory controller\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterInventoryController(container) {\n\t\t\tif (typeof Vtiger_Inventory_Js !== 'undefined') {\n\t\t\t\tthis.inventoryController = Vtiger_Inventory_Js.getInventoryInstance(container);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register record collector modal\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterRecordCollectorModal: function (container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.js-record-collector-modal', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet formData = container.serializeFormData();\n\t\t\t\tformData['view'] = 'RecordCollector';\n\t\t\t\tformData['collectorType'] = element.data('type');\n\t\t\t\tdelete formData['action'];\n\t\t\t\tAppConnector.request(formData).done(function (html) {\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\thtml,\n\t\t\t\t\t\t(container) => {\n\t\t\t\t\t\t\tlet modalForm = container.find('form.js-record-collector__form');\n\t\t\t\t\t\t\tlet summary = container.find('.js-record-collector__summary');\n\t\t\t\t\t\t\tmodalForm.validationEngine(app.validationEngineOptions);\n\t\t\t\t\t\t\tmodalForm.on('submit', function (e) {\n\t\t\t\t\t\t\t\tif (modalForm.validationEngine('validate')) {\n\t\t\t\t\t\t\t\t\tsummary.html('');\n\t\t\t\t\t\t\t\t\tsummary.progressIndicator({});\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tAppConnector.request(modalForm.serializeFormData()).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tsummary.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tsummary.html(data);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet recordForm = self.getForm();\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__select', function () {\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t.find(`.js-record-collector__column[data-column=\"${this.dataset.column}\"] input`)\n\t\t\t\t\t\t\t\t\t.prop('checked', true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__fill_fields', function () {\n\t\t\t\t\t\t\t\tlet formData = container.find('.js-record-collector__fill_form').serializeFormData();\n\t\t\t\t\t\t\t\t$.each(formData, function (key, value) {\n\t\t\t\t\t\t\t\t\tif (value !== '') {\n\t\t\t\t\t\t\t\t\t\tlet fieldElement = recordForm.find(`[name=\"${key}\"]`);\n\t\t\t\t\t\t\t\t\t\tif (fieldElement.length) {\n\t\t\t\t\t\t\t\t\t\t\tfieldElement.setValue(value);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\trecordForm.append(`<input type=\"hidden\" name=\"${key}\" value=\"${value}\" />`);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tapp.hideModalWindow(null, 'collectorModal');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ modalId: 'collectorModal' }\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register account name function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterAccountName: function (container) {\n\t\t\tlet first = container.find('.js-first-name');\n\t\t\tlet firstInput = first.find('input');\n\t\t\tlet last = container.find('.js-last-name');\n\t\t\tlet lastInput = last.find('input');\n\t\t\tlet full = container.find('.js-account-name');\n\t\t\tlet fullInput = full.find('input');\n\t\t\tlet legalForm = container.find('select[name=\"legal_form\"]');\n\t\t\tlet legalFormVal = legalForm.val();\n\t\t\tfirstInput.keyup(function () {\n\t\t\t\tfullInput.val(this.value + '|##|' + lastInput.val());\n\t\t\t});\n\t\t\tlastInput.keyup(function () {\n\t\t\t\tfullInput.val(firstInput.val() + '|##|' + this.value);\n\t\t\t});\n\t\t\tlegalForm.change(function () {\n\t\t\t\tif (this.value == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.addClass('d-none');\n\t\t\t\t\tfullInput.val(firstInput.val() + '|##|' + lastInput.val());\n\t\t\t\t\tfirst.removeClass('d-none');\n\t\t\t\t\tlast.removeClass('d-none');\n\t\t\t\t} else if (legalFormVal == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.removeClass('d-none');\n\t\t\t\t\tfirst.addClass('d-none');\n\t\t\t\t\tlast.addClass('d-none');\n\t\t\t\t\tfullInput.val('');\n\t\t\t\t}\n\t\t\t\tlegalFormVal = this.value;\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Trigger record edit view events\n\t\t * @param {object} data\n\t\t */\n\t\ttriggerRecordEditEvents: function (data) {\n\t\t\tconst self = this,\n\t\t\t\tform = this.getForm();\n\t\t\tif (typeof data['changeValues'] == 'object') {\n\t\t\t\t$.each(data['changeValues'], function (_, field) {\n\t\t\t\t\tself.setFieldValue(field);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['changeOptions'] != 'undefined') {\n\t\t\t\t$.each(data['changeOptions'], function (fieldName, options) {\n\t\t\t\t\tself.setFieldOptions(fieldName, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hoverField'] != 'undefined') {\n\t\t\t\tform.find(`[name=\"${data['hoverField']}\"]`).focus();\n\t\t\t}\n\t\t\tif (typeof data['showNotify'] != 'undefined') {\n\t\t\t\tapp.showNotify(data['showNotify']);\n\t\t\t}\n\t\t\tif (typeof data['showModal'] != 'undefined') {\n\t\t\t\tapp.showModalWindow(null, data['showModal']['url']);\n\t\t\t}\n\t\t\tif (typeof data['showFields'] != 'undefined') {\n\t\t\t\t$.each(data['showFields'], function (_, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).removeClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hideFields'] != 'undefined') {\n\t\t\t\t$.each(data['hideFields'], function (_, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).addClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Set field value\n\t\t * @param {object} params\n\t\t */\n\t\tsetFieldValue: function (params) {\n\t\t\tconst fieldElement = this.getForm().find(`[name=\"${params['fieldName']}\"]`),\n\t\t\t\tfieldInfo = fieldElement.data('fieldinfo');\n\t\t\tif (fieldElement.is('select')) {\n\t\t\t\tif (fieldElement.find(`option[value=\"${params['value']}\"]`).length) {\n\t\t\t\t\tfieldElement.val(params['value']).trigger('change');\n\t\t\t\t} else if (fieldInfo.picklistvalues.hasOwnProperty(params['value'])) {\n\t\t\t\t\tfieldElement.append(new Option(params['value'], params['value'], true, true)).trigger('change');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfieldElement.val(params['value']);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Set field options\n\t\t * @param {string} fieldName\n\t\t * @param {object} options\n\t\t */\n\t\tsetFieldOptions: function (fieldName, options) {\n\t\t\tconst fieldElement = this.getForm().find(`[name=\"${fieldName}\"]`),\n\t\t\t\tfieldInfo = fieldElement.data('fieldinfo');\n\t\t\tif (fieldElement.is('select') && fieldInfo) {\n\t\t\t\tconst val = fieldElement.val() ?? '',\n\t\t\t\t\tfieldValue = fieldElement.closest('.fieldValue'),\n\t\t\t\t\tcurrentValues = [...fieldElement.get(0).options]\n\t\t\t\t\t\t.map((o) => o.value)\n\t\t\t\t\t\t.filter((e) => e !== '')\n\t\t\t\t\t\t.sort();\n\t\t\t\tlet newOptions = new $();\n\t\t\t\tif (!fieldInfo.mandatory) {\n\t\t\t\t\tnewOptions = newOptions.add(\n\t\t\t\t\t\tnew Option(app.vtranslate('JS_SELECT_AN_OPTION'), '', false, !val || !options.includes(val))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t$.each(options, (_, e) => {\n\t\t\t\t\tnewOptions = newOptions.add(new Option(fieldInfo['picklistvalues'][e], e, false, val == e));\n\t\t\t\t});\n\n\t\t\t\tconst newValues = [...newOptions.map((_, e) => e.value)].filter((e) => e !== '').sort();\n\t\t\t\tif (currentValues.length === newValues.length && currentValues.every((e, i) => e === newValues[i])) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet selected = newOptions.filter(':selected').length > 0;\n\t\t\t\tfieldElement.html(newOptions);\n\t\t\t\tlet change = val && val !== fieldElement.val();\n\t\t\t\tif ((val === '' && !selected) || change) {\n\t\t\t\t\tfieldElement.val(null);\n\t\t\t\t}\n\t\t\t\tif (change) {\n\t\t\t\t\tfieldValue.addClass('border border-info');\n\t\t\t\t\tfieldElement.trigger('change');\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tfieldValue.removeClass('border border-info');\n\t\t\t\t\t}, 5000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Check if pre save validation is active\n\t\t * @returns {bool}\n\t\t */\n\t\tcheckPreSaveValidation: function () {\n\t\t\tlet validation = true;\n\t\t\tif (\n\t\t\t\ttypeof app.pageController.getForm !== 'undefined' &&\n\t\t\t\tapp.pageController.getForm().find('#preSaveValidation').length !== 0\n\t\t\t) {\n\t\t\t\tvalidation = app.pageController.getForm().find('#preSaveValidation').val() == 1;\n\t\t\t}\n\t\t\treturn validation;\n\t\t},\n\t\t/**\n\t\t * Register change value handler events\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterChangeValueHandlerEvent: function (container) {\n\t\t\tconst event = container.find('.js-change-value-event');\n\t\t\tif (event.length <= 0 || event.val() === '[]') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst fields = JSON.parse(event.val());\n\t\t\t$.each(fields, (_, fieldName) => {\n\t\t\t\tcontainer\n\t\t\t\t\t.find(`[name=\"${fieldName}\"],[name=\"${fieldName}[]\"]`)\n\t\t\t\t\t.on(`change ${Vtiger_Edit_Js.referenceSelectionEvent} ${Vtiger_Edit_Js.referenceDeSelectionEvent}`, () => {\n\t\t\t\t\t\tthis.sendChangeValueHandlerEvent(container.serializeFormData());\n\t\t\t\t\t});\n\t\t\t});\n\t\t\tthis.sendChangeValueHandlerEvent(container.serializeFormData());\n\t\t},\n\t\t/**\n\t\t * Send change value handler events\n\t\t * @param {object} formData\n\t\t */\n\t\tsendChangeValueHandlerEvent: function (formData) {\n\t\t\tformData['action'] = 'ChangeValueHandler';\n\t\t\tdelete formData['view'];\n\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\tAppConnector.request(formData).done((response) => {\n\t\t\t\t$.each(response.result, (_, data) => {\n\t\t\t\t\tthis.triggerRecordEditEvents(data);\n\t\t\t\t});\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register keyboard shortcuts events\n\t\t */\n\t\tregisterKeyboardShortcutsEvent: function () {\n\t\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyS') {\n\t\t\t\t\tlet form = event.target.closest('form');\n\t\t\t\t\tif (form) {\n\t\t\t\t\t\t$(form).trigger('submit');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tform = $(event.target).find('form');\n\t\t\t\t\t\tif (form.length && form.hasClass('recordEditView')) {\n\t\t\t\t\t\t\tform.last().trigger('submit');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register basic events which will be used in quick create as well\n\t\t *\n\t\t */\n\t\tregisterBasicEvents: function (container) {\n\t\t\tthis.referenceModulePopupRegisterEvent(container);\n\t\t\tthis.registerAutoCompleteFields(container);\n\t\t\tthis.registerClearReferenceSelectionEvent(container);\n\t\t\tthis.registerPreventingEnterSubmitEvent(container);\n\t\t\tthis.registerTimeFields(container);\n\t\t\tthis.registerRecordPreSaveEventEvent(container);\n\t\t\tthis.registerReferenceSelectionEvent(container);\n\t\t\tthis.registerChangeValueHandlerEvent(container);\n\t\t\tthis.registerMaskFields(container);\n\t\t\tthis.registerHelpInfo(container);\n\t\t\tthis.registerReferenceFields(container);\n\t\t\tthis.registerFocusFirstField(container);\n\t\t\tthis.registerCopyValue(container);\n\t\t\tthis.registerMultiImageFields(container);\n\t\t\tthis.registerReferenceCreate(container);\n\t\t\tthis.registerRecordCollectorModal(container);\n\t\t\tthis.registerAccountName(container);\n\t\t\tthis.registerKeyboardShortcutsEvent();\n\t\t\tApp.Fields.MultiEmail.register(container);\n\t\t\tApp.Fields.MultiDependField.register(container);\n\t\t\tApp.Fields.Tree.register(container);\n\t\t\tApp.Fields.MultiCurrency.register(container);\n\t\t\tApp.Fields.MeetingUrl.register(container);\n\t\t\tApp.Fields.ChangesJson.register(container);\n\t\t\tApp.Fields.MultiReference.register(container);\n\t\t\tApp.Fields.Password.register(container);\n\t\t\tApp.Components.ActivityNotifier.register(container);\n\t\t\tApp.Fields.MultiAttachment.register(container);\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\tif (!this.proceedRegisterEvents()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerInventoryController(editViewForm);\n\t\t\tapp.registerBlockAnimationEvent(editViewForm);\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerEventForEditor();\n\t\t\tthis.stretchCKEditor();\n\t\t\tthis.registerBasicEvents(editViewForm);\n\t\t\tthis.registerEventForCopyAddress();\n\t\t\tthis.registerSubmitEvent();\n\t\t\tthis.registerLeavePageWithoutSubmit(editViewForm);\n\t\t\tthis.registerValidationsFields(editViewForm);\n\t\t\tthis.registerAutoloadAddress();\n\t\t\teditViewForm.find('.js-form-submit-btn').prop('disabled', false);\n\t\t}\n\t}\n);\n"],"names":["$","Class","referenceSelectionEvent","referenceDeSelectionEvent","recordPreSave","editInstance","inventoryController","getInstanceByModuleName","moduleName","app","getModuleName","moduleClassName","fallbackClassName","instance","parentModule","getParentModuleName","window","getInstance","Vtiger_Edit_Js","saveAjax","params","aDeferred","Deferred","isEmptyObject","reject","promise","getRecordId","data","async","dataType","progressIndicator","document","progressLoader","message","vtranslate","position","blockInfo","enabled","saveAjaxValidation","then","response","mode","AppConnector","request","done","responseData","resolve","fail","jqXHR","textStatus","errorThrown","showNotify","text","type","success","checkPreSaveValidation","paramsTemp","JSON","parse","stringify","result","lock","i","hash","showConfirmModal","confirmedCallback","handlers","skipHandlers","form","responsePart","rejectedCallback","showModal","url","showModalWindow","modalContainer","registerModalController","_","formContainer","length","formElement","relationOperation","getForm","setForm","element","module","val","getRecordsListParams","container","closest","sourceModule","popupReferenceModule","sourceFieldElement","sourceField","attr","sourceRecordElement","sourceRecordId","isMultiple","mappingRelatedField","find","mappingRelatedModule","each","index","mapFieldElement","filterFields","listFilterFields","listFilterFieldsJson","src_module","src_field","src_record","searchParamsElement","searchParams","modalParamsElement","lockedFieldsElement","value","fieldElement","multi_select","showRecordsList","e","parentElem","target","_modal","setSelectEvent","setReferenceFieldValue","thisInstance","fieldDisplayElement","selectedName","name","id","trigger","decodeHTML","record","validationEngine","getMappingRelatedField","getRecordDetails","event","key","fieldinfo","mapFieldElementMultiselect","splitValues","split","multipleAttr","is","appendTo","picklistvalues","hasOwnProperty","Option","append","newOption","mapFieldDisplayElement","referenceModulesList","getRelationOperation","proceedRegisterEvents","referenceModulePopupRegisterEvent","on","App","Fields","Picklist","showSelect2ElementView","moduleList","currentTarget","referenceModuleElement","prevSelectedReferenceModule","getReferencedModuleName","parenElement","searchModuleNames","action","getReferenceSearchParams","searchModule","tdElement","search_module","registerAutoCompleteFields","autocomplete","delay","minLength","source","searchValue","term","inputElement","search_value","serverDataFormat","label","reponseDataList","push","field","select","ui","selectedItemData","item","change","open","menu","css","registerClearReferenceSelectionEvent","clearFieldValue","preventDefault","fieldValueContener","fieldNameElement","fieldName","referenceModule","removeAttr","self","registerPreventingEnterSubmitEvent","currentElement","which","registerTimeFields","registerEventForClockPicker","Date","register","DateTime","referenceCreateHandler","callbackFunction","_recordLabel","_recordId","getViewName","formData","serializeFormData","inArray","sourceRecordData","Components","QuickCreate","createRecord","referenceModuleName","registerReferenceCreate","controlElementDiv","addressFieldsMapping","addressFieldsMappingBlockID","LBL_ADDRESS_INFORMATION","LBL_ADDRESS_BILLING","LBL_ADDRESS_MAILING_INFORMATION","LBL_ADDRESS_SHIPPING","LBL_ADDRESS_DELIVERY_INFORMATION","addressFieldsData","registerEventForCopyAddress","block","addClass","registerEventForCopyBlockAddress","referenceFields","hideCopyAddressLabel","hasClass","from","to","copyAddress","enableCopyAddressFromModule","className","removeClass","recordRelativeAccountId","recordRelativeAccountName","copyAddressDetails","fromLabel","toLabel","relatedRecord","status","addressMapping","BlockIds","fromElement","fromElementLabel","nameElementFrom","nameElementTo","toElementLable","toElement","errorMsg","registerReferenceSelectionEvent","relategField","copyAddressDetailsRef","blockContainer","mapAddressDetails","indexOf","registerMaskFields","inputmask","registerSubmitEvent","editViewForm","recordPreSaveEvent","Event","isDefaultPrevented","removeData","formAlignmentAfterValidation","registerRecordPreSaveEventEvent","preSaveValidation","processData","contentType","handlerElement","remove","submit","hoverField","focus","errorLog","registerLeavePageWithoutSubmit","CKEDITOR","instances","Object","keys","initialFormData","serialize","onbeforeunload","stretchCKEditor","parents","td","parent","row","registerEventForEditor","loadEditorElement","noteContentElement","Text","Editor","registerHelpInfo","showPopoverElementView","registerBlockStatusCheckOnLoad","blocks","currentBlock","dynamicAttr","headerAnimationElement","not","bodyContents","blockId","cacheGet","checkVisibilityBlocks","registerAutoloadAddress","_index","search","input","requestData","_textStatus","_errorThrown","responseJSON","error","animation","_event","address","_idx","v","prop","idx","x","_renderItem","ul","countryCode","setEnabledFields","fieldValue","fieldDisplay","placeholder","setDisabledFields","sourceFieldModule","registerValidationsFields","validationEngineOptionsForRecord","checkReferencesField","clear","activeProcess","activeSubProcess","CONFIG","fieldsReferencesDependent","t","referenceLink","processfieldElement","checkSubProcessModulesList","option","checkReferenceModulesList","referenceProcess","subProcessfieldElement","Vtiger_Helper_Js","hideOptions","subProcessValue","registerReferenceFields","registerFocusFirstField","afterTimeout","elementToFocus","elementToFocusTabindex","get","elemLen","selectionStart","selectionEnd","tabindex","registerCopyValue","registerMultiImageFields","MultiImage","registerInventoryController","Vtiger_Inventory_Js","getInventoryInstance","registerRecordCollectorModal","html","modalForm","summary","validationEngineOptions","recordForm","dataset","column","setValue","hideModalWindow","modalId","registerAccountName","first","firstInput","last","lastInput","full","fullInput","legalForm","legalFormVal","keyup","triggerRecordEditEvents","setFieldValue","options","setFieldOptions","fieldInfo","currentValues","map","o","filter","sort","newOptions","mandatory","add","includes","newValues","every","selected","setTimeout","pageController","validation","registerChangeValueHandlerEvent","fields","sendChangeValueHandlerEvent","progress","registerKeyboardShortcutsEvent","addEventListener","shiftKey","ctrlKey","code","registerBasicEvents","MultiEmail","MultiDependField","Tree","MultiCurrency","MeetingUrl","ChangesJson","MultiReference","Password","ActivityNotifier","MultiAttachment","registerEvents","registerBlockAnimationEvent"],"mappings":"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"}